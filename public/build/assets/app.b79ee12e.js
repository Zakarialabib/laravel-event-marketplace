var Nh=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);/* empty css            */var ly=Nh((Ih,Ss)=>{function Bh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Vc={exports:{}},Ds={exports:{}},Gc=function(t,e){return function(){for(var r=new Array(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];return t.apply(e,r)}},Fh=Gc,Ts=Object.prototype.toString,Ms=function(n){return function(t){var e=Ts.call(t);return n[e]||(n[e]=e.slice(8,-1).toLowerCase())}}(Object.create(null));function Un(n){return n=n.toLowerCase(),function(e){return Ms(e)===n}}function ks(n){return Array.isArray(n)}function io(n){return typeof n>"u"}function Wh(n){return n!==null&&!io(n)&&n.constructor!==null&&!io(n.constructor)&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}var Kc=Un("ArrayBuffer");function jh(n){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&Kc(n.buffer),t}function Hh(n){return typeof n=="string"}function zh(n){return typeof n=="number"}function Jc(n){return n!==null&&typeof n=="object"}function qr(n){if(Ms(n)!=="object")return!1;var t=Object.getPrototypeOf(n);return t===null||t===Object.prototype}var Yh=Un("Date"),Xh=Un("File"),Uh=Un("Blob"),qh=Un("FileList");function Os(n){return Ts.call(n)==="[object Function]"}function $h(n){return Jc(n)&&Os(n.pipe)}function Vh(n){var t="[object FormData]";return n&&(typeof FormData=="function"&&n instanceof FormData||Ts.call(n)===t||Os(n.toString)&&n.toString()===t)}var Gh=Un("URLSearchParams");function Kh(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function Jh(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Ls(n,t){if(!(n===null||typeof n>"u"))if(typeof n!="object"&&(n=[n]),ks(n))for(var e=0,i=n.length;e<i;e++)t.call(null,n[e],e,n);else for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.call(null,n[r],r,n)}function qa(){var n={};function t(r,o){qr(n[o])&&qr(r)?n[o]=qa(n[o],r):qr(r)?n[o]=qa({},r):ks(r)?n[o]=r.slice():n[o]=r}for(var e=0,i=arguments.length;e<i;e++)Ls(arguments[e],t);return n}function Qh(n,t,e){return Ls(t,function(r,o){e&&typeof r=="function"?n[o]=Fh(r,e):n[o]=r}),n}function Zh(n){return n.charCodeAt(0)===65279&&(n=n.slice(1)),n}function tf(n,t,e,i){n.prototype=Object.create(t.prototype,i),n.prototype.constructor=n,e&&Object.assign(n.prototype,e)}function ef(n,t,e){var i,r,o,a={};t=t||{};do{for(i=Object.getOwnPropertyNames(n),r=i.length;r-- >0;)o=i[r],a[o]||(t[o]=n[o],a[o]=!0);n=Object.getPrototypeOf(n)}while(n&&(!e||e(n,t))&&n!==Object.prototype);return t}function nf(n,t,e){n=String(n),(e===void 0||e>n.length)&&(e=n.length),e-=t.length;var i=n.indexOf(t,e);return i!==-1&&i===e}function rf(n){if(!n)return null;var t=n.length;if(io(t))return null;for(var e=new Array(t);t-- >0;)e[t]=n[t];return e}var of=function(n){return function(t){return n&&t instanceof n}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),Kt={isArray:ks,isArrayBuffer:Kc,isBuffer:Wh,isFormData:Vh,isArrayBufferView:jh,isString:Hh,isNumber:zh,isObject:Jc,isPlainObject:qr,isUndefined:io,isDate:Yh,isFile:Xh,isBlob:Uh,isFunction:Os,isStream:$h,isURLSearchParams:Gh,isStandardBrowserEnv:Jh,forEach:Ls,merge:qa,extend:Qh,trim:Kh,stripBOM:Zh,inherits:tf,toFlatObject:ef,kindOf:Ms,kindOfTest:Un,endsWith:nf,toArray:rf,isTypedArray:of,isFileList:qh},ri=Kt;function ml(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Qc=function(t,e,i){if(!e)return t;var r;if(i)r=i(e);else if(ri.isURLSearchParams(e))r=e.toString();else{var o=[];ri.forEach(e,function(l,c){l===null||typeof l>"u"||(ri.isArray(l)?c=c+"[]":l=[l],ri.forEach(l,function(g){ri.isDate(g)?g=g.toISOString():ri.isObject(g)&&(g=JSON.stringify(g)),o.push(ml(c)+"="+ml(g))}))}),r=o.join("&")}if(r){var a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t},af=Kt;function Co(){this.handlers=[]}Co.prototype.use=function(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1};Co.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Co.prototype.forEach=function(t){af.forEach(this.handlers,function(i){i!==null&&t(i)})};var sf=Co,lf=Kt,cf=function(t,e){lf.forEach(t,function(r,o){o!==e&&o.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[o])})},Zc=Kt;function wi(n,t,e,i,r){Error.call(this),this.message=n,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),i&&(this.request=i),r&&(this.response=r)}Zc.inherits(wi,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var tu=wi.prototype,eu={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(n){eu[n]={value:n}});Object.defineProperties(wi,eu);Object.defineProperty(tu,"isAxiosError",{value:!0});wi.from=function(n,t,e,i,r,o){var a=Object.create(tu);return Zc.toFlatObject(n,a,function(l){return l!==Error.prototype}),wi.call(a,n.message,t,e,i,r),a.name=n.name,o&&Object.assign(a,o),a};var Di=wi,nu={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_e=Kt;function uf(n,t){t=t||new FormData;var e=[];function i(o){return o===null?"":_e.isDate(o)?o.toISOString():_e.isArrayBuffer(o)||_e.isTypedArray(o)?typeof Blob=="function"?new Blob([o]):Buffer.from(o):o}function r(o,a){if(_e.isPlainObject(o)||_e.isArray(o)){if(e.indexOf(o)!==-1)throw Error("Circular reference detected in "+a);e.push(o),_e.forEach(o,function(l,c){if(!_e.isUndefined(l)){var d=a?a+"."+c:c,g;if(l&&!a&&typeof l=="object"){if(_e.endsWith(c,"{}"))l=JSON.stringify(l);else if(_e.endsWith(c,"[]")&&(g=_e.toArray(l))){g.forEach(function(m){!_e.isUndefined(m)&&t.append(d,i(m))});return}}r(l,d)}}),e.pop()}else t.append(a,i(o))}return r(n),t}var iu=uf,Yo,vl;function df(){if(vl)return Yo;vl=1;var n=Di;return Yo=function(e,i,r){var o=r.config.validateStatus;!r.status||!o||o(r.status)?e(r):i(new n("Request failed with status code "+r.status,[n.ERR_BAD_REQUEST,n.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))},Yo}var Xo,bl;function hf(){if(bl)return Xo;bl=1;var n=Kt;return Xo=n.isStandardBrowserEnv()?function(){return{write:function(i,r,o,a,s,l){var c=[];c.push(i+"="+encodeURIComponent(r)),n.isNumber(o)&&c.push("expires="+new Date(o).toGMTString()),n.isString(a)&&c.push("path="+a),n.isString(s)&&c.push("domain="+s),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(i){var r=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Xo}var ff=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},pf=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t},gf=ff,mf=pf,ru=function(t,e){return t&&!gf(e)?mf(t,e):e},Uo,yl;function vf(){if(yl)return Uo;yl=1;var n=Kt,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Uo=function(i){var r={},o,a,s;return i&&n.forEach(i.split(`
`),function(c){if(s=c.indexOf(":"),o=n.trim(c.substr(0,s)).toLowerCase(),a=n.trim(c.substr(s+1)),o){if(r[o]&&t.indexOf(o)>=0)return;o==="set-cookie"?r[o]=(r[o]?r[o]:[]).concat([a]):r[o]=r[o]?r[o]+", "+a:a}}),r},Uo}var qo,wl;function bf(){if(wl)return qo;wl=1;var n=Kt;return qo=n.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),r;function o(a){var s=a;return e&&(i.setAttribute("href",s),s=i.href),i.setAttribute("href",s),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return r=o(window.location.href),function(s){var l=n.isString(s)?o(s):s;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}(),qo}var $o,xl;function Ao(){if(xl)return $o;xl=1;var n=Di,t=Kt;function e(i){n.call(this,i==null?"canceled":i,n.ERR_CANCELED),this.name="CanceledError"}return t.inherits(e,n,{__CANCEL__:!0}),$o=e,$o}var Vo,Cl;function yf(){return Cl||(Cl=1,Vo=function(t){var e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}),Vo}var Go,Al;function El(){if(Al)return Go;Al=1;var n=Kt,t=df(),e=hf(),i=Qc,r=ru,o=vf(),a=bf(),s=nu,l=Di,c=Ao(),d=yf();return Go=function(m){return new Promise(function(D,E){var M=m.data,T=m.headers,R=m.responseType,_;function I(){m.cancelToken&&m.cancelToken.unsubscribe(_),m.signal&&m.signal.removeEventListener("abort",_)}n.isFormData(M)&&n.isStandardBrowserEnv()&&delete T["Content-Type"];var L=new XMLHttpRequest;if(m.auth){var S=m.auth.username||"",B=m.auth.password?unescape(encodeURIComponent(m.auth.password)):"";T.Authorization="Basic "+btoa(S+":"+B)}var Q=r(m.baseURL,m.url);L.open(m.method.toUpperCase(),i(Q,m.params,m.paramsSerializer),!0),L.timeout=m.timeout;function Z(){if(!!L){var z="getAllResponseHeaders"in L?o(L.getAllResponseHeaders()):null,tt=!R||R==="text"||R==="json"?L.responseText:L.response,dt={data:tt,status:L.status,statusText:L.statusText,headers:z,config:m,request:L};t(function(wt){D(wt),I()},function(wt){E(wt),I()},dt),L=null}}if("onloadend"in L?L.onloadend=Z:L.onreadystatechange=function(){!L||L.readyState!==4||L.status===0&&!(L.responseURL&&L.responseURL.indexOf("file:")===0)||setTimeout(Z)},L.onabort=function(){!L||(E(new l("Request aborted",l.ECONNABORTED,m,L)),L=null)},L.onerror=function(){E(new l("Network Error",l.ERR_NETWORK,m,L,L)),L=null},L.ontimeout=function(){var tt=m.timeout?"timeout of "+m.timeout+"ms exceeded":"timeout exceeded",dt=m.transitional||s;m.timeoutErrorMessage&&(tt=m.timeoutErrorMessage),E(new l(tt,dt.clarifyTimeoutError?l.ETIMEDOUT:l.ECONNABORTED,m,L)),L=null},n.isStandardBrowserEnv()){var pt=(m.withCredentials||a(Q))&&m.xsrfCookieName?e.read(m.xsrfCookieName):void 0;pt&&(T[m.xsrfHeaderName]=pt)}"setRequestHeader"in L&&n.forEach(T,function(tt,dt){typeof M>"u"&&dt.toLowerCase()==="content-type"?delete T[dt]:L.setRequestHeader(dt,tt)}),n.isUndefined(m.withCredentials)||(L.withCredentials=!!m.withCredentials),R&&R!=="json"&&(L.responseType=m.responseType),typeof m.onDownloadProgress=="function"&&L.addEventListener("progress",m.onDownloadProgress),typeof m.onUploadProgress=="function"&&L.upload&&L.upload.addEventListener("progress",m.onUploadProgress),(m.cancelToken||m.signal)&&(_=function(z){!L||(E(!z||z&&z.type?new c:z),L.abort(),L=null)},m.cancelToken&&m.cancelToken.subscribe(_),m.signal&&(m.signal.aborted?_():m.signal.addEventListener("abort",_))),M||(M=null);var H=d(Q);if(H&&["http","https","file"].indexOf(H)===-1){E(new l("Unsupported protocol "+H+":",l.ERR_BAD_REQUEST,m));return}L.send(M)})},Go}var Ko,Sl;function wf(){return Sl||(Sl=1,Ko=null),Ko}var Yt=Kt,Dl=cf,Tl=Di,xf=nu,Cf=iu,Af={"Content-Type":"application/x-www-form-urlencoded"};function Ml(n,t){!Yt.isUndefined(n)&&Yt.isUndefined(n["Content-Type"])&&(n["Content-Type"]=t)}function Ef(){var n;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(n=El()),n}function Sf(n,t,e){if(Yt.isString(n))try{return(t||JSON.parse)(n),Yt.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(e||JSON.stringify)(n)}var Eo={transitional:xf,adapter:Ef(),transformRequest:[function(t,e){if(Dl(e,"Accept"),Dl(e,"Content-Type"),Yt.isFormData(t)||Yt.isArrayBuffer(t)||Yt.isBuffer(t)||Yt.isStream(t)||Yt.isFile(t)||Yt.isBlob(t))return t;if(Yt.isArrayBufferView(t))return t.buffer;if(Yt.isURLSearchParams(t))return Ml(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var i=Yt.isObject(t),r=e&&e["Content-Type"],o;if((o=Yt.isFileList(t))||i&&r==="multipart/form-data"){var a=this.env&&this.env.FormData;return Cf(o?{"files[]":t}:t,a&&new a)}else if(i||r==="application/json")return Ml(e,"application/json"),Sf(t);return t}],transformResponse:[function(t){var e=this.transitional||Eo.transitional,i=e&&e.silentJSONParsing,r=e&&e.forcedJSONParsing,o=!i&&this.responseType==="json";if(o||r&&Yt.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?Tl.from(a,Tl.ERR_BAD_RESPONSE,this,null,this.response):a}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wf()},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Yt.forEach(["delete","get","head"],function(t){Eo.headers[t]={}});Yt.forEach(["post","put","patch"],function(t){Eo.headers[t]=Yt.merge(Af)});var Rs=Eo,Df=Kt,Tf=Rs,Mf=function(t,e,i){var r=this||Tf;return Df.forEach(i,function(a){t=a.call(r,t,e)}),t},Jo,kl;function ou(){return kl||(kl=1,Jo=function(t){return!!(t&&t.__CANCEL__)}),Jo}var Ol=Kt,Qo=Mf,kf=ou(),Of=Rs,Lf=Ao();function Zo(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Lf}var Rf=function(t){Zo(t),t.headers=t.headers||{},t.data=Qo.call(t,t.data,t.headers,t.transformRequest),t.headers=Ol.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Ol.forEach(["delete","get","head","post","put","patch","common"],function(r){delete t.headers[r]});var e=t.adapter||Of.adapter;return e(t).then(function(r){return Zo(t),r.data=Qo.call(t,r.data,r.headers,t.transformResponse),r},function(r){return kf(r)||(Zo(t),r&&r.response&&(r.response.data=Qo.call(t,r.response.data,r.response.headers,t.transformResponse))),Promise.reject(r)})},he=Kt,au=function(t,e){e=e||{};var i={};function r(d,g){return he.isPlainObject(d)&&he.isPlainObject(g)?he.merge(d,g):he.isPlainObject(g)?he.merge({},g):he.isArray(g)?g.slice():g}function o(d){if(he.isUndefined(e[d])){if(!he.isUndefined(t[d]))return r(void 0,t[d])}else return r(t[d],e[d])}function a(d){if(!he.isUndefined(e[d]))return r(void 0,e[d])}function s(d){if(he.isUndefined(e[d])){if(!he.isUndefined(t[d]))return r(void 0,t[d])}else return r(void 0,e[d])}function l(d){if(d in e)return r(t[d],e[d]);if(d in t)return r(void 0,t[d])}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return he.forEach(Object.keys(t).concat(Object.keys(e)),function(g){var m=c[g]||o,x=m(g);he.isUndefined(x)&&m!==l||(i[g]=x)}),i},ta,Ll;function su(){return Ll||(Ll=1,ta={version:"0.27.2"}),ta}var _f=su().version,hn=Di,_s={};["object","boolean","number","function","string","symbol"].forEach(function(n,t){_s[n]=function(i){return typeof i===n||"a"+(t<1?"n ":" ")+n}});var Rl={};_s.transitional=function(t,e,i){function r(o,a){return"[Axios v"+_f+"] Transitional option '"+o+"'"+a+(i?". "+i:"")}return function(o,a,s){if(t===!1)throw new hn(r(a," has been removed"+(e?" in "+e:"")),hn.ERR_DEPRECATED);return e&&!Rl[a]&&(Rl[a]=!0,console.warn(r(a," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(o,a,s):!0}};function Pf(n,t,e){if(typeof n!="object")throw new hn("options must be an object",hn.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(n),r=i.length;r-- >0;){var o=i[r],a=t[o];if(a){var s=n[o],l=s===void 0||a(s,o,n);if(l!==!0)throw new hn("option "+o+" must be "+l,hn.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new hn("Unknown option "+o,hn.ERR_BAD_OPTION)}}var If={assertOptions:Pf,validators:_s},lu=Kt,Nf=Qc,_l=sf,Pl=Rf,So=au,Bf=ru,cu=If,oi=cu.validators;function xi(n){this.defaults=n,this.interceptors={request:new _l,response:new _l}}xi.prototype.request=function(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=So(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var i=e.transitional;i!==void 0&&cu.assertOptions(i,{silentJSONParsing:oi.transitional(oi.boolean),forcedJSONParsing:oi.transitional(oi.boolean),clarifyTimeoutError:oi.transitional(oi.boolean)},!1);var r=[],o=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(e)===!1||(o=o&&x.synchronous,r.unshift(x.fulfilled,x.rejected))});var a=[];this.interceptors.response.forEach(function(x){a.push(x.fulfilled,x.rejected)});var s;if(!o){var l=[Pl,void 0];for(Array.prototype.unshift.apply(l,r),l=l.concat(a),s=Promise.resolve(e);l.length;)s=s.then(l.shift(),l.shift());return s}for(var c=e;r.length;){var d=r.shift(),g=r.shift();try{c=d(c)}catch(m){g(m);break}}try{s=Pl(c)}catch(m){return Promise.reject(m)}for(;a.length;)s=s.then(a.shift(),a.shift());return s};xi.prototype.getUri=function(t){t=So(this.defaults,t);var e=Bf(t.baseURL,t.url);return Nf(e,t.params,t.paramsSerializer)};lu.forEach(["delete","get","head","options"],function(t){xi.prototype[t]=function(e,i){return this.request(So(i||{},{method:t,url:e,data:(i||{}).data}))}});lu.forEach(["post","put","patch"],function(t){function e(i){return function(o,a,s){return this.request(So(s||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}xi.prototype[t]=e(),xi.prototype[t+"Form"]=e(!0)});var Ff=xi,ea,Il;function Wf(){if(Il)return ea;Il=1;var n=Ao();function t(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var i;this.promise=new Promise(function(a){i=a});var r=this;this.promise.then(function(o){if(!!r._listeners){var a,s=r._listeners.length;for(a=0;a<s;a++)r._listeners[a](o);r._listeners=null}}),this.promise.then=function(o){var a,s=new Promise(function(l){r.subscribe(l),a=l}).then(o);return s.cancel=function(){r.unsubscribe(a)},s},e(function(a){r.reason||(r.reason=new n(a),i(r.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]},t.prototype.unsubscribe=function(i){if(!!this._listeners){var r=this._listeners.indexOf(i);r!==-1&&this._listeners.splice(r,1)}},t.source=function(){var i,r=new t(function(a){i=a});return{token:r,cancel:i}},ea=t,ea}var na,Nl;function jf(){return Nl||(Nl=1,na=function(t){return function(i){return t.apply(null,i)}}),na}var ia,Bl;function Hf(){if(Bl)return ia;Bl=1;var n=Kt;return ia=function(e){return n.isObject(e)&&e.isAxiosError===!0},ia}var Fl=Kt,zf=Gc,$r=Ff,Yf=au,Xf=Rs;function uu(n){var t=new $r(n),e=zf($r.prototype.request,t);return Fl.extend(e,$r.prototype,t),Fl.extend(e,t),e.create=function(r){return uu(Yf(n,r))},e}var ue=uu(Xf);ue.Axios=$r;ue.CanceledError=Ao();ue.CancelToken=Wf();ue.isCancel=ou();ue.VERSION=su().version;ue.toFormData=iu;ue.AxiosError=Di;ue.Cancel=ue.CanceledError;ue.all=function(t){return Promise.all(t)};ue.spread=jf();ue.isAxiosError=Hf();Ds.exports=ue;Ds.exports.default=ue;(function(n){n.exports=Ds.exports})(Vc);const Uf=Bh(Vc.exports);window.axios=Uf;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";function Wl(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function Ps(n={},t={}){Object.keys(t).forEach(e=>{typeof n[e]>"u"?n[e]=t[e]:Wl(t[e])&&Wl(n[e])&&Object.keys(t[e]).length>0&&Ps(n[e],t[e])})}const du={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function qn(){const n=typeof document<"u"?document:{};return Ps(n,du),n}const qf={document:du,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function xe(){const n=typeof window<"u"?window:{};return Ps(n,qf),n}function $f(n){const t=n;Object.keys(t).forEach(e=>{try{t[e]=null}catch{}try{delete t[e]}catch{}})}function $a(n,t=0){return setTimeout(n,t)}function ro(){return Date.now()}function Vf(n){const t=xe();let e;return t.getComputedStyle&&(e=t.getComputedStyle(n,null)),!e&&n.currentStyle&&(e=n.currentStyle),e||(e=n.style),e}function Gf(n,t="x"){const e=xe();let i,r,o;const a=Vf(n);return e.WebKitCSSMatrix?(r=a.transform||a.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(s=>s.replace(",",".")).join(", ")),o=new e.WebKitCSSMatrix(r==="none"?"":r)):(o=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=o.toString().split(",")),t==="x"&&(e.WebKitCSSMatrix?r=o.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),t==="y"&&(e.WebKitCSSMatrix?r=o.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function Pr(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function Kf(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function ve(...n){const t=Object(n[0]),e=["__proto__","constructor","prototype"];for(let i=1;i<n.length;i+=1){const r=n[i];if(r!=null&&!Kf(r)){const o=Object.keys(Object(r)).filter(a=>e.indexOf(a)<0);for(let a=0,s=o.length;a<s;a+=1){const l=o[a],c=Object.getOwnPropertyDescriptor(r,l);c!==void 0&&c.enumerable&&(Pr(t[l])&&Pr(r[l])?r[l].__swiper__?t[l]=r[l]:ve(t[l],r[l]):!Pr(t[l])&&Pr(r[l])?(t[l]={},r[l].__swiper__?t[l]=r[l]:ve(t[l],r[l])):t[l]=r[l])}}}return t}function Ir(n,t,e){n.style.setProperty(t,e)}function hu({swiper:n,targetPosition:t,side:e}){const i=xe(),r=-n.translate;let o=null,a;const s=n.params.speed;n.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(n.cssModeFrameID);const l=t>r?"next":"prev",c=(g,m)=>l==="next"&&g>=m||l==="prev"&&g<=m,d=()=>{a=new Date().getTime(),o===null&&(o=a);const g=Math.max(Math.min((a-o)/s,1),0),m=.5-Math.cos(g*Math.PI)/2;let x=r+m*(t-r);if(c(x,t)&&(x=t),n.wrapperEl.scrollTo({[e]:x}),c(x,t)){n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout(()=>{n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo({[e]:x})}),i.cancelAnimationFrame(n.cssModeFrameID);return}n.cssModeFrameID=i.requestAnimationFrame(d)};d()}function Ze(n,t=""){return[...n.children].filter(e=>e.matches(t))}function Jf(n,t=[]){const e=document.createElement(n);return e.classList.add(...Array.isArray(t)?t:[t]),e}function Qf(n,t){const e=[];for(;n.previousElementSibling;){const i=n.previousElementSibling;t?i.matches(t)&&e.push(i):e.push(i),n=i}return e}function Zf(n,t){const e=[];for(;n.nextElementSibling;){const i=n.nextElementSibling;t?i.matches(t)&&e.push(i):e.push(i),n=i}return e}function mn(n,t){return xe().getComputedStyle(n,null).getPropertyValue(t)}function jl(n){let t=n,e;if(t){for(e=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(e+=1);return e}}function tp(n,t){const e=[];let i=n.parentElement;for(;i;)t?i.matches(t)&&e.push(i):e.push(i),i=i.parentElement;return e}function Hl(n,t,e){const i=xe();return e?n[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(n,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(n,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom")):n.offsetWidth}let ra;function ep(){const n=xe(),t=qn();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&t instanceof n.DocumentTouch)}}function fu(){return ra||(ra=ep()),ra}let oa;function np({userAgent:n}={}){const t=fu(),e=xe(),i=e.navigator.platform,r=n||e.navigator.userAgent,o={ios:!1,android:!1},a=e.screen.width,s=e.screen.height,l=r.match(/(Android);?[\s\/]+([\d.]+)?/);let c=r.match(/(iPad).*OS\s([\d_]+)/);const d=r.match(/(iPod)(.*OS\s([\d_]+))?/),g=!c&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m=i==="Win32";let x=i==="MacIntel";const D=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&x&&t.touch&&D.indexOf(`${a}x${s}`)>=0&&(c=r.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),x=!1),l&&!m&&(o.os="android",o.android=!0),(c||g||d)&&(o.os="ios",o.ios=!0),o}function ip(n={}){return oa||(oa=np(n)),oa}let aa;function rp(){const n=xe();let t=!1;function e(){const i=n.navigator.userAgent.toLowerCase();return i.indexOf("safari")>=0&&i.indexOf("chrome")<0&&i.indexOf("android")<0}if(e()){const i=String(n.navigator.userAgent);if(i.includes("Version/")){const[r,o]=i.split("Version/")[1].split(" ")[0].split(".").map(a=>Number(a));t=r<16||r===16&&o<2}}return{isSafari:t||e(),needPerspectiveFix:t,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent)}}function op(){return aa||(aa=rp()),aa}function ap({swiper:n,on:t,emit:e}){const i=xe();let r=null,o=null;const a=()=>{!n||n.destroyed||!n.initialized||(e("beforeResize"),e("resize"))},s=()=>{!n||n.destroyed||!n.initialized||(r=new ResizeObserver(d=>{o=i.requestAnimationFrame(()=>{const{width:g,height:m}=n;let x=g,D=m;d.forEach(({contentBoxSize:E,contentRect:M,target:T})=>{T&&T!==n.el||(x=M?M.width:(E[0]||E).inlineSize,D=M?M.height:(E[0]||E).blockSize)}),(x!==g||D!==m)&&a()})}),r.observe(n.el))},l=()=>{o&&i.cancelAnimationFrame(o),r&&r.unobserve&&n.el&&(r.unobserve(n.el),r=null)},c=()=>{!n||n.destroyed||!n.initialized||e("orientationchange")};t("init",()=>{if(n.params.resizeObserver&&typeof i.ResizeObserver<"u"){s();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",c)}),t("destroy",()=>{l(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",c)})}function sp({swiper:n,extendParams:t,on:e,emit:i}){const r=[],o=xe(),a=(c,d={})=>{const g=o.MutationObserver||o.WebkitMutationObserver,m=new g(x=>{if(n.__preventObserver__)return;if(x.length===1){i("observerUpdate",x[0]);return}const D=function(){i("observerUpdate",x[0])};o.requestAnimationFrame?o.requestAnimationFrame(D):o.setTimeout(D,0)});m.observe(c,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:typeof d.childList>"u"?!0:d.childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),r.push(m)},s=()=>{if(!!n.params.observer){if(n.params.observeParents){const c=tp(n.el);for(let d=0;d<c.length;d+=1)a(c[d])}a(n.el,{childList:n.params.observeSlideChildren}),a(n.wrapperEl,{attributes:!1})}},l=()=>{r.forEach(c=>{c.disconnect()}),r.splice(0,r.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),e("init",s),e("destroy",l)}const lp={on(n,t,e){const i=this;if(!i.eventsListeners||i.destroyed||typeof t!="function")return i;const r=e?"unshift":"push";return n.split(" ").forEach(o=>{i.eventsListeners[o]||(i.eventsListeners[o]=[]),i.eventsListeners[o][r](t)}),i},once(n,t,e){const i=this;if(!i.eventsListeners||i.destroyed||typeof t!="function")return i;function r(...o){i.off(n,r),r.__emitterProxy&&delete r.__emitterProxy,t.apply(i,o)}return r.__emitterProxy=t,i.on(n,r,e)},onAny(n,t){const e=this;if(!e.eventsListeners||e.destroyed||typeof n!="function")return e;const i=t?"unshift":"push";return e.eventsAnyListeners.indexOf(n)<0&&e.eventsAnyListeners[i](n),e},offAny(n){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const e=t.eventsAnyListeners.indexOf(n);return e>=0&&t.eventsAnyListeners.splice(e,1),t},off(n,t){const e=this;return!e.eventsListeners||e.destroyed||!e.eventsListeners||n.split(" ").forEach(i=>{typeof t>"u"?e.eventsListeners[i]=[]:e.eventsListeners[i]&&e.eventsListeners[i].forEach((r,o)=>{(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&e.eventsListeners[i].splice(o,1)})}),e},emit(...n){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,i,r;return typeof n[0]=="string"||Array.isArray(n[0])?(e=n[0],i=n.slice(1,n.length),r=t):(e=n[0].events,i=n[0].data,r=n[0].context||t),i.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(a=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(s=>{s.apply(r,[a,...i])}),t.eventsListeners&&t.eventsListeners[a]&&t.eventsListeners[a].forEach(s=>{s.apply(r,i)})}),t}};function cp(){const n=this;let t,e;const i=n.el;typeof n.params.width<"u"&&n.params.width!==null?t=n.params.width:t=i.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?e=n.params.height:e=i.clientHeight,!(t===0&&n.isHorizontal()||e===0&&n.isVertical())&&(t=t-parseInt(mn(i,"padding-left")||0,10)-parseInt(mn(i,"padding-right")||0,10),e=e-parseInt(mn(i,"padding-top")||0,10)-parseInt(mn(i,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(e)&&(e=0),Object.assign(n,{width:t,height:e,size:n.isHorizontal()?t:e}))}function up(){const n=this;function t(H){return n.isHorizontal()?H:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[H]}function e(H,z){return parseFloat(H.getPropertyValue(t(z))||0)}const i=n.params,{wrapperEl:r,slidesEl:o,size:a,rtlTranslate:s,wrongRTL:l}=n,c=n.virtual&&i.virtual.enabled,d=c?n.virtual.slides.length:n.slides.length,g=Ze(o,`.${n.params.slideClass}, swiper-slide`),m=c?n.virtual.slides.length:g.length;let x=[];const D=[],E=[];let M=i.slidesOffsetBefore;typeof M=="function"&&(M=i.slidesOffsetBefore.call(n));let T=i.slidesOffsetAfter;typeof T=="function"&&(T=i.slidesOffsetAfter.call(n));const R=n.snapGrid.length,_=n.slidesGrid.length;let I=i.spaceBetween,L=-M,S=0,B=0;if(typeof a>"u")return;typeof I=="string"&&I.indexOf("%")>=0?I=parseFloat(I.replace("%",""))/100*a:typeof I=="string"&&(I=parseFloat(I)),n.virtualSize=-I,g.forEach(H=>{s?H.style.marginLeft="":H.style.marginRight="",H.style.marginBottom="",H.style.marginTop=""}),i.centeredSlides&&i.cssMode&&(Ir(r,"--swiper-centered-offset-before",""),Ir(r,"--swiper-centered-offset-after",""));const Q=i.grid&&i.grid.rows>1&&n.grid;Q&&n.grid.initSlides(m);let Z;const pt=i.slidesPerView==="auto"&&i.breakpoints&&Object.keys(i.breakpoints).filter(H=>typeof i.breakpoints[H].slidesPerView<"u").length>0;for(let H=0;H<m;H+=1){Z=0;let z;if(g[H]&&(z=g[H]),Q&&n.grid.updateSlide(H,z,m,t),!(g[H]&&mn(z,"display")==="none")){if(i.slidesPerView==="auto"){pt&&(g[H].style[t("width")]="");const tt=getComputedStyle(z),dt=z.style.transform,St=z.style.webkitTransform;if(dt&&(z.style.transform="none"),St&&(z.style.webkitTransform="none"),i.roundLengths)Z=n.isHorizontal()?Hl(z,"width",!0):Hl(z,"height",!0);else{const wt=e(tt,"width"),Ce=e(tt,"padding-left"),re=e(tt,"padding-right"),Re=e(tt,"margin-left"),sn=e(tt,"margin-right"),Ae=tt.getPropertyValue("box-sizing");if(Ae&&Ae==="border-box")Z=wt+Re+sn;else{const{clientWidth:ln,offsetWidth:Gn}=z;Z=wt+Ce+re+Re+sn+(Gn-ln)}}dt&&(z.style.transform=dt),St&&(z.style.webkitTransform=St),i.roundLengths&&(Z=Math.floor(Z))}else Z=(a-(i.slidesPerView-1)*I)/i.slidesPerView,i.roundLengths&&(Z=Math.floor(Z)),g[H]&&(g[H].style[t("width")]=`${Z}px`);g[H]&&(g[H].swiperSlideSize=Z),E.push(Z),i.centeredSlides?(L=L+Z/2+S/2+I,S===0&&H!==0&&(L=L-a/2-I),H===0&&(L=L-a/2-I),Math.abs(L)<1/1e3&&(L=0),i.roundLengths&&(L=Math.floor(L)),B%i.slidesPerGroup===0&&x.push(L),D.push(L)):(i.roundLengths&&(L=Math.floor(L)),(B-Math.min(n.params.slidesPerGroupSkip,B))%n.params.slidesPerGroup===0&&x.push(L),D.push(L),L=L+Z+I),n.virtualSize+=Z+I,S=Z,B+=1}}if(n.virtualSize=Math.max(n.virtualSize,a)+T,s&&l&&(i.effect==="slide"||i.effect==="coverflow")&&(r.style.width=`${n.virtualSize+I}px`),i.setWrapperSize&&(r.style[t("width")]=`${n.virtualSize+I}px`),Q&&n.grid.updateWrapperSize(Z,x,t),!i.centeredSlides){const H=[];for(let z=0;z<x.length;z+=1){let tt=x[z];i.roundLengths&&(tt=Math.floor(tt)),x[z]<=n.virtualSize-a&&H.push(tt)}x=H,Math.floor(n.virtualSize-a)-Math.floor(x[x.length-1])>1&&x.push(n.virtualSize-a)}if(c&&i.loop){const H=E[0]+I;if(i.slidesPerGroup>1){const z=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/i.slidesPerGroup),tt=H*i.slidesPerGroup;for(let dt=0;dt<z;dt+=1)x.push(x[x.length-1]+tt)}for(let z=0;z<n.virtual.slidesBefore+n.virtual.slidesAfter;z+=1)i.slidesPerGroup===1&&x.push(x[x.length-1]+H),D.push(D[D.length-1]+H),n.virtualSize+=H}if(x.length===0&&(x=[0]),I!==0){const H=n.isHorizontal()&&s?"marginLeft":t("marginRight");g.filter((z,tt)=>!i.cssMode||i.loop?!0:tt!==g.length-1).forEach(z=>{z.style[H]=`${I}px`})}if(i.centeredSlides&&i.centeredSlidesBounds){let H=0;E.forEach(tt=>{H+=tt+(I||0)}),H-=I;const z=H-a;x=x.map(tt=>tt<=0?-M:tt>z?z+T:tt)}if(i.centerInsufficientSlides){let H=0;if(E.forEach(z=>{H+=z+(I||0)}),H-=I,H<a){const z=(a-H)/2;x.forEach((tt,dt)=>{x[dt]=tt-z}),D.forEach((tt,dt)=>{D[dt]=tt+z})}}if(Object.assign(n,{slides:g,snapGrid:x,slidesGrid:D,slidesSizesGrid:E}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){Ir(r,"--swiper-centered-offset-before",`${-x[0]}px`),Ir(r,"--swiper-centered-offset-after",`${n.size/2-E[E.length-1]/2}px`);const H=-n.snapGrid[0],z=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(tt=>tt+H),n.slidesGrid=n.slidesGrid.map(tt=>tt+z)}if(m!==d&&n.emit("slidesLengthChange"),x.length!==R&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),D.length!==_&&n.emit("slidesGridLengthChange"),i.watchSlidesProgress&&n.updateSlidesOffset(),!c&&!i.cssMode&&(i.effect==="slide"||i.effect==="fade")){const H=`${i.containerModifierClass}backface-hidden`,z=n.el.classList.contains(H);m<=i.maxBackfaceHiddenSlides?z||n.el.classList.add(H):z&&n.el.classList.remove(H)}}function dp(n){const t=this,e=[],i=t.virtual&&t.params.virtual.enabled;let r=0,o;typeof n=="number"?t.setTransition(n):n===!0&&t.setTransition(t.params.speed);const a=s=>i?t.slides[t.getSlideIndexByData(s)]:t.slides[s];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(s=>{e.push(s)});else for(o=0;o<Math.ceil(t.params.slidesPerView);o+=1){const s=t.activeIndex+o;if(s>t.slides.length&&!i)break;e.push(a(s))}else e.push(a(t.activeIndex));for(o=0;o<e.length;o+=1)if(typeof e[o]<"u"){const s=e[o].offsetHeight;r=s>r?s:r}(r||r===0)&&(t.wrapperEl.style.height=`${r}px`)}function hp(){const n=this,t=n.slides,e=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let i=0;i<t.length;i+=1)t[i].swiperSlideOffset=(n.isHorizontal()?t[i].offsetLeft:t[i].offsetTop)-e-n.cssOverflowAdjustment()}function fp(n=this&&this.translate||0){const t=this,e=t.params,{slides:i,rtlTranslate:r,snapGrid:o}=t;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let a=-n;r&&(a=n),i.forEach(l=>{l.classList.remove(e.slideVisibleClass)}),t.visibleSlidesIndexes=[],t.visibleSlides=[];let s=e.spaceBetween;typeof s=="string"&&s.indexOf("%")>=0?s=parseFloat(s.replace("%",""))/100*t.size:typeof s=="string"&&(s=parseFloat(s));for(let l=0;l<i.length;l+=1){const c=i[l];let d=c.swiperSlideOffset;e.cssMode&&e.centeredSlides&&(d-=i[0].swiperSlideOffset);const g=(a+(e.centeredSlides?t.minTranslate():0)-d)/(c.swiperSlideSize+s),m=(a-o[0]+(e.centeredSlides?t.minTranslate():0)-d)/(c.swiperSlideSize+s),x=-(a-d),D=x+t.slidesSizesGrid[l];(x>=0&&x<t.size-1||D>1&&D<=t.size||x<=0&&D>=t.size)&&(t.visibleSlides.push(c),t.visibleSlidesIndexes.push(l),i[l].classList.add(e.slideVisibleClass)),c.progress=r?-g:g,c.originalProgress=r?-m:m}}function pp(n){const t=this;if(typeof n>"u"){const d=t.rtlTranslate?-1:1;n=t&&t.translate&&t.translate*d||0}const e=t.params,i=t.maxTranslate()-t.minTranslate();let{progress:r,isBeginning:o,isEnd:a,progressLoop:s}=t;const l=o,c=a;if(i===0)r=0,o=!0,a=!0;else{r=(n-t.minTranslate())/i;const d=Math.abs(n-t.minTranslate())<1,g=Math.abs(n-t.maxTranslate())<1;o=d||r<=0,a=g||r>=1,d&&(r=0),g&&(r=1)}if(e.loop){const d=t.getSlideIndexByData(0),g=t.getSlideIndexByData(t.slides.length-1),m=t.slidesGrid[d],x=t.slidesGrid[g],D=t.slidesGrid[t.slidesGrid.length-1],E=Math.abs(n);E>=m?s=(E-m)/D:s=(E+D-x)/D,s>1&&(s-=1)}Object.assign(t,{progress:r,progressLoop:s,isBeginning:o,isEnd:a}),(e.watchSlidesProgress||e.centeredSlides&&e.autoHeight)&&t.updateSlidesProgress(n),o&&!l&&t.emit("reachBeginning toEdge"),a&&!c&&t.emit("reachEnd toEdge"),(l&&!o||c&&!a)&&t.emit("fromEdge"),t.emit("progress",r)}function gp(){const n=this,{slides:t,params:e,slidesEl:i,activeIndex:r}=n,o=n.virtual&&e.virtual.enabled,a=l=>Ze(i,`.${e.slideClass}${l}, swiper-slide${l}`)[0];t.forEach(l=>{l.classList.remove(e.slideActiveClass,e.slideNextClass,e.slidePrevClass)});let s;if(o)if(e.loop){let l=r-n.virtual.slidesBefore;l<0&&(l=n.virtual.slides.length+l),l>=n.virtual.slides.length&&(l-=n.virtual.slides.length),s=a(`[data-swiper-slide-index="${l}"]`)}else s=a(`[data-swiper-slide-index="${r}"]`);else s=t[r];if(s){s.classList.add(e.slideActiveClass);let l=Zf(s,`.${e.slideClass}, swiper-slide`)[0];e.loop&&!l&&(l=t[0]),l&&l.classList.add(e.slideNextClass);let c=Qf(s,`.${e.slideClass}, swiper-slide`)[0];e.loop&&!c===0&&(c=t[t.length-1]),c&&c.classList.add(e.slidePrevClass)}n.emitSlidesClasses()}const Vr=(n,t)=>{if(!n||n.destroyed||!n.params)return;const e=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,i=t.closest(e());if(i){const r=i.querySelector(`.${n.params.lazyPreloaderClass}`);r&&r.remove()}},sa=(n,t)=>{if(!n.slides[t])return;const e=n.slides[t].querySelector('[loading="lazy"]');e&&e.removeAttribute("loading")},Va=n=>{if(!n||n.destroyed||!n.params)return;let t=n.params.lazyPreloadPrevNext;const e=n.slides.length;if(!e||!t||t<0)return;t=Math.min(t,e);const i=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),r=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const a=r,s=[a-t];s.push(...Array.from({length:t}).map((l,c)=>a+i+c)),n.slides.forEach((l,c)=>{s.includes(l.column)&&sa(n,c)});return}const o=r+i-1;if(n.params.rewind||n.params.loop)for(let a=r-t;a<=o+t;a+=1){const s=(a%e+e)%e;(s<r||s>o)&&sa(n,s)}else for(let a=Math.max(r-t,0);a<=Math.min(o+t,e-1);a+=1)a!==r&&(a>o||a<r)&&sa(n,a)};function mp(n){const{slidesGrid:t,params:e}=n,i=n.rtlTranslate?n.translate:-n.translate;let r;for(let o=0;o<t.length;o+=1)typeof t[o+1]<"u"?i>=t[o]&&i<t[o+1]-(t[o+1]-t[o])/2?r=o:i>=t[o]&&i<t[o+1]&&(r=o+1):i>=t[o]&&(r=o);return e.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function vp(n){const t=this,e=t.rtlTranslate?t.translate:-t.translate,{snapGrid:i,params:r,activeIndex:o,realIndex:a,snapIndex:s}=t;let l=n,c;const d=m=>{let x=m-t.virtual.slidesBefore;return x<0&&(x=t.virtual.slides.length+x),x>=t.virtual.slides.length&&(x-=t.virtual.slides.length),x};if(typeof l>"u"&&(l=mp(t)),i.indexOf(e)>=0)c=i.indexOf(e);else{const m=Math.min(r.slidesPerGroupSkip,l);c=m+Math.floor((l-m)/r.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),l===o){c!==s&&(t.snapIndex=c,t.emit("snapIndexChange")),t.params.loop&&t.virtual&&t.params.virtual.enabled&&(t.realIndex=d(l));return}let g;t.virtual&&r.virtual.enabled&&r.loop?g=d(l):t.slides[l]?g=parseInt(t.slides[l].getAttribute("data-swiper-slide-index")||l,10):g=l,Object.assign(t,{previousSnapIndex:s,snapIndex:c,previousRealIndex:a,realIndex:g,previousIndex:o,activeIndex:l}),t.initialized&&Va(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),a!==g&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")}function bp(n){const t=this,e=t.params,i=n.closest(`.${e.slideClass}, swiper-slide`);let r=!1,o;if(i){for(let a=0;a<t.slides.length;a+=1)if(t.slides[a]===i){r=!0,o=a;break}}if(i&&r)t.clickedSlide=i,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=o;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}e.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}const yp={updateSize:cp,updateSlides:up,updateAutoHeight:dp,updateSlidesOffset:hp,updateSlidesProgress:fp,updateProgress:pp,updateSlidesClasses:gp,updateActiveIndex:vp,updateClickedSlide:bp};function wp(n=this.isHorizontal()?"x":"y"){const t=this,{params:e,rtlTranslate:i,translate:r,wrapperEl:o}=t;if(e.virtualTranslate)return i?-r:r;if(e.cssMode)return r;let a=Gf(o,n);return a+=t.cssOverflowAdjustment(),i&&(a=-a),a||0}function xp(n,t){const e=this,{rtlTranslate:i,params:r,wrapperEl:o,progress:a}=e;let s=0,l=0;const c=0;e.isHorizontal()?s=i?-n:n:l=n,r.roundLengths&&(s=Math.floor(s),l=Math.floor(l)),e.previousTranslate=e.translate,e.translate=e.isHorizontal()?s:l,r.cssMode?o[e.isHorizontal()?"scrollLeft":"scrollTop"]=e.isHorizontal()?-s:-l:r.virtualTranslate||(e.isHorizontal()?s-=e.cssOverflowAdjustment():l-=e.cssOverflowAdjustment(),o.style.transform=`translate3d(${s}px, ${l}px, ${c}px)`);let d;const g=e.maxTranslate()-e.minTranslate();g===0?d=0:d=(n-e.minTranslate())/g,d!==a&&e.updateProgress(n),e.emit("setTranslate",e.translate,t)}function Cp(){return-this.snapGrid[0]}function Ap(){return-this.snapGrid[this.snapGrid.length-1]}function Ep(n=0,t=this.params.speed,e=!0,i=!0,r){const o=this,{params:a,wrapperEl:s}=o;if(o.animating&&a.preventInteractionOnTransition)return!1;const l=o.minTranslate(),c=o.maxTranslate();let d;if(i&&n>l?d=l:i&&n<c?d=c:d=n,o.updateProgress(d),a.cssMode){const g=o.isHorizontal();if(t===0)s[g?"scrollLeft":"scrollTop"]=-d;else{if(!o.support.smoothScroll)return hu({swiper:o,targetPosition:-d,side:g?"left":"top"}),!0;s.scrollTo({[g?"left":"top"]:-d,behavior:"smooth"})}return!0}return t===0?(o.setTransition(0),o.setTranslate(d),e&&(o.emit("beforeTransitionStart",t,r),o.emit("transitionEnd"))):(o.setTransition(t),o.setTranslate(d),e&&(o.emit("beforeTransitionStart",t,r),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(m){!o||o.destroyed||m.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,e&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}const Sp={getTranslate:wp,setTranslate:xp,minTranslate:Cp,maxTranslate:Ap,translateTo:Ep};function Dp(n,t){const e=this;e.params.cssMode||(e.wrapperEl.style.transitionDuration=`${n}ms`),e.emit("setTransition",n,t)}function pu({swiper:n,runCallbacks:t,direction:e,step:i}){const{activeIndex:r,previousIndex:o}=n;let a=e;if(a||(r>o?a="next":r<o?a="prev":a="reset"),n.emit(`transition${i}`),t&&r!==o){if(a==="reset"){n.emit(`slideResetTransition${i}`);return}n.emit(`slideChangeTransition${i}`),a==="next"?n.emit(`slideNextTransition${i}`):n.emit(`slidePrevTransition${i}`)}}function Tp(n=!0,t){const e=this,{params:i}=e;i.cssMode||(i.autoHeight&&e.updateAutoHeight(),pu({swiper:e,runCallbacks:n,direction:t,step:"Start"}))}function Mp(n=!0,t){const e=this,{params:i}=e;e.animating=!1,!i.cssMode&&(e.setTransition(0),pu({swiper:e,runCallbacks:n,direction:t,step:"End"}))}const kp={setTransition:Dp,transitionStart:Tp,transitionEnd:Mp};function Op(n=0,t=this.params.speed,e=!0,i,r){typeof n=="string"&&(n=parseInt(n,10));const o=this;let a=n;a<0&&(a=0);const{params:s,snapGrid:l,slidesGrid:c,previousIndex:d,activeIndex:g,rtlTranslate:m,wrapperEl:x,enabled:D}=o;if(o.animating&&s.preventInteractionOnTransition||!D&&!i&&!r)return!1;const E=Math.min(o.params.slidesPerGroupSkip,a);let M=E+Math.floor((a-E)/o.params.slidesPerGroup);M>=l.length&&(M=l.length-1);const T=-l[M];if(s.normalizeSlideIndex)for(let _=0;_<c.length;_+=1){const I=-Math.floor(T*100),L=Math.floor(c[_]*100),S=Math.floor(c[_+1]*100);typeof c[_+1]<"u"?I>=L&&I<S-(S-L)/2?a=_:I>=L&&I<S&&(a=_+1):I>=L&&(a=_)}if(o.initialized&&a!==g&&(!o.allowSlideNext&&(m?T>o.translate&&T>o.minTranslate():T<o.translate&&T<o.minTranslate())||!o.allowSlidePrev&&T>o.translate&&T>o.maxTranslate()&&(g||0)!==a))return!1;a!==(d||0)&&e&&o.emit("beforeSlideChangeStart"),o.updateProgress(T);let R;if(a>g?R="next":a<g?R="prev":R="reset",m&&-T===o.translate||!m&&T===o.translate)return o.updateActiveIndex(a),s.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),s.effect!=="slide"&&o.setTranslate(T),R!=="reset"&&(o.transitionStart(e,R),o.transitionEnd(e,R)),!1;if(s.cssMode){const _=o.isHorizontal(),I=m?T:-T;if(t===0){const L=o.virtual&&o.params.virtual.enabled;L&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),L&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{x[_?"scrollLeft":"scrollTop"]=I})):x[_?"scrollLeft":"scrollTop"]=I,L&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1})}else{if(!o.support.smoothScroll)return hu({swiper:o,targetPosition:I,side:_?"left":"top"}),!0;x.scrollTo({[_?"left":"top"]:I,behavior:"smooth"})}return!0}return o.setTransition(t),o.setTranslate(T),o.updateActiveIndex(a),o.updateSlidesClasses(),o.emit("beforeTransitionStart",t,i),o.transitionStart(e,R),t===0?o.transitionEnd(e,R):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(I){!o||o.destroyed||I.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(e,R))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function Lp(n=0,t=this.params.speed,e=!0,i){typeof n=="string"&&(n=parseInt(n,10));const r=this;let o=n;return r.params.loop&&(r.virtual&&r.params.virtual.enabled?o=o+r.virtual.slidesBefore:o=r.getSlideIndexByData(o)),r.slideTo(o,t,e,i)}function Rp(n=this.params.speed,t=!0,e){const i=this,{enabled:r,params:o,animating:a}=i;if(!r)return i;let s=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(s=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<o.slidesPerGroupSkip?1:s,c=i.virtual&&o.virtual.enabled;if(o.loop){if(a&&!c&&o.loopPreventsSliding)return!1;i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft}return o.rewind&&i.isEnd?i.slideTo(0,n,t,e):i.slideTo(i.activeIndex+l,n,t,e)}function _p(n=this.params.speed,t=!0,e){const i=this,{params:r,snapGrid:o,slidesGrid:a,rtlTranslate:s,enabled:l,animating:c}=i;if(!l)return i;const d=i.virtual&&r.virtual.enabled;if(r.loop){if(c&&!d&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const g=s?i.translate:-i.translate;function m(T){return T<0?-Math.floor(Math.abs(T)):Math.floor(T)}const x=m(g),D=o.map(T=>m(T));let E=o[D.indexOf(x)-1];if(typeof E>"u"&&r.cssMode){let T;o.forEach((R,_)=>{x>=R&&(T=_)}),typeof T<"u"&&(E=o[T>0?T-1:T])}let M=0;if(typeof E<"u"&&(M=a.indexOf(E),M<0&&(M=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(M=M-i.slidesPerViewDynamic("previous",!0)+1,M=Math.max(M,0))),r.rewind&&i.isBeginning){const T=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(T,n,t,e)}return i.slideTo(M,n,t,e)}function Pp(n=this.params.speed,t=!0,e){const i=this;return i.slideTo(i.activeIndex,n,t,e)}function Ip(n=this.params.speed,t=!0,e,i=.5){const r=this;let o=r.activeIndex;const a=Math.min(r.params.slidesPerGroupSkip,o),s=a+Math.floor((o-a)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[s]){const c=r.snapGrid[s],d=r.snapGrid[s+1];l-c>(d-c)*i&&(o+=r.params.slidesPerGroup)}else{const c=r.snapGrid[s-1],d=r.snapGrid[s];l-c<=(d-c)*i&&(o-=r.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,r.slidesGrid.length-1),r.slideTo(o,n,t,e)}function Np(){const n=this,{params:t,slidesEl:e}=n,i=t.slidesPerView==="auto"?n.slidesPerViewDynamic():t.slidesPerView;let r=n.clickedIndex,o;const a=n.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(n.animating)return;o=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?r<n.loopedSlides-i/2||r>n.slides.length-n.loopedSlides+i/2?(n.loopFix(),r=n.getSlideIndex(Ze(e,`${a}[data-swiper-slide-index="${o}"]`)[0]),$a(()=>{n.slideTo(r)})):n.slideTo(r):r>n.slides.length-i?(n.loopFix(),r=n.getSlideIndex(Ze(e,`${a}[data-swiper-slide-index="${o}"]`)[0]),$a(()=>{n.slideTo(r)})):n.slideTo(r)}else n.slideTo(r)}const Bp={slideTo:Op,slideToLoop:Lp,slideNext:Rp,slidePrev:_p,slideReset:Pp,slideToClosest:Ip,slideToClickedSlide:Np};function Fp(n){const t=this,{params:e,slidesEl:i}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;Ze(i,`.${e.slideClass}, swiper-slide`).forEach((o,a)=>{o.setAttribute("data-swiper-slide-index",a)}),t.loopFix({slideRealIndex:n,direction:e.centeredSlides?void 0:"next"})}function Wp({slideRealIndex:n,slideTo:t=!0,direction:e,setTranslate:i,activeSlideIndex:r,byController:o,byMousewheel:a}={}){const s=this;if(!s.params.loop)return;s.emit("beforeLoopFix");const{slides:l,allowSlidePrev:c,allowSlideNext:d,slidesEl:g,params:m}=s;if(s.allowSlidePrev=!0,s.allowSlideNext=!0,s.virtual&&m.virtual.enabled){t&&(!m.centeredSlides&&s.snapIndex===0?s.slideTo(s.virtual.slides.length,0,!1,!0):m.centeredSlides&&s.snapIndex<m.slidesPerView?s.slideTo(s.virtual.slides.length+s.snapIndex,0,!1,!0):s.snapIndex===s.snapGrid.length-1&&s.slideTo(s.virtual.slidesBefore,0,!1,!0)),s.allowSlidePrev=c,s.allowSlideNext=d,s.emit("loopFix");return}const x=m.slidesPerView==="auto"?s.slidesPerViewDynamic():Math.ceil(parseFloat(m.slidesPerView,10));let D=m.loopedSlides||x;D%m.slidesPerGroup!==0&&(D+=m.slidesPerGroup-D%m.slidesPerGroup),s.loopedSlides=D;const E=[],M=[];let T=s.activeIndex;typeof r>"u"?r=s.getSlideIndex(s.slides.filter(S=>S.classList.contains(m.slideActiveClass))[0]):T=r;const R=e==="next"||!e,_=e==="prev"||!e;let I=0,L=0;if(r<D){I=Math.max(D-r,m.slidesPerGroup);for(let S=0;S<D-r;S+=1){const B=S-Math.floor(S/l.length)*l.length;E.push(l.length-B-1)}}else if(r>s.slides.length-D*2){L=Math.max(r-(s.slides.length-D*2),m.slidesPerGroup);for(let S=0;S<L;S+=1){const B=S-Math.floor(S/l.length)*l.length;M.push(B)}}if(_&&E.forEach(S=>{s.slides[S].swiperLoopMoveDOM=!0,g.prepend(s.slides[S]),s.slides[S].swiperLoopMoveDOM=!1}),R&&M.forEach(S=>{s.slides[S].swiperLoopMoveDOM=!0,g.append(s.slides[S]),s.slides[S].swiperLoopMoveDOM=!1}),s.recalcSlides(),m.slidesPerView==="auto"&&s.updateSlides(),m.watchSlidesProgress&&s.updateSlidesOffset(),t){if(E.length>0&&_)if(typeof n>"u"){const S=s.slidesGrid[T],Q=s.slidesGrid[T+I]-S;a?s.setTranslate(s.translate-Q):(s.slideTo(T+I,0,!1,!0),i&&(s.touches[s.isHorizontal()?"startX":"startY"]+=Q))}else i&&s.slideToLoop(n,0,!1,!0);else if(M.length>0&&R)if(typeof n>"u"){const S=s.slidesGrid[T],Q=s.slidesGrid[T-L]-S;a?s.setTranslate(s.translate-Q):(s.slideTo(T-L,0,!1,!0),i&&(s.touches[s.isHorizontal()?"startX":"startY"]+=Q))}else s.slideToLoop(n,0,!1,!0)}if(s.allowSlidePrev=c,s.allowSlideNext=d,s.controller&&s.controller.control&&!o){const S={slideRealIndex:n,slideTo:!1,direction:e,setTranslate:i,activeSlideIndex:r,byController:!0};Array.isArray(s.controller.control)?s.controller.control.forEach(B=>{!B.destroyed&&B.params.loop&&B.loopFix(S)}):s.controller.control instanceof s.constructor&&s.controller.control.params.loop&&s.controller.control.loopFix(S)}s.emit("loopFix")}function jp(){const n=this,{params:t,slidesEl:e}=n;if(!t.loop||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const i=[];n.slides.forEach(r=>{const o=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[o]=r}),n.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{e.append(r)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}const Hp={loopCreate:Fp,loopFix:Wp,loopDestroy:jp};function zp(n){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const e=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),e.style.cursor="move",e.style.cursor=n?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function Yp(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}const Xp={setGrabCursor:zp,unsetGrabCursor:Yp};function Up(n,t=this){function e(i){if(!i||i===qn()||i===xe())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(n);return!r&&!i.getRootNode?null:r||e(i.getRootNode().host)}return e(t)}function qp(n){const t=this,e=qn(),i=xe(),r=t.touchEventsData;r.evCache.push(n);const{params:o,touches:a,enabled:s}=t;if(!s||!o.simulateTouch&&n.pointerType==="mouse"||t.animating&&o.preventInteractionOnTransition)return;!t.animating&&o.cssMode&&o.loop&&t.loopFix();let l=n;l.originalEvent&&(l=l.originalEvent);let c=l.target;if(o.touchEventsTarget==="wrapper"&&!t.wrapperEl.contains(c)||"which"in l&&l.which===3||"button"in l&&l.button>0||r.isTouched&&r.isMoved)return;const d=!!o.noSwipingClass&&o.noSwipingClass!=="",g=n.composedPath?n.composedPath():n.path;d&&l.target&&l.target.shadowRoot&&g&&(c=g[0]);const m=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,x=!!(l.target&&l.target.shadowRoot);if(o.noSwiping&&(x?Up(m,c):c.closest(m))){t.allowClick=!0;return}if(o.swipeHandler&&!c.closest(o.swipeHandler))return;a.currentX=l.pageX,a.currentY=l.pageY;const D=a.currentX,E=a.currentY,M=o.edgeSwipeDetection||o.iOSEdgeSwipeDetection,T=o.edgeSwipeThreshold||o.iOSEdgeSwipeThreshold;if(M&&(D<=T||D>=i.innerWidth-T))if(M==="prevent")n.preventDefault();else return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=D,a.startY=E,r.touchStartTime=ro(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,o.threshold>0&&(r.allowThresholdMove=!1);let R=!0;c.matches(r.focusableElements)&&(R=!1,c.nodeName==="SELECT"&&(r.isTouched=!1)),e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==c&&e.activeElement.blur();const _=R&&t.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||_)&&!c.isContentEditable&&l.preventDefault(),o.freeMode&&o.freeMode.enabled&&t.freeMode&&t.animating&&!o.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",l)}function $p(n){const t=qn(),e=this,i=e.touchEventsData,{params:r,touches:o,rtlTranslate:a,enabled:s}=e;if(!s||!r.simulateTouch&&n.pointerType==="mouse")return;let l=n;if(l.originalEvent&&(l=l.originalEvent),!i.isTouched){i.startMoving&&i.isScrolling&&e.emit("touchMoveOpposite",l);return}const c=i.evCache.findIndex(S=>S.pointerId===l.pointerId);c>=0&&(i.evCache[c]=l);const d=i.evCache.length>1?i.evCache[0]:l,g=d.pageX,m=d.pageY;if(l.preventedByNestedSwiper){o.startX=g,o.startY=m;return}if(!e.allowTouchMove){l.target.matches(i.focusableElements)||(e.allowClick=!1),i.isTouched&&(Object.assign(o,{startX:g,startY:m,prevX:e.touches.currentX,prevY:e.touches.currentY,currentX:g,currentY:m}),i.touchStartTime=ro());return}if(r.touchReleaseOnEdges&&!r.loop){if(e.isVertical()){if(m<o.startY&&e.translate<=e.maxTranslate()||m>o.startY&&e.translate>=e.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(g<o.startX&&e.translate<=e.maxTranslate()||g>o.startX&&e.translate>=e.minTranslate())return}if(t.activeElement&&l.target===t.activeElement&&l.target.matches(i.focusableElements)){i.isMoved=!0,e.allowClick=!1;return}if(i.allowTouchCallbacks&&e.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;o.currentX=g,o.currentY=m;const x=o.currentX-o.startX,D=o.currentY-o.startY;if(e.params.threshold&&Math.sqrt(x**2+D**2)<e.params.threshold)return;if(typeof i.isScrolling>"u"){let S;e.isHorizontal()&&o.currentY===o.startY||e.isVertical()&&o.currentX===o.startX?i.isScrolling=!1:x*x+D*D>=25&&(S=Math.atan2(Math.abs(D),Math.abs(x))*180/Math.PI,i.isScrolling=e.isHorizontal()?S>r.touchAngle:90-S>r.touchAngle)}if(i.isScrolling&&e.emit("touchMoveOpposite",l),typeof i.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(i.startMoving=!0),i.isScrolling||e.zoom&&e.params.zoom&&e.params.zoom.enabled&&i.evCache.length>1){i.isTouched=!1;return}if(!i.startMoving)return;e.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation();let E=e.isHorizontal()?x:D,M=e.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;r.oneWayMovement&&(E=Math.abs(E)*(a?1:-1),M=Math.abs(M)*(a?1:-1)),o.diff=E,E*=r.touchRatio,a&&(E=-E,M=-M);const T=e.touchesDirection;e.swipeDirection=E>0?"prev":"next",e.touchesDirection=M>0?"prev":"next";const R=e.params.loop&&!r.cssMode;if(!i.isMoved){if(R&&e.loopFix({direction:e.swipeDirection}),i.startTranslate=e.getTranslate(),e.setTransition(0),e.animating){const S=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(S)}i.allowMomentumBounce=!1,r.grabCursor&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!0),e.emit("sliderFirstMove",l)}let _;i.isMoved&&T!==e.touchesDirection&&R&&Math.abs(E)>=1&&(e.loopFix({direction:e.swipeDirection,setTranslate:!0}),_=!0),e.emit("sliderMove",l),i.isMoved=!0,i.currentTranslate=E+i.startTranslate;let I=!0,L=r.resistanceRatio;if(r.touchReleaseOnEdges&&(L=0),E>0?(R&&!_&&i.currentTranslate>(r.centeredSlides?e.minTranslate()-e.size/2:e.minTranslate())&&e.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>e.minTranslate()&&(I=!1,r.resistance&&(i.currentTranslate=e.minTranslate()-1+(-e.minTranslate()+i.startTranslate+E)**L))):E<0&&(R&&!_&&i.currentTranslate<(r.centeredSlides?e.maxTranslate()+e.size/2:e.maxTranslate())&&e.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:e.slides.length-(r.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<e.maxTranslate()&&(I=!1,r.resistance&&(i.currentTranslate=e.maxTranslate()+1-(e.maxTranslate()-i.startTranslate-E)**L))),I&&(l.preventedByNestedSwiper=!0),!e.allowSlideNext&&e.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!e.allowSlidePrev&&e.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!e.allowSlidePrev&&!e.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(E)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,i.currentTranslate=i.startTranslate,o.diff=e.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&e.freeMode||r.watchSlidesProgress)&&(e.updateActiveIndex(),e.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.freeMode.onTouchMove(),e.updateProgress(i.currentTranslate),e.setTranslate(i.currentTranslate))}function Vp(n){const t=this,e=t.touchEventsData,i=e.evCache.findIndex(_=>_.pointerId===n.pointerId);if(i>=0&&e.evCache.splice(i,1),["pointercancel","pointerout","pointerleave"].includes(n.type)&&!(n.type==="pointercancel"&&(t.browser.isSafari||t.browser.isWebView)))return;const{params:r,touches:o,rtlTranslate:a,slidesGrid:s,enabled:l}=t;if(!l||!r.simulateTouch&&n.pointerType==="mouse")return;let c=n;if(c.originalEvent&&(c=c.originalEvent),e.allowTouchCallbacks&&t.emit("touchEnd",c),e.allowTouchCallbacks=!1,!e.isTouched){e.isMoved&&r.grabCursor&&t.setGrabCursor(!1),e.isMoved=!1,e.startMoving=!1;return}r.grabCursor&&e.isMoved&&e.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const d=ro(),g=d-e.touchStartTime;if(t.allowClick){const _=c.path||c.composedPath&&c.composedPath();t.updateClickedSlide(_&&_[0]||c.target),t.emit("tap click",c),g<300&&d-e.lastClickTime<300&&t.emit("doubleTap doubleClick",c)}if(e.lastClickTime=ro(),$a(()=>{t.destroyed||(t.allowClick=!0)}),!e.isTouched||!e.isMoved||!t.swipeDirection||o.diff===0||e.currentTranslate===e.startTranslate){e.isTouched=!1,e.isMoved=!1,e.startMoving=!1;return}e.isTouched=!1,e.isMoved=!1,e.startMoving=!1;let m;if(r.followFinger?m=a?t.translate:-t.translate:m=-e.currentTranslate,r.cssMode)return;if(r.freeMode&&r.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:m});return}let x=0,D=t.slidesSizesGrid[0];for(let _=0;_<s.length;_+=_<r.slidesPerGroupSkip?1:r.slidesPerGroup){const I=_<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof s[_+I]<"u"?m>=s[_]&&m<s[_+I]&&(x=_,D=s[_+I]-s[_]):m>=s[_]&&(x=_,D=s[s.length-1]-s[s.length-2])}let E=null,M=null;r.rewind&&(t.isBeginning?M=r.virtual&&r.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(E=0));const T=(m-s[x])/D,R=x<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(g>r.longSwipesMs){if(!r.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(T>=r.longSwipesRatio?t.slideTo(r.rewind&&t.isEnd?E:x+R):t.slideTo(x)),t.swipeDirection==="prev"&&(T>1-r.longSwipesRatio?t.slideTo(x+R):M!==null&&T<0&&Math.abs(T)>r.longSwipesRatio?t.slideTo(M):t.slideTo(x))}else{if(!r.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(c.target===t.navigation.nextEl||c.target===t.navigation.prevEl)?c.target===t.navigation.nextEl?t.slideTo(x+R):t.slideTo(x):(t.swipeDirection==="next"&&t.slideTo(E!==null?E:x+R),t.swipeDirection==="prev"&&t.slideTo(M!==null?M:x))}}function zl(){const n=this,{params:t,el:e}=n;if(e&&e.offsetWidth===0)return;t.breakpoints&&n.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:o}=n,a=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const s=a&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!s?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!a?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=r,n.allowSlideNext=i,n.params.watchOverflow&&o!==n.snapGrid&&n.checkOverflow()}function Gp(n){const t=this;!t.enabled||t.allowClick||(t.params.preventClicks&&n.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(n.stopPropagation(),n.stopImmediatePropagation()))}function Kp(){const n=this,{wrapperEl:t,rtlTranslate:e,enabled:i}=n;if(!i)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-t.scrollLeft:n.translate=-t.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let r;const o=n.maxTranslate()-n.minTranslate();o===0?r=0:r=(n.translate-n.minTranslate())/o,r!==n.progress&&n.updateProgress(e?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function Jp(n){const t=this;Vr(t,n.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}let Yl=!1;function Qp(){}const gu=(n,t)=>{const e=qn(),{params:i,el:r,wrapperEl:o,device:a}=n,s=!!i.nested,l=t==="on"?"addEventListener":"removeEventListener",c=t;r[l]("pointerdown",n.onTouchStart,{passive:!1}),e[l]("pointermove",n.onTouchMove,{passive:!1,capture:s}),e[l]("pointerup",n.onTouchEnd,{passive:!0}),e[l]("pointercancel",n.onTouchEnd,{passive:!0}),e[l]("pointerout",n.onTouchEnd,{passive:!0}),e[l]("pointerleave",n.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[l]("click",n.onClick,!0),i.cssMode&&o[l]("scroll",n.onScroll),i.updateOnWindowResize?n[c](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",zl,!0):n[c]("observerUpdate",zl,!0),r[l]("load",n.onLoad,{capture:!0})};function Zp(){const n=this,t=qn(),{params:e}=n;n.onTouchStart=qp.bind(n),n.onTouchMove=$p.bind(n),n.onTouchEnd=Vp.bind(n),e.cssMode&&(n.onScroll=Kp.bind(n)),n.onClick=Gp.bind(n),n.onLoad=Jp.bind(n),Yl||(t.addEventListener("touchstart",Qp),Yl=!0),gu(n,"on")}function tg(){gu(this,"off")}const eg={attachEvents:Zp,detachEvents:tg},Xl=(n,t)=>n.grid&&t.grid&&t.grid.rows>1;function ng(){const n=this,{realIndex:t,initialized:e,params:i,el:r}=n,o=i.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const a=n.getBreakpoint(o,n.params.breakpointsBase,n.el);if(!a||n.currentBreakpoint===a)return;const l=(a in o?o[a]:void 0)||n.originalParams,c=Xl(n,i),d=Xl(n,l),g=i.enabled;c&&!d?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),n.emitContainerClasses()):!c&&d&&(r.classList.add(`${i.containerModifierClass}grid`),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&i.grid.fill==="column")&&r.classList.add(`${i.containerModifierClass}grid-column`),n.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(E=>{if(typeof l[E]>"u")return;const M=i[E]&&i[E].enabled,T=l[E]&&l[E].enabled;M&&!T&&n[E].disable(),!M&&T&&n[E].enable()});const m=l.direction&&l.direction!==i.direction,x=i.loop&&(l.slidesPerView!==i.slidesPerView||m);m&&e&&n.changeDirection(),ve(n.params,l);const D=n.params.enabled;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),g&&!D?n.disable():!g&&D&&n.enable(),n.currentBreakpoint=a,n.emit("_beforeBreakpoint",l),x&&e&&(n.loopDestroy(),n.loopCreate(t),n.updateSlides()),n.emit("breakpoint",l)}function ig(n,t="window",e){if(!n||t==="container"&&!e)return;let i=!1;const r=xe(),o=t==="window"?r.innerHeight:e.clientHeight,a=Object.keys(n).map(s=>{if(typeof s=="string"&&s.indexOf("@")===0){const l=parseFloat(s.substr(1));return{value:o*l,point:s}}return{value:s,point:s}});a.sort((s,l)=>parseInt(s.value,10)-parseInt(l.value,10));for(let s=0;s<a.length;s+=1){const{point:l,value:c}=a[s];t==="window"?r.matchMedia(`(min-width: ${c}px)`).matches&&(i=l):c<=e.clientWidth&&(i=l)}return i||"max"}const rg={setBreakpoint:ng,getBreakpoint:ig};function og(n,t){const e=[];return n.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&e.push(t+r)}):typeof i=="string"&&e.push(t+i)}),e}function ag(){const n=this,{classNames:t,params:e,rtl:i,el:r,device:o}=n,a=og(["initialized",e.direction,{"free-mode":n.params.freeMode&&e.freeMode.enabled},{autoheight:e.autoHeight},{rtl:i},{grid:e.grid&&e.grid.rows>1},{"grid-column":e.grid&&e.grid.rows>1&&e.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":e.cssMode},{centered:e.cssMode&&e.centeredSlides},{"watch-progress":e.watchSlidesProgress}],e.containerModifierClass);t.push(...a),r.classList.add(...t),n.emitContainerClasses()}function sg(){const n=this,{el:t,classNames:e}=n;t.classList.remove(...e),n.emitContainerClasses()}const lg={addClasses:ag,removeClasses:sg};function cg(){const n=this,{isLocked:t,params:e}=n,{slidesOffsetBefore:i}=e;if(i){const r=n.slides.length-1,o=n.slidesGrid[r]+n.slidesSizesGrid[r]+i*2;n.isLocked=n.size>o}else n.isLocked=n.snapGrid.length===1;e.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),e.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),t&&t!==n.isLocked&&(n.isEnd=!1),t!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}const ug={checkOverflow:cg},Ul={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function dg(n,t){return function(i={}){const r=Object.keys(i)[0],o=i[r];if(typeof o!="object"||o===null){ve(t,i);return}if(["navigation","pagination","scrollbar"].indexOf(r)>=0&&n[r]===!0&&(n[r]={auto:!0}),!(r in n&&"enabled"in o)){ve(t,i);return}n[r]===!0&&(n[r]={enabled:!0}),typeof n[r]=="object"&&!("enabled"in n[r])&&(n[r].enabled=!0),n[r]||(n[r]={enabled:!1}),ve(t,i)}}const la={eventsEmitter:lp,update:yp,translate:Sp,transition:kp,slide:Bp,loop:Hp,grabCursor:Xp,events:eg,breakpoints:rg,checkOverflow:ug,classes:lg},ca={};class Oe{constructor(...t){let e,i;t.length===1&&t[0].constructor&&Object.prototype.toString.call(t[0]).slice(8,-1)==="Object"?i=t[0]:[e,i]=t,i||(i={}),i=ve({},i),e&&!i.el&&(i.el=e);const r=qn();if(i.el&&typeof i.el=="string"&&r.querySelectorAll(i.el).length>1){const l=[];return r.querySelectorAll(i.el).forEach(c=>{const d=ve({},i,{el:c});l.push(new Oe(d))}),l}const o=this;o.__swiper__=!0,o.support=fu(),o.device=ip({userAgent:i.userAgent}),o.browser=op(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],i.modules&&Array.isArray(i.modules)&&o.modules.push(...i.modules);const a={};o.modules.forEach(l=>{l({params:i,swiper:o,extendParams:dg(i,a),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const s=ve({},Ul,a);return o.params=ve({},s,ca,i),o.originalParams=ve({},o.params),o.passedParams=ve({},i),o.params&&o.params.on&&Object.keys(o.params.on).forEach(l=>{o.on(l,o.params.on[l])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getSlideIndex(t){const{slidesEl:e,params:i}=this,r=Ze(e,`.${i.slideClass}, swiper-slide`),o=jl(r[0]);return jl(t)-o}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter(e=>e.getAttribute("data-swiper-slide-index")*1===t)[0])}recalcSlides(){const t=this,{slidesEl:e,params:i}=t;t.slides=Ze(e,`.${i.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;!t.enabled||(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,e){const i=this;t=Math.min(Math.max(t,0),1);const r=i.minTranslate(),a=(i.maxTranslate()-r)*t+r;i.translateTo(a,typeof e>"u"?0:e),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=t.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",e.join(" "))}getSlideClasses(t){const e=this;return e.destroyed?"":t.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(e.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=[];t.slides.forEach(i=>{const r=t.getSlideClasses(i);e.push({slideEl:i,classNames:r}),t.emit("_slideClass",i,r)}),t.emit("_slideClasses",e)}slidesPerViewDynamic(t="current",e=!1){const i=this,{params:r,slides:o,slidesGrid:a,slidesSizesGrid:s,size:l,activeIndex:c}=i;let d=1;if(r.centeredSlides){let g=o[c]?o[c].swiperSlideSize:0,m;for(let x=c+1;x<o.length;x+=1)o[x]&&!m&&(g+=o[x].swiperSlideSize,d+=1,g>l&&(m=!0));for(let x=c-1;x>=0;x-=1)o[x]&&!m&&(g+=o[x].swiperSlideSize,d+=1,g>l&&(m=!0))}else if(t==="current")for(let g=c+1;g<o.length;g+=1)(e?a[g]+s[g]-a[c]<l:a[g]-a[c]<l)&&(d+=1);else for(let g=c-1;g>=0;g-=1)a[c]-a[g]<l&&(d+=1);return d}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:e,params:i}=t;i.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&Vr(t,a)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function r(){const a=t.rtlTranslate?t.translate*-1:t.translate,s=Math.min(Math.max(a,t.maxTranslate()),t.minTranslate());t.setTranslate(s),t.updateActiveIndex(),t.updateSlidesClasses()}let o;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&t.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&t.isEnd&&!i.centeredSlides){const a=t.virtual&&i.virtual.enabled?t.virtual.slides:t.slides;o=t.slideTo(a.length-1,0,!1,!0)}else o=t.slideTo(t.activeIndex,0,!1,!0);o||r()}i.watchOverflow&&e!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,e=!0){const i=this,r=i.params.direction;return t||(t=r==="horizontal"?"vertical":"horizontal"),t===r||t!=="horizontal"&&t!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${t}`),i.emitContainerClasses(),i.params.direction=t,i.slides.forEach(o=>{t==="vertical"?o.style.width="":o.style.height=""}),i.emit("changeDirection"),e&&i.update()),i}changeLanguageDirection(t){const e=this;e.rtl&&t==="rtl"||!e.rtl&&t==="ltr"||(e.rtl=t==="rtl",e.rtlTranslate=e.params.direction==="horizontal"&&e.rtl,e.rtl?(e.el.classList.add(`${e.params.containerModifierClass}rtl`),e.el.dir="rtl"):(e.el.classList.remove(`${e.params.containerModifierClass}rtl`),e.el.dir="ltr"),e.update())}mount(t){const e=this;if(e.mounted)return!0;let i=t||e.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=e,i.shadowEl&&(e.isElement=!0);const r=()=>`.${(e.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=(()=>i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):Ze(i,r())[0])();return!a&&e.params.createElements&&(a=Jf("div",e.params.wrapperClass),i.append(a),Ze(i,`.${e.params.slideClass}`).forEach(s=>{a.append(s)})),Object.assign(e,{el:i,wrapperEl:a,slidesEl:e.isElement?i:a,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||mn(i,"direction")==="rtl",rtlTranslate:e.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||mn(i,"direction")==="rtl"),wrongRTL:mn(a,"display")==="-webkit-box"}),!0}init(t){const e=this;return e.initialized||e.mount(t)===!1||(e.emit("beforeInit"),e.params.breakpoints&&e.setBreakpoint(),e.addClasses(),e.updateSize(),e.updateSlides(),e.params.watchOverflow&&e.checkOverflow(),e.params.grabCursor&&e.enabled&&e.setGrabCursor(),e.params.loop&&e.virtual&&e.params.virtual.enabled?e.slideTo(e.params.initialSlide+e.virtual.slidesBefore,0,e.params.runCallbacksOnInit,!1,!0):e.slideTo(e.params.initialSlide,0,e.params.runCallbacksOnInit,!1,!0),e.params.loop&&e.loopCreate(),e.attachEvents(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(r=>{r.complete?Vr(e,r):r.addEventListener("load",o=>{Vr(e,o.target)})}),Va(e),e.initialized=!0,Va(e),e.emit("init"),e.emit("afterInit")),e}destroy(t=!0,e=!0){const i=this,{params:r,el:o,wrapperEl:a,slides:s}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),e&&(i.removeClasses(),o.removeAttribute("style"),a.removeAttribute("style"),s&&s.length&&s.forEach(l=>{l.classList.remove(r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),t!==!1&&(i.el.swiper=null,$f(i)),i.destroyed=!0),null}static extendDefaults(t){ve(ca,t)}static get extendedDefaults(){return ca}static get defaults(){return Ul}static installModule(t){Oe.prototype.__modules__||(Oe.prototype.__modules__=[]);const e=Oe.prototype.__modules__;typeof t=="function"&&e.indexOf(t)<0&&e.push(t)}static use(t){return Array.isArray(t)?(t.forEach(e=>Oe.installModule(e)),Oe):(Oe.installModule(t),Oe)}}Object.keys(la).forEach(n=>{Object.keys(la[n]).forEach(t=>{Oe.prototype[t]=la[n][t]})});Oe.use([ap,sp]);var ua=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],fi={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console<"u"&&console.warn(n)},getWeek:function(n){var t=new Date(n.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var e=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},fr={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var t=n%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},ae=function(n,t){return t===void 0&&(t=2),("000"+n).slice(t*-1)},Me=function(n){return n===!0?1:0};function ql(n,t){var e;return function(){var i=this,r=arguments;clearTimeout(e),e=setTimeout(function(){return n.apply(i,r)},t)}}var da=function(n){return n instanceof Array?n:[n]};function ee(n,t,e){if(e===!0)return n.classList.add(t);n.classList.remove(t)}function gt(n,t,e){var i=window.document.createElement(n);return t=t||"",e=e||"",i.className=t,e!==void 0&&(i.textContent=e),i}function Nr(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function mu(n,t){if(t(n))return n;if(n.parentNode)return mu(n.parentNode,t)}function Br(n,t){var e=gt("div","numInputWrapper"),i=gt("input","numInput "+n),r=gt("span","arrowUp"),o=gt("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?i.type="number":(i.type="text",i.pattern="\\d*"),t!==void 0)for(var a in t)i.setAttribute(a,t[a]);return e.appendChild(i),e.appendChild(r),e.appendChild(o),e}function fe(n){try{if(typeof n.composedPath=="function"){var t=n.composedPath();return t[0]}return n.target}catch{return n.target}}var ha=function(){},oo=function(n,t,e){return e.months[t?"shorthand":"longhand"][n]},hg={D:ha,F:function(n,t,e){n.setMonth(e.months.longhand.indexOf(t))},G:function(n,t){n.setHours((n.getHours()>=12?12:0)+parseFloat(t))},H:function(n,t){n.setHours(parseFloat(t))},J:function(n,t){n.setDate(parseFloat(t))},K:function(n,t,e){n.setHours(n.getHours()%12+12*Me(new RegExp(e.amPM[1],"i").test(t)))},M:function(n,t,e){n.setMonth(e.months.shorthand.indexOf(t))},S:function(n,t){n.setSeconds(parseFloat(t))},U:function(n,t){return new Date(parseFloat(t)*1e3)},W:function(n,t,e){var i=parseInt(t),r=new Date(n.getFullYear(),0,2+(i-1)*7,0,0,0,0);return r.setDate(r.getDate()-r.getDay()+e.firstDayOfWeek),r},Y:function(n,t){n.setFullYear(parseFloat(t))},Z:function(n,t){return new Date(t)},d:function(n,t){n.setDate(parseFloat(t))},h:function(n,t){n.setHours((n.getHours()>=12?12:0)+parseFloat(t))},i:function(n,t){n.setMinutes(parseFloat(t))},j:function(n,t){n.setDate(parseFloat(t))},l:ha,m:function(n,t){n.setMonth(parseFloat(t)-1)},n:function(n,t){n.setMonth(parseFloat(t)-1)},s:function(n,t){n.setSeconds(parseFloat(t))},u:function(n,t){return new Date(parseFloat(t))},w:ha,y:function(n,t){n.setFullYear(2e3+parseFloat(t))}},Pn={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Zi={Z:function(n){return n.toISOString()},D:function(n,t,e){return t.weekdays.shorthand[Zi.w(n,t,e)]},F:function(n,t,e){return oo(Zi.n(n,t,e)-1,!1,t)},G:function(n,t,e){return ae(Zi.h(n,t,e))},H:function(n){return ae(n.getHours())},J:function(n,t){return t.ordinal!==void 0?n.getDate()+t.ordinal(n.getDate()):n.getDate()},K:function(n,t){return t.amPM[Me(n.getHours()>11)]},M:function(n,t){return oo(n.getMonth(),!0,t)},S:function(n){return ae(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,t,e){return e.getWeek(n)},Y:function(n){return ae(n.getFullYear(),4)},d:function(n){return ae(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return ae(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,t){return t.weekdays.longhand[n.getDay()]},m:function(n){return ae(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}},vu=function(n){var t=n.config,e=t===void 0?fi:t,i=n.l10n,r=i===void 0?fr:i,o=n.isMobile,a=o===void 0?!1:o;return function(s,l,c){var d=c||r;return e.formatDate!==void 0&&!a?e.formatDate(s,l,d):l.split("").map(function(g,m,x){return Zi[g]&&x[m-1]!=="\\"?Zi[g](s,d,e):g!=="\\"?g:""}).join("")}},Ga=function(n){var t=n.config,e=t===void 0?fi:t,i=n.l10n,r=i===void 0?fr:i;return function(o,a,s,l){if(!(o!==0&&!o)){var c=l||r,d,g=o;if(o instanceof Date)d=new Date(o.getTime());else if(typeof o!="string"&&o.toFixed!==void 0)d=new Date(o);else if(typeof o=="string"){var m=a||(e||fi).dateFormat,x=String(o).trim();if(x==="today")d=new Date,s=!0;else if(e&&e.parseDate)d=e.parseDate(o,m);else if(/Z$/.test(x)||/GMT$/.test(x))d=new Date(o);else{for(var D=void 0,E=[],M=0,T=0,R="";M<m.length;M++){var _=m[M],I=_==="\\",L=m[M-1]==="\\"||I;if(Pn[_]&&!L){R+=Pn[_];var S=new RegExp(R).exec(o);S&&(D=!0)&&E[_!=="Y"?"push":"unshift"]({fn:hg[_],val:S[++T]})}else I||(R+=".")}d=!e||!e.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),E.forEach(function(B){var Q=B.fn,Z=B.val;return d=Q(d,Z,c)||d}),d=D?d:void 0}}if(!(d instanceof Date&&!isNaN(d.getTime()))){e.errorHandler(new Error("Invalid date provided: "+g));return}return s===!0&&d.setHours(0,0,0,0),d}}};function pe(n,t,e){return e===void 0&&(e=!0),e!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):n.getTime()-t.getTime()}var fg=function(n,t,e){return n>Math.min(t,e)&&n<Math.max(t,e)},fa=function(n,t,e){return n*3600+t*60+e},pg=function(n){var t=Math.floor(n/3600),e=(n-t*3600)/60;return[t,e,n-t*3600-e*60]},gg={DAY:864e5};function pa(n){var t=n.defaultHour,e=n.defaultMinute,i=n.defaultSeconds;if(n.minDate!==void 0){var r=n.minDate.getHours(),o=n.minDate.getMinutes(),a=n.minDate.getSeconds();t<r&&(t=r),t===r&&e<o&&(e=o),t===r&&e===o&&i<a&&(i=n.minDate.getSeconds())}if(n.maxDate!==void 0){var s=n.maxDate.getHours(),l=n.maxDate.getMinutes();t=Math.min(t,s),t===s&&(e=Math.min(l,e)),t===s&&e===l&&(i=n.maxDate.getSeconds())}return{hours:t,minutes:e,seconds:i}}typeof Object.assign!="function"&&(Object.assign=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var i=function(s){s&&Object.keys(s).forEach(function(l){return n[l]=s[l]})},r=0,o=t;r<o.length;r++){var a=o[r];i(a)}return n});var Qt=globalThis&&globalThis.__assign||function(){return Qt=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Qt.apply(this,arguments)},$l=globalThis&&globalThis.__spreadArrays||function(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var i=Array(n),r=0,t=0;t<e;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i},mg=300;function vg(n,t){var e={config:Qt(Qt({},fi),Nt.defaultConfig),l10n:fr};e.parseDate=Ga({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=E,e._setHoursFromDate=m,e._positionCalendar=Qn,e.changeMonth=Ae,e.changeYear=Kn,e.clear=ln,e.close=Gn,e.onMouseOver=ct,e._createElement=gt,e.createDay=S,e.destroy=Pi,e.isEnabled=$e,e.jumpToDate=R,e.updateValue=Se,e.open=Ni,e.redraw=xt,e.set=We,e.setDate=Ee,e.toggle=Wi;function i(){e.utils={getDaysInMonth:function(f,v){return f===void 0&&(f=e.currentMonth),v===void 0&&(v=e.currentYear),f===1&&(v%4===0&&v%100!==0||v%400===0)?29:e.l10n.daysInMonth[f]}}}function r(){e.element=e.input=n,e.isOpen=!1,jo(),Ut(),Fi(),Ho(),i(),e.isMobile||L(),T(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&m(e.config.noCalendar?e.latestSelectedDateObj:void 0),Se(!1)),s();var f=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&f&&Qn(),Ct("onReady")}function o(){var f;return((f=e.calendarContainer)===null||f===void 0?void 0:f.getRootNode()).activeElement||document.activeElement}function a(f){return f.bind(e)}function s(){var f=e.config;f.weekNumbers===!1&&f.showMonths===1||f.noCalendar!==!0&&window.requestAnimationFrame(function(){if(e.calendarContainer!==void 0&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),e.daysContainer!==void 0){var v=(e.days.offsetWidth+1)*f.showMonths;e.daysContainer.style.width=v+"px",e.calendarContainer.style.width=v+(e.weekWrapper!==void 0?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}function l(f){if(e.selectedDates.length===0){var v=e.config.minDate===void 0||pe(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),A=pa(e.config);v.setHours(A.hours,A.minutes,A.seconds,v.getMilliseconds()),e.selectedDates=[v],e.latestSelectedDateObj=v}f!==void 0&&f.type!=="blur"&&zo(f);var O=e._input.value;g(),Se(),e._input.value!==O&&e._debouncedChange()}function c(f,v){return f%12+12*Me(v===e.l10n.amPM[1])}function d(f){switch(f%24){case 0:case 12:return 12;default:return f%12}}function g(){if(!(e.hourElement===void 0||e.minuteElement===void 0)){var f=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,v=(parseInt(e.minuteElement.value,10)||0)%60,A=e.secondElement!==void 0?(parseInt(e.secondElement.value,10)||0)%60:0;e.amPM!==void 0&&(f=c(f,e.amPM.textContent));var O=e.config.minTime!==void 0||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&pe(e.latestSelectedDateObj,e.config.minDate,!0)===0,N=e.config.maxTime!==void 0||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&pe(e.latestSelectedDateObj,e.config.maxDate,!0)===0;if(e.config.maxTime!==void 0&&e.config.minTime!==void 0&&e.config.minTime>e.config.maxTime){var Y=fa(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),ot=fa(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),K=fa(f,v,A);if(K>ot&&K<Y){var rt=pg(Y);f=rt[0],v=rt[1],A=rt[2]}}else{if(N){var X=e.config.maxTime!==void 0?e.config.maxTime:e.config.maxDate;f=Math.min(f,X.getHours()),f===X.getHours()&&(v=Math.min(v,X.getMinutes())),v===X.getMinutes()&&(A=Math.min(A,X.getSeconds()))}if(O){var et=e.config.minTime!==void 0?e.config.minTime:e.config.minDate;f=Math.max(f,et.getHours()),f===et.getHours()&&v<et.getMinutes()&&(v=et.getMinutes()),v===et.getMinutes()&&(A=Math.max(A,et.getSeconds()))}}x(f,v,A)}}function m(f){var v=f||e.latestSelectedDateObj;v&&v instanceof Date&&x(v.getHours(),v.getMinutes(),v.getSeconds())}function x(f,v,A){e.latestSelectedDateObj!==void 0&&e.latestSelectedDateObj.setHours(f%24,v,A||0,0),!(!e.hourElement||!e.minuteElement||e.isMobile)&&(e.hourElement.value=ae(e.config.time_24hr?f:(12+f)%12+12*Me(f%12===0)),e.minuteElement.value=ae(v),e.amPM!==void 0&&(e.amPM.textContent=e.l10n.amPM[Me(f>=12)]),e.secondElement!==void 0&&(e.secondElement.value=ae(A)))}function D(f){var v=fe(f),A=parseInt(v.value)+(f.delta||0);(A/1e3>1||f.key==="Enter"&&!/[^\d]/.test(A.toString()))&&Kn(A)}function E(f,v,A,O){if(v instanceof Array)return v.forEach(function(N){return E(f,N,A,O)});if(f instanceof Array)return f.forEach(function(N){return E(N,v,A,O)});f.addEventListener(v,A,O),e._handlers.push({remove:function(){return f.removeEventListener(v,A,O)}})}function M(){Ct("onChange")}function T(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(A){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+A+"]"),function(O){return E(O,"click",e[A])})}),e.isMobile){Dn();return}var f=ql(Rr,50);if(e._debouncedChange=ql(M,mg),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&E(e.daysContainer,"mouseover",function(A){e.config.mode==="range"&&ct(fe(A))}),E(e._input,"keydown",Lr),e.calendarContainer!==void 0&&E(e.calendarContainer,"keydown",Lr),!e.config.inline&&!e.config.static&&E(window,"resize",f),window.ontouchstart!==void 0?E(window.document,"touchstart",Ii):E(window.document,"mousedown",Ii),E(window.document,"focus",Ii,{capture:!0}),e.config.clickOpens===!0&&(E(e._input,"focus",e.open),E(e._input,"click",e.open)),e.daysContainer!==void 0&&(E(e.monthNav,"click",ji),E(e.monthNav,["keyup","increment"],D),E(e.daysContainer,"click",Ge)),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0){var v=function(A){return fe(A).select()};E(e.timeContainer,["increment"],l),E(e.timeContainer,"blur",l,{capture:!0}),E(e.timeContainer,"click",_),E([e.hourElement,e.minuteElement],["focus","click"],v),e.secondElement!==void 0&&E(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),e.amPM!==void 0&&E(e.amPM,"click",function(A){l(A)})}e.config.allowInput&&E(e._input,"blur",Or)}function R(f,v){var A=f!==void 0?e.parseDate(f):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),O=e.currentYear,N=e.currentMonth;try{A!==void 0&&(e.currentYear=A.getFullYear(),e.currentMonth=A.getMonth())}catch(Y){Y.message="Invalid date supplied: "+A,e.config.errorHandler(Y)}v&&e.currentYear!==O&&(Ct("onYearChange"),tt()),v&&(e.currentYear!==O||e.currentMonth!==N)&&Ct("onMonthChange"),e.redraw()}function _(f){var v=fe(f);~v.className.indexOf("arrow")&&I(f,v.classList.contains("arrowUp")?1:-1)}function I(f,v,A){var O=f&&fe(f),N=A||O&&O.parentNode&&O.parentNode.firstChild,Y=ei("increment");Y.delta=v,N&&N.dispatchEvent(Y)}function L(){var f=window.document.createDocumentFragment();if(e.calendarContainer=gt("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(f.appendChild(wt()),e.innerContainer=gt("div","flatpickr-innerContainer"),e.config.weekNumbers){var v=sn(),A=v.weekWrapper,O=v.weekNumbers;e.innerContainer.appendChild(A),e.weekNumbers=O,e.weekWrapper=A}e.rContainer=gt("div","flatpickr-rContainer"),e.rContainer.appendChild(re()),e.daysContainer||(e.daysContainer=gt("div","flatpickr-days"),e.daysContainer.tabIndex=-1),z(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),f.appendChild(e.innerContainer)}e.config.enableTime&&f.appendChild(Ce()),ee(e.calendarContainer,"rangeMode",e.config.mode==="range"),ee(e.calendarContainer,"animate",e.config.animate===!0),ee(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(f);var N=e.config.appendTo!==void 0&&e.config.appendTo.nodeType!==void 0;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!N&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):e.config.appendTo!==void 0&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var Y=gt("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore(Y,e.element),Y.appendChild(e.element),e.altInput&&Y.appendChild(e.altInput),Y.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(e.config.appendTo!==void 0?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}function S(f,v,A,O){var N=$e(v,!0),Y=gt("span",f,v.getDate().toString());return Y.dateObj=v,Y.$i=O,Y.setAttribute("aria-label",e.formatDate(v,e.config.ariaDateFormat)),f.indexOf("hidden")===-1&&pe(v,e.now)===0&&(e.todayDateElem=Y,Y.classList.add("today"),Y.setAttribute("aria-current","date")),N?(Y.tabIndex=-1,ni(v)&&(Y.classList.add("selected"),e.selectedDateElem=Y,e.config.mode==="range"&&(ee(Y,"startRange",e.selectedDates[0]&&pe(v,e.selectedDates[0],!0)===0),ee(Y,"endRange",e.selectedDates[1]&&pe(v,e.selectedDates[1],!0)===0),f==="nextMonthDay"&&Y.classList.add("inRange")))):Y.classList.add("flatpickr-disabled"),e.config.mode==="range"&&de(v)&&!ni(v)&&Y.classList.add("inRange"),e.weekNumbers&&e.config.showMonths===1&&f!=="prevMonthDay"&&O%7===6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(v)+"</span>"),Ct("onDayCreate",Y),Y}function B(f){f.focus(),e.config.mode==="range"&&ct(f)}function Q(f){for(var v=f>0?0:e.config.showMonths-1,A=f>0?e.config.showMonths:-1,O=v;O!=A;O+=f)for(var N=e.daysContainer.children[O],Y=f>0?0:N.children.length-1,ot=f>0?N.children.length:-1,K=Y;K!=ot;K+=f){var rt=N.children[K];if(rt.className.indexOf("hidden")===-1&&$e(rt.dateObj))return rt}}function Z(f,v){for(var A=f.className.indexOf("Month")===-1?f.dateObj.getMonth():e.currentMonth,O=v>0?e.config.showMonths:-1,N=v>0?1:-1,Y=A-e.currentMonth;Y!=O;Y+=N)for(var ot=e.daysContainer.children[Y],K=A-e.currentMonth===Y?f.$i+v:v<0?ot.children.length-1:0,rt=ot.children.length,X=K;X>=0&&X<rt&&X!=(v>0?rt:-1);X+=N){var et=ot.children[X];if(et.className.indexOf("hidden")===-1&&$e(et.dateObj)&&Math.abs(f.$i-X)>=Math.abs(v))return B(et)}e.changeMonth(N),pt(Q(N),0)}function pt(f,v){var A=o(),O=Jn(A||document.body),N=f!==void 0?f:O?A:e.selectedDateElem!==void 0&&Jn(e.selectedDateElem)?e.selectedDateElem:e.todayDateElem!==void 0&&Jn(e.todayDateElem)?e.todayDateElem:Q(v>0?1:-1);N===void 0?e._input.focus():O?Z(N,v):B(N)}function H(f,v){for(var A=(new Date(f,v,1).getDay()-e.l10n.firstDayOfWeek+7)%7,O=e.utils.getDaysInMonth((v-1+12)%12,f),N=e.utils.getDaysInMonth(v,f),Y=window.document.createDocumentFragment(),ot=e.config.showMonths>1,K=ot?"prevMonthDay hidden":"prevMonthDay",rt=ot?"nextMonthDay hidden":"nextMonthDay",X=O+1-A,et=0;X<=O;X++,et++)Y.appendChild(S("flatpickr-day "+K,new Date(f,v-1,X),X,et));for(X=1;X<=N;X++,et++)Y.appendChild(S("flatpickr-day",new Date(f,v,X),X,et));for(var bt=N+1;bt<=42-A&&(e.config.showMonths===1||et%7!==0);bt++,et++)Y.appendChild(S("flatpickr-day "+rt,new Date(f,v+1,bt%N),bt,et));var De=gt("div","dayContainer");return De.appendChild(Y),De}function z(){if(e.daysContainer!==void 0){Nr(e.daysContainer),e.weekNumbers&&Nr(e.weekNumbers);for(var f=document.createDocumentFragment(),v=0;v<e.config.showMonths;v++){var A=new Date(e.currentYear,e.currentMonth,1);A.setMonth(e.currentMonth+v),f.appendChild(H(A.getFullYear(),A.getMonth()))}e.daysContainer.appendChild(f),e.days=e.daysContainer.firstChild,e.config.mode==="range"&&e.selectedDates.length===1&&ct()}}function tt(){if(!(e.config.showMonths>1||e.config.monthSelectorType!=="dropdown")){var f=function(O){return e.config.minDate!==void 0&&e.currentYear===e.config.minDate.getFullYear()&&O<e.config.minDate.getMonth()?!1:!(e.config.maxDate!==void 0&&e.currentYear===e.config.maxDate.getFullYear()&&O>e.config.maxDate.getMonth())};e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var v=0;v<12;v++)if(!!f(v)){var A=gt("option","flatpickr-monthDropdown-month");A.value=new Date(e.currentYear,v).getMonth().toString(),A.textContent=oo(v,e.config.shorthandCurrentMonth,e.l10n),A.tabIndex=-1,e.currentMonth===v&&(A.selected=!0),e.monthsDropdownContainer.appendChild(A)}}}function dt(){var f=gt("div","flatpickr-month"),v=window.document.createDocumentFragment(),A;e.config.showMonths>1||e.config.monthSelectorType==="static"?A=gt("span","cur-month"):(e.monthsDropdownContainer=gt("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),E(e.monthsDropdownContainer,"change",function(ot){var K=fe(ot),rt=parseInt(K.value,10);e.changeMonth(rt-e.currentMonth),Ct("onMonthChange")}),tt(),A=e.monthsDropdownContainer);var O=Br("cur-year",{tabindex:"-1"}),N=O.getElementsByTagName("input")[0];N.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&N.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(N.setAttribute("max",e.config.maxDate.getFullYear().toString()),N.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var Y=gt("div","flatpickr-current-month");return Y.appendChild(A),Y.appendChild(O),v.appendChild(Y),f.appendChild(v),{container:f,yearElement:N,monthElement:A}}function St(){Nr(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var f=e.config.showMonths;f--;){var v=dt();e.yearElements.push(v.yearElement),e.monthElements.push(v.monthElement),e.monthNav.appendChild(v.container)}e.monthNav.appendChild(e.nextMonthNav)}function wt(){return e.monthNav=gt("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=gt("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=gt("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,St(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:function(){return e.__hidePrevMonthArrow},set:function(f){e.__hidePrevMonthArrow!==f&&(ee(e.prevMonthNav,"flatpickr-disabled",f),e.__hidePrevMonthArrow=f)}}),Object.defineProperty(e,"_hideNextMonthArrow",{get:function(){return e.__hideNextMonthArrow},set:function(f){e.__hideNextMonthArrow!==f&&(ee(e.nextMonthNav,"flatpickr-disabled",f),e.__hideNextMonthArrow=f)}}),e.currentYearElement=e.yearElements[0],qt(),e.monthNav}function Ce(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var f=pa(e.config);e.timeContainer=gt("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var v=gt("span","flatpickr-time-separator",":"),A=Br("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=A.getElementsByTagName("input")[0];var O=Br("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=O.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=ae(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?f.hours:d(f.hours)),e.minuteElement.value=ae(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():f.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(A),e.timeContainer.appendChild(v),e.timeContainer.appendChild(O),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var N=Br("flatpickr-second");e.secondElement=N.getElementsByTagName("input")[0],e.secondElement.value=ae(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():f.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(gt("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(N)}return e.config.time_24hr||(e.amPM=gt("span","flatpickr-am-pm",e.l10n.amPM[Me((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}function re(){e.weekdayContainer?Nr(e.weekdayContainer):e.weekdayContainer=gt("div","flatpickr-weekdays");for(var f=e.config.showMonths;f--;){var v=gt("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(v)}return Re(),e.weekdayContainer}function Re(){if(!!e.weekdayContainer){var f=e.l10n.firstDayOfWeek,v=$l(e.l10n.weekdays.shorthand);f>0&&f<v.length&&(v=$l(v.splice(f,v.length),v.splice(0,f)));for(var A=e.config.showMonths;A--;)e.weekdayContainer.children[A].innerHTML=`
      <span class='flatpickr-weekday'>
        `+v.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function sn(){e.calendarContainer.classList.add("hasWeeks");var f=gt("div","flatpickr-weekwrapper");f.appendChild(gt("span","flatpickr-weekday",e.l10n.weekAbbreviation));var v=gt("div","flatpickr-weeks");return f.appendChild(v),{weekWrapper:f,weekNumbers:v}}function Ae(f,v){v===void 0&&(v=!0);var A=v?f:f-e.currentMonth;A<0&&e._hidePrevMonthArrow===!0||A>0&&e._hideNextMonthArrow===!0||(e.currentMonth+=A,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,Ct("onYearChange"),tt()),z(),Ct("onMonthChange"),qt())}function ln(f,v){if(f===void 0&&(f=!0),v===void 0&&(v=!0),e.input.value="",e.altInput!==void 0&&(e.altInput.value=""),e.mobileInput!==void 0&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,v===!0&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),e.config.enableTime===!0){var A=pa(e.config),O=A.hours,N=A.minutes,Y=A.seconds;x(O,N,Y)}e.redraw(),f&&Ct("onChange")}function Gn(){e.isOpen=!1,e.isMobile||(e.calendarContainer!==void 0&&e.calendarContainer.classList.remove("open"),e._input!==void 0&&e._input.classList.remove("active")),Ct("onClose")}function Pi(){e.config!==void 0&&Ct("onDestroy");for(var f=e._handlers.length;f--;)e._handlers[f].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var v=e.calendarContainer.parentNode;if(v.lastChild&&v.removeChild(v.lastChild),v.parentNode){for(;v.firstChild;)v.parentNode.insertBefore(v.firstChild,v);v.parentNode.removeChild(v)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(A){try{delete e[A]}catch{}})}function cn(f){return e.calendarContainer.contains(f)}function Ii(f){if(e.isOpen&&!e.config.inline){var v=fe(f),A=cn(v),O=v===e.input||v===e.altInput||e.element.contains(v)||f.path&&f.path.indexOf&&(~f.path.indexOf(e.input)||~f.path.indexOf(e.altInput)),N=!O&&!A&&!cn(f.relatedTarget),Y=!e.config.ignoredFocusElements.some(function(ot){return ot.contains(v)});N&&Y&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0&&e.input.value!==""&&e.input.value!==void 0&&l(),e.close(),e.config&&e.config.mode==="range"&&e.selectedDates.length===1&&e.clear(!1))}}function Kn(f){if(!(!f||e.config.minDate&&f<e.config.minDate.getFullYear()||e.config.maxDate&&f>e.config.maxDate.getFullYear())){var v=f,A=e.currentYear!==v;e.currentYear=v||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),A&&(e.redraw(),Ct("onYearChange"),tt())}}function $e(f,v){var A;v===void 0&&(v=!0);var O=e.parseDate(f,void 0,v);if(e.config.minDate&&O&&pe(O,e.config.minDate,v!==void 0?v:!e.minDateHasTime)<0||e.config.maxDate&&O&&pe(O,e.config.maxDate,v!==void 0?v:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&e.config.disable.length===0)return!0;if(O===void 0)return!1;for(var N=!!e.config.enable,Y=(A=e.config.enable)!==null&&A!==void 0?A:e.config.disable,ot=0,K=void 0;ot<Y.length;ot++){if(K=Y[ot],typeof K=="function"&&K(O))return N;if(K instanceof Date&&O!==void 0&&K.getTime()===O.getTime())return N;if(typeof K=="string"){var rt=e.parseDate(K,void 0,!0);return rt&&rt.getTime()===O.getTime()?N:!N}else if(typeof K=="object"&&O!==void 0&&K.from&&K.to&&O.getTime()>=K.from.getTime()&&O.getTime()<=K.to.getTime())return N}return!N}function Jn(f){return e.daysContainer!==void 0?f.className.indexOf("hidden")===-1&&f.className.indexOf("flatpickr-disabled")===-1&&e.daysContainer.contains(f):!1}function Or(f){var v=f.target===e._input,A=e._input.value.trimEnd()!==je();v&&A&&!(f.relatedTarget&&cn(f.relatedTarget))&&e.setDate(e._input.value,!0,f.target===e.altInput?e.config.altFormat:e.config.dateFormat)}function Lr(f){var v=fe(f),A=e.config.wrap?n.contains(v):v===e._input,O=e.config.allowInput,N=e.isOpen&&(!O||!A),Y=e.config.inline&&A&&!O;if(f.keyCode===13&&A){if(O)return e.setDate(e._input.value,!0,v===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),v.blur();e.open()}else if(cn(v)||N||Y){var ot=!!e.timeContainer&&e.timeContainer.contains(v);switch(f.keyCode){case 13:ot?(f.preventDefault(),l(),Bi()):Ge(f);break;case 27:f.preventDefault(),Bi();break;case 8:case 46:A&&!e.config.allowInput&&(f.preventDefault(),e.clear());break;case 37:case 39:if(!ot&&!A){f.preventDefault();var K=o();if(e.daysContainer!==void 0&&(O===!1||K&&Jn(K))){var rt=f.keyCode===39?1:-1;f.ctrlKey?(f.stopPropagation(),Ae(rt),pt(Q(1),0)):pt(void 0,rt)}}else e.hourElement&&e.hourElement.focus();break;case 38:case 40:f.preventDefault();var X=f.keyCode===40?1:-1;e.daysContainer&&v.$i!==void 0||v===e.input||v===e.altInput?f.ctrlKey?(f.stopPropagation(),Kn(e.currentYear-X),pt(Q(1),0)):ot||pt(void 0,X*7):v===e.currentYearElement?Kn(e.currentYear-X):e.config.enableTime&&(!ot&&e.hourElement&&e.hourElement.focus(),l(f),e._debouncedChange());break;case 9:if(ot){var et=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(Zt){return Zt}),bt=et.indexOf(v);if(bt!==-1){var De=et[bt+(f.shiftKey?-1:1)];f.preventDefault(),(De||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(v)&&f.shiftKey&&(f.preventDefault(),e._input.focus());break}}if(e.amPM!==void 0&&v===e.amPM)switch(f.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],g(),Se();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],g(),Se();break}(A||cn(v))&&Ct("onKeyDown",f)}function ct(f,v){if(v===void 0&&(v="flatpickr-day"),!(e.selectedDates.length!==1||f&&(!f.classList.contains(v)||f.classList.contains("flatpickr-disabled")))){for(var A=f?f.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),O=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),N=Math.min(A,e.selectedDates[0].getTime()),Y=Math.max(A,e.selectedDates[0].getTime()),ot=!1,K=0,rt=0,X=N;X<Y;X+=gg.DAY)$e(new Date(X),!0)||(ot=ot||X>N&&X<Y,X<O&&(!K||X>K)?K=X:X>O&&(!rt||X<rt)&&(rt=X));var et=Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+v));et.forEach(function(bt){var De=bt.dateObj,Zt=De.getTime(),Tn=K>0&&Zt<K||rt>0&&Zt>rt;if(Tn){bt.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Je){bt.classList.remove(Je)});return}else if(ot&&!Tn)return;["startRange","inRange","endRange","notAllowed"].forEach(function(Je){bt.classList.remove(Je)}),f!==void 0&&(f.classList.add(A<=e.selectedDates[0].getTime()?"startRange":"endRange"),O<A&&Zt===O?bt.classList.add("startRange"):O>A&&Zt===O&&bt.classList.add("endRange"),Zt>=K&&(rt===0||Zt<=rt)&&fg(Zt,O,A)&&bt.classList.add("inRange"))})}}function Rr(){e.isOpen&&!e.config.static&&!e.config.inline&&Qn()}function Ni(f,v){if(v===void 0&&(v=e._positionElement),e.isMobile===!0){if(f){f.preventDefault();var A=fe(f);A&&A.blur()}e.mobileInput!==void 0&&(e.mobileInput.focus(),e.mobileInput.click()),Ct("onOpen");return}else if(e._input.disabled||e.config.inline)return;var O=e.isOpen;e.isOpen=!0,O||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),Ct("onOpen"),Qn(v)),e.config.enableTime===!0&&e.config.noCalendar===!0&&e.config.allowInput===!1&&(f===void 0||!e.timeContainer.contains(f.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}function Fe(f){return function(v){var A=e.config["_"+f+"Date"]=e.parseDate(v,e.config.dateFormat),O=e.config["_"+(f==="min"?"max":"min")+"Date"];A!==void 0&&(e[f==="min"?"minDateHasTime":"maxDateHasTime"]=A.getHours()>0||A.getMinutes()>0||A.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function(N){return $e(N)}),!e.selectedDates.length&&f==="min"&&m(A),Se()),e.daysContainer&&(xt(),A!==void 0?e.currentYearElement[f]=A.getFullYear().toString():e.currentYearElement.removeAttribute(f),e.currentYearElement.disabled=!!O&&A!==void 0&&O.getFullYear()===A.getFullYear())}}function jo(){var f=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],v=Qt(Qt({},JSON.parse(JSON.stringify(n.dataset||{}))),t),A={};e.config.parseDate=v.parseDate,e.config.formatDate=v.formatDate,Object.defineProperty(e.config,"enable",{get:function(){return e.config._enable},set:function(et){e.config._enable=Ke(et)}}),Object.defineProperty(e.config,"disable",{get:function(){return e.config._disable},set:function(et){e.config._disable=Ke(et)}});var O=v.mode==="time";if(!v.dateFormat&&(v.enableTime||O)){var N=Nt.defaultConfig.dateFormat||fi.dateFormat;A.dateFormat=v.noCalendar||O?"H:i"+(v.enableSeconds?":S":""):N+" H:i"+(v.enableSeconds?":S":"")}if(v.altInput&&(v.enableTime||O)&&!v.altFormat){var Y=Nt.defaultConfig.altFormat||fi.altFormat;A.altFormat=v.noCalendar||O?"h:i"+(v.enableSeconds?":S K":" K"):Y+(" h:i"+(v.enableSeconds?":S":"")+" K")}Object.defineProperty(e.config,"minDate",{get:function(){return e.config._minDate},set:Fe("min")}),Object.defineProperty(e.config,"maxDate",{get:function(){return e.config._maxDate},set:Fe("max")});var ot=function(et){return function(bt){e.config[et==="min"?"_minTime":"_maxTime"]=e.parseDate(bt,"H:i:S")}};Object.defineProperty(e.config,"minTime",{get:function(){return e.config._minTime},set:ot("min")}),Object.defineProperty(e.config,"maxTime",{get:function(){return e.config._maxTime},set:ot("max")}),v.mode==="time"&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,A,v);for(var K=0;K<f.length;K++)e.config[f[K]]=e.config[f[K]]===!0||e.config[f[K]]==="true";ua.filter(function(et){return e.config[et]!==void 0}).forEach(function(et){e.config[et]=da(e.config[et]||[]).map(a)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&e.config.mode==="single"&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var K=0;K<e.config.plugins.length;K++){var rt=e.config.plugins[K](e)||{};for(var X in rt)ua.indexOf(X)>-1?e.config[X]=da(rt[X]).map(a).concat(e.config[X]):typeof v[X]>"u"&&(e.config[X]=rt[X])}v.altInputClass||(e.config.altInputClass=Ve().className+" "+e.config.altInputClass),Ct("onParseConfig")}function Ve(){return e.config.wrap?n.querySelector("[data-input]"):n}function Ut(){typeof e.config.locale!="object"&&typeof Nt.l10ns[e.config.locale]>"u"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=Qt(Qt({},Nt.l10ns.default),typeof e.config.locale=="object"?e.config.locale:e.config.locale!=="default"?Nt.l10ns[e.config.locale]:void 0),Pn.D="("+e.l10n.weekdays.shorthand.join("|")+")",Pn.l="("+e.l10n.weekdays.longhand.join("|")+")",Pn.M="("+e.l10n.months.shorthand.join("|")+")",Pn.F="("+e.l10n.months.longhand.join("|")+")",Pn.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")";var f=Qt(Qt({},t),JSON.parse(JSON.stringify(n.dataset||{})));f.time_24hr===void 0&&Nt.defaultConfig.time_24hr===void 0&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=vu(e),e.parseDate=Ga({config:e.config,l10n:e.l10n})}function Qn(f){if(typeof e.config.position=="function")return void e.config.position(e,f);if(e.calendarContainer!==void 0){Ct("onPreCalendarPosition");var v=f||e._positionElement,A=Array.prototype.reduce.call(e.calendarContainer.children,function(P,q){return P+q.offsetHeight},0),O=e.calendarContainer.offsetWidth,N=e.config.position.split(" "),Y=N[0],ot=N.length>1?N[1]:null,K=v.getBoundingClientRect(),rt=window.innerHeight-K.bottom,X=Y==="above"||Y!=="below"&&rt<A&&K.top>A,et=window.pageYOffset+K.top+(X?-A-2:v.offsetHeight+2);if(ee(e.calendarContainer,"arrowTop",!X),ee(e.calendarContainer,"arrowBottom",X),!e.config.inline){var bt=window.pageXOffset+K.left,De=!1,Zt=!1;ot==="center"?(bt-=(O-K.width)/2,De=!0):ot==="right"&&(bt-=O-K.width,Zt=!0),ee(e.calendarContainer,"arrowLeft",!De&&!Zt),ee(e.calendarContainer,"arrowCenter",De),ee(e.calendarContainer,"arrowRight",Zt);var Tn=window.document.body.offsetWidth-(window.pageXOffset+K.right),Je=bt+O>window.document.body.offsetWidth,u=Tn+O>window.document.body.offsetWidth;if(ee(e.calendarContainer,"rightMost",Je),!e.config.static)if(e.calendarContainer.style.top=et+"px",!Je)e.calendarContainer.style.left=bt+"px",e.calendarContainer.style.right="auto";else if(!u)e.calendarContainer.style.left="auto",e.calendarContainer.style.right=Tn+"px";else{var h=_r();if(h===void 0)return;var p=window.document.body.offsetWidth,b=Math.max(0,p/2-O/2),y=".flatpickr-calendar.centerMost:before",C=".flatpickr-calendar.centerMost:after",w=h.cssRules.length,k="{left:"+K.left+"px;right:auto;}";ee(e.calendarContainer,"rightMost",!1),ee(e.calendarContainer,"centerMost",!0),h.insertRule(y+","+C+k,w),e.calendarContainer.style.left=b+"px",e.calendarContainer.style.right="auto"}}}}function _r(){for(var f=null,v=0;v<document.styleSheets.length;v++){var A=document.styleSheets[v];if(!!A.cssRules){try{A.cssRules}catch{continue}f=A;break}}return f!=null?f:kt()}function kt(){var f=document.createElement("style");return document.head.appendChild(f),f.sheet}function xt(){e.config.noCalendar||e.isMobile||(tt(),qt(),z())}function Bi(){e._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(e.close,0):e.close()}function Ge(f){f.preventDefault(),f.stopPropagation();var v=function(et){return et.classList&&et.classList.contains("flatpickr-day")&&!et.classList.contains("flatpickr-disabled")&&!et.classList.contains("notAllowed")},A=mu(fe(f),v);if(A!==void 0){var O=A,N=e.latestSelectedDateObj=new Date(O.dateObj.getTime()),Y=(N.getMonth()<e.currentMonth||N.getMonth()>e.currentMonth+e.config.showMonths-1)&&e.config.mode!=="range";if(e.selectedDateElem=O,e.config.mode==="single")e.selectedDates=[N];else if(e.config.mode==="multiple"){var ot=ni(N);ot?e.selectedDates.splice(parseInt(ot),1):e.selectedDates.push(N)}else e.config.mode==="range"&&(e.selectedDates.length===2&&e.clear(!1,!1),e.latestSelectedDateObj=N,e.selectedDates.push(N),pe(N,e.selectedDates[0],!0)!==0&&e.selectedDates.sort(function(et,bt){return et.getTime()-bt.getTime()}));if(g(),Y){var K=e.currentYear!==N.getFullYear();e.currentYear=N.getFullYear(),e.currentMonth=N.getMonth(),K&&(Ct("onYearChange"),tt()),Ct("onMonthChange")}if(qt(),z(),Se(),!Y&&e.config.mode!=="range"&&e.config.showMonths===1?B(O):e.selectedDateElem!==void 0&&e.hourElement===void 0&&e.selectedDateElem&&e.selectedDateElem.focus(),e.hourElement!==void 0&&e.hourElement!==void 0&&e.hourElement.focus(),e.config.closeOnSelect){var rt=e.config.mode==="single"&&!e.config.enableTime,X=e.config.mode==="range"&&e.selectedDates.length===2&&!e.config.enableTime;(rt||X)&&Bi()}M()}}var Zn={locale:[Ut,Re],showMonths:[St,s,re],minDate:[R],maxDate:[R],positionElement:[ti],clickOpens:[function(){e.config.clickOpens===!0?(E(e._input,"focus",e.open),E(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function We(f,v){if(f!==null&&typeof f=="object"){Object.assign(e.config,f);for(var A in f)Zn[A]!==void 0&&Zn[A].forEach(function(O){return O()})}else e.config[f]=v,Zn[f]!==void 0?Zn[f].forEach(function(O){return O()}):ua.indexOf(f)>-1&&(e.config[f]=da(v));e.redraw(),Se(!0)}function Lt(f,v){var A=[];if(f instanceof Array)A=f.map(function(O){return e.parseDate(O,v)});else if(f instanceof Date||typeof f=="number")A=[e.parseDate(f,v)];else if(typeof f=="string")switch(e.config.mode){case"single":case"time":A=[e.parseDate(f,v)];break;case"multiple":A=f.split(e.config.conjunction).map(function(O){return e.parseDate(O,v)});break;case"range":A=f.split(e.l10n.rangeSeparator).map(function(O){return e.parseDate(O,v)});break}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(f)));e.selectedDates=e.config.allowInvalidPreload?A:A.filter(function(O){return O instanceof Date&&$e(O,!1)}),e.config.mode==="range"&&e.selectedDates.sort(function(O,N){return O.getTime()-N.getTime()})}function Ee(f,v,A){if(v===void 0&&(v=!1),A===void 0&&(A=e.config.dateFormat),f!==0&&!f||f instanceof Array&&f.length===0)return e.clear(v);Lt(f,A),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),R(void 0,v),m(),e.selectedDates.length===0&&e.clear(!1),Se(v),v&&Ct("onChange")}function Ke(f){return f.slice().map(function(v){return typeof v=="string"||typeof v=="number"||v instanceof Date?e.parseDate(v,void 0,!0):v&&typeof v=="object"&&v.from&&v.to?{from:e.parseDate(v.from,void 0),to:e.parseDate(v.to,void 0)}:v}).filter(function(v){return v})}function Ho(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var f=e.config.defaultDate||((e.input.nodeName==="INPUT"||e.input.nodeName==="TEXTAREA")&&e.input.placeholder&&e.input.value===e.input.placeholder?null:e.input.value);f&&Lt(f,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),e.config.minTime!==void 0&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),e.config.maxTime!==void 0&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}function Fi(){if(e.input=Ve(),!e.input){e.config.errorHandler(new Error("Invalid input element specified"));return}e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=gt(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),ti()}function ti(){e._positionElement=e.config.positionElement||e._input}function Dn(){var f=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=gt("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=f,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr=f==="datetime-local"?"Y-m-d\\TH:i:S":f==="date"?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",e.altInput!==void 0&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch{}E(e.mobileInput,"change",function(v){e.setDate(fe(v).value,!1,e.mobileFormatStr),Ct("onChange"),Ct("onClose")})}function Wi(f){if(e.isOpen===!0)return e.close();e.open(f)}function Ct(f,v){if(e.config!==void 0){var A=e.config[f];if(A!==void 0&&A.length>0)for(var O=0;A[O]&&O<A.length;O++)A[O](e.selectedDates,e.input.value,e,v);f==="onChange"&&(e.input.dispatchEvent(ei("change")),e.input.dispatchEvent(ei("input")))}}function ei(f){var v=document.createEvent("Event");return v.initEvent(f,!0,!0),v}function ni(f){for(var v=0;v<e.selectedDates.length;v++){var A=e.selectedDates[v];if(A instanceof Date&&pe(A,f)===0)return""+v}return!1}function de(f){return e.config.mode!=="range"||e.selectedDates.length<2?!1:pe(f,e.selectedDates[0])>=0&&pe(f,e.selectedDates[1])<=0}function qt(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(f,v){var A=new Date(e.currentYear,e.currentMonth,1);A.setMonth(e.currentMonth+v),e.config.showMonths>1||e.config.monthSelectorType==="static"?e.monthElements[v].textContent=oo(A.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=A.getMonth().toString(),f.value=A.getFullYear().toString()}),e._hidePrevMonthArrow=e.config.minDate!==void 0&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=e.config.maxDate!==void 0&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}function je(f){var v=f||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(A){return e.formatDate(A,v)}).filter(function(A,O,N){return e.config.mode!=="range"||e.config.enableTime||N.indexOf(A)===O}).join(e.config.mode!=="range"?e.config.conjunction:e.l10n.rangeSeparator)}function Se(f){f===void 0&&(f=!0),e.mobileInput!==void 0&&e.mobileFormatStr&&(e.mobileInput.value=e.latestSelectedDateObj!==void 0?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=je(e.config.dateFormat),e.altInput!==void 0&&(e.altInput.value=je(e.config.altFormat)),f!==!1&&Ct("onValueUpdate")}function ji(f){var v=fe(f),A=e.prevMonthNav.contains(v),O=e.nextMonthNav.contains(v);A||O?Ae(A?-1:1):e.yearElements.indexOf(v)>=0?v.select():v.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):v.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}function zo(f){f.preventDefault();var v=f.type==="keydown",A=fe(f),O=A;e.amPM!==void 0&&A===e.amPM&&(e.amPM.textContent=e.l10n.amPM[Me(e.amPM.textContent===e.l10n.amPM[0])]);var N=parseFloat(O.getAttribute("min")),Y=parseFloat(O.getAttribute("max")),ot=parseFloat(O.getAttribute("step")),K=parseInt(O.value,10),rt=f.delta||(v?f.which===38?1:-1:0),X=K+ot*rt;if(typeof O.value<"u"&&O.value.length===2){var et=O===e.hourElement,bt=O===e.minuteElement;X<N?(X=Y+X+Me(!et)+(Me(et)&&Me(!e.amPM)),bt&&I(void 0,-1,e.hourElement)):X>Y&&(X=O===e.hourElement?X-Y-Me(!e.amPM):N,bt&&I(void 0,1,e.hourElement)),e.amPM&&et&&(ot===1?X+K===23:Math.abs(X-K)>ot)&&(e.amPM.textContent=e.l10n.amPM[Me(e.amPM.textContent===e.l10n.amPM[0])]),O.value=ae(X)}}return r(),e}function pi(n,t){for(var e=Array.prototype.slice.call(n).filter(function(a){return a instanceof HTMLElement}),i=[],r=0;r<e.length;r++){var o=e[r];try{if(o.getAttribute("data-fp-omit")!==null)continue;o._flatpickr!==void 0&&(o._flatpickr.destroy(),o._flatpickr=void 0),o._flatpickr=vg(o,t||{}),i.push(o._flatpickr)}catch(a){console.error(a)}}return i.length===1?i[0]:i}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return pi(this,n)},HTMLElement.prototype.flatpickr=function(n){return pi([this],n)});var Nt=function(n,t){return typeof n=="string"?pi(window.document.querySelectorAll(n),t):n instanceof Node?pi([n],t):pi(n,t)};Nt.defaultConfig={};Nt.l10ns={en:Qt({},fr),default:Qt({},fr)};Nt.localize=function(n){Nt.l10ns.default=Qt(Qt({},Nt.l10ns.default),n)};Nt.setDefaults=function(n){Nt.defaultConfig=Qt(Qt({},Nt.defaultConfig),n)};Nt.parseDate=Ga({});Nt.formatDate=vu({});Nt.compareDates=pe;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return pi(this,n)});Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))};typeof window<"u"&&(window.flatpickr=Nt);/*!
 * Cropper.js v1.5.13
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2022-11-20T05:30:46.114Z
 */(function(n,t){typeof Ih=="object"&&typeof Ss!=`/*!
 * Cropper.js v1.5.13
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2022-11-20T05:30:46.114Z
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Cropper=e()}(this,function(){"use strict";function C(e,t){var i,a=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,i)),a}function S(a){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){var e,i;e=a,i=n[t=t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(n,t))})}return a}function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function j(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){var i;if(t)return"string"==typeof t?a(t,e):"Map"===(i="Object"===(i=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(t,e):void 0}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}var t="undefined"!=typeof window&&void 0!==window.document,h=t?window:{},e=!(!t||!h.document.documentElement)&&"ontouchstart"in h.document.documentElement,i=t&&"PointerEvent"in h,c="cropper",P="all",I="crop",U="move",q="zoom",B="e",k="w",O="s",T="n",E="ne",W="nw",H="se",N="sw",$="".concat(c,"-crop"),Q="".concat(c,"-disabled"),L="".concat(c,"-hidden"),K="".concat(c,"-hide"),Z="".concat(c,"-invisible"),n="".concat(c,"-modal"),G="".concat(c,"-move"),d="".concat(c,"Action"),m="".concat(c,"Preview"),V="crop",F="move",J="none",_="crop",tt="cropend",et="cropmove",it="cropstart",at="dblclick",nt=i?"pointerdown":e?"touchstart":"mousedown",ot=i?"pointermove":e?"touchmove":"mousemove",ht=i?"pointerup pointercancel":e?"touchend touchcancel":"mouseup",rt="zoom",st="image/jpeg",ct=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,dt=/^data:/,lt=/^data:image\\/jpeg;base64,/,pt=/^img|canvas$/i,mt={viewMode:0,dragMode:V,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},ut=Number.isNaN||h.isNaN;function p(t){return"number"==typeof t&&!ut(t)}function gt(t){return 0<t&&t<1/0}function ft(t){return void 0===t}function o(t){return"object"===D(t)&&null!==t}var vt=Object.prototype.hasOwnProperty;function u(t){if(!o(t))return!1;try{var e=t.constructor,i=e.prototype;return e&&i&&vt.call(i,"isPrototypeOf")}catch(t){return!1}}function l(t){return"function"==typeof t}var wt=Array.prototype.slice;function bt(t){return Array.from?Array.from(t):wt.call(t)}function z(i,a){return i&&l(a)&&(Array.isArray(i)||p(i.length)?bt(i).forEach(function(t,e){a.call(i,t,e,i)}):o(i)&&Object.keys(i).forEach(function(t){a.call(i,i[t],t,i)})),i}var g=Object.assign||function(i){for(var t=arguments.length,e=new Array(1<t?t-1:0),a=1;a<t;a++)e[a-1]=arguments[a];return o(i)&&0<e.length&&e.forEach(function(e){o(e)&&Object.keys(e).forEach(function(t){i[t]=e[t]})}),i},yt=/\\.\\d*(?:0|9){12}\\d*$/;function Y(t,e){e=1<arguments.length&&void 0!==e?e:1e11;return yt.test(t)?Math.round(t*e)/e:t}var xt=/^width|height|left|top|marginLeft|marginTop$/;function f(t,e){var i=t.style;z(e,function(t,e){xt.test(e)&&p(t)&&(t="".concat(t,"px")),i[e]=t})}function v(t,e){var i;e&&(p(t.length)?z(t,function(t){v(t,e)}):t.classList?t.classList.add(e):(i=t.className.trim())?i.indexOf(e)<0&&(t.className="".concat(i," ").concat(e)):t.className=e)}function X(t,e){e&&(p(t.length)?z(t,function(t){X(t,e)}):t.classList?t.classList.remove(e):0<=t.className.indexOf(e)&&(t.className=t.className.replace(e,"")))}function r(t,e,i){e&&(p(t.length)?z(t,function(t){r(t,e,i)}):(i?v:X)(t,e))}var Mt=/([a-z\\d])([A-Z])/g;function Ct(t){return t.replace(Mt,"$1-$2").toLowerCase()}function Dt(t,e){return o(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(Ct(e)))}function w(t,e,i){o(i)?t[e]=i:t.dataset?t.dataset[e]=i:t.setAttribute("data-".concat(Ct(e)),i)}var Bt,kt,Ot=/\\s\\s*/,Tt=(kt=!1,t&&(Bt=!1,i=function(){},e=Object.defineProperty({},"once",{get:function(){return kt=!0,Bt},set:function(t){Bt=t}}),h.addEventListener("test",i,e),h.removeEventListener("test",i,e)),kt);function s(i,t,a,e){var n=3<arguments.length&&void 0!==e?e:{},o=a;t.trim().split(Ot).forEach(function(t){var e;Tt||(e=i.listeners)&&e[t]&&e[t][a]&&(o=e[t][a],delete e[t][a],0===Object.keys(e[t]).length&&delete e[t],0===Object.keys(e).length)&&delete i.listeners,i.removeEventListener(t,o,n)})}function b(o,t,h,e){var r=3<arguments.length&&void 0!==e?e:{},s=h;t.trim().split(Ot).forEach(function(a){var t,n;r.once&&!Tt&&(t=o.listeners,s=function(){delete n[a][h],o.removeEventListener(a,s,r);for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];h.apply(o,e)},(n=void 0===t?{}:t)[a]||(n[a]={}),n[a][h]&&o.removeEventListener(a,n[a][h],r),n[a][h]=s,o.listeners=n),o.addEventListener(a,s,r)})}function y(t,e,i){var a;return l(Event)&&l(CustomEvent)?a=new CustomEvent(e,{detail:i,bubbles:!0,cancelable:!0}):(a=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,i),t.dispatchEvent(a)}function Et(t){t=t.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var Wt=h.location,Ht=/^(\\w+:)\\/\\/([^:/?#]*):?(\\d*)/i;function Nt(t){t=t.match(Ht);return null!==t&&(t[1]!==Wt.protocol||t[2]!==Wt.hostname||t[3]!==Wt.port)}function Lt(t){var e="timestamp=".concat((new Date).getTime());return t+(-1===t.indexOf("?")?"?":"&")+e}function x(t){var e=t.rotate,i=t.scaleX,a=t.scaleY,n=t.translateX,t=t.translateY,o=[],n=(p(n)&&0!==n&&o.push("translateX(".concat(n,"px)")),p(t)&&0!==t&&o.push("translateY(".concat(t,"px)")),p(e)&&0!==e&&o.push("rotate(".concat(e,"deg)")),p(i)&&1!==i&&o.push("scaleX(".concat(i,")")),p(a)&&1!==a&&o.push("scaleY(".concat(a,")")),o.length?o.join(" "):"none");return{WebkitTransform:n,msTransform:n,transform:n}}function M(t,e){var i=t.pageX,t=t.pageY,a={endX:i,endY:t};return e?a:S({startX:i,startY:t},a)}function R(t,e){var i,a=t.aspectRatio,n=t.height,t=t.width,e=1<arguments.length&&void 0!==e?e:"contain",o=gt(t),h=gt(n);return o&&h?(i=n*a,"contain"===e&&t<i||"cover"===e&&i<t?n=t/a:t=n*a):o?n=t/a:h&&(t=n*a),{width:t,height:n}}var zt=String.fromCharCode;var Yt=/^data:.*,/;function Xt(t){var e,i,a,n,o,h,r,s=new DataView(t);try{if(255===s.getUint8(0)&&216===s.getUint8(1))for(var c=s.byteLength,d=2;d+1<c;){if(255===s.getUint8(d)&&225===s.getUint8(d+1)){i=d;break}d+=1}if(a=i&&(n=i+10,"Exif"===function(t,e,i){var a="";i+=e;for(var n=e;n<i;n+=1)a+=zt(t.getUint8(n));return a}(s,i+4,4))&&((r=18761===(o=s.getUint16(n)))||19789===o)&&42===s.getUint16(n+2,r)&&8<=(h=s.getUint32(n+4,r))?n+h:a)for(var l,p=s.getUint16(a,r),m=0;m<p;m+=1)if(l=a+12*m+2,274===s.getUint16(l,r)){l+=8,e=s.getUint16(l,r),s.setUint16(l,1,r);break}}catch(t){e=1}return e}var t={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,e=this.options,i=this.container,a=this.cropper,n=Number(e.minContainerWidth),e=Number(e.minContainerHeight),n=(v(a,L),X(t,L),{width:Math.max(i.offsetWidth,0<=n?n:200),height:Math.max(i.offsetHeight,0<=e?e:100)});f(a,{width:(this.containerData=n).width,height:n.height}),v(t,L),X(a,L)},initCanvas:function(){var t=this.containerData,e=this.imageData,i=this.options.viewMode,a=Math.abs(e.rotate)%180==90,n=a?e.naturalHeight:e.naturalWidth,a=a?e.naturalWidth:e.naturalHeight,e=n/a,o=t.width,h=t.height,e=(t.height*e>t.width?3===i?o=t.height*e:h=t.width/e:3===i?h=t.width/e:o=t.height*e,{aspectRatio:e,naturalWidth:n,naturalHeight:a,width:o,height:h});this.canvasData=e,this.limited=1===i||2===i,this.limitCanvas(!0,!0),e.width=Math.min(Math.max(e.width,e.minWidth),e.maxWidth),e.height=Math.min(Math.max(e.height,e.minHeight),e.maxHeight),e.left=(t.width-e.width)/2,e.top=(t.height-e.height)/2,e.oldLeft=e.left,e.oldTop=e.top,this.initialCanvasData=g({},e)},limitCanvas:function(t,e){var i=this.options,a=this.containerData,n=this.canvasData,o=this.cropBoxData,h=i.viewMode,r=n.aspectRatio,s=this.cropped&&o;t&&(t=Number(i.minCanvasWidth)||0,i=Number(i.minCanvasHeight)||0,1<h?(t=Math.max(t,a.width),i=Math.max(i,a.height),3===h&&(t<i*r?t=i*r:i=t/r)):0<h&&(t?t=Math.max(t,s?o.width:0):i?i=Math.max(i,s?o.height:0):s&&((t=o.width)<(i=o.height)*r?t=i*r:i=t/r)),t=(r=R({aspectRatio:r,width:t,height:i})).width,i=r.height,n.minWidth=t,n.minHeight=i,n.maxWidth=1/0,n.maxHeight=1/0),e&&((s?0:1)<h?(r=a.width-n.width,t=a.height-n.height,n.minLeft=Math.min(0,r),n.minTop=Math.min(0,t),n.maxLeft=Math.max(0,r),n.maxTop=Math.max(0,t),s&&this.limited&&(n.minLeft=Math.min(o.left,o.left+(o.width-n.width)),n.minTop=Math.min(o.top,o.top+(o.height-n.height)),n.maxLeft=o.left,n.maxTop=o.top,2===h)&&(n.width>=a.width&&(n.minLeft=Math.min(0,r),n.maxLeft=Math.max(0,r)),n.height>=a.height)&&(n.minTop=Math.min(0,t),n.maxTop=Math.max(0,t))):(n.minLeft=-n.width,n.minTop=-n.height,n.maxLeft=a.width,n.maxTop=a.height))},renderCanvas:function(t,e){var i,a,n,o,h=this.canvasData,r=this.imageData;e&&(e={width:r.naturalWidth*Math.abs(r.scaleX||1),height:r.naturalHeight*Math.abs(r.scaleY||1),degree:r.rotate||0},r=e.width,o=e.height,e=e.degree,i=90==(e=Math.abs(e)%180)?{width:o,height:r}:(a=e%90*Math.PI/180,i=Math.sin(a),n=r*(a=Math.cos(a))+o*i,r=r*i+o*a,90<e?{width:r,height:n}:{width:n,height:r}),a=h.width*((o=i.width)/h.naturalWidth),n=h.height*((e=i.height)/h.naturalHeight),h.left-=(a-h.width)/2,h.top-=(n-h.height)/2,h.width=a,h.height=n,h.aspectRatio=o/e,h.naturalWidth=o,h.naturalHeight=e,this.limitCanvas(!0,!1)),(h.width>h.maxWidth||h.width<h.minWidth)&&(h.left=h.oldLeft),(h.height>h.maxHeight||h.height<h.minHeight)&&(h.top=h.oldTop),h.width=Math.min(Math.max(h.width,h.minWidth),h.maxWidth),h.height=Math.min(Math.max(h.height,h.minHeight),h.maxHeight),this.limitCanvas(!1,!0),h.left=Math.min(Math.max(h.left,h.minLeft),h.maxLeft),h.top=Math.min(Math.max(h.top,h.minTop),h.maxTop),h.oldLeft=h.left,h.oldTop=h.top,f(this.canvas,g({width:h.width,height:h.height},x({translateX:h.left,translateY:h.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvasData,i=this.imageData,a=i.naturalWidth*(e.width/e.naturalWidth),n=i.naturalHeight*(e.height/e.naturalHeight);g(i,{width:a,height:n,left:(e.width-a)/2,top:(e.height-n)/2}),f(this.image,g({width:i.width,height:i.height},x(g({translateX:i.left,translateY:i.top},i)))),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvasData,i=t.aspectRatio||t.initialAspectRatio,t=Number(t.autoCropArea)||.8,a={width:e.width,height:e.height};i&&(e.height*i>e.width?a.height=a.width/i:a.width=a.height*i),this.cropBoxData=a,this.limitCropBox(!0,!0),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),a.width=Math.max(a.minWidth,a.width*t),a.height=Math.max(a.minHeight,a.height*t),a.left=e.left+(e.width-a.width)/2,a.top=e.top+(e.height-a.height)/2,a.oldLeft=a.left,a.oldTop=a.top,this.initialCropBoxData=g({},a)},limitCropBox:function(t,e){var i,a,n=this.options,o=this.containerData,h=this.canvasData,r=this.cropBoxData,s=this.limited,c=n.aspectRatio;t&&(t=Number(n.minCropBoxWidth)||0,n=Number(n.minCropBoxHeight)||0,i=s?Math.min(o.width,h.width,h.width+h.left,o.width-h.left):o.width,a=s?Math.min(o.height,h.height,h.height+h.top,o.height-h.top):o.height,t=Math.min(t,o.width),n=Math.min(n,o.height),c&&(t&&n?t<n*c?n=t/c:t=n*c:t?n=t/c:n&&(t=n*c),i<a*c?a=i/c:i=a*c),r.minWidth=Math.min(t,i),r.minHeight=Math.min(n,a),r.maxWidth=i,r.maxHeight=a),e&&(s?(r.minLeft=Math.max(0,h.left),r.minTop=Math.max(0,h.top),r.maxLeft=Math.min(o.width,h.left+h.width)-r.width,r.maxTop=Math.min(o.height,h.top+h.height)-r.height):(r.minLeft=0,r.minTop=0,r.maxLeft=o.width-r.width,r.maxTop=o.height-r.height))},renderCropBox:function(){var t=this.options,e=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,t.movable&&t.cropBoxMovable&&w(this.face,d,i.width>=e.width&&i.height>=e.height?U:P),f(this.cropBox,g({width:i.width,height:i.height},x({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),y(this.element,_,this.getData())}},i={initPreview:function(){var t=this.element,i=this.crossOrigin,e=this.options.preview,a=i?this.crossOriginUrl:this.url,n=t.alt||"The image to preview",o=document.createElement("img");i&&(o.crossOrigin=i),o.src=a,o.alt=n,this.viewBox.appendChild(o),this.viewBoxImage=o,e&&("string"==typeof(o=e)?o=t.ownerDocument.querySelectorAll(e):e.querySelector&&(o=[e]),z(this.previews=o,function(t){var e=document.createElement("img");w(t,m,{width:t.offsetWidth,height:t.offsetHeight,html:t.innerHTML}),i&&(e.crossOrigin=i),e.src=a,e.alt=n,e.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',t.innerHTML="",t.appendChild(e)}))},resetPreview:function(){z(this.previews,function(e){var i=Dt(e,m),i=(f(e,{width:i.width,height:i.height}),e.innerHTML=i.html,e),e=m;if(o(i[e]))try{delete i[e]}catch(t){i[e]=void 0}else if(i.dataset)try{delete i.dataset[e]}catch(t){i.dataset[e]=void 0}else i.removeAttribute("data-".concat(Ct(e)))})},preview:function(){var h=this.imageData,t=this.canvasData,e=this.cropBoxData,r=e.width,s=e.height,c=h.width,d=h.height,l=e.left-t.left-h.left,p=e.top-t.top-h.top;this.cropped&&!this.disabled&&(f(this.viewBoxImage,g({width:c,height:d},x(g({translateX:-l,translateY:-p},h)))),z(this.previews,function(t){var e=Dt(t,m),i=e.width,e=e.height,a=i,n=e,o=1;r&&(n=s*(o=i/r)),s&&e<n&&(a=r*(o=e/s),n=e),f(t,{width:a,height:n}),f(t.getElementsByTagName("img")[0],g({width:c*o,height:d*o},x(g({translateX:-l*o,translateY:-p*o},h))))}))}},e={bind:function(){var t=this.element,e=this.options,i=this.cropper;l(e.cropstart)&&b(t,it,e.cropstart),l(e.cropmove)&&b(t,et,e.cropmove),l(e.cropend)&&b(t,tt,e.cropend),l(e.crop)&&b(t,_,e.crop),l(e.zoom)&&b(t,rt,e.zoom),b(i,nt,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&b(i,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&b(i,at,this.onDblclick=this.dblclick.bind(this)),b(t.ownerDocument,ot,this.onCropMove=this.cropMove.bind(this)),b(t.ownerDocument,ht,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&b(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,e=this.options,i=this.cropper;l(e.cropstart)&&s(t,it,e.cropstart),l(e.cropmove)&&s(t,et,e.cropmove),l(e.cropend)&&s(t,tt,e.cropend),l(e.crop)&&s(t,_,e.crop),l(e.zoom)&&s(t,rt,e.zoom),s(i,nt,this.onCropStart),e.zoomable&&e.zoomOnWheel&&s(i,"wheel",this.onWheel,{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&s(i,at,this.onDblclick),s(t.ownerDocument,ot,this.onCropMove),s(t.ownerDocument,ht,this.onCropEnd),e.responsive&&s(window,"resize",this.onResize)}},Rt={resize:function(){var t,e,i,a,n,o,h;this.disabled||(t=this.options,a=this.container,e=this.containerData,i=a.offsetWidth/e.width,a=a.offsetHeight/e.height,1!=(n=Math.abs(i-1)>Math.abs(a-1)?i:a)&&(t.restore&&(o=this.getCanvasData(),h=this.getCropBoxData()),this.render(),t.restore)&&(this.setCanvasData(z(o,function(t,e){o[e]=t*n})),this.setCropBoxData(z(h,function(t,e){h[e]=t*n}))))},dblclick:function(){var t,e;this.disabled||this.options.dragMode===J||this.setDragMode((t=this.dragBox,e=$,(t.classList?t.classList.contains(e):-1<t.className.indexOf(e))?F:V))},wheel:function(t){var e=this,i=Number(this.options.wheelZoomRatio)||.1,a=1;this.disabled||(t.preventDefault(),this.wheeling)||(this.wheeling=!0,setTimeout(function(){e.wheeling=!1},50),t.deltaY?a=0<t.deltaY?1:-1:t.wheelDelta?a=-t.wheelDelta/120:t.detail&&(a=0<t.detail?1:-1),this.zoom(-a*i,t))},cropStart:function(t){var e,i=t.buttons,a=t.button;this.disabled||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(p(i)&&1!==i||p(a)&&0!==a||t.ctrlKey)||(i=this.options,e=this.pointers,t.changedTouches?z(t.changedTouches,function(t){e[t.identifier]=M(t)}):e[t.pointerId||0]=M(t),a=1<Object.keys(e).length&&i.zoomable&&i.zoomOnTouch?q:Dt(t.target,d),ct.test(a)&&!1!==y(this.element,it,{originalEvent:t,action:a})&&(t.preventDefault(),this.action=a,this.cropping=!1,a===I)&&(this.cropping=!0,v(this.dragBox,n)))},cropMove:function(t){var e,i=this.action;!this.disabled&&i&&(e=this.pointers,t.preventDefault(),!1!==y(this.element,et,{originalEvent:t,action:i}))&&(t.changedTouches?z(t.changedTouches,function(t){g(e[t.identifier]||{},M(t,!0))}):g(e[t.pointerId||0]||{},M(t,!0)),this.change(t))},cropEnd:function(t){var e,i;this.disabled||(e=this.action,i=this.pointers,t.changedTouches?z(t.changedTouches,function(t){delete i[t.identifier]}):delete i[t.pointerId||0],e&&(t.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,r(this.dragBox,n,this.cropped&&this.options.modal)),y(this.element,tt,{originalEvent:t,action:e})))}},St={change:function(t){function e(t){switch(t){case B:f+D.x>y&&(D.x=y-f);break;case k:p+D.x<w&&(D.x=w-p);break;case T:m+D.y<b&&(D.y=b-m);break;case O:v+D.y>x&&(D.y=x-v)}}var i,a,o,n=this.options,h=this.canvasData,r=this.containerData,s=this.cropBoxData,c=this.pointers,d=this.action,l=n.aspectRatio,p=s.left,m=s.top,u=s.width,g=s.height,f=p+u,v=m+g,w=0,b=0,y=r.width,x=r.height,M=!0,C=(!l&&t.shiftKey&&(l=u&&g?u/g:1),this.limited&&(w=s.minLeft,b=s.minTop,y=w+Math.min(r.width,h.width,h.left+h.width),x=b+Math.min(r.height,h.height,h.top+h.height)),c[Object.keys(c)[0]]),D={x:C.endX-C.startX,y:C.endY-C.startY};switch(d){case P:p+=D.x,m+=D.y;break;case B:0<=D.x&&(y<=f||l&&(m<=b||x<=v))?M=!1:(e(B),(u+=D.x)<0&&(d=k,p-=u=-u),l&&(m+=(s.height-(g=u/l))/2));break;case T:D.y<=0&&(m<=b||l&&(p<=w||y<=f))?M=!1:(e(T),g-=D.y,m+=D.y,g<0&&(d=O,m-=g=-g),l&&(p+=(s.width-(u=g*l))/2));break;case k:D.x<=0&&(p<=w||l&&(m<=b||x<=v))?M=!1:(e(k),u-=D.x,p+=D.x,u<0&&(d=B,p-=u=-u),l&&(m+=(s.height-(g=u/l))/2));break;case O:0<=D.y&&(x<=v||l&&(p<=w||y<=f))?M=!1:(e(O),(g+=D.y)<0&&(d=T,m-=g=-g),l&&(p+=(s.width-(u=g*l))/2));break;case E:if(l){if(D.y<=0&&(m<=b||y<=f)){M=!1;break}e(T),g-=D.y,m+=D.y,u=g*l}else e(T),e(B),!(0<=D.x)||f<y?u+=D.x:D.y<=0&&m<=b&&(M=!1),(!(D.y<=0)||b<m)&&(g-=D.y,m+=D.y);u<0&&g<0?(d=N,m-=g=-g,p-=u=-u):u<0?(d=W,p-=u=-u):g<0&&(d=H,m-=g=-g);break;case W:if(l){if(D.y<=0&&(m<=b||p<=w)){M=!1;break}e(T),g-=D.y,m+=D.y,p+=s.width-(u=g*l)}else e(T),e(k),!(D.x<=0)||w<p?(u-=D.x,p+=D.x):D.y<=0&&m<=b&&(M=!1),(!(D.y<=0)||b<m)&&(g-=D.y,m+=D.y);u<0&&g<0?(d=H,m-=g=-g,p-=u=-u):u<0?(d=E,p-=u=-u):g<0&&(d=N,m-=g=-g);break;case N:if(l){if(D.x<=0&&(p<=w||x<=v)){M=!1;break}e(k),u-=D.x,p+=D.x,g=u/l}else e(O),e(k),!(D.x<=0)||w<p?(u-=D.x,p+=D.x):0<=D.y&&x<=v&&(M=!1),(!(0<=D.y)||v<x)&&(g+=D.y);u<0&&g<0?(d=E,m-=g=-g,p-=u=-u):u<0?(d=H,p-=u=-u):g<0&&(d=W,m-=g=-g);break;case H:if(l){if(0<=D.x&&(y<=f||x<=v)){M=!1;break}e(B),g=(u+=D.x)/l}else e(O),e(B),!(0<=D.x)||f<y?u+=D.x:0<=D.y&&x<=v&&(M=!1),(!(0<=D.y)||v<x)&&(g+=D.y);u<0&&g<0?(d=W,m-=g=-g,p-=u=-u):u<0?(d=N,p-=u=-u):g<0&&(d=E,m-=g=-g);break;case U:this.move(D.x,D.y),M=!1;break;case q:this.zoom((a=S({},i=c),o=0,z(i,function(n,t){delete a[t],z(a,function(t){var e=Math.abs(n.startX-t.startX),i=Math.abs(n.startY-t.startY),a=Math.abs(n.endX-t.endX),t=Math.abs(n.endY-t.endY),e=Math.sqrt(e*e+i*i),i=(Math.sqrt(a*a+t*t)-e)/e;Math.abs(i)>Math.abs(o)&&(o=i)})}),o),t),M=!1;break;case I:D.x&&D.y?(i=Et(this.cropper),p=C.startX-i.left,m=C.startY-i.top,u=s.minWidth,g=s.minHeight,0<D.x?d=0<D.y?H:E:D.x<0&&(p-=u,d=0<D.y?N:W),D.y<0&&(m-=g),this.cropped||(X(this.cropBox,L),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))):M=!1}M&&(s.width=u,s.height=g,s.left=p,s.top=m,this.action=d,this.renderCropBox()),z(c,function(t){t.startX=t.endX,t.startY=t.endY})}},At={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&v(this.dragBox,n),X(this.cropBox,L),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=g({},this.initialImageData),this.canvasData=g({},this.initialCanvasData),this.cropBoxData=g({},this.initialCropBoxData),this.renderCanvas(),this.cropped)&&this.renderCropBox(),this},clear:function(){return this.cropped&&!this.disabled&&(g(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),X(this.dragBox,n),v(this.cropBox,L)),this},replace:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,z(this.previews,function(t){t.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,X(this.cropper,Q)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,v(this.cropper,Q)),this},destroy:function(){var t=this.element;return t[c]&&(t[c]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate()),this},move:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,a=i.left,i=i.top;return this.moveTo(ft(t)?t:a+Number(t),ft(e)?e:i+Number(e))},moveTo:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,a=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(p(t)&&(i.left=t,a=!0),p(e)&&(i.top=e,a=!0),a)&&this.renderCanvas(!0),this},zoom:function(t,e){var i=this.canvasData;return t=Number(t),this.zoomTo(i.width*(t=t<0?1/(1-t):1+t)/i.naturalWidth,null,e)},zoomTo:function(t,e,i){var a,n,o,h=this.options,r=this.canvasData,s=r.width,c=r.height,d=r.naturalWidth,l=r.naturalHeight;if(0<=(t=Number(t))&&this.ready&&!this.disabled&&h.zoomable){h=d*t,l=l*t;if(!1===y(this.element,rt,{ratio:t,oldRatio:s/d,originalEvent:i}))return this;i?(t=this.pointers,d=Et(this.cropper),t=t&&Object.keys(t).length?(o=n=a=0,z(t,function(t){var e=t.startX,t=t.startY;a+=e,n+=t,o+=1}),{pageX:a/=o,pageY:n/=o}):{pageX:i.pageX,pageY:i.pageY},r.left-=(h-s)*((t.pageX-d.left-r.left)/s),r.top-=(l-c)*((t.pageY-d.top-r.top)/c)):u(e)&&p(e.x)&&p(e.y)?(r.left-=(h-s)*((e.x-r.left)/s),r.top-=(l-c)*((e.y-r.top)/c)):(r.left-=(h-s)/2,r.top-=(l-c)/2),r.width=h,r.height=l,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return p(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var e=this.imageData.scaleY;return this.scale(t,p(e)?e:1)},scaleY:function(t){var e=this.imageData.scaleX;return this.scale(p(e)?e:1,t)},scale:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t,i=this.imageData,a=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(p(t)&&(i.scaleX=t,a=!0),p(e)&&(i.scaleY=e,a=!0),a)&&this.renderCanvas(!0,!0),this},getData:function(){var i,a,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=this.options,n=this.imageData,o=this.canvasData,h=this.cropBoxData;return this.ready&&this.cropped?(i={x:h.left-o.left,y:h.top-o.top,width:h.width,height:h.height},a=n.width/n.naturalWidth,z(i,function(t,e){i[e]=t/a}),t&&(o=Math.round(i.y+i.height),h=Math.round(i.x+i.width),i.x=Math.round(i.x),i.y=Math.round(i.y),i.width=h-i.x,i.height=o-i.y)):i={x:0,y:0,width:0,height:0},e.rotatable&&(i.rotate=n.rotate||0),e.scalable&&(i.scaleX=n.scaleX||1,i.scaleY=n.scaleY||1),i},setData:function(t){var e,i=this.options,a=this.imageData,n=this.canvasData,o={};return this.ready&&!this.disabled&&u(t)&&(e=!1,i.rotatable&&p(t.rotate)&&t.rotate!==a.rotate&&(a.rotate=t.rotate,e=!0),i.scalable&&(p(t.scaleX)&&t.scaleX!==a.scaleX&&(a.scaleX=t.scaleX,e=!0),p(t.scaleY))&&t.scaleY!==a.scaleY&&(a.scaleY=t.scaleY,e=!0),e&&this.renderCanvas(!0,!0),i=a.width/a.naturalWidth,p(t.x)&&(o.left=t.x*i+n.left),p(t.y)&&(o.top=t.y*i+n.top),p(t.width)&&(o.width=t.width*i),p(t.height)&&(o.height=t.height*i),this.setCropBoxData(o)),this},getContainerData:function(){return this.ready?g({},this.containerData):{}},getImageData:function(){return this.sized?g({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,i={};return this.ready&&z(["left","top","width","height","naturalWidth","naturalHeight"],function(t){i[t]=e[t]}),i},setCanvasData:function(t){var e=this.canvasData,i=e.aspectRatio;return this.ready&&!this.disabled&&u(t)&&(p(t.left)&&(e.left=t.left),p(t.top)&&(e.top=t.top),p(t.width)?(e.width=t.width,e.height=t.width/i):p(t.height)&&(e.height=t.height,e.width=t.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var t,e=this.cropBoxData;return(t=this.ready&&this.cropped?{left:e.left,top:e.top,width:e.width,height:e.height}:t)||{}},setCropBoxData:function(t){var e,i,a=this.cropBoxData,n=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&u(t)&&(p(t.left)&&(a.left=t.left),p(t.top)&&(a.top=t.top),p(t.width)&&t.width!==a.width&&(e=!0,a.width=t.width),p(t.height)&&t.height!==a.height&&(i=!0,a.height=t.height),n&&(e?a.height=a.width/n:i&&(a.width=a.height*n)),this.renderCropBox()),this},getCroppedCanvas:function(){var t,e,i,a,n,o,h,r,s,c,d,l,p,m,u,g,f,v,w,b,y,x,M,C,D,B,k,O=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.ready&&window.HTMLCanvasElement?(B=this.canvasData,u=this.image,l=this.imageData,a=B,v=O,g=l.aspectRatio,e=l.naturalWidth,n=l.naturalHeight,c=void 0===(c=l.rotate)?0:c,d=void 0===(d=l.scaleX)?1:d,l=void 0===(l=l.scaleY)?1:l,i=a.aspectRatio,r=a.naturalWidth,a=a.naturalHeight,h=void 0===(h=v.fillColor)?"transparent":h,p=void 0===(p=v.imageSmoothingEnabled)||p,m=void 0===(m=v.imageSmoothingQuality)?"low":m,o=void 0===(o=v.maxWidth)?1/0:o,k=void 0===(k=v.maxHeight)?1/0:k,t=void 0===(t=v.minWidth)?0:t,v=void 0===(v=v.minHeight)?0:v,w=document.createElement("canvas"),f=w.getContext("2d"),s=R({aspectRatio:i,width:o,height:k}),i=R({aspectRatio:i,width:t,height:v},"cover"),r=Math.min(s.width,Math.max(i.width,r)),s=Math.min(s.height,Math.max(i.height,a)),i=R({aspectRatio:g,width:o,height:k}),a=R({aspectRatio:g,width:t,height:v},"cover"),o=Math.min(i.width,Math.max(a.width,e)),k=Math.min(i.height,Math.max(a.height,n)),g=[-o/2,-k/2,o,k],w.width=Y(r),w.height=Y(s),f.fillStyle=h,f.fillRect(0,0,r,s),f.save(),f.translate(r/2,s/2),f.rotate(c*Math.PI/180),f.scale(d,l),f.imageSmoothingEnabled=p,f.imageSmoothingQuality=m,f.drawImage.apply(f,[u].concat(j(g.map(function(t){return Math.floor(Y(t))})))),f.restore(),t=w,this.cropped?(e=(v=this.getData()).x,i=v.y,a=v.width,n=v.height,1!=(o=t.width/Math.floor(B.naturalWidth))&&(e*=o,i*=o,a*=o,n*=o),h=R({aspectRatio:k=a/n,width:O.maxWidth||1/0,height:O.maxHeight||1/0}),r=R({aspectRatio:k,width:O.minWidth||0,height:O.minHeight||0},"cover"),c=(s=R({aspectRatio:k,width:O.width||(1!=o?t.width:a),height:O.height||(1!=o?t.height:n)})).width,d=s.height,c=Math.min(h.width,Math.max(r.width,c)),d=Math.min(h.height,Math.max(r.height,d)),p=(l=document.createElement("canvas")).getContext("2d"),l.width=Y(c),l.height=Y(d),p.fillStyle=O.fillColor||"transparent",p.fillRect(0,0,c,d),m=O.imageSmoothingEnabled,u=O.imageSmoothingQuality,p.imageSmoothingEnabled=void 0===m||m,u&&(p.imageSmoothingQuality=u),g=t.width,f=t.height,w=i,(v=e)<=-a||g<v?C=x=b=v=0:v<=0?(x=-v,v=0,C=b=Math.min(g,a+v)):v<=g&&(x=0,C=b=Math.min(a,g-v)),b<=0||w<=-n||f<w?D=M=y=w=0:w<=0?(M=-w,w=0,D=y=Math.min(f,n+w)):w<=f&&(M=0,D=y=Math.min(n,f-w)),B=[v,w,b,y],0<C&&0<D&&B.push(x*(k=c/a),M*k,C*k,D*k),p.drawImage.apply(p,[t].concat(j(B.map(function(t){return Math.floor(Y(t))})))),l):t):null},setAspectRatio:function(t){var e=this.options;return this.disabled||ft(t)||(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped)&&this.renderCropBox()),this},setDragMode:function(t){var e,i,a=this.options,n=this.dragBox,o=this.face;return this.ready&&!this.disabled&&(i=a.movable&&t===F,a.dragMode=t=(e=t===V)||i?t:J,w(n,d,t),r(n,$,e),r(n,G,i),a.cropBoxMovable||(w(o,d,t),r(o,$,e),r(o,G,i))),this}},jt=h.Cropper,Pt=function(){function n(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=this,a=n;if(!(i instanceof a))throw new TypeError("Cannot call a class as a function");if(!t||!pt.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=g({},mt,u(e)&&e),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}var t,e,i;return t=n,i=[{key:"noConflict",value:function(){return window.Cropper=jt,n}},{key:"setDefaults",value:function(t){g(mt,u(t)&&t)}}],(e=[{key:"init",value:function(){var t,e=this.element,i=e.tagName.toLowerCase();if(!e[c]){if(e[c]=this,"img"===i){if(this.isImg=!0,t=e.getAttribute("src")||"",!(this.originalUrl=t))return;t=e.src}else"canvas"===i&&window.HTMLCanvasElement&&(t=e.toDataURL());this.load(t)}}},{key:"load",value:function(t){var e,i,a,n,o,h,r=this;t&&(this.url=t,this.imageData={},e=this.element,(i=this.options).rotatable||i.scalable||(i.checkOrientation=!1),i.checkOrientation&&window.ArrayBuffer?dt.test(t)?lt.test(t)?this.read((h=(h=t).replace(Yt,""),a=atob(h),h=new ArrayBuffer(a.length),z(n=new Uint8Array(h),function(t,e){n[e]=a.charCodeAt(e)}),h)):this.clone():(o=new XMLHttpRequest,h=this.clone.bind(this),this.reloading=!0,(this.xhr=o).onabort=h,o.onerror=h,o.ontimeout=h,o.onprogress=function(){o.getResponseHeader("content-type")!==st&&o.abort()},o.onload=function(){r.read(o.response)},o.onloadend=function(){r.reloading=!1,r.xhr=null},i.checkCrossOrigin&&Nt(t)&&e.crossOrigin&&(t=Lt(t)),o.open("GET",t,!0),o.responseType="arraybuffer",o.withCredentials="use-credentials"===e.crossOrigin,o.send()):this.clone())}},{key:"read",value:function(t){var e=this.options,i=this.imageData,a=Xt(t),n=0,o=1,h=1;1<a&&(this.url=function(t,e){for(var i=[],a=new Uint8Array(t);0<a.length;)i.push(zt.apply(null,bt(a.subarray(0,8192)))),a=a.subarray(8192);return"data:".concat(e,";base64,").concat(btoa(i.join("")))}(t,st),n=(t=function(t){var e=0,i=1,a=1;switch(t){case 2:i=-1;break;case 3:e=-180;break;case 4:a=-1;break;case 5:e=90,a=-1;break;case 6:e=90;break;case 7:e=90,i=-1;break;case 8:e=-90}return{rotate:e,scaleX:i,scaleY:a}}(a)).rotate,o=t.scaleX,h=t.scaleY),e.rotatable&&(i.rotate=n),e.scalable&&(i.scaleX=o,i.scaleY=h),this.clone()}},{key:"clone",value:function(){var t=this.element,e=this.url,i=t.crossOrigin,a=e,n=(this.options.checkCrossOrigin&&Nt(e)&&(i=i||"anonymous",a=Lt(e)),this.crossOrigin=i,this.crossOriginUrl=a,document.createElement("img"));i&&(n.crossOrigin=i),n.src=a||e,n.alt=t.alt||"The image to crop",(this.image=n).onload=this.start.bind(this),n.onerror=this.stop.bind(this),v(n,K),t.parentNode.insertBefore(n,t.nextSibling)}},{key:"start",value:function(){function t(t,e){g(a.imageData,{naturalWidth:t,naturalHeight:e,aspectRatio:t/e}),a.initialImageData=g({},a.imageData),a.sizing=!1,a.sized=!0,a.build()}var e,i,a=this,n=this.image,o=(n.onload=null,n.onerror=null,this.sizing=!0,h.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(h.navigator.userAgent));n.naturalWidth&&!o?t(n.naturalWidth,n.naturalHeight):(e=document.createElement("img"),i=document.body||document.documentElement,(this.sizingImage=e).onload=function(){t(e.width,e.height),o||i.removeChild(e)},e.src=n.src,o||(e.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",i.appendChild(e)))}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){var t,e,i,a,n,o,h,r,s;this.sized&&!this.ready&&(t=this.element,e=this.options,i=this.image,a=t.parentNode,(n=document.createElement("div")).innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',o=(n=n.querySelector(".".concat(c,"-container"))).querySelector(".".concat(c,"-canvas")),h=n.querySelector(".".concat(c,"-drag-box")),s=(r=n.querySelector(".".concat(c,"-crop-box"))).querySelector(".".concat(c,"-face")),this.container=a,this.cropper=n,this.canvas=o,this.dragBox=h,this.cropBox=r,this.viewBox=n.querySelector(".".concat(c,"-view-box")),this.face=s,o.appendChild(i),v(t,L),a.insertBefore(n,t.nextSibling),X(i,K),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,v(r,L),e.guides||v(r.getElementsByClassName("".concat(c,"-dashed")),L),e.center||v(r.getElementsByClassName("".concat(c,"-center")),L),e.background&&v(n,"".concat(c,"-bg")),e.highlight||v(s,Z),e.cropBoxMovable&&(v(s,G),w(s,d,P)),e.cropBoxResizable||(v(r.getElementsByClassName("".concat(c,"-line")),L),v(r.getElementsByClassName("".concat(c,"-point")),L)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),l(e.ready)&&b(t,"ready",e.ready,{once:!0}),y(t,"ready"))}},{key:"unbuild",value:function(){var t;this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),(t=this.cropper.parentNode)&&t.removeChild(this.cropper),X(this.element,L))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&A(t.prototype,e),i&&A(t,i),Object.defineProperty(t,"prototype",{writable:!1}),n}();return g(Pt.prototype,t,i,e,Rt,St,At),Pt});undefined`?Ss.exports=t():typeof define=="function"&&define.amd?define(t):(n=typeof globalThis<"u"?globalThis:n||self).Cropper=t()})(globalThis,function(){function n(u,h){var p,b=Object.keys(u);return Object.getOwnPropertySymbols&&(p=Object.getOwnPropertySymbols(u),h&&(p=p.filter(function(y){return Object.getOwnPropertyDescriptor(u,y).enumerable})),b.push.apply(b,p)),b}function t(u){for(var h=1;h<arguments.length;h++){var p=arguments[h]!=null?arguments[h]:{};h%2?n(Object(p),!0).forEach(function(b){var y,C;y=u,C=p[b=b],b in y?Object.defineProperty(y,b,{value:C,enumerable:!0,configurable:!0,writable:!0}):y[b]=C}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(p)):n(Object(p)).forEach(function(b){Object.defineProperty(u,b,Object.getOwnPropertyDescriptor(p,b))})}return u}function e(u){return(e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(u)}function i(u,h){for(var p=0;p<h.length;p++){var b=h[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(u,b.key,b)}}function r(u){return function(h){if(Array.isArray(h))return o(h)}(u)||function(h){if(typeof Symbol<"u"&&h[Symbol.iterator]!=null||h["@@iterator"]!=null)return Array.from(h)}(u)||function(h,p){var b;if(h)return typeof h=="string"?o(h,p):(b=(b=Object.prototype.toString.call(h).slice(8,-1))==="Object"&&h.constructor?h.constructor.name:b)==="Map"||b==="Set"?Array.from(h):b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?o(h,p):void 0}(u)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function o(u,h){(h==null||h>u.length)&&(h=u.length);for(var p=0,b=new Array(h);p<h;p++)b[p]=u[p];return b}var rt=typeof window<"u"&&window.document!==void 0,a=rt?window:{},et=!(!rt||!a.document.documentElement)&&"ontouchstart"in a.document.documentElement,X=rt&&"PointerEvent"in a,s="cropper",l="all",c="crop",d="move",g="zoom",m="e",x="w",D="s",E="n",M="ne",T="nw",R="se",_="sw",I="".concat(s,"-crop"),L="".concat(s,"-disabled"),S="".concat(s,"-hidden"),B="".concat(s,"-hide"),Q="".concat(s,"-invisible"),Z="".concat(s,"-modal"),pt="".concat(s,"-move"),H="".concat(s,"Action"),z="".concat(s,"Preview"),tt="crop",dt="move",St="none",wt="crop",Ce="cropend",re="cropmove",Re="cropstart",sn="dblclick",Ae=X?"pointerdown":et?"touchstart":"mousedown",ln=X?"pointermove":et?"touchmove":"mousemove",Gn=X?"pointerup pointercancel":et?"touchend touchcancel":"mouseup",Pi="zoom",cn="image/jpeg",Ii=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Kn=/^data:/,$e=/^data:image\/jpeg;base64,/,Jn=/^img|canvas$/i,Or={viewMode:0,dragMode:tt,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Lr=Number.isNaN||a.isNaN;function ct(u){return typeof u=="number"&&!Lr(u)}function Rr(u){return 0<u&&u<1/0}function Ni(u){return u===void 0}function Fe(u){return e(u)==="object"&&u!==null}var jo=Object.prototype.hasOwnProperty;function Ve(u){if(!Fe(u))return!1;try{var h=u.constructor,p=h.prototype;return h&&p&&jo.call(p,"isPrototypeOf")}catch{return!1}}function Ut(u){return typeof u=="function"}var Qn=Array.prototype.slice;function _r(u){return Array.from?Array.from(u):Qn.call(u)}function kt(u,h){return u&&Ut(h)&&(Array.isArray(u)||ct(u.length)?_r(u).forEach(function(p,b){h.call(u,p,b,u)}):Fe(u)&&Object.keys(u).forEach(function(p){h.call(u,u[p],p,u)})),u}var xt=Object.assign||function(u){for(var h=arguments.length,p=new Array(1<h?h-1:0),b=1;b<h;b++)p[b-1]=arguments[b];return Fe(u)&&0<p.length&&p.forEach(function(y){Fe(y)&&Object.keys(y).forEach(function(C){u[C]=y[C]})}),u},Bi=/\.\d*(?:0|9){12}\d*$/;function Ge(u,h){return h=1<arguments.length&&h!==void 0?h:1e11,Bi.test(u)?Math.round(u*h)/h:u}var Zn=/^width|height|left|top|marginLeft|marginTop$/;function We(u,h){var p=u.style;kt(h,function(b,y){Zn.test(y)&&ct(b)&&(b="".concat(b,"px")),p[y]=b})}function Lt(u,h){var p;h&&(ct(u.length)?kt(u,function(b){Lt(b,h)}):u.classList?u.classList.add(h):(p=u.className.trim())?p.indexOf(h)<0&&(u.className="".concat(p," ").concat(h)):u.className=h)}function Ee(u,h){h&&(ct(u.length)?kt(u,function(p){Ee(p,h)}):u.classList?u.classList.remove(h):0<=u.className.indexOf(h)&&(u.className=u.className.replace(h,"")))}function Ke(u,h,p){h&&(ct(u.length)?kt(u,function(b){Ke(b,h,p)}):(p?Lt:Ee)(u,h))}var Ho=/([a-z\d])([A-Z])/g;function Fi(u){return u.replace(Ho,"$1-$2").toLowerCase()}function ti(u,h){return Fe(u[h])?u[h]:u.dataset?u.dataset[h]:u.getAttribute("data-".concat(Fi(h)))}function Dn(u,h,p){Fe(p)?u[h]=p:u.dataset?u.dataset[h]=p:u.setAttribute("data-".concat(Fi(h)),p)}var Wi,Ct,ei=/\s\s*/,ni=(Ct=!1,rt&&(Wi=!1,X=function(){},et=Object.defineProperty({},"once",{get:function(){return Ct=!0,Wi},set:function(u){Wi=u}}),a.addEventListener("test",X,et),a.removeEventListener("test",X,et)),Ct);function de(u,h,p,b){var y=3<arguments.length&&b!==void 0?b:{},C=p;h.trim().split(ei).forEach(function(w){var k;ni||(k=u.listeners)&&k[w]&&k[w][p]&&(C=k[w][p],delete k[w][p],Object.keys(k[w]).length===0&&delete k[w],Object.keys(k).length===0)&&delete u.listeners,u.removeEventListener(w,C,y)})}function qt(u,h,p,b){var y=3<arguments.length&&b!==void 0?b:{},C=p;h.trim().split(ei).forEach(function(w){var k,P;y.once&&!ni&&(k=u.listeners,C=function(){delete P[w][p],u.removeEventListener(w,C,y);for(var q=arguments.length,$=new Array(q),F=0;F<q;F++)$[F]=arguments[F];p.apply(u,$)},(P=k===void 0?{}:k)[w]||(P[w]={}),P[w][p]&&u.removeEventListener(w,P[w][p],y),P[w][p]=C,u.listeners=P),u.addEventListener(w,C,y)})}function je(u,h,p){var b;return Ut(Event)&&Ut(CustomEvent)?b=new CustomEvent(h,{detail:p,bubbles:!0,cancelable:!0}):(b=document.createEvent("CustomEvent")).initCustomEvent(h,!0,!0,p),u.dispatchEvent(b)}function Se(u){return u=u.getBoundingClientRect(),{left:u.left+(window.pageXOffset-document.documentElement.clientLeft),top:u.top+(window.pageYOffset-document.documentElement.clientTop)}}var ji=a.location,zo=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function f(u){return u=u.match(zo),u!==null&&(u[1]!==ji.protocol||u[2]!==ji.hostname||u[3]!==ji.port)}function v(u){var h="timestamp=".concat(new Date().getTime());return u+(u.indexOf("?")===-1?"?":"&")+h}function A(y){var h=y.rotate,p=y.scaleX,b=y.scaleY,w=y.translateX,y=y.translateY,C=[],w=(ct(w)&&w!==0&&C.push("translateX(".concat(w,"px)")),ct(y)&&y!==0&&C.push("translateY(".concat(y,"px)")),ct(h)&&h!==0&&C.push("rotate(".concat(h,"deg)")),ct(p)&&p!==1&&C.push("scaleX(".concat(p,")")),ct(b)&&b!==1&&C.push("scaleY(".concat(b,")")),C.length?C.join(" "):"none");return{WebkitTransform:w,msTransform:w,transform:w}}function O(b,h){var p=b.pageX,b=b.pageY,y={endX:p,endY:b};return h?y:t({startX:p,startY:b},y)}function N(C,w){var p,b=C.aspectRatio,y=C.height,C=C.width,w=1<arguments.length&&w!==void 0?w:"contain",k=Rr(C),P=Rr(y);return k&&P?(p=y*b,w==="contain"&&C<p||w==="cover"&&p<C?y=C/b:C=y*b):k?y=C/b:P&&(C=y*b),{width:C,height:y}}var Y=String.fromCharCode,ot=/^data:.*,/;function K(u){var h,p,b,y,C,w,k,P=new DataView(u);try{if(P.getUint8(0)===255&&P.getUint8(1)===216)for(var q=P.byteLength,$=2;$+1<q;){if(P.getUint8($)===255&&P.getUint8($+1)===225){p=$;break}$+=1}if(b=p&&(y=p+10,function(j,V,vt){var at="";vt+=V;for(var ft=V;ft<vt;ft+=1)at+=Y(j.getUint8(ft));return at}(P,p+4,4)==="Exif")&&((k=(C=P.getUint16(y))===18761)||C===19789)&&P.getUint16(y+2,k)===42&&8<=(w=P.getUint32(y+4,k))?y+w:b){for(var F,G=P.getUint16(b,k),J=0;J<G;J+=1)if(F=b+12*J+2,P.getUint16(F,k)===274){F+=8,h=P.getUint16(F,k),P.setUint16(F,1,k);break}}}catch{h=1}return h}var rt={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var u=this.element,b=this.options,h=this.container,p=this.cropper,y=Number(b.minContainerWidth),b=Number(b.minContainerHeight),y=(Lt(p,S),Ee(u,S),{width:Math.max(h.offsetWidth,0<=y?y:200),height:Math.max(h.offsetHeight,0<=b?b:100)});We(p,{width:(this.containerData=y).width,height:y.height}),Lt(u,S),Ee(p,S)},initCanvas:function(){var u=this.containerData,w=this.imageData,h=this.options.viewMode,b=Math.abs(w.rotate)%180==90,p=b?w.naturalHeight:w.naturalWidth,b=b?w.naturalWidth:w.naturalHeight,w=p/b,y=u.width,C=u.height,w=(u.height*w>u.width?h===3?y=u.height*w:C=u.width/w:h===3?C=u.width/w:y=u.height*w,{aspectRatio:w,naturalWidth:p,naturalHeight:b,width:y,height:C});this.canvasData=w,this.limited=h===1||h===2,this.limitCanvas(!0,!0),w.width=Math.min(Math.max(w.width,w.minWidth),w.maxWidth),w.height=Math.min(Math.max(w.height,w.minHeight),w.maxHeight),w.left=(u.width-w.width)/2,w.top=(u.height-w.height)/2,w.oldLeft=w.left,w.oldTop=w.top,this.initialCanvasData=xt({},w)},limitCanvas:function(u,h){var p=this.options,b=this.containerData,y=this.canvasData,C=this.cropBoxData,w=p.viewMode,k=y.aspectRatio,P=this.cropped&&C;u&&(u=Number(p.minCanvasWidth)||0,p=Number(p.minCanvasHeight)||0,1<w?(u=Math.max(u,b.width),p=Math.max(p,b.height),w===3&&(u<p*k?u=p*k:p=u/k)):0<w&&(u?u=Math.max(u,P?C.width:0):p?p=Math.max(p,P?C.height:0):P&&((u=C.width)<(p=C.height)*k?u=p*k:p=u/k)),u=(k=N({aspectRatio:k,width:u,height:p})).width,p=k.height,y.minWidth=u,y.minHeight=p,y.maxWidth=1/0,y.maxHeight=1/0),h&&((P?0:1)<w?(k=b.width-y.width,u=b.height-y.height,y.minLeft=Math.min(0,k),y.minTop=Math.min(0,u),y.maxLeft=Math.max(0,k),y.maxTop=Math.max(0,u),P&&this.limited&&(y.minLeft=Math.min(C.left,C.left+(C.width-y.width)),y.minTop=Math.min(C.top,C.top+(C.height-y.height)),y.maxLeft=C.left,y.maxTop=C.top,w===2)&&(y.width>=b.width&&(y.minLeft=Math.min(0,k),y.maxLeft=Math.max(0,k)),y.height>=b.height)&&(y.minTop=Math.min(0,u),y.maxTop=Math.max(0,u))):(y.minLeft=-y.width,y.minTop=-y.height,y.maxLeft=b.width,y.maxTop=b.height))},renderCanvas:function(u,h){var p,b,y,C,w=this.canvasData,k=this.imageData;h&&(h={width:k.naturalWidth*Math.abs(k.scaleX||1),height:k.naturalHeight*Math.abs(k.scaleY||1),degree:k.rotate||0},k=h.width,C=h.height,h=h.degree,p=(h=Math.abs(h)%180)==90?{width:C,height:k}:(b=h%90*Math.PI/180,p=Math.sin(b),y=k*(b=Math.cos(b))+C*p,k=k*p+C*b,90<h?{width:k,height:y}:{width:y,height:k}),b=w.width*((C=p.width)/w.naturalWidth),y=w.height*((h=p.height)/w.naturalHeight),w.left-=(b-w.width)/2,w.top-=(y-w.height)/2,w.width=b,w.height=y,w.aspectRatio=C/h,w.naturalWidth=C,w.naturalHeight=h,this.limitCanvas(!0,!1)),(w.width>w.maxWidth||w.width<w.minWidth)&&(w.left=w.oldLeft),(w.height>w.maxHeight||w.height<w.minHeight)&&(w.top=w.oldTop),w.width=Math.min(Math.max(w.width,w.minWidth),w.maxWidth),w.height=Math.min(Math.max(w.height,w.minHeight),w.maxHeight),this.limitCanvas(!1,!0),w.left=Math.min(Math.max(w.left,w.minLeft),w.maxLeft),w.top=Math.min(Math.max(w.top,w.minTop),w.maxTop),w.oldLeft=w.left,w.oldTop=w.top,We(this.canvas,xt({width:w.width,height:w.height},A({translateX:w.left,translateY:w.top}))),this.renderImage(u),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(u){var h=this.canvasData,p=this.imageData,b=p.naturalWidth*(h.width/h.naturalWidth),y=p.naturalHeight*(h.height/h.naturalHeight);xt(p,{width:b,height:y,left:(h.width-b)/2,top:(h.height-y)/2}),We(this.image,xt({width:p.width,height:p.height},A(xt({translateX:p.left,translateY:p.top},p)))),u&&this.output()},initCropBox:function(){var p=this.options,u=this.canvasData,h=p.aspectRatio||p.initialAspectRatio,p=Number(p.autoCropArea)||.8,b={width:u.width,height:u.height};h&&(u.height*h>u.width?b.height=b.width/h:b.width=b.height*h),this.cropBoxData=b,this.limitCropBox(!0,!0),b.width=Math.min(Math.max(b.width,b.minWidth),b.maxWidth),b.height=Math.min(Math.max(b.height,b.minHeight),b.maxHeight),b.width=Math.max(b.minWidth,b.width*p),b.height=Math.max(b.minHeight,b.height*p),b.left=u.left+(u.width-b.width)/2,b.top=u.top+(u.height-b.height)/2,b.oldLeft=b.left,b.oldTop=b.top,this.initialCropBoxData=xt({},b)},limitCropBox:function(u,h){var p,b,y=this.options,C=this.containerData,w=this.canvasData,k=this.cropBoxData,P=this.limited,q=y.aspectRatio;u&&(u=Number(y.minCropBoxWidth)||0,y=Number(y.minCropBoxHeight)||0,p=P?Math.min(C.width,w.width,w.width+w.left,C.width-w.left):C.width,b=P?Math.min(C.height,w.height,w.height+w.top,C.height-w.top):C.height,u=Math.min(u,C.width),y=Math.min(y,C.height),q&&(u&&y?u<y*q?y=u/q:u=y*q:u?y=u/q:y&&(u=y*q),p<b*q?b=p/q:p=b*q),k.minWidth=Math.min(u,p),k.minHeight=Math.min(y,b),k.maxWidth=p,k.maxHeight=b),h&&(P?(k.minLeft=Math.max(0,w.left),k.minTop=Math.max(0,w.top),k.maxLeft=Math.min(C.width,w.left+w.width)-k.width,k.maxTop=Math.min(C.height,w.top+w.height)-k.height):(k.minLeft=0,k.minTop=0,k.maxLeft=C.width-k.width,k.maxTop=C.height-k.height))},renderCropBox:function(){var u=this.options,h=this.containerData,p=this.cropBoxData;(p.width>p.maxWidth||p.width<p.minWidth)&&(p.left=p.oldLeft),(p.height>p.maxHeight||p.height<p.minHeight)&&(p.top=p.oldTop),p.width=Math.min(Math.max(p.width,p.minWidth),p.maxWidth),p.height=Math.min(Math.max(p.height,p.minHeight),p.maxHeight),this.limitCropBox(!1,!0),p.left=Math.min(Math.max(p.left,p.minLeft),p.maxLeft),p.top=Math.min(Math.max(p.top,p.minTop),p.maxTop),p.oldLeft=p.left,p.oldTop=p.top,u.movable&&u.cropBoxMovable&&Dn(this.face,H,p.width>=h.width&&p.height>=h.height?d:l),We(this.cropBox,xt({width:p.width,height:p.height},A({translateX:p.left,translateY:p.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),je(this.element,wt,this.getData())}},X={initPreview:function(){var u=this.element,h=this.crossOrigin,p=this.options.preview,b=h?this.crossOriginUrl:this.url,y=u.alt||"The image to preview",C=document.createElement("img");h&&(C.crossOrigin=h),C.src=b,C.alt=y,this.viewBox.appendChild(C),this.viewBoxImage=C,p&&(typeof(C=p)=="string"?C=u.ownerDocument.querySelectorAll(p):p.querySelector&&(C=[p]),kt(this.previews=C,function(w){var k=document.createElement("img");Dn(w,z,{width:w.offsetWidth,height:w.offsetHeight,html:w.innerHTML}),h&&(k.crossOrigin=h),k.src=b,k.alt=y,k.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',w.innerHTML="",w.appendChild(k)}))},resetPreview:function(){kt(this.previews,function(p){var h=ti(p,z),h=(We(p,{width:h.width,height:h.height}),p.innerHTML=h.html,p),p=z;if(Fe(h[p]))try{delete h[p]}catch{h[p]=void 0}else if(h.dataset)try{delete h.dataset[p]}catch{h.dataset[p]=void 0}else h.removeAttribute("data-".concat(Fi(p)))})},preview:function(){var u=this.imageData,h=this.canvasData,p=this.cropBoxData,b=p.width,y=p.height,C=u.width,w=u.height,k=p.left-h.left-u.left,P=p.top-h.top-u.top;this.cropped&&!this.disabled&&(We(this.viewBoxImage,xt({width:C,height:w},A(xt({translateX:-k,translateY:-P},u)))),kt(this.previews,function(q){var F=ti(q,z),$=F.width,F=F.height,G=$,J=F,j=1;b&&(J=y*(j=$/b)),y&&F<J&&(G=b*(j=F/y),J=F),We(q,{width:G,height:J}),We(q.getElementsByTagName("img")[0],xt({width:C*j,height:w*j},A(xt({translateX:-k*j,translateY:-P*j},u))))}))}},et={bind:function(){var u=this.element,h=this.options,p=this.cropper;Ut(h.cropstart)&&qt(u,Re,h.cropstart),Ut(h.cropmove)&&qt(u,re,h.cropmove),Ut(h.cropend)&&qt(u,Ce,h.cropend),Ut(h.crop)&&qt(u,wt,h.crop),Ut(h.zoom)&&qt(u,Pi,h.zoom),qt(p,Ae,this.onCropStart=this.cropStart.bind(this)),h.zoomable&&h.zoomOnWheel&&qt(p,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),h.toggleDragModeOnDblclick&&qt(p,sn,this.onDblclick=this.dblclick.bind(this)),qt(u.ownerDocument,ln,this.onCropMove=this.cropMove.bind(this)),qt(u.ownerDocument,Gn,this.onCropEnd=this.cropEnd.bind(this)),h.responsive&&qt(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var u=this.element,h=this.options,p=this.cropper;Ut(h.cropstart)&&de(u,Re,h.cropstart),Ut(h.cropmove)&&de(u,re,h.cropmove),Ut(h.cropend)&&de(u,Ce,h.cropend),Ut(h.crop)&&de(u,wt,h.crop),Ut(h.zoom)&&de(u,Pi,h.zoom),de(p,Ae,this.onCropStart),h.zoomable&&h.zoomOnWheel&&de(p,"wheel",this.onWheel,{passive:!1,capture:!0}),h.toggleDragModeOnDblclick&&de(p,sn,this.onDblclick),de(u.ownerDocument,ln,this.onCropMove),de(u.ownerDocument,Gn,this.onCropEnd),h.responsive&&de(window,"resize",this.onResize)}},bt={resize:function(){var u,h,p,b,y,C,w;this.disabled||(u=this.options,b=this.container,h=this.containerData,p=b.offsetWidth/h.width,b=b.offsetHeight/h.height,(y=Math.abs(p-1)>Math.abs(b-1)?p:b)!=1&&(u.restore&&(C=this.getCanvasData(),w=this.getCropBoxData()),this.render(),u.restore)&&(this.setCanvasData(kt(C,function(k,P){C[P]=k*y})),this.setCropBoxData(kt(w,function(k,P){w[P]=k*y}))))},dblclick:function(){var u,h;this.disabled||this.options.dragMode===St||this.setDragMode((u=this.dragBox,h=I,(u.classList?u.classList.contains(h):-1<u.className.indexOf(h))?dt:tt))},wheel:function(u){var h=this,p=Number(this.options.wheelZoomRatio)||.1,b=1;this.disabled||(u.preventDefault(),this.wheeling)||(this.wheeling=!0,setTimeout(function(){h.wheeling=!1},50),u.deltaY?b=0<u.deltaY?1:-1:u.wheelDelta?b=-u.wheelDelta/120:u.detail&&(b=0<u.detail?1:-1),this.zoom(-b*p,u))},cropStart:function(u){var h,p=u.buttons,b=u.button;this.disabled||(u.type==="mousedown"||u.type==="pointerdown"&&u.pointerType==="mouse")&&(ct(p)&&p!==1||ct(b)&&b!==0||u.ctrlKey)||(p=this.options,h=this.pointers,u.changedTouches?kt(u.changedTouches,function(y){h[y.identifier]=O(y)}):h[u.pointerId||0]=O(u),b=1<Object.keys(h).length&&p.zoomable&&p.zoomOnTouch?g:ti(u.target,H),Ii.test(b)&&je(this.element,Re,{originalEvent:u,action:b})!==!1&&(u.preventDefault(),this.action=b,this.cropping=!1,b===c)&&(this.cropping=!0,Lt(this.dragBox,Z)))},cropMove:function(u){var h,p=this.action;!this.disabled&&p&&(h=this.pointers,u.preventDefault(),je(this.element,re,{originalEvent:u,action:p})!==!1)&&(u.changedTouches?kt(u.changedTouches,function(b){xt(h[b.identifier]||{},O(b,!0))}):xt(h[u.pointerId||0]||{},O(u,!0)),this.change(u))},cropEnd:function(u){var h,p;this.disabled||(h=this.action,p=this.pointers,u.changedTouches?kt(u.changedTouches,function(b){delete p[b.identifier]}):delete p[u.pointerId||0],h&&(u.preventDefault(),Object.keys(p).length||(this.action=""),this.cropping&&(this.cropping=!1,Ke(this.dragBox,Z,this.cropped&&this.options.modal)),je(this.element,Ce,{originalEvent:u,action:h})))}},De={change:function(u){function h(zt){switch(zt){case m:vt+U.x>te&&(U.x=te-vt);break;case x:G+U.x<ft&&(U.x=ft-G);break;case E:J+U.y<jt&&(U.y=jt-J);break;case D:at+U.y>$t&&(U.y=$t-at)}}var p,b,y,C=this.options,w=this.canvasData,k=this.containerData,P=this.cropBoxData,q=this.pointers,$=this.action,F=C.aspectRatio,G=P.left,J=P.top,j=P.width,V=P.height,vt=G+j,at=J+V,ft=0,jt=0,te=k.width,$t=k.height,Rt=!0,Te=(!F&&u.shiftKey&&(F=j&&V?j/V:1),this.limited&&(ft=P.minLeft,jt=P.minTop,te=ft+Math.min(k.width,w.width,w.left+w.width),$t=jt+Math.min(k.height,w.height,w.top+w.height)),q[Object.keys(q)[0]]),U={x:Te.endX-Te.startX,y:Te.endY-Te.startY};switch($){case l:G+=U.x,J+=U.y;break;case m:0<=U.x&&(te<=vt||F&&(J<=jt||$t<=at))?Rt=!1:(h(m),(j+=U.x)<0&&($=x,G-=j=-j),F&&(J+=(P.height-(V=j/F))/2));break;case E:U.y<=0&&(J<=jt||F&&(G<=ft||te<=vt))?Rt=!1:(h(E),V-=U.y,J+=U.y,V<0&&($=D,J-=V=-V),F&&(G+=(P.width-(j=V*F))/2));break;case x:U.x<=0&&(G<=ft||F&&(J<=jt||$t<=at))?Rt=!1:(h(x),j-=U.x,G+=U.x,j<0&&($=m,G-=j=-j),F&&(J+=(P.height-(V=j/F))/2));break;case D:0<=U.y&&($t<=at||F&&(G<=ft||te<=vt))?Rt=!1:(h(D),(V+=U.y)<0&&($=E,J-=V=-V),F&&(G+=(P.width-(j=V*F))/2));break;case M:if(F){if(U.y<=0&&(J<=jt||te<=vt)){Rt=!1;break}h(E),V-=U.y,J+=U.y,j=V*F}else h(E),h(m),!(0<=U.x)||vt<te?j+=U.x:U.y<=0&&J<=jt&&(Rt=!1),(!(U.y<=0)||jt<J)&&(V-=U.y,J+=U.y);j<0&&V<0?($=_,J-=V=-V,G-=j=-j):j<0?($=T,G-=j=-j):V<0&&($=R,J-=V=-V);break;case T:if(F){if(U.y<=0&&(J<=jt||G<=ft)){Rt=!1;break}h(E),V-=U.y,J+=U.y,G+=P.width-(j=V*F)}else h(E),h(x),!(U.x<=0)||ft<G?(j-=U.x,G+=U.x):U.y<=0&&J<=jt&&(Rt=!1),(!(U.y<=0)||jt<J)&&(V-=U.y,J+=U.y);j<0&&V<0?($=R,J-=V=-V,G-=j=-j):j<0?($=M,G-=j=-j):V<0&&($=_,J-=V=-V);break;case _:if(F){if(U.x<=0&&(G<=ft||$t<=at)){Rt=!1;break}h(x),j-=U.x,G+=U.x,V=j/F}else h(D),h(x),!(U.x<=0)||ft<G?(j-=U.x,G+=U.x):0<=U.y&&$t<=at&&(Rt=!1),(!(0<=U.y)||at<$t)&&(V+=U.y);j<0&&V<0?($=M,J-=V=-V,G-=j=-j):j<0?($=R,G-=j=-j):V<0&&($=T,J-=V=-V);break;case R:if(F){if(0<=U.x&&(te<=vt||$t<=at)){Rt=!1;break}h(m),V=(j+=U.x)/F}else h(D),h(m),!(0<=U.x)||vt<te?j+=U.x:0<=U.y&&$t<=at&&(Rt=!1),(!(0<=U.y)||at<$t)&&(V+=U.y);j<0&&V<0?($=T,J-=V=-V,G-=j=-j):j<0?($=_,G-=j=-j):V<0&&($=M,J-=V=-V);break;case d:this.move(U.x,U.y),Rt=!1;break;case g:this.zoom((b=t({},p=q),y=0,kt(p,function(zt,Vt){delete b[Vt],kt(b,function(Mn){var Hi=Math.abs(zt.startX-Mn.startX),zi=Math.abs(zt.startY-Mn.startY),ii=Math.abs(zt.endX-Mn.endX),Mn=Math.abs(zt.endY-Mn.endY),Hi=Math.sqrt(Hi*Hi+zi*zi),zi=(Math.sqrt(ii*ii+Mn*Mn)-Hi)/Hi;Math.abs(zi)>Math.abs(y)&&(y=zi)})}),y),u),Rt=!1;break;case c:U.x&&U.y?(p=Se(this.cropper),G=Te.startX-p.left,J=Te.startY-p.top,j=P.minWidth,V=P.minHeight,0<U.x?$=0<U.y?R:M:U.x<0&&(G-=j,$=0<U.y?_:T),U.y<0&&(J-=V),this.cropped||(Ee(this.cropBox,S),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))):Rt=!1}Rt&&(P.width=j,P.height=V,P.left=G,P.top=J,this.action=$,this.renderCropBox()),kt(q,function(zt){zt.startX=zt.endX,zt.startY=zt.endY})}},Zt={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Lt(this.dragBox,Z),Ee(this.cropBox,S),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=xt({},this.initialImageData),this.canvasData=xt({},this.initialCanvasData),this.cropBoxData=xt({},this.initialCropBoxData),this.renderCanvas(),this.cropped)&&this.renderCropBox(),this},clear:function(){return this.cropped&&!this.disabled&&(xt(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Ee(this.dragBox,Z),Lt(this.cropBox,S)),this},replace:function(u){var h=1<arguments.length&&arguments[1]!==void 0&&arguments[1];return!this.disabled&&u&&(this.isImg&&(this.element.src=u),h?(this.url=u,this.image.src=u,this.ready&&(this.viewBoxImage.src=u,kt(this.previews,function(p){p.getElementsByTagName("img")[0].src=u}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(u))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Ee(this.cropper,L)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Lt(this.cropper,L)),this},destroy:function(){var u=this.element;return u[s]&&(u[s]=void 0,this.isImg&&this.replaced&&(u.src=this.originalUrl),this.uncreate()),this},move:function(u){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:u,b=this.canvasData,p=b.left,b=b.top;return this.moveTo(Ni(u)?u:p+Number(u),Ni(h)?h:b+Number(h))},moveTo:function(u){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:u,p=this.canvasData,b=!1;return u=Number(u),h=Number(h),this.ready&&!this.disabled&&this.options.movable&&(ct(u)&&(p.left=u,b=!0),ct(h)&&(p.top=h,b=!0),b)&&this.renderCanvas(!0),this},zoom:function(u,h){var p=this.canvasData;return u=Number(u),this.zoomTo(p.width*(u=u<0?1/(1-u):1+u)/p.naturalWidth,null,h)},zoomTo:function(u,h,p){var b,y,C,w=this.options,k=this.canvasData,P=k.width,q=k.height,$=k.naturalWidth,F=k.naturalHeight;if(0<=(u=Number(u))&&this.ready&&!this.disabled&&w.zoomable){if(w=$*u,F=F*u,je(this.element,Pi,{ratio:u,oldRatio:P/$,originalEvent:p})===!1)return this;p?(u=this.pointers,$=Se(this.cropper),u=u&&Object.keys(u).length?(C=y=b=0,kt(u,function(j){var J=j.startX,j=j.startY;b+=J,y+=j,C+=1}),{pageX:b/=C,pageY:y/=C}):{pageX:p.pageX,pageY:p.pageY},k.left-=(w-P)*((u.pageX-$.left-k.left)/P),k.top-=(F-q)*((u.pageY-$.top-k.top)/q)):Ve(h)&&ct(h.x)&&ct(h.y)?(k.left-=(w-P)*((h.x-k.left)/P),k.top-=(F-q)*((h.y-k.top)/q)):(k.left-=(w-P)/2,k.top-=(F-q)/2),k.width=w,k.height=F,this.renderCanvas(!0)}return this},rotate:function(u){return this.rotateTo((this.imageData.rotate||0)+Number(u))},rotateTo:function(u){return ct(u=Number(u))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=u%360,this.renderCanvas(!0,!0)),this},scaleX:function(u){var h=this.imageData.scaleY;return this.scale(u,ct(h)?h:1)},scaleY:function(u){var h=this.imageData.scaleX;return this.scale(ct(h)?h:1,u)},scale:function(u){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:u,p=this.imageData,b=!1;return u=Number(u),h=Number(h),this.ready&&!this.disabled&&this.options.scalable&&(ct(u)&&(p.scaleX=u,b=!0),ct(h)&&(p.scaleY=h,b=!0),b)&&this.renderCanvas(!0,!0),this},getData:function(){var u,h,p=0<arguments.length&&arguments[0]!==void 0&&arguments[0],b=this.options,y=this.imageData,C=this.canvasData,w=this.cropBoxData;return this.ready&&this.cropped?(u={x:w.left-C.left,y:w.top-C.top,width:w.width,height:w.height},h=y.width/y.naturalWidth,kt(u,function(k,P){u[P]=k/h}),p&&(C=Math.round(u.y+u.height),w=Math.round(u.x+u.width),u.x=Math.round(u.x),u.y=Math.round(u.y),u.width=w-u.x,u.height=C-u.y)):u={x:0,y:0,width:0,height:0},b.rotatable&&(u.rotate=y.rotate||0),b.scalable&&(u.scaleX=y.scaleX||1,u.scaleY=y.scaleY||1),u},setData:function(u){var h,p=this.options,b=this.imageData,y=this.canvasData,C={};return this.ready&&!this.disabled&&Ve(u)&&(h=!1,p.rotatable&&ct(u.rotate)&&u.rotate!==b.rotate&&(b.rotate=u.rotate,h=!0),p.scalable&&(ct(u.scaleX)&&u.scaleX!==b.scaleX&&(b.scaleX=u.scaleX,h=!0),ct(u.scaleY))&&u.scaleY!==b.scaleY&&(b.scaleY=u.scaleY,h=!0),h&&this.renderCanvas(!0,!0),p=b.width/b.naturalWidth,ct(u.x)&&(C.left=u.x*p+y.left),ct(u.y)&&(C.top=u.y*p+y.top),ct(u.width)&&(C.width=u.width*p),ct(u.height)&&(C.height=u.height*p),this.setCropBoxData(C)),this},getContainerData:function(){return this.ready?xt({},this.containerData):{}},getImageData:function(){return this.sized?xt({},this.imageData):{}},getCanvasData:function(){var u=this.canvasData,h={};return this.ready&&kt(["left","top","width","height","naturalWidth","naturalHeight"],function(p){h[p]=u[p]}),h},setCanvasData:function(u){var h=this.canvasData,p=h.aspectRatio;return this.ready&&!this.disabled&&Ve(u)&&(ct(u.left)&&(h.left=u.left),ct(u.top)&&(h.top=u.top),ct(u.width)?(h.width=u.width,h.height=u.width/p):ct(u.height)&&(h.height=u.height,h.width=u.height*p),this.renderCanvas(!0)),this},getCropBoxData:function(){var u,h=this.cropBoxData;return(u=this.ready&&this.cropped?{left:h.left,top:h.top,width:h.width,height:h.height}:u)||{}},setCropBoxData:function(u){var h,p,b=this.cropBoxData,y=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&Ve(u)&&(ct(u.left)&&(b.left=u.left),ct(u.top)&&(b.top=u.top),ct(u.width)&&u.width!==b.width&&(h=!0,b.width=u.width),ct(u.height)&&u.height!==b.height&&(p=!0,b.height=u.height),y&&(h?b.height=b.width/y:p&&(b.width=b.height*y)),this.renderCropBox()),this},getCroppedCanvas:function(){var u,h,p,b,y,C,w,k,P,q,$,F,G,J,j,V,vt,at,ft,jt,te,$t,Rt,Te,U,zt,Vt,He=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return this.ready&&window.HTMLCanvasElement?(zt=this.canvasData,j=this.image,F=this.imageData,b=zt,at=He,V=F.aspectRatio,h=F.naturalWidth,y=F.naturalHeight,q=(q=F.rotate)===void 0?0:q,$=($=F.scaleX)===void 0?1:$,F=(F=F.scaleY)===void 0?1:F,p=b.aspectRatio,k=b.naturalWidth,b=b.naturalHeight,w=(w=at.fillColor)===void 0?"transparent":w,G=(G=at.imageSmoothingEnabled)===void 0||G,J=(J=at.imageSmoothingQuality)===void 0?"low":J,C=(C=at.maxWidth)===void 0?1/0:C,Vt=(Vt=at.maxHeight)===void 0?1/0:Vt,u=(u=at.minWidth)===void 0?0:u,at=(at=at.minHeight)===void 0?0:at,ft=document.createElement("canvas"),vt=ft.getContext("2d"),P=N({aspectRatio:p,width:C,height:Vt}),p=N({aspectRatio:p,width:u,height:at},"cover"),k=Math.min(P.width,Math.max(p.width,k)),P=Math.min(P.height,Math.max(p.height,b)),p=N({aspectRatio:V,width:C,height:Vt}),b=N({aspectRatio:V,width:u,height:at},"cover"),C=Math.min(p.width,Math.max(b.width,h)),Vt=Math.min(p.height,Math.max(b.height,y)),V=[-C/2,-Vt/2,C,Vt],ft.width=Ge(k),ft.height=Ge(P),vt.fillStyle=w,vt.fillRect(0,0,k,P),vt.save(),vt.translate(k/2,P/2),vt.rotate(q*Math.PI/180),vt.scale($,F),vt.imageSmoothingEnabled=G,vt.imageSmoothingQuality=J,vt.drawImage.apply(vt,[j].concat(r(V.map(function(ii){return Math.floor(Ge(ii))})))),vt.restore(),u=ft,this.cropped?(h=(at=this.getData()).x,p=at.y,b=at.width,y=at.height,(C=u.width/Math.floor(zt.naturalWidth))!=1&&(h*=C,p*=C,b*=C,y*=C),w=N({aspectRatio:Vt=b/y,width:He.maxWidth||1/0,height:He.maxHeight||1/0}),k=N({aspectRatio:Vt,width:He.minWidth||0,height:He.minHeight||0},"cover"),q=(P=N({aspectRatio:Vt,width:He.width||(C!=1?u.width:b),height:He.height||(C!=1?u.height:y)})).width,$=P.height,q=Math.min(w.width,Math.max(k.width,q)),$=Math.min(w.height,Math.max(k.height,$)),G=(F=document.createElement("canvas")).getContext("2d"),F.width=Ge(q),F.height=Ge($),G.fillStyle=He.fillColor||"transparent",G.fillRect(0,0,q,$),J=He.imageSmoothingEnabled,j=He.imageSmoothingQuality,G.imageSmoothingEnabled=J===void 0||J,j&&(G.imageSmoothingQuality=j),V=u.width,vt=u.height,ft=p,(at=h)<=-b||V<at?Te=$t=jt=at=0:at<=0?($t=-at,at=0,Te=jt=Math.min(V,b+at)):at<=V&&($t=0,Te=jt=Math.min(b,V-at)),jt<=0||ft<=-y||vt<ft?U=Rt=te=ft=0:ft<=0?(Rt=-ft,ft=0,U=te=Math.min(vt,y+ft)):ft<=vt&&(Rt=0,U=te=Math.min(y,vt-ft)),zt=[at,ft,jt,te],0<Te&&0<U&&zt.push($t*(Vt=q/b),Rt*Vt,Te*Vt,U*Vt),G.drawImage.apply(G,[u].concat(r(zt.map(function(ii){return Math.floor(Ge(ii))})))),F):u):null},setAspectRatio:function(u){var h=this.options;return this.disabled||Ni(u)||(h.aspectRatio=Math.max(0,u)||NaN,this.ready&&(this.initCropBox(),this.cropped)&&this.renderCropBox()),this},setDragMode:function(u){var h,p,b=this.options,y=this.dragBox,C=this.face;return this.ready&&!this.disabled&&(p=b.movable&&u===dt,b.dragMode=u=(h=u===tt)||p?u:St,Dn(y,H,u),Ke(y,I,h),Ke(y,pt,p),b.cropBoxMovable||(Dn(C,H,u),Ke(C,I,h),Ke(C,pt,p))),this}},Tn=a.Cropper,Je=function(){function u(y){var C=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},w=this,k=u;if(!(w instanceof k))throw new TypeError("Cannot call a class as a function");if(!y||!Jn.test(y.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=y,this.options=xt({},Or,Ve(C)&&C),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}var h,p,b;return h=u,b=[{key:"noConflict",value:function(){return window.Cropper=Tn,u}},{key:"setDefaults",value:function(y){xt(Or,Ve(y)&&y)}}],(p=[{key:"init",value:function(){var y,C=this.element,w=C.tagName.toLowerCase();if(!C[s]){if(C[s]=this,w==="img"){if(this.isImg=!0,y=C.getAttribute("src")||"",!(this.originalUrl=y))return;y=C.src}else w==="canvas"&&window.HTMLCanvasElement&&(y=C.toDataURL());this.load(y)}}},{key:"load",value:function(y){var C,w,k,P,q,$,F=this;y&&(this.url=y,this.imageData={},C=this.element,(w=this.options).rotatable||w.scalable||(w.checkOrientation=!1),w.checkOrientation&&window.ArrayBuffer?Kn.test(y)?$e.test(y)?this.read(($=($=y).replace(ot,""),k=atob($),$=new ArrayBuffer(k.length),kt(P=new Uint8Array($),function(G,J){P[J]=k.charCodeAt(J)}),$)):this.clone():(q=new XMLHttpRequest,$=this.clone.bind(this),this.reloading=!0,(this.xhr=q).onabort=$,q.onerror=$,q.ontimeout=$,q.onprogress=function(){q.getResponseHeader("content-type")!==cn&&q.abort()},q.onload=function(){F.read(q.response)},q.onloadend=function(){F.reloading=!1,F.xhr=null},w.checkCrossOrigin&&f(y)&&C.crossOrigin&&(y=v(y)),q.open("GET",y,!0),q.responseType="arraybuffer",q.withCredentials=C.crossOrigin==="use-credentials",q.send()):this.clone())}},{key:"read",value:function(y){var C=this.options,w=this.imageData,k=K(y),P=0,q=1,$=1;1<k&&(this.url=function(F,G){for(var J=[],j=new Uint8Array(F);0<j.length;)J.push(Y.apply(null,_r(j.subarray(0,8192)))),j=j.subarray(8192);return"data:".concat(G,";base64,").concat(btoa(J.join("")))}(y,cn),P=(y=function(F){var G=0,J=1,j=1;switch(F){case 2:J=-1;break;case 3:G=-180;break;case 4:j=-1;break;case 5:G=90,j=-1;break;case 6:G=90;break;case 7:G=90,J=-1;break;case 8:G=-90}return{rotate:G,scaleX:J,scaleY:j}}(k)).rotate,q=y.scaleX,$=y.scaleY),C.rotatable&&(w.rotate=P),C.scalable&&(w.scaleX=q,w.scaleY=$),this.clone()}},{key:"clone",value:function(){var y=this.element,C=this.url,w=y.crossOrigin,k=C,P=(this.options.checkCrossOrigin&&f(C)&&(w=w||"anonymous",k=v(C)),this.crossOrigin=w,this.crossOriginUrl=k,document.createElement("img"));w&&(P.crossOrigin=w),P.src=k||C,P.alt=y.alt||"The image to crop",(this.image=P).onload=this.start.bind(this),P.onerror=this.stop.bind(this),Lt(P,B),y.parentNode.insertBefore(P,y.nextSibling)}},{key:"start",value:function(){function y($,F){xt(k.imageData,{naturalWidth:$,naturalHeight:F,aspectRatio:$/F}),k.initialImageData=xt({},k.imageData),k.sizing=!1,k.sized=!0,k.build()}var C,w,k=this,P=this.image,q=(P.onload=null,P.onerror=null,this.sizing=!0,a.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(a.navigator.userAgent));P.naturalWidth&&!q?y(P.naturalWidth,P.naturalHeight):(C=document.createElement("img"),w=document.body||document.documentElement,(this.sizingImage=C).onload=function(){y(C.width,C.height),q||w.removeChild(C)},C.src=P.src,q||(C.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",w.appendChild(C)))}},{key:"stop",value:function(){var y=this.image;y.onload=null,y.onerror=null,y.parentNode.removeChild(y),this.image=null}},{key:"build",value:function(){var y,C,w,k,P,q,$,F,G;this.sized&&!this.ready&&(y=this.element,C=this.options,w=this.image,k=y.parentNode,(P=document.createElement("div")).innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',q=(P=P.querySelector(".".concat(s,"-container"))).querySelector(".".concat(s,"-canvas")),$=P.querySelector(".".concat(s,"-drag-box")),G=(F=P.querySelector(".".concat(s,"-crop-box"))).querySelector(".".concat(s,"-face")),this.container=k,this.cropper=P,this.canvas=q,this.dragBox=$,this.cropBox=F,this.viewBox=P.querySelector(".".concat(s,"-view-box")),this.face=G,q.appendChild(w),Lt(y,S),k.insertBefore(P,y.nextSibling),Ee(w,B),this.initPreview(),this.bind(),C.initialAspectRatio=Math.max(0,C.initialAspectRatio)||NaN,C.aspectRatio=Math.max(0,C.aspectRatio)||NaN,C.viewMode=Math.max(0,Math.min(3,Math.round(C.viewMode)))||0,Lt(F,S),C.guides||Lt(F.getElementsByClassName("".concat(s,"-dashed")),S),C.center||Lt(F.getElementsByClassName("".concat(s,"-center")),S),C.background&&Lt(P,"".concat(s,"-bg")),C.highlight||Lt(G,Q),C.cropBoxMovable&&(Lt(G,pt),Dn(G,H,l)),C.cropBoxResizable||(Lt(F.getElementsByClassName("".concat(s,"-line")),S),Lt(F.getElementsByClassName("".concat(s,"-point")),S)),this.render(),this.ready=!0,this.setDragMode(C.dragMode),C.autoCrop&&this.crop(),this.setData(C.data),Ut(C.ready)&&qt(y,"ready",C.ready,{once:!0}),je(y,"ready"))}},{key:"unbuild",value:function(){var y;this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),(y=this.cropper.parentNode)&&y.removeChild(this.cropper),Ee(this.element,S))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&i(h.prototype,p),b&&i(h,b),Object.defineProperty(h,"prototype",{writable:!1}),u}();return xt(Je.prototype,rt,X,et,bt,De,Zt),Je});var Ka=!1,Ja=!1,Fn=[],Qa=-1;function bg(n){yg(n)}function yg(n){Fn.includes(n)||Fn.push(n),wg()}function bu(n){let t=Fn.indexOf(n);t!==-1&&t>Qa&&Fn.splice(t,1)}function wg(){!Ja&&!Ka&&(Ka=!0,queueMicrotask(xg))}function xg(){Ka=!1,Ja=!0;for(let n=0;n<Fn.length;n++)Fn[n](),Qa=n;Fn.length=0,Qa=-1,Ja=!1}var Ti,Mi,br,yu,Za=!0;function Cg(n){Za=!1,n(),Za=!0}function Ag(n){Ti=n.reactive,br=n.release,Mi=t=>n.effect(t,{scheduler:e=>{Za?bg(e):e()}}),yu=n.raw}function Vl(n){Mi=n}function Eg(n){let t=()=>{};return[i=>{let r=Mi(i);return n._x_effects||(n._x_effects=new Set,n._x_runEffects=()=>{n._x_effects.forEach(o=>o())}),n._x_effects.add(r),t=()=>{r!==void 0&&(n._x_effects.delete(r),br(r))},r},()=>{t()}]}var wu=[],xu=[],Cu=[];function Sg(n){Cu.push(n)}function Au(n,t){typeof t=="function"?(n._x_cleanups||(n._x_cleanups=[]),n._x_cleanups.push(t)):(t=n,xu.push(t))}function Dg(n){wu.push(n)}function Tg(n,t,e){n._x_attributeCleanups||(n._x_attributeCleanups={}),n._x_attributeCleanups[t]||(n._x_attributeCleanups[t]=[]),n._x_attributeCleanups[t].push(e)}function Eu(n,t){!n._x_attributeCleanups||Object.entries(n._x_attributeCleanups).forEach(([e,i])=>{(t===void 0||t.includes(e))&&(i.forEach(r=>r()),delete n._x_attributeCleanups[e])})}var Is=new MutationObserver(Ws),Ns=!1;function Bs(){Is.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),Ns=!0}function Su(){Mg(),Is.disconnect(),Ns=!1}var tr=[],ga=!1;function Mg(){tr=tr.concat(Is.takeRecords()),tr.length&&!ga&&(ga=!0,queueMicrotask(()=>{kg(),ga=!1}))}function kg(){Ws(tr),tr.length=0}function Xt(n){if(!Ns)return n();Su();let t=n();return Bs(),t}var Fs=!1,ao=[];function Og(){Fs=!0}function Lg(){Fs=!1,Ws(ao),ao=[]}function Ws(n){if(Fs){ao=ao.concat(n);return}let t=[],e=[],i=new Map,r=new Map;for(let o=0;o<n.length;o++)if(!n[o].target._x_ignoreMutationObserver&&(n[o].type==="childList"&&(n[o].addedNodes.forEach(a=>a.nodeType===1&&t.push(a)),n[o].removedNodes.forEach(a=>a.nodeType===1&&e.push(a))),n[o].type==="attributes")){let a=n[o].target,s=n[o].attributeName,l=n[o].oldValue,c=()=>{i.has(a)||i.set(a,[]),i.get(a).push({name:s,value:a.getAttribute(s)})},d=()=>{r.has(a)||r.set(a,[]),r.get(a).push(s)};a.hasAttribute(s)&&l===null?c():a.hasAttribute(s)?(d(),c()):d()}r.forEach((o,a)=>{Eu(a,o)}),i.forEach((o,a)=>{wu.forEach(s=>s(a,o))});for(let o of e)if(!t.includes(o)&&(xu.forEach(a=>a(o)),o._x_cleanups))for(;o._x_cleanups.length;)o._x_cleanups.pop()();t.forEach(o=>{o._x_ignoreSelf=!0,o._x_ignore=!0});for(let o of t)e.includes(o)||!o.isConnected||(delete o._x_ignoreSelf,delete o._x_ignore,Cu.forEach(a=>a(o)),o._x_ignore=!0,o._x_ignoreSelf=!0);t.forEach(o=>{delete o._x_ignoreSelf,delete o._x_ignore}),t=null,e=null,i=null,r=null}function Du(n){return wr(Ci(n))}function yr(n,t,e){return n._x_dataStack=[t,...Ci(e||n)],()=>{n._x_dataStack=n._x_dataStack.filter(i=>i!==t)}}function Ci(n){return n._x_dataStack?n._x_dataStack:typeof ShadowRoot=="function"&&n instanceof ShadowRoot?Ci(n.host):n.parentNode?Ci(n.parentNode):[]}function wr(n){let t=new Proxy({},{ownKeys:()=>Array.from(new Set(n.flatMap(e=>Object.keys(e)))),has:(e,i)=>n.some(r=>r.hasOwnProperty(i)),get:(e,i)=>(n.find(r=>{if(r.hasOwnProperty(i)){let o=Object.getOwnPropertyDescriptor(r,i);if(o.get&&o.get._x_alreadyBound||o.set&&o.set._x_alreadyBound)return!0;if((o.get||o.set)&&o.enumerable){let a=o.get,s=o.set,l=o;a=a&&a.bind(t),s=s&&s.bind(t),a&&(a._x_alreadyBound=!0),s&&(s._x_alreadyBound=!0),Object.defineProperty(r,i,{...l,get:a,set:s})}return!0}return!1})||{})[i],set:(e,i,r)=>{let o=n.find(a=>a.hasOwnProperty(i));return o?o[i]=r:n[n.length-1][i]=r,!0}});return t}function Tu(n){let t=i=>typeof i=="object"&&!Array.isArray(i)&&i!==null,e=(i,r="")=>{Object.entries(Object.getOwnPropertyDescriptors(i)).forEach(([o,{value:a,enumerable:s}])=>{if(s===!1||a===void 0)return;let l=r===""?o:`${r}.${o}`;typeof a=="object"&&a!==null&&a._x_interceptor?i[o]=a.initialize(n,l,o):t(a)&&a!==i&&!(a instanceof Element)&&e(a,l)})};return e(n)}function Mu(n,t=()=>{}){let e={initialValue:void 0,_x_interceptor:!0,initialize(i,r,o){return n(this.initialValue,()=>Rg(i,r),a=>ts(i,r,a),r,o)}};return t(e),i=>{if(typeof i=="object"&&i!==null&&i._x_interceptor){let r=e.initialize.bind(e);e.initialize=(o,a,s)=>{let l=i.initialize(o,a,s);return e.initialValue=l,r(o,a,s)}}else e.initialValue=i;return e}}function Rg(n,t){return t.split(".").reduce((e,i)=>e[i],n)}function ts(n,t,e){if(typeof t=="string"&&(t=t.split(".")),t.length===1)n[t[0]]=e;else{if(t.length===0)throw error;return n[t[0]]||(n[t[0]]={}),ts(n[t[0]],t.slice(1),e)}}var ku={};function Be(n,t){ku[n]=t}function es(n,t){return Object.entries(ku).forEach(([e,i])=>{let r=null;function o(){if(r)return r;{let[a,s]=Pu(t);return r={interceptor:Mu,...a},Au(t,s),r}}Object.defineProperty(n,`$${e}`,{get(){return i(t,o())},enumerable:!1})}),n}function _g(n,t,e,...i){try{return e(...i)}catch(r){pr(r,n,t)}}function pr(n,t,e=void 0){Object.assign(n,{el:t,expression:e}),console.warn(`Alpine Expression Error: ${n.message}

${e?'Expression: "'+e+`"

`:""}`,t),setTimeout(()=>{throw n},0)}var Gr=!0;function Pg(n){let t=Gr;Gr=!1,n(),Gr=t}function gi(n,t,e={}){let i;return ie(n,t)(r=>i=r,e),i}function ie(...n){return Ou(...n)}var Ou=Lu;function Ig(n){Ou=n}function Lu(n,t){let e={};es(e,n);let i=[e,...Ci(n)],r=typeof t=="function"?Ng(i,t):Fg(i,t,n);return _g.bind(null,n,t,r)}function Ng(n,t){return(e=()=>{},{scope:i={},params:r=[]}={})=>{let o=t.apply(wr([i,...n]),r);so(e,o)}}var ma={};function Bg(n,t){if(ma[n])return ma[n];let e=Object.getPrototypeOf(async function(){}).constructor,i=/^[\n\s]*if.*\(.*\)/.test(n)||/^(let|const)\s/.test(n)?`(async()=>{ ${n} })()`:n,o=(()=>{try{return new e(["__self","scope"],`with (scope) { __self.result = ${i} }; __self.finished = true; return __self.result;`)}catch(a){return pr(a,t,n),Promise.resolve()}})();return ma[n]=o,o}function Fg(n,t,e){let i=Bg(t,e);return(r=()=>{},{scope:o={},params:a=[]}={})=>{i.result=void 0,i.finished=!1;let s=wr([o,...n]);if(typeof i=="function"){let l=i(i,s).catch(c=>pr(c,e,t));i.finished?(so(r,i.result,s,a,e),i.result=void 0):l.then(c=>{so(r,c,s,a,e)}).catch(c=>pr(c,e,t)).finally(()=>i.result=void 0)}}}function so(n,t,e,i,r){if(Gr&&typeof t=="function"){let o=t.apply(e,i);o instanceof Promise?o.then(a=>so(n,a,e,i)).catch(a=>pr(a,r,t)):n(o)}else typeof t=="object"&&t instanceof Promise?t.then(o=>n(o)):n(t)}var js="x-";function ki(n=""){return js+n}function Wg(n){js=n}var ns={};function Ft(n,t){return ns[n]=t,{before(e){if(!ns[e]){console.warn("Cannot find directive `${directive}`. `${name}` will use the default order of execution");return}const i=Nn.indexOf(e);Nn.splice(i>=0?i:Nn.indexOf("DEFAULT"),0,n)}}}function Hs(n,t,e){if(t=Array.from(t),n._x_virtualDirectives){let o=Object.entries(n._x_virtualDirectives).map(([s,l])=>({name:s,value:l})),a=Ru(o);o=o.map(s=>a.find(l=>l.name===s.name)?{name:`x-bind:${s.name}`,value:`"${s.value}"`}:s),t=t.concat(o)}let i={};return t.map(Bu((o,a)=>i[o]=a)).filter(Wu).map(zg(i,e)).sort(Yg).map(o=>Hg(n,o))}function Ru(n){return Array.from(n).map(Bu()).filter(t=>!Wu(t))}var is=!1,Vi=new Map,_u=Symbol();function jg(n){is=!0;let t=Symbol();_u=t,Vi.set(t,[]);let e=()=>{for(;Vi.get(t).length;)Vi.get(t).shift()();Vi.delete(t)},i=()=>{is=!1,e()};n(e),i()}function Pu(n){let t=[],e=s=>t.push(s),[i,r]=Eg(n);return t.push(r),[{Alpine:Cr,effect:i,cleanup:e,evaluateLater:ie.bind(ie,n),evaluate:gi.bind(gi,n)},()=>t.forEach(s=>s())]}function Hg(n,t){let e=()=>{},i=ns[t.type]||e,[r,o]=Pu(n);Tg(n,t.original,o);let a=()=>{n._x_ignore||n._x_ignoreSelf||(i.inline&&i.inline(n,t,r),i=i.bind(i,n,t,r),is?Vi.get(_u).push(i):i())};return a.runCleanups=o,a}var Iu=(n,t)=>({name:e,value:i})=>(e.startsWith(n)&&(e=e.replace(n,t)),{name:e,value:i}),Nu=n=>n;function Bu(n=()=>{}){return({name:t,value:e})=>{let{name:i,value:r}=Fu.reduce((o,a)=>a(o),{name:t,value:e});return i!==t&&n(i,t),{name:i,value:r}}}var Fu=[];function zs(n){Fu.push(n)}function Wu({name:n}){return ju().test(n)}var ju=()=>new RegExp(`^${js}([^:^.]+)\\b`);function zg(n,t){return({name:e,value:i})=>{let r=e.match(ju()),o=e.match(/:([a-zA-Z0-9\-:]+)/),a=e.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],s=t||n[e]||e;return{type:r?r[1]:null,value:o?o[1]:null,modifiers:a.map(l=>l.replace(".","")),expression:i,original:s}}}var rs="DEFAULT",Nn=["ignore","ref","data","id","bind","init","for","model","modelable","transition","show","if",rs,"teleport"];function Yg(n,t){let e=Nn.indexOf(n.type)===-1?rs:n.type,i=Nn.indexOf(t.type)===-1?rs:t.type;return Nn.indexOf(e)-Nn.indexOf(i)}function er(n,t,e={}){n.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:!0,composed:!0,cancelable:!0}))}function wn(n,t){if(typeof ShadowRoot=="function"&&n instanceof ShadowRoot){Array.from(n.children).forEach(r=>wn(r,t));return}let e=!1;if(t(n,()=>e=!0),e)return;let i=n.firstElementChild;for(;i;)wn(i,t),i=i.nextElementSibling}function xn(n,...t){console.warn(`Alpine Warning: ${n}`,...t)}var Gl=!1;function Xg(){Gl&&xn("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),Gl=!0,document.body||xn("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),er(document,"alpine:init"),er(document,"alpine:initializing"),Bs(),Sg(t=>Cn(t,wn)),Au(t=>$u(t)),Dg((t,e)=>{Hs(t,e).forEach(i=>i())});let n=t=>!Do(t.parentElement,!0);Array.from(document.querySelectorAll(Yu())).filter(n).forEach(t=>{Cn(t)}),er(document,"alpine:initialized")}var Ys=[],Hu=[];function zu(){return Ys.map(n=>n())}function Yu(){return Ys.concat(Hu).map(n=>n())}function Xu(n){Ys.push(n)}function Uu(n){Hu.push(n)}function Do(n,t=!1){return To(n,e=>{if((t?Yu():zu()).some(r=>e.matches(r)))return!0})}function To(n,t){if(!!n){if(t(n))return n;if(n._x_teleportBack&&(n=n._x_teleportBack),!!n.parentElement)return To(n.parentElement,t)}}function Ug(n){return zu().some(t=>n.matches(t))}var qu=[];function qg(n){qu.push(n)}function Cn(n,t=wn,e=()=>{}){jg(()=>{t(n,(i,r)=>{e(i,r),qu.forEach(o=>o(i,r)),Hs(i,i.attributes).forEach(o=>o()),i._x_ignore&&r()})})}function $u(n){wn(n,t=>Eu(t))}var os=[],Xs=!1;function Us(n=()=>{}){return queueMicrotask(()=>{Xs||setTimeout(()=>{as()})}),new Promise(t=>{os.push(()=>{n(),t()})})}function as(){for(Xs=!1;os.length;)os.shift()()}function $g(){Xs=!0}function qs(n,t){return Array.isArray(t)?Kl(n,t.join(" ")):typeof t=="object"&&t!==null?Vg(n,t):typeof t=="function"?qs(n,t()):Kl(n,t)}function Kl(n,t){let e=r=>r.split(" ").filter(o=>!n.classList.contains(o)).filter(Boolean),i=r=>(n.classList.add(...r),()=>{n.classList.remove(...r)});return t=t===!0?t="":t||"",i(e(t))}function Vg(n,t){let e=s=>s.split(" ").filter(Boolean),i=Object.entries(t).flatMap(([s,l])=>l?e(s):!1).filter(Boolean),r=Object.entries(t).flatMap(([s,l])=>l?!1:e(s)).filter(Boolean),o=[],a=[];return r.forEach(s=>{n.classList.contains(s)&&(n.classList.remove(s),a.push(s))}),i.forEach(s=>{n.classList.contains(s)||(n.classList.add(s),o.push(s))}),()=>{a.forEach(s=>n.classList.add(s)),o.forEach(s=>n.classList.remove(s))}}function Mo(n,t){return typeof t=="object"&&t!==null?Gg(n,t):Kg(n,t)}function Gg(n,t){let e={};return Object.entries(t).forEach(([i,r])=>{e[i]=n.style[i],i.startsWith("--")||(i=Jg(i)),n.style.setProperty(i,r)}),setTimeout(()=>{n.style.length===0&&n.removeAttribute("style")}),()=>{Mo(n,e)}}function Kg(n,t){let e=n.getAttribute("style",t);return n.setAttribute("style",t),()=>{n.setAttribute("style",e||"")}}function Jg(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ss(n,t=()=>{}){let e=!1;return function(){e?t.apply(this,arguments):(e=!0,n.apply(this,arguments))}}Ft("transition",(n,{value:t,modifiers:e,expression:i},{evaluate:r})=>{typeof i=="function"&&(i=r(i)),i!==!1&&(!i||typeof i=="boolean"?Zg(n,e,t):Qg(n,i,t))});function Qg(n,t,e){Vu(n,qs,""),{enter:r=>{n._x_transition.enter.during=r},"enter-start":r=>{n._x_transition.enter.start=r},"enter-end":r=>{n._x_transition.enter.end=r},leave:r=>{n._x_transition.leave.during=r},"leave-start":r=>{n._x_transition.leave.start=r},"leave-end":r=>{n._x_transition.leave.end=r}}[e](t)}function Zg(n,t,e){Vu(n,Mo);let i=!t.includes("in")&&!t.includes("out")&&!e,r=i||t.includes("in")||["enter"].includes(e),o=i||t.includes("out")||["leave"].includes(e);t.includes("in")&&!i&&(t=t.filter((T,R)=>R<t.indexOf("out"))),t.includes("out")&&!i&&(t=t.filter((T,R)=>R>t.indexOf("out")));let a=!t.includes("opacity")&&!t.includes("scale"),s=a||t.includes("opacity"),l=a||t.includes("scale"),c=s?0:1,d=l?Yi(t,"scale",95)/100:1,g=Yi(t,"delay",0)/1e3,m=Yi(t,"origin","center"),x="opacity, transform",D=Yi(t,"duration",150)/1e3,E=Yi(t,"duration",75)/1e3,M="cubic-bezier(0.4, 0.0, 0.2, 1)";r&&(n._x_transition.enter.during={transformOrigin:m,transitionDelay:`${g}s`,transitionProperty:x,transitionDuration:`${D}s`,transitionTimingFunction:M},n._x_transition.enter.start={opacity:c,transform:`scale(${d})`},n._x_transition.enter.end={opacity:1,transform:"scale(1)"}),o&&(n._x_transition.leave.during={transformOrigin:m,transitionDelay:`${g}s`,transitionProperty:x,transitionDuration:`${E}s`,transitionTimingFunction:M},n._x_transition.leave.start={opacity:1,transform:"scale(1)"},n._x_transition.leave.end={opacity:c,transform:`scale(${d})`})}function Vu(n,t,e={}){n._x_transition||(n._x_transition={enter:{during:e,start:e,end:e},leave:{during:e,start:e,end:e},in(i=()=>{},r=()=>{}){ls(n,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},i,r)},out(i=()=>{},r=()=>{}){ls(n,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},i,r)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(n,t,e,i){const r=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let o=()=>r(e);if(t){n._x_transition&&(n._x_transition.enter||n._x_transition.leave)?n._x_transition.enter&&(Object.entries(n._x_transition.enter.during).length||Object.entries(n._x_transition.enter.start).length||Object.entries(n._x_transition.enter.end).length)?n._x_transition.in(e):o():n._x_transition?n._x_transition.in(e):o();return}n._x_hidePromise=n._x_transition?new Promise((a,s)=>{n._x_transition.out(()=>{},()=>a(i)),n._x_transitioning.beforeCancel(()=>s({isFromCancelledTransition:!0}))}):Promise.resolve(i),queueMicrotask(()=>{let a=Gu(n);a?(a._x_hideChildren||(a._x_hideChildren=[]),a._x_hideChildren.push(n)):r(()=>{let s=l=>{let c=Promise.all([l._x_hidePromise,...(l._x_hideChildren||[]).map(s)]).then(([d])=>d());return delete l._x_hidePromise,delete l._x_hideChildren,c};s(n).catch(l=>{if(!l.isFromCancelledTransition)throw l})})})};function Gu(n){let t=n.parentNode;if(!!t)return t._x_hidePromise?t:Gu(t)}function ls(n,t,{during:e,start:i,end:r}={},o=()=>{},a=()=>{}){if(n._x_transitioning&&n._x_transitioning.cancel(),Object.keys(e).length===0&&Object.keys(i).length===0&&Object.keys(r).length===0){o(),a();return}let s,l,c;tm(n,{start(){s=t(n,i)},during(){l=t(n,e)},before:o,end(){s(),c=t(n,r)},after:a,cleanup(){l(),c()}})}function tm(n,t){let e,i,r,o=ss(()=>{Xt(()=>{e=!0,i||t.before(),r||(t.end(),as()),t.after(),n.isConnected&&t.cleanup(),delete n._x_transitioning})});n._x_transitioning={beforeCancels:[],beforeCancel(a){this.beforeCancels.push(a)},cancel:ss(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();o()}),finish:o},Xt(()=>{t.start(),t.during()}),$g(),requestAnimationFrame(()=>{if(e)return;let a=Number(getComputedStyle(n).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,s=Number(getComputedStyle(n).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;a===0&&(a=Number(getComputedStyle(n).animationDuration.replace("s",""))*1e3),Xt(()=>{t.before()}),i=!0,requestAnimationFrame(()=>{e||(Xt(()=>{t.end()}),as(),setTimeout(n._x_transitioning.finish,a+s),r=!0)})})}function Yi(n,t,e){if(n.indexOf(t)===-1)return e;const i=n[n.indexOf(t)+1];if(!i||t==="scale"&&isNaN(i))return e;if(t==="duration"||t==="delay"){let r=i.match(/([0-9]+)ms/);if(r)return r[1]}return t==="origin"&&["top","right","left","center","bottom"].includes(n[n.indexOf(t)+2])?[i,n[n.indexOf(t)+2]].join(" "):i}var gr=!1;function xr(n,t=()=>{}){return(...e)=>gr?t(...e):n(...e)}function em(n){return(...t)=>gr&&n(...t)}function nm(n,t){t._x_dataStack||(t._x_dataStack=n._x_dataStack),gr=!0,rm(()=>{im(t)}),gr=!1}function im(n){let t=!1;Cn(n,(i,r)=>{wn(i,(o,a)=>{if(t&&Ug(o))return a();t=!0,r(o,a)})})}function rm(n){let t=Mi;Vl((e,i)=>{let r=t(e);return br(r),()=>{}}),n(),Vl(t)}function Ku(n,t,e,i=[]){switch(n._x_bindings||(n._x_bindings=Ti({})),n._x_bindings[t]=e,t=i.includes("camel")?hm(t):t,t){case"value":om(n,e);break;case"style":sm(n,e);break;case"class":am(n,e);break;case"selected":case"checked":lm(n,t,e);break;default:Ju(n,t,e);break}}function om(n,t){if(n.type==="radio")n.attributes.value===void 0&&(n.value=t),window.fromModel&&(n.checked=Jl(n.value,t));else if(n.type==="checkbox")Number.isInteger(t)?n.value=t:!Number.isInteger(t)&&!Array.isArray(t)&&typeof t!="boolean"&&![null,void 0].includes(t)?n.value=String(t):Array.isArray(t)?n.checked=t.some(e=>Jl(e,n.value)):n.checked=!!t;else if(n.tagName==="SELECT")dm(n,t);else{if(n.value===t)return;n.value=t}}function am(n,t){n._x_undoAddedClasses&&n._x_undoAddedClasses(),n._x_undoAddedClasses=qs(n,t)}function sm(n,t){n._x_undoAddedStyles&&n._x_undoAddedStyles(),n._x_undoAddedStyles=Mo(n,t)}function lm(n,t,e){Ju(n,t,e),um(n,t,e)}function Ju(n,t,e){[null,void 0,!1].includes(e)&&fm(t)?n.removeAttribute(t):(Qu(t)&&(e=t),cm(n,t,e))}function cm(n,t,e){n.getAttribute(t)!=e&&n.setAttribute(t,e)}function um(n,t,e){n[t]!==e&&(n[t]=e)}function dm(n,t){const e=[].concat(t).map(i=>i+"");Array.from(n.options).forEach(i=>{i.selected=e.includes(i.value)})}function hm(n){return n.toLowerCase().replace(/-(\w)/g,(t,e)=>e.toUpperCase())}function Jl(n,t){return n==t}function Qu(n){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(n)}function fm(n){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(n)}function pm(n,t,e){if(n._x_bindings&&n._x_bindings[t]!==void 0)return n._x_bindings[t];let i=n.getAttribute(t);return i===null?typeof e=="function"?e():e:i===""?!0:Qu(t)?!![t,"true"].includes(i):i}function Zu(n,t){var e;return function(){var i=this,r=arguments,o=function(){e=null,n.apply(i,r)};clearTimeout(e),e=setTimeout(o,t)}}function td(n,t){let e;return function(){let i=this,r=arguments;e||(n.apply(i,r),e=!0,setTimeout(()=>e=!1,t))}}function gm(n){(Array.isArray(n)?n:[n]).forEach(e=>e(Cr))}var Rn={},Ql=!1;function mm(n,t){if(Ql||(Rn=Ti(Rn),Ql=!0),t===void 0)return Rn[n];Rn[n]=t,typeof t=="object"&&t!==null&&t.hasOwnProperty("init")&&typeof t.init=="function"&&Rn[n].init(),Tu(Rn[n])}function vm(){return Rn}var ed={};function bm(n,t){let e=typeof t!="function"?()=>t:t;n instanceof Element?nd(n,e()):ed[n]=e}function ym(n){return Object.entries(ed).forEach(([t,e])=>{Object.defineProperty(n,t,{get(){return(...i)=>e(...i)}})}),n}function nd(n,t,e){let i=[];for(;i.length;)i.pop()();let r=Object.entries(t).map(([a,s])=>({name:a,value:s})),o=Ru(r);r=r.map(a=>o.find(s=>s.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),Hs(n,r,e).map(a=>{i.push(a.runCleanups),a()})}var id={};function wm(n,t){id[n]=t}function xm(n,t){return Object.entries(id).forEach(([e,i])=>{Object.defineProperty(n,e,{get(){return(...r)=>i.bind(t)(...r)},enumerable:!1})}),n}var Cm={get reactive(){return Ti},get release(){return br},get effect(){return Mi},get raw(){return yu},version:"3.12.2",flushAndStopDeferringMutations:Lg,dontAutoEvaluateFunctions:Pg,disableEffectScheduling:Cg,startObservingMutations:Bs,stopObservingMutations:Su,setReactivityEngine:Ag,closestDataStack:Ci,skipDuringClone:xr,onlyDuringClone:em,addRootSelector:Xu,addInitSelector:Uu,addScopeToNode:yr,deferMutations:Og,mapAttributes:zs,evaluateLater:ie,interceptInit:qg,setEvaluator:Ig,mergeProxies:wr,findClosest:To,closestRoot:Do,destroyTree:$u,interceptor:Mu,transition:ls,setStyles:Mo,mutateDom:Xt,directive:Ft,throttle:td,debounce:Zu,evaluate:gi,initTree:Cn,nextTick:Us,prefixed:ki,prefix:Wg,plugin:gm,magic:Be,store:mm,start:Xg,clone:nm,bound:pm,$data:Du,walk:wn,data:wm,bind:bm},Cr=Cm;function Am(n,t){const e=Object.create(null),i=n.split(",");for(let r=0;r<i.length;r++)e[i[r]]=!0;return t?r=>!!e[r.toLowerCase()]:r=>!!e[r]}var Em=Object.freeze({});Object.freeze([]);var rd=Object.assign,Sm=Object.prototype.hasOwnProperty,ko=(n,t)=>Sm.call(n,t),Wn=Array.isArray,nr=n=>od(n)==="[object Map]",Dm=n=>typeof n=="string",$s=n=>typeof n=="symbol",Oo=n=>n!==null&&typeof n=="object",Tm=Object.prototype.toString,od=n=>Tm.call(n),ad=n=>od(n).slice(8,-1),Vs=n=>Dm(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Mm=n=>{const t=Object.create(null);return e=>t[e]||(t[e]=n(e))},km=Mm(n=>n.charAt(0).toUpperCase()+n.slice(1)),sd=(n,t)=>n!==t&&(n===n||t===t),cs=new WeakMap,Xi=[],ze,jn=Symbol("iterate"),us=Symbol("Map key iterate");function Om(n){return n&&n._isEffect===!0}function Lm(n,t=Em){Om(n)&&(n=n.raw);const e=Pm(n,t);return t.lazy||e(),e}function Rm(n){n.active&&(ld(n),n.options.onStop&&n.options.onStop(),n.active=!1)}var _m=0;function Pm(n,t){const e=function(){if(!e.active)return n();if(!Xi.includes(e)){ld(e);try{return Nm(),Xi.push(e),ze=e,n()}finally{Xi.pop(),cd(),ze=Xi[Xi.length-1]}}};return e.id=_m++,e.allowRecurse=!!t.allowRecurse,e._isEffect=!0,e.active=!0,e.raw=n,e.deps=[],e.options=t,e}function ld(n){const{deps:t}=n;if(t.length){for(let e=0;e<t.length;e++)t[e].delete(n);t.length=0}}var Ai=!0,Gs=[];function Im(){Gs.push(Ai),Ai=!1}function Nm(){Gs.push(Ai),Ai=!0}function cd(){const n=Gs.pop();Ai=n===void 0?!0:n}function Ne(n,t,e){if(!Ai||ze===void 0)return;let i=cs.get(n);i||cs.set(n,i=new Map);let r=i.get(e);r||i.set(e,r=new Set),r.has(ze)||(r.add(ze),ze.deps.push(r),ze.options.onTrack&&ze.options.onTrack({effect:ze,target:n,type:t,key:e}))}function An(n,t,e,i,r,o){const a=cs.get(n);if(!a)return;const s=new Set,l=d=>{d&&d.forEach(g=>{(g!==ze||g.allowRecurse)&&s.add(g)})};if(t==="clear")a.forEach(l);else if(e==="length"&&Wn(n))a.forEach((d,g)=>{(g==="length"||g>=i)&&l(d)});else switch(e!==void 0&&l(a.get(e)),t){case"add":Wn(n)?Vs(e)&&l(a.get("length")):(l(a.get(jn)),nr(n)&&l(a.get(us)));break;case"delete":Wn(n)||(l(a.get(jn)),nr(n)&&l(a.get(us)));break;case"set":nr(n)&&l(a.get(jn));break}const c=d=>{d.options.onTrigger&&d.options.onTrigger({effect:d,target:n,key:e,type:t,newValue:i,oldValue:r,oldTarget:o}),d.options.scheduler?d.options.scheduler(d):d()};s.forEach(c)}var Bm=Am("__proto__,__v_isRef,__isVue"),ud=new Set(Object.getOwnPropertyNames(Symbol).map(n=>Symbol[n]).filter($s)),Fm=Lo(),Wm=Lo(!1,!0),jm=Lo(!0),Hm=Lo(!0,!0),lo={};["includes","indexOf","lastIndexOf"].forEach(n=>{const t=Array.prototype[n];lo[n]=function(...e){const i=Et(this);for(let o=0,a=this.length;o<a;o++)Ne(i,"get",o+"");const r=t.apply(i,e);return r===-1||r===!1?t.apply(i,e.map(Et)):r}});["push","pop","shift","unshift","splice"].forEach(n=>{const t=Array.prototype[n];lo[n]=function(...e){Im();const i=t.apply(this,e);return cd(),i}});function Lo(n=!1,t=!1){return function(i,r,o){if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_raw"&&o===(n?t?Jm:Sd:t?Km:Ed).get(i))return i;const a=Wn(i);if(!n&&a&&ko(lo,r))return Reflect.get(lo,r,o);const s=Reflect.get(i,r,o);return($s(r)?ud.has(r):Bm(r))||(n||Ne(i,"get",r),t)?s:ds(s)?!a||!Vs(r)?s.value:s:Oo(s)?n?Dd(s):Zs(s):s}}var zm=dd(),Ym=dd(!0);function dd(n=!1){return function(e,i,r,o){let a=e[i];if(!n&&(r=Et(r),a=Et(a),!Wn(e)&&ds(a)&&!ds(r)))return a.value=r,!0;const s=Wn(e)&&Vs(i)?Number(i)<e.length:ko(e,i),l=Reflect.set(e,i,r,o);return e===Et(o)&&(s?sd(r,a)&&An(e,"set",i,r,a):An(e,"add",i,r)),l}}function Xm(n,t){const e=ko(n,t),i=n[t],r=Reflect.deleteProperty(n,t);return r&&e&&An(n,"delete",t,void 0,i),r}function Um(n,t){const e=Reflect.has(n,t);return(!$s(t)||!ud.has(t))&&Ne(n,"has",t),e}function qm(n){return Ne(n,"iterate",Wn(n)?"length":jn),Reflect.ownKeys(n)}var hd={get:Fm,set:zm,deleteProperty:Xm,has:Um,ownKeys:qm},fd={get:jm,set(n,t){return console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,n),!0},deleteProperty(n,t){return console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,n),!0}};rd({},hd,{get:Wm,set:Ym});rd({},fd,{get:Hm});var Ks=n=>Oo(n)?Zs(n):n,Js=n=>Oo(n)?Dd(n):n,Qs=n=>n,Ro=n=>Reflect.getPrototypeOf(n);function _o(n,t,e=!1,i=!1){n=n.__v_raw;const r=Et(n),o=Et(t);t!==o&&!e&&Ne(r,"get",t),!e&&Ne(r,"get",o);const{has:a}=Ro(r),s=i?Qs:e?Js:Ks;if(a.call(r,t))return s(n.get(t));if(a.call(r,o))return s(n.get(o));n!==r&&n.get(t)}function Po(n,t=!1){const e=this.__v_raw,i=Et(e),r=Et(n);return n!==r&&!t&&Ne(i,"has",n),!t&&Ne(i,"has",r),n===r?e.has(n):e.has(n)||e.has(r)}function Io(n,t=!1){return n=n.__v_raw,!t&&Ne(Et(n),"iterate",jn),Reflect.get(n,"size",n)}function pd(n){n=Et(n);const t=Et(this);return Ro(t).has.call(t,n)||(t.add(n),An(t,"add",n,n)),this}function gd(n,t){t=Et(t);const e=Et(this),{has:i,get:r}=Ro(e);let o=i.call(e,n);o?Ad(e,i,n):(n=Et(n),o=i.call(e,n));const a=r.call(e,n);return e.set(n,t),o?sd(t,a)&&An(e,"set",n,t,a):An(e,"add",n,t),this}function md(n){const t=Et(this),{has:e,get:i}=Ro(t);let r=e.call(t,n);r?Ad(t,e,n):(n=Et(n),r=e.call(t,n));const o=i?i.call(t,n):void 0,a=t.delete(n);return r&&An(t,"delete",n,void 0,o),a}function vd(){const n=Et(this),t=n.size!==0,e=nr(n)?new Map(n):new Set(n),i=n.clear();return t&&An(n,"clear",void 0,void 0,e),i}function No(n,t){return function(i,r){const o=this,a=o.__v_raw,s=Et(a),l=t?Qs:n?Js:Ks;return!n&&Ne(s,"iterate",jn),a.forEach((c,d)=>i.call(r,l(c),l(d),o))}}function Fr(n,t,e){return function(...i){const r=this.__v_raw,o=Et(r),a=nr(o),s=n==="entries"||n===Symbol.iterator&&a,l=n==="keys"&&a,c=r[n](...i),d=e?Qs:t?Js:Ks;return!t&&Ne(o,"iterate",l?us:jn),{next(){const{value:g,done:m}=c.next();return m?{value:g,done:m}:{value:s?[d(g[0]),d(g[1])]:d(g),done:m}},[Symbol.iterator](){return this}}}}function vn(n){return function(...t){{const e=t[0]?`on key "${t[0]}" `:"";console.warn(`${km(n)} operation ${e}failed: target is readonly.`,Et(this))}return n==="delete"?!1:this}}var bd={get(n){return _o(this,n)},get size(){return Io(this)},has:Po,add:pd,set:gd,delete:md,clear:vd,forEach:No(!1,!1)},yd={get(n){return _o(this,n,!1,!0)},get size(){return Io(this)},has:Po,add:pd,set:gd,delete:md,clear:vd,forEach:No(!1,!0)},wd={get(n){return _o(this,n,!0)},get size(){return Io(this,!0)},has(n){return Po.call(this,n,!0)},add:vn("add"),set:vn("set"),delete:vn("delete"),clear:vn("clear"),forEach:No(!0,!1)},xd={get(n){return _o(this,n,!0,!0)},get size(){return Io(this,!0)},has(n){return Po.call(this,n,!0)},add:vn("add"),set:vn("set"),delete:vn("delete"),clear:vn("clear"),forEach:No(!0,!0)},$m=["keys","values","entries",Symbol.iterator];$m.forEach(n=>{bd[n]=Fr(n,!1,!1),wd[n]=Fr(n,!0,!1),yd[n]=Fr(n,!1,!0),xd[n]=Fr(n,!0,!0)});function Cd(n,t){const e=t?n?xd:yd:n?wd:bd;return(i,r,o)=>r==="__v_isReactive"?!n:r==="__v_isReadonly"?n:r==="__v_raw"?i:Reflect.get(ko(e,r)&&r in i?e:i,r,o)}var Vm={get:Cd(!1,!1)},Gm={get:Cd(!0,!1)};function Ad(n,t,e){const i=Et(e);if(i!==e&&t.call(n,i)){const r=ad(n);console.warn(`Reactive ${r} contains both the raw and reactive versions of the same object${r==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var Ed=new WeakMap,Km=new WeakMap,Sd=new WeakMap,Jm=new WeakMap;function Qm(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Zm(n){return n.__v_skip||!Object.isExtensible(n)?0:Qm(ad(n))}function Zs(n){return n&&n.__v_isReadonly?n:Td(n,!1,hd,Vm,Ed)}function Dd(n){return Td(n,!0,fd,Gm,Sd)}function Td(n,t,e,i,r){if(!Oo(n))return console.warn(`value cannot be made reactive: ${String(n)}`),n;if(n.__v_raw&&!(t&&n.__v_isReactive))return n;const o=r.get(n);if(o)return o;const a=Zm(n);if(a===0)return n;const s=new Proxy(n,a===2?i:e);return r.set(n,s),s}function Et(n){return n&&Et(n.__v_raw)||n}function ds(n){return Boolean(n&&n.__v_isRef===!0)}Be("nextTick",()=>Us);Be("dispatch",n=>er.bind(er,n));Be("watch",(n,{evaluateLater:t,effect:e})=>(i,r)=>{let o=t(i),a=!0,s,l=e(()=>o(c=>{JSON.stringify(c),a?s=c:queueMicrotask(()=>{r(c,s),s=c}),a=!1}));n._x_effects.delete(l)});Be("store",vm);Be("data",n=>Du(n));Be("root",n=>Do(n));Be("refs",n=>(n._x_refs_proxy||(n._x_refs_proxy=wr(tv(n))),n._x_refs_proxy));function tv(n){let t=[],e=n;for(;e;)e._x_refs&&t.push(e._x_refs),e=e.parentNode;return t}var va={};function Md(n){return va[n]||(va[n]=0),++va[n]}function ev(n,t){return To(n,e=>{if(e._x_ids&&e._x_ids[t])return!0})}function nv(n,t){n._x_ids||(n._x_ids={}),n._x_ids[t]||(n._x_ids[t]=Md(t))}Be("id",n=>(t,e=null)=>{let i=ev(n,t),r=i?i._x_ids[t]:Md(t);return e?`${t}-${r}-${e}`:`${t}-${r}`});Be("el",n=>n);kd("Focus","focus","focus");kd("Persist","persist","persist");function kd(n,t,e){Be(t,i=>xn(`You can't use [$${directiveName}] without first installing the "${n}" plugin here: https://alpinejs.dev/plugins/${e}`,i))}function iv({get:n,set:t},{get:e,set:i}){let r=!0,o,a,s=Mi(()=>{let l,c;r?(l=n(),i(l),c=e(),r=!1):(l=n(),c=e(),a=JSON.stringify(l),JSON.stringify(c),a!==o?(c=e(),i(l),c=l):(t(c),l=c)),o=JSON.stringify(l),JSON.stringify(c)});return()=>{br(s)}}Ft("modelable",(n,{expression:t},{effect:e,evaluateLater:i,cleanup:r})=>{let o=i(t),a=()=>{let d;return o(g=>d=g),d},s=i(`${t} = __placeholder`),l=d=>s(()=>{},{scope:{__placeholder:d}}),c=a();l(c),queueMicrotask(()=>{if(!n._x_model)return;n._x_removeModelListeners.default();let d=n._x_model.get,g=n._x_model.set,m=iv({get(){return d()},set(x){g(x)}},{get(){return a()},set(x){l(x)}});r(m)})});var rv=document.createElement("div");Ft("teleport",(n,{modifiers:t,expression:e},{cleanup:i})=>{n.tagName.toLowerCase()!=="template"&&xn("x-teleport can only be used on a <template> tag",n);let r=xr(()=>document.querySelector(e),()=>rv)();r||xn(`Cannot find x-teleport element for selector: "${e}"`);let o=n.content.cloneNode(!0).firstElementChild;n._x_teleport=o,o._x_teleportBack=n,n._x_forwardEvents&&n._x_forwardEvents.forEach(a=>{o.addEventListener(a,s=>{s.stopPropagation(),n.dispatchEvent(new s.constructor(s.type,s))})}),yr(o,{},n),Xt(()=>{t.includes("prepend")?r.parentNode.insertBefore(o,r):t.includes("append")?r.parentNode.insertBefore(o,r.nextSibling):r.appendChild(o),Cn(o),o._x_ignore=!0}),i(()=>o.remove())});var Od=()=>{};Od.inline=(n,{modifiers:t},{cleanup:e})=>{t.includes("self")?n._x_ignoreSelf=!0:n._x_ignore=!0,e(()=>{t.includes("self")?delete n._x_ignoreSelf:delete n._x_ignore})};Ft("ignore",Od);Ft("effect",(n,{expression:t},{effect:e})=>e(ie(n,t)));function hs(n,t,e,i){let r=n,o=l=>i(l),a={},s=(l,c)=>d=>c(l,d);if(e.includes("dot")&&(t=ov(t)),e.includes("camel")&&(t=av(t)),e.includes("passive")&&(a.passive=!0),e.includes("capture")&&(a.capture=!0),e.includes("window")&&(r=window),e.includes("document")&&(r=document),e.includes("debounce")){let l=e[e.indexOf("debounce")+1]||"invalid-wait",c=co(l.split("ms")[0])?Number(l.split("ms")[0]):250;o=Zu(o,c)}if(e.includes("throttle")){let l=e[e.indexOf("throttle")+1]||"invalid-wait",c=co(l.split("ms")[0])?Number(l.split("ms")[0]):250;o=td(o,c)}return e.includes("prevent")&&(o=s(o,(l,c)=>{c.preventDefault(),l(c)})),e.includes("stop")&&(o=s(o,(l,c)=>{c.stopPropagation(),l(c)})),e.includes("self")&&(o=s(o,(l,c)=>{c.target===n&&l(c)})),(e.includes("away")||e.includes("outside"))&&(r=document,o=s(o,(l,c)=>{n.contains(c.target)||c.target.isConnected!==!1&&(n.offsetWidth<1&&n.offsetHeight<1||n._x_isShown!==!1&&l(c))})),e.includes("once")&&(o=s(o,(l,c)=>{l(c),r.removeEventListener(t,o,a)})),o=s(o,(l,c)=>{lv(t)&&cv(c,e)||l(c)}),r.addEventListener(t,o,a),()=>{r.removeEventListener(t,o,a)}}function ov(n){return n.replace(/-/g,".")}function av(n){return n.toLowerCase().replace(/-(\w)/g,(t,e)=>e.toUpperCase())}function co(n){return!Array.isArray(n)&&!isNaN(n)}function sv(n){return[" ","_"].includes(n)?n:n.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function lv(n){return["keydown","keyup"].includes(n)}function cv(n,t){let e=t.filter(o=>!["window","document","prevent","stop","once","capture"].includes(o));if(e.includes("debounce")){let o=e.indexOf("debounce");e.splice(o,co((e[o+1]||"invalid-wait").split("ms")[0])?2:1)}if(e.includes("throttle")){let o=e.indexOf("throttle");e.splice(o,co((e[o+1]||"invalid-wait").split("ms")[0])?2:1)}if(e.length===0||e.length===1&&Zl(n.key).includes(e[0]))return!1;const r=["ctrl","shift","alt","meta","cmd","super"].filter(o=>e.includes(o));return e=e.filter(o=>!r.includes(o)),!(r.length>0&&r.filter(a=>((a==="cmd"||a==="super")&&(a="meta"),n[`${a}Key`])).length===r.length&&Zl(n.key).includes(e[0]))}function Zl(n){if(!n)return[];n=sv(n);let t={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return t[n]=n,Object.keys(t).map(e=>{if(t[e]===n)return e}).filter(e=>e)}Ft("model",(n,{modifiers:t,expression:e},{effect:i,cleanup:r})=>{let o=n;t.includes("parent")&&(o=n.parentNode);let a=ie(o,e),s;typeof e=="string"?s=ie(o,`${e} = __placeholder`):typeof e=="function"&&typeof e()=="string"?s=ie(o,`${e()} = __placeholder`):s=()=>{};let l=()=>{let m;return a(x=>m=x),tc(m)?m.get():m},c=m=>{let x;a(D=>x=D),tc(x)?x.set(m):s(()=>{},{scope:{__placeholder:m}})};typeof e=="string"&&n.type==="radio"&&Xt(()=>{n.hasAttribute("name")||n.setAttribute("name",e)});var d=n.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(n.type)||t.includes("lazy")?"change":"input";let g=gr?()=>{}:hs(n,d,t,m=>{c(uv(n,t,m,l()))});if(t.includes("fill")&&[null,""].includes(l())&&n.dispatchEvent(new Event(d,{})),n._x_removeModelListeners||(n._x_removeModelListeners={}),n._x_removeModelListeners.default=g,r(()=>n._x_removeModelListeners.default()),n.form){let m=hs(n.form,"reset",[],x=>{Us(()=>n._x_model&&n._x_model.set(n.value))});r(()=>m())}n._x_model={get(){return l()},set(m){c(m)}},n._x_forceModelUpdate=m=>{m=m===void 0?l():m,m===void 0&&typeof e=="string"&&e.match(/\./)&&(m=""),window.fromModel=!0,Xt(()=>Ku(n,"value",m)),delete window.fromModel},i(()=>{let m=l();t.includes("unintrusive")&&document.activeElement.isSameNode(n)||n._x_forceModelUpdate(m)})});function uv(n,t,e,i){return Xt(()=>{var r;if(e instanceof CustomEvent&&e.detail!==void 0)return(r=e.detail)!=null?r:e.target.value;if(n.type==="checkbox")if(Array.isArray(i)){let o=t.includes("number")?ba(e.target.value):e.target.value;return e.target.checked?i.concat([o]):i.filter(a=>!dv(a,o))}else return e.target.checked;else{if(n.tagName.toLowerCase()==="select"&&n.multiple)return t.includes("number")?Array.from(e.target.selectedOptions).map(o=>{let a=o.value||o.text;return ba(a)}):Array.from(e.target.selectedOptions).map(o=>o.value||o.text);{let o=e.target.value;return t.includes("number")?ba(o):t.includes("trim")?o.trim():o}}})}function ba(n){let t=n?parseFloat(n):null;return hv(t)?t:n}function dv(n,t){return n==t}function hv(n){return!Array.isArray(n)&&!isNaN(n)}function tc(n){return n!==null&&typeof n=="object"&&typeof n.get=="function"&&typeof n.set=="function"}Ft("cloak",n=>queueMicrotask(()=>Xt(()=>n.removeAttribute(ki("cloak")))));Uu(()=>`[${ki("init")}]`);Ft("init",xr((n,{expression:t},{evaluate:e})=>typeof t=="string"?!!t.trim()&&e(t,{},!1):e(t,{},!1)));Ft("text",(n,{expression:t},{effect:e,evaluateLater:i})=>{let r=i(t);e(()=>{r(o=>{Xt(()=>{n.textContent=o})})})});Ft("html",(n,{expression:t},{effect:e,evaluateLater:i})=>{let r=i(t);e(()=>{r(o=>{Xt(()=>{n.innerHTML=o,n._x_ignoreSelf=!0,Cn(n),delete n._x_ignoreSelf})})})});zs(Iu(":",Nu(ki("bind:"))));Ft("bind",(n,{value:t,modifiers:e,expression:i,original:r},{effect:o})=>{if(!t){let s={};ym(s),ie(n,i)(c=>{nd(n,c,r)},{scope:s});return}if(t==="key")return fv(n,i);let a=ie(n,i);o(()=>a(s=>{s===void 0&&typeof i=="string"&&i.match(/\./)&&(s=""),Xt(()=>Ku(n,t,s,e))}))});function fv(n,t){n._x_keyExpression=t}Xu(()=>`[${ki("data")}]`);Ft("data",xr((n,{expression:t},{cleanup:e})=>{t=t===""?"{}":t;let i={};es(i,n);let r={};xm(r,i);let o=gi(n,t,{scope:r});(o===void 0||o===!0)&&(o={}),es(o,n);let a=Ti(o);Tu(a);let s=yr(n,a);a.init&&gi(n,a.init),e(()=>{a.destroy&&gi(n,a.destroy),s()})}));Ft("show",(n,{modifiers:t,expression:e},{effect:i})=>{let r=ie(n,e);n._x_doHide||(n._x_doHide=()=>{Xt(()=>{n.style.setProperty("display","none",t.includes("important")?"important":void 0)})}),n._x_doShow||(n._x_doShow=()=>{Xt(()=>{n.style.length===1&&n.style.display==="none"?n.removeAttribute("style"):n.style.removeProperty("display")})});let o=()=>{n._x_doHide(),n._x_isShown=!1},a=()=>{n._x_doShow(),n._x_isShown=!0},s=()=>setTimeout(a),l=ss(g=>g?a():o(),g=>{typeof n._x_toggleAndCascadeWithTransitions=="function"?n._x_toggleAndCascadeWithTransitions(n,g,a,o):g?s():o()}),c,d=!0;i(()=>r(g=>{!d&&g===c||(t.includes("immediate")&&(g?s():o()),l(g),c=g,d=!1)}))});Ft("for",(n,{expression:t},{effect:e,cleanup:i})=>{let r=gv(t),o=ie(n,r.items),a=ie(n,n._x_keyExpression||"index");n._x_prevKeys=[],n._x_lookup={},e(()=>pv(n,r,o,a)),i(()=>{Object.values(n._x_lookup).forEach(s=>s.remove()),delete n._x_prevKeys,delete n._x_lookup})});function pv(n,t,e,i){let r=a=>typeof a=="object"&&!Array.isArray(a),o=n;e(a=>{mv(a)&&a>=0&&(a=Array.from(Array(a).keys(),M=>M+1)),a===void 0&&(a=[]);let s=n._x_lookup,l=n._x_prevKeys,c=[],d=[];if(r(a))a=Object.entries(a).map(([M,T])=>{let R=ec(t,T,M,a);i(_=>d.push(_),{scope:{index:M,...R}}),c.push(R)});else for(let M=0;M<a.length;M++){let T=ec(t,a[M],M,a);i(R=>d.push(R),{scope:{index:M,...T}}),c.push(T)}let g=[],m=[],x=[],D=[];for(let M=0;M<l.length;M++){let T=l[M];d.indexOf(T)===-1&&x.push(T)}l=l.filter(M=>!x.includes(M));let E="template";for(let M=0;M<d.length;M++){let T=d[M],R=l.indexOf(T);if(R===-1)l.splice(M,0,T),g.push([E,M]);else if(R!==M){let _=l.splice(M,1)[0],I=l.splice(R-1,1)[0];l.splice(M,0,I),l.splice(R,0,_),m.push([_,I])}else D.push(T);E=T}for(let M=0;M<x.length;M++){let T=x[M];s[T]._x_effects&&s[T]._x_effects.forEach(bu),s[T].remove(),s[T]=null,delete s[T]}for(let M=0;M<m.length;M++){let[T,R]=m[M],_=s[T],I=s[R],L=document.createElement("div");Xt(()=>{I||xn('x-for ":key" is undefined or invalid',o),I.after(L),_.after(I),I._x_currentIfEl&&I.after(I._x_currentIfEl),L.before(_),_._x_currentIfEl&&_.after(_._x_currentIfEl),L.remove()}),I._x_refreshXForScope(c[d.indexOf(R)])}for(let M=0;M<g.length;M++){let[T,R]=g[M],_=T==="template"?o:s[T];_._x_currentIfEl&&(_=_._x_currentIfEl);let I=c[R],L=d[R],S=document.importNode(o.content,!0).firstElementChild,B=Ti(I);yr(S,B,o),S._x_refreshXForScope=Q=>{Object.entries(Q).forEach(([Z,pt])=>{B[Z]=pt})},Xt(()=>{_.after(S),Cn(S)}),typeof L=="object"&&xn("x-for key cannot be an object, it must be a string or an integer",o),s[L]=S}for(let M=0;M<D.length;M++)s[D[M]]._x_refreshXForScope(c[d.indexOf(D[M])]);o._x_prevKeys=d})}function gv(n){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,e=/^\s*\(|\)\s*$/g,i=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,r=n.match(i);if(!r)return;let o={};o.items=r[2].trim();let a=r[1].replace(e,"").trim(),s=a.match(t);return s?(o.item=a.replace(t,"").trim(),o.index=s[1].trim(),s[2]&&(o.collection=s[2].trim())):o.item=a,o}function ec(n,t,e,i){let r={};return/^\[.*\]$/.test(n.item)&&Array.isArray(t)?n.item.replace("[","").replace("]","").split(",").map(a=>a.trim()).forEach((a,s)=>{r[a]=t[s]}):/^\{.*\}$/.test(n.item)&&!Array.isArray(t)&&typeof t=="object"?n.item.replace("{","").replace("}","").split(",").map(a=>a.trim()).forEach(a=>{r[a]=t[a]}):r[n.item]=t,n.index&&(r[n.index]=e),n.collection&&(r[n.collection]=i),r}function mv(n){return!Array.isArray(n)&&!isNaN(n)}function Ld(){}Ld.inline=(n,{expression:t},{cleanup:e})=>{let i=Do(n);i._x_refs||(i._x_refs={}),i._x_refs[t]=n,e(()=>delete i._x_refs[t])};Ft("ref",Ld);Ft("if",(n,{expression:t},{effect:e,cleanup:i})=>{let r=ie(n,t),o=()=>{if(n._x_currentIfEl)return n._x_currentIfEl;let s=n.content.cloneNode(!0).firstElementChild;return yr(s,{},n),Xt(()=>{n.after(s),Cn(s)}),n._x_currentIfEl=s,n._x_undoIf=()=>{wn(s,l=>{l._x_effects&&l._x_effects.forEach(bu)}),s.remove(),delete n._x_currentIfEl},s},a=()=>{!n._x_undoIf||(n._x_undoIf(),delete n._x_undoIf)};e(()=>r(s=>{s?o():a()})),i(()=>n._x_undoIf&&n._x_undoIf())});Ft("id",(n,{expression:t},{evaluate:e})=>{e(t).forEach(r=>nv(n,r))});zs(Iu("@",Nu(ki("on:"))));Ft("on",xr((n,{value:t,modifiers:e,expression:i},{cleanup:r})=>{let o=i?ie(n,i):()=>{};n.tagName.toLowerCase()==="template"&&(n._x_forwardEvents||(n._x_forwardEvents=[]),n._x_forwardEvents.includes(t)||n._x_forwardEvents.push(t));let a=hs(n,t,e,s=>{o(()=>{},{scope:{$event:s},params:[s]})});r(()=>a())}));Bo("Collapse","collapse","collapse");Bo("Intersect","intersect","intersect");Bo("Focus","trap","focus");Bo("Mask","mask","mask");function Bo(n,t,e){Ft(t,i=>xn(`You can't use [x-${t}] without first installing the "${n}" plugin here: https://alpinejs.dev/plugins/${e}`,i))}Cr.setEvaluator(Lu);Cr.setReactivityEngine({reactive:Zs,effect:Lm,release:Rm,raw:Et});var vv=Cr,Oi=vv;function bv(n){n.directive("collapse",t),t.inline=(e,{modifiers:i})=>{!i.includes("min")||(e._x_doShow=()=>{},e._x_doHide=()=>{})};function t(e,{modifiers:i}){let r=nc(i,"duration",250)/1e3,o=nc(i,"min",0),a=!i.includes("min");e._x_isShown||(e.style.height=`${o}px`),!e._x_isShown&&a&&(e.hidden=!0),e._x_isShown||(e.style.overflow="hidden");let s=(c,d)=>{let g=n.setStyles(c,d);return d.height?()=>{}:g},l={transitionProperty:"height",transitionDuration:`${r}s`,transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)"};e._x_transition={in(c=()=>{},d=()=>{}){a&&(e.hidden=!1),a&&(e.style.display=null);let g=e.getBoundingClientRect().height;e.style.height="auto";let m=e.getBoundingClientRect().height;g===m&&(g=o),n.transition(e,n.setStyles,{during:l,start:{height:g+"px"},end:{height:m+"px"}},()=>e._x_isShown=!0,()=>{e.getBoundingClientRect().height==m&&(e.style.overflow=null)})},out(c=()=>{},d=()=>{}){let g=e.getBoundingClientRect().height;n.transition(e,s,{during:l,start:{height:g+"px"},end:{height:o+"px"}},()=>e.style.overflow="hidden",()=>{e._x_isShown=!1,e.style.height==`${o}px`&&a&&(e.style.display="none",e.hidden=!0)})}}}}function nc(n,t,e){if(n.indexOf(t)===-1)return e;const i=n[n.indexOf(t)+1];if(!i)return e;if(t==="duration"){let r=i.match(/([0-9]+)ms/);if(r)return r[1]}if(t==="min"){let r=i.match(/([0-9]+)px/);if(r)return r[1]}return i}var yv=bv;/*!
* tabbable 5.2.1
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Rd=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],ic=Rd.join(","),uo=typeof Element>"u"?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,_d=function(t,e,i){var r=Array.prototype.slice.apply(t.querySelectorAll(ic));return e&&uo.call(t,ic)&&r.unshift(t),r=r.filter(i),r},wv=function(t){return t.contentEditable==="true"},Pd=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return isNaN(e)?wv(t)||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e},xv=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},tl=function(t){return t.tagName==="INPUT"},Cv=function(t){return tl(t)&&t.type==="hidden"},Av=function(t){var e=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(i){return i.tagName==="SUMMARY"});return e},Ev=function(t,e){for(var i=0;i<t.length;i++)if(t[i].checked&&t[i].form===e)return t[i]},Sv=function(t){if(!t.name)return!0;var e=t.form||t.ownerDocument,i=function(s){return e.querySelectorAll('input[type="radio"][name="'+s+'"]')},r;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")r=i(window.CSS.escape(t.name));else try{r=i(t.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var o=Ev(r,t.form);return!o||o===t},Dv=function(t){return tl(t)&&t.type==="radio"},Tv=function(t){return Dv(t)&&!Sv(t)},Mv=function(t,e){if(getComputedStyle(t).visibility==="hidden")return!0;var i=uo.call(t,"details>summary:first-of-type"),r=i?t.parentElement:t;if(uo.call(r,"details:not([open]) *"))return!0;if(!e||e==="full")for(;t;){if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}else if(e==="non-zero-area"){var o=t.getBoundingClientRect(),a=o.width,s=o.height;return a===0&&s===0}return!1},kv=function(t){if(tl(t)||t.tagName==="SELECT"||t.tagName==="TEXTAREA"||t.tagName==="BUTTON")for(var e=t.parentElement;e;){if(e.tagName==="FIELDSET"&&e.disabled){for(var i=0;i<e.children.length;i++){var r=e.children.item(i);if(r.tagName==="LEGEND")return!r.contains(t)}return!0}e=e.parentElement}return!1},el=function(t,e){return!(e.disabled||Cv(e)||Mv(e,t.displayCheck)||Av(e)||kv(e))},Ov=function(t,e){return!(!el(t,e)||Tv(e)||Pd(e)<0)},Lv=function(t,e){e=e||{};var i=[],r=[],o=_d(t,e.includeContainer,Ov.bind(null,e));o.forEach(function(s,l){var c=Pd(s);c===0?i.push(s):r.push({documentOrder:l,tabIndex:c,node:s})});var a=r.sort(xv).map(function(s){return s.node}).concat(i);return a},Rv=function(t,e){e=e||{};var i=_d(t,e.includeContainer,el.bind(null,e));return i},_v=Rd.concat("iframe").join(","),Id=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return uo.call(t,_v)===!1?!1:el(e,t)};/*!
* focus-trap 6.6.1
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function rc(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Pv(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?rc(Object(e),!0).forEach(function(i){Iv(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):rc(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Iv(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var oc=function(){var n=[];return{activateTrap:function(e){if(n.length>0){var i=n[n.length-1];i!==e&&i.pause()}var r=n.indexOf(e);r===-1||n.splice(r,1),n.push(e)},deactivateTrap:function(e){var i=n.indexOf(e);i!==-1&&n.splice(i,1),n.length>0&&n[n.length-1].unpause()}}}(),Nv=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},Bv=function(t){return t.key==="Escape"||t.key==="Esc"||t.keyCode===27},Fv=function(t){return t.key==="Tab"||t.keyCode===9},ac=function(t){return setTimeout(t,0)},ya=function(t,e){var i=-1;return t.every(function(r,o){return e(r)?(i=o,!1):!0}),i},Ui=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return typeof t=="function"?t.apply(void 0,i):t},Wv=function(t,e){var i=document,r=Pv({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},e),o={containers:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},a,s=function(S,B,Q){return S&&S[B]!==void 0?S[B]:r[Q||B]},l=function(S){return o.containers.some(function(B){return B.contains(S)})},c=function(S){var B=r[S];if(!B)return null;var Q=B;if(typeof B=="string"&&(Q=i.querySelector(B),!Q))throw new Error("`".concat(S,"` refers to no known node"));if(typeof B=="function"&&(Q=B(),!Q))throw new Error("`".concat(S,"` did not return a node"));return Q},d=function(){var S;if(s({},"initialFocus")===!1)return!1;if(c("initialFocus")!==null)S=c("initialFocus");else if(l(i.activeElement))S=i.activeElement;else{var B=o.tabbableGroups[0],Q=B&&B.firstTabbableNode;S=Q||c("fallbackFocus")}if(!S)throw new Error("Your focus-trap needs to have at least one focusable element");return S},g=function(){if(o.tabbableGroups=o.containers.map(function(S){var B=Lv(S);if(B.length>0)return{container:S,firstTabbableNode:B[0],lastTabbableNode:B[B.length-1]}}).filter(function(S){return!!S}),o.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},m=function L(S){if(S!==!1&&S!==i.activeElement){if(!S||!S.focus){L(d());return}S.focus({preventScroll:!!r.preventScroll}),o.mostRecentlyFocusedNode=S,Nv(S)&&S.select()}},x=function(S){var B=c("setReturnFocus");return B||S},D=function(S){if(!l(S.target)){if(Ui(r.clickOutsideDeactivates,S)){a.deactivate({returnFocus:r.returnFocusOnDeactivate&&!Id(S.target)});return}Ui(r.allowOutsideClick,S)||S.preventDefault()}},E=function(S){var B=l(S.target);B||S.target instanceof Document?B&&(o.mostRecentlyFocusedNode=S.target):(S.stopImmediatePropagation(),m(o.mostRecentlyFocusedNode||d()))},M=function(S){g();var B=null;if(o.tabbableGroups.length>0){var Q=ya(o.tabbableGroups,function(St){var wt=St.container;return wt.contains(S.target)});if(Q<0)S.shiftKey?B=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:B=o.tabbableGroups[0].firstTabbableNode;else if(S.shiftKey){var Z=ya(o.tabbableGroups,function(St){var wt=St.firstTabbableNode;return S.target===wt});if(Z<0&&o.tabbableGroups[Q].container===S.target&&(Z=Q),Z>=0){var pt=Z===0?o.tabbableGroups.length-1:Z-1,H=o.tabbableGroups[pt];B=H.lastTabbableNode}}else{var z=ya(o.tabbableGroups,function(St){var wt=St.lastTabbableNode;return S.target===wt});if(z<0&&o.tabbableGroups[Q].container===S.target&&(z=Q),z>=0){var tt=z===o.tabbableGroups.length-1?0:z+1,dt=o.tabbableGroups[tt];B=dt.firstTabbableNode}}}else B=c("fallbackFocus");B&&(S.preventDefault(),m(B))},T=function(S){if(Bv(S)&&Ui(r.escapeDeactivates)!==!1){S.preventDefault(),a.deactivate();return}if(Fv(S)){M(S);return}},R=function(S){Ui(r.clickOutsideDeactivates,S)||l(S.target)||Ui(r.allowOutsideClick,S)||(S.preventDefault(),S.stopImmediatePropagation())},_=function(){if(!!o.active)return oc.activateTrap(a),o.delayInitialFocusTimer=r.delayInitialFocus?ac(function(){m(d())}):m(d()),i.addEventListener("focusin",E,!0),i.addEventListener("mousedown",D,{capture:!0,passive:!1}),i.addEventListener("touchstart",D,{capture:!0,passive:!1}),i.addEventListener("click",R,{capture:!0,passive:!1}),i.addEventListener("keydown",T,{capture:!0,passive:!1}),a},I=function(){if(!!o.active)return i.removeEventListener("focusin",E,!0),i.removeEventListener("mousedown",D,!0),i.removeEventListener("touchstart",D,!0),i.removeEventListener("click",R,!0),i.removeEventListener("keydown",T,!0),a};return a={activate:function(S){if(o.active)return this;var B=s(S,"onActivate"),Q=s(S,"onPostActivate"),Z=s(S,"checkCanFocusTrap");Z||g(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=i.activeElement,B&&B();var pt=function(){Z&&g(),_(),Q&&Q()};return Z?(Z(o.containers.concat()).then(pt,pt),this):(pt(),this)},deactivate:function(S){if(!o.active)return this;clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,I(),o.active=!1,o.paused=!1,oc.deactivateTrap(a);var B=s(S,"onDeactivate"),Q=s(S,"onPostDeactivate"),Z=s(S,"checkCanReturnFocus");B&&B();var pt=s(S,"returnFocus","returnFocusOnDeactivate"),H=function(){ac(function(){pt&&m(x(o.nodeFocusedBeforeActivation)),Q&&Q()})};return pt&&Z?(Z(x(o.nodeFocusedBeforeActivation)).then(H,H),this):(H(),this)},pause:function(){return o.paused||!o.active?this:(o.paused=!0,I(),this)},unpause:function(){return!o.paused||!o.active?this:(o.paused=!1,g(),_(),this)},updateContainerElements:function(S){var B=[].concat(S).filter(Boolean);return o.containers=B.map(function(Q){return typeof Q=="string"?i.querySelector(Q):Q}),o.active&&g(),this}},a.updateContainerElements(t),a};function jv(n){let t,e;window.addEventListener("focusin",()=>{t=e,e=document.activeElement}),n.magic("focus",i=>{let r=i;return{__noscroll:!1,__wrapAround:!1,within(o){return r=o,this},withoutScrolling(){return this.__noscroll=!0,this},noscroll(){return this.__noscroll=!0,this},withWrapAround(){return this.__wrapAround=!0,this},wrap(){return this.withWrapAround()},focusable(o){return Id(o)},previouslyFocused(){return t},lastFocused(){return t},focused(){return e},focusables(){return Array.isArray(r)?r:Rv(r,{displayCheck:"none"})},all(){return this.focusables()},isFirst(o){let a=this.all();return a[0]&&a[0].isSameNode(o)},isLast(o){let a=this.all();return a.length&&a.slice(-1)[0].isSameNode(o)},getFirst(){return this.all()[0]},getLast(){return this.all().slice(-1)[0]},getNext(){let o=this.all(),a=document.activeElement;if(o.indexOf(a)!==-1)return this.__wrapAround&&o.indexOf(a)===o.length-1?o[0]:o[o.indexOf(a)+1]},getPrevious(){let o=this.all(),a=document.activeElement;if(o.indexOf(a)!==-1)return this.__wrapAround&&o.indexOf(a)===0?o.slice(-1)[0]:o[o.indexOf(a)-1]},first(){this.focus(this.getFirst())},last(){this.focus(this.getLast())},next(){this.focus(this.getNext())},previous(){this.focus(this.getPrevious())},prev(){return this.previous()},focus(o){!o||setTimeout(()=>{o.hasAttribute("tabindex")||o.setAttribute("tabindex","0"),o.focus({preventScroll:this._noscroll})})}}}),n.directive("trap",n.skipDuringClone((i,{expression:r,modifiers:o},{effect:a,evaluateLater:s,cleanup:l})=>{let c=s(r),d=!1,g={escapeDeactivates:!1,allowOutsideClick:!0,fallbackFocus:()=>i},m=i.querySelector("[autofocus]");m&&(g.initialFocus=m);let x=Wv(i,g),D=()=>{},E=()=>{};const M=()=>{D(),D=()=>{},E(),E=()=>{},x.deactivate({returnFocus:!o.includes("noreturn")})};a(()=>c(T=>{d!==T&&(T&&!d&&setTimeout(()=>{o.includes("inert")&&(D=sc(i)),o.includes("noscroll")&&(E=Hv()),x.activate()}),!T&&d&&M(),d=!!T)})),l(M)},(i,{expression:r,modifiers:o},{evaluate:a})=>{o.includes("inert")&&a(r)&&sc(i)}))}function sc(n){let t=[];return Nd(n,e=>{let i=e.hasAttribute("aria-hidden");e.setAttribute("aria-hidden","true"),t.push(()=>i||e.removeAttribute("aria-hidden"))}),()=>{for(;t.length;)t.pop()()}}function Nd(n,t){n.isSameNode(document.body)||!n.parentNode||Array.from(n.parentNode.children).forEach(e=>{e.isSameNode(n)?Nd(n.parentNode,t):t(e)})}function Hv(){let n=document.documentElement.style.overflow,t=document.documentElement.style.paddingRight,e=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${e}px`,()=>{document.documentElement.style.overflow=n,document.documentElement.style.paddingRight=t}}var zv=jv;function Yv(n){n.directive("intersect",(t,{value:e,expression:i,modifiers:r},{evaluateLater:o,cleanup:a})=>{let s=o(i),l={rootMargin:qv(r),threshold:Xv(r)},c=new IntersectionObserver(d=>{d.forEach(g=>{g.isIntersecting!==(e==="leave")&&(s(),r.includes("once")&&c.disconnect())})},l);c.observe(t),a(()=>{c.disconnect()})})}function Xv(n){if(n.includes("full"))return .99;if(n.includes("half"))return .5;if(!n.includes("threshold"))return 0;let t=n[n.indexOf("threshold")+1];return t==="100"?1:t==="0"?0:Number(`.${t}`)}function Uv(n){let t=n.match(/^(-?[0-9]+)(px|%)?$/);return t?t[1]+(t[2]||"px"):void 0}function qv(n){const t="margin",e="0px 0px 0px 0px",i=n.indexOf(t);if(i===-1)return e;let r=[];for(let o=1;o<5;o++)r.push(Uv(n[i+o]||""));return r=r.filter(o=>o!==void 0),r.length?r.join(" ").trim():e}var $v=Yv;/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function lc(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function qe(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?lc(Object(e),!0).forEach(function(i){Vv(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):lc(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Kr(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kr=function(t){return typeof t}:Kr=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kr(n)}function Vv(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function rn(){return rn=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},rn.apply(this,arguments)}function Gv(n,t){if(n==null)return{};var e={},i=Object.keys(n),r,o;for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&(e[r]=n[r]);return e}function Kv(n,t){if(n==null)return{};var e=Gv(n,t),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,i)||(e[i]=n[i]))}return e}var Jv="1.15.0";function nn(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var an=nn(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ar=nn(/Edge/i),cc=nn(/firefox/i),ir=nn(/safari/i)&&!nn(/chrome/i)&&!nn(/android/i),Bd=nn(/iP(ad|od|hone)/i),Fd=nn(/chrome/i)&&nn(/android/i),Wd={capture:!1,passive:!1};function mt(n,t,e){n.addEventListener(t,e,!an&&Wd)}function ht(n,t,e){n.removeEventListener(t,e,!an&&Wd)}function ho(n,t){if(!!t){if(t[0]===">"&&(t=t.substring(1)),n)try{if(n.matches)return n.matches(t);if(n.msMatchesSelector)return n.msMatchesSelector(t);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(t)}catch{return!1}return!1}}function Qv(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function Ye(n,t,e,i){if(n){e=e||document;do{if(t!=null&&(t[0]===">"?n.parentNode===e&&ho(n,t):ho(n,t))||i&&n===e)return n;if(n===e)break}while(n=Qv(n))}return null}var uc=/\s+/g;function ge(n,t,e){if(n&&t)if(n.classList)n.classList[e?"add":"remove"](t);else{var i=(" "+n.className+" ").replace(uc," ").replace(" "+t+" "," ");n.className=(i+(e?" "+t:"")).replace(uc," ")}}function nt(n,t,e){var i=n&&n.style;if(i){if(e===void 0)return document.defaultView&&document.defaultView.getComputedStyle?e=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(e=n.currentStyle),t===void 0?e:e[t];!(t in i)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),i[t]=e+(typeof e=="string"?"":"px")}}function mi(n,t){var e="";if(typeof n=="string")e=n;else do{var i=nt(n,"transform");i&&i!=="none"&&(e=i+" "+e)}while(!t&&(n=n.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(e)}function jd(n,t,e){if(n){var i=n.getElementsByTagName(t),r=0,o=i.length;if(e)for(;r<o;r++)e(i[r],r);return i}return[]}function Ue(){var n=document.scrollingElement;return n||document.documentElement}function Ht(n,t,e,i,r){if(!(!n.getBoundingClientRect&&n!==window)){var o,a,s,l,c,d,g;if(n!==window&&n.parentNode&&n!==Ue()?(o=n.getBoundingClientRect(),a=o.top,s=o.left,l=o.bottom,c=o.right,d=o.height,g=o.width):(a=0,s=0,l=window.innerHeight,c=window.innerWidth,d=window.innerHeight,g=window.innerWidth),(t||e)&&n!==window&&(r=r||n.parentNode,!an))do if(r&&r.getBoundingClientRect&&(nt(r,"transform")!=="none"||e&&nt(r,"position")!=="static")){var m=r.getBoundingClientRect();a-=m.top+parseInt(nt(r,"border-top-width")),s-=m.left+parseInt(nt(r,"border-left-width")),l=a+o.height,c=s+o.width;break}while(r=r.parentNode);if(i&&n!==window){var x=mi(r||n),D=x&&x.a,E=x&&x.d;x&&(a/=E,s/=D,g/=D,d/=E,l=a+d,c=s+g)}return{top:a,left:s,bottom:l,right:c,width:g,height:d}}}function dc(n,t,e){for(var i=bn(n,!0),r=Ht(n)[t];i;){var o=Ht(i)[e],a=void 0;if(e==="top"||e==="left"?a=r>=o:a=r<=o,!a)return i;if(i===Ue())break;i=bn(i,!1)}return!1}function Ei(n,t,e,i){for(var r=0,o=0,a=n.children;o<a.length;){if(a[o].style.display!=="none"&&a[o]!==it.ghost&&(i||a[o]!==it.dragged)&&Ye(a[o],e.draggable,n,!1)){if(r===t)return a[o];r++}o++}return null}function nl(n,t){for(var e=n.lastElementChild;e&&(e===it.ghost||nt(e,"display")==="none"||t&&!ho(e,t));)e=e.previousElementSibling;return e||null}function ke(n,t){var e=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==it.clone&&(!t||ho(n,t))&&e++;return e}function hc(n){var t=0,e=0,i=Ue();if(n)do{var r=mi(n),o=r.a,a=r.d;t+=n.scrollLeft*o,e+=n.scrollTop*a}while(n!==i&&(n=n.parentNode));return[t,e]}function Zv(n,t){for(var e in n)if(!!n.hasOwnProperty(e)){for(var i in t)if(t.hasOwnProperty(i)&&t[i]===n[e][i])return Number(e)}return-1}function bn(n,t){if(!n||!n.getBoundingClientRect)return Ue();var e=n,i=!1;do if(e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight){var r=nt(e);if(e.clientWidth<e.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||e.clientHeight<e.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!e.getBoundingClientRect||e===document.body)return Ue();if(i||t)return e;i=!0}}while(e=e.parentNode);return Ue()}function tb(n,t){if(n&&t)for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function wa(n,t){return Math.round(n.top)===Math.round(t.top)&&Math.round(n.left)===Math.round(t.left)&&Math.round(n.height)===Math.round(t.height)&&Math.round(n.width)===Math.round(t.width)}var rr;function Hd(n,t){return function(){if(!rr){var e=arguments,i=this;e.length===1?n.call(i,e[0]):n.apply(i,e),rr=setTimeout(function(){rr=void 0},t)}}}function eb(){clearTimeout(rr),rr=void 0}function zd(n,t,e){n.scrollLeft+=t,n.scrollTop+=e}function Yd(n){var t=window.Polymer,e=window.jQuery||window.Zepto;return t&&t.dom?t.dom(n).cloneNode(!0):e?e(n).clone(!0)[0]:n.cloneNode(!0)}var be="Sortable"+new Date().getTime();function nb(){var n=[],t;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(r){if(!(nt(r,"display")==="none"||r===it.ghost)){n.push({target:r,rect:Ht(r)});var o=qe({},n[n.length-1].rect);if(r.thisAnimationDuration){var a=mi(r,!0);a&&(o.top-=a.f,o.left-=a.e)}r.fromRect=o}})}},addAnimationState:function(i){n.push(i)},removeAnimationState:function(i){n.splice(Zv(n,{target:i}),1)},animateAll:function(i){var r=this;if(!this.options.animation){clearTimeout(t),typeof i=="function"&&i();return}var o=!1,a=0;n.forEach(function(s){var l=0,c=s.target,d=c.fromRect,g=Ht(c),m=c.prevFromRect,x=c.prevToRect,D=s.rect,E=mi(c,!0);E&&(g.top-=E.f,g.left-=E.e),c.toRect=g,c.thisAnimationDuration&&wa(m,g)&&!wa(d,g)&&(D.top-g.top)/(D.left-g.left)===(d.top-g.top)/(d.left-g.left)&&(l=rb(D,m,x,r.options)),wa(g,d)||(c.prevFromRect=d,c.prevToRect=g,l||(l=r.options.animation),r.animate(c,D,g,l)),l&&(o=!0,a=Math.max(a,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(t),o?t=setTimeout(function(){typeof i=="function"&&i()},a):typeof i=="function"&&i(),n=[]},animate:function(i,r,o,a){if(a){nt(i,"transition",""),nt(i,"transform","");var s=mi(this.el),l=s&&s.a,c=s&&s.d,d=(r.left-o.left)/(l||1),g=(r.top-o.top)/(c||1);i.animatingX=!!d,i.animatingY=!!g,nt(i,"transform","translate3d("+d+"px,"+g+"px,0)"),this.forRepaintDummy=ib(i),nt(i,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),nt(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){nt(i,"transition",""),nt(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},a)}}}}function ib(n){return n.offsetWidth}function rb(n,t,e,i){return Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))/Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))*i.animation}var ai=[],xa={initializeByDefault:!0},Er={mount:function(t){for(var e in xa)xa.hasOwnProperty(e)&&!(e in t)&&(t[e]=xa[e]);ai.forEach(function(i){if(i.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),ai.push(t)},pluginEvent:function(t,e,i){var r=this;this.eventCanceled=!1,i.cancel=function(){r.eventCanceled=!0};var o=t+"Global";ai.forEach(function(a){!e[a.pluginName]||(e[a.pluginName][o]&&e[a.pluginName][o](qe({sortable:e},i)),e.options[a.pluginName]&&e[a.pluginName][t]&&e[a.pluginName][t](qe({sortable:e},i)))})},initializePlugins:function(t,e,i,r){ai.forEach(function(s){var l=s.pluginName;if(!(!t.options[l]&&!s.initializeByDefault)){var c=new s(t,e,t.options);c.sortable=t,c.options=t.options,t[l]=c,rn(i,c.defaults)}});for(var o in t.options)if(!!t.options.hasOwnProperty(o)){var a=this.modifyOption(t,o,t.options[o]);typeof a<"u"&&(t.options[o]=a)}},getEventProperties:function(t,e){var i={};return ai.forEach(function(r){typeof r.eventProperties=="function"&&rn(i,r.eventProperties.call(e[r.pluginName],t))}),i},modifyOption:function(t,e,i){var r;return ai.forEach(function(o){!t[o.pluginName]||o.optionListeners&&typeof o.optionListeners[e]=="function"&&(r=o.optionListeners[e].call(t[o.pluginName],i))}),r}};function ob(n){var t=n.sortable,e=n.rootEl,i=n.name,r=n.targetEl,o=n.cloneEl,a=n.toEl,s=n.fromEl,l=n.oldIndex,c=n.newIndex,d=n.oldDraggableIndex,g=n.newDraggableIndex,m=n.originalEvent,x=n.putSortable,D=n.extraEventProperties;if(t=t||e&&e[be],!!t){var E,M=t.options,T="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!an&&!Ar?E=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(E=document.createEvent("Event"),E.initEvent(i,!0,!0)),E.to=a||e,E.from=s||e,E.item=r||e,E.clone=o,E.oldIndex=l,E.newIndex=c,E.oldDraggableIndex=d,E.newDraggableIndex=g,E.originalEvent=m,E.pullMode=x?x.lastPutMode:void 0;var R=qe(qe({},D),Er.getEventProperties(i,t));for(var _ in R)E[_]=R[_];e&&e.dispatchEvent(E),M[T]&&M[T].call(t,E)}}var ab=["evt"],oe=function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=i.evt,o=Kv(i,ab);Er.pluginEvent.bind(it)(t,e,qe({dragEl:W,parentEl:Ot,ghostEl:st,rootEl:At,nextEl:_n,lastDownEl:Jr,cloneEl:Dt,cloneHidden:gn,dragStarted:Gi,putSortable:Gt,activeSortable:it.active,originalEvent:r,oldIndex:di,oldDraggableIndex:or,newIndex:me,newDraggableIndex:fn,hideGhostForTarget:$d,unhideGhostForTarget:Vd,cloneNowHidden:function(){gn=!0},cloneNowShown:function(){gn=!1},dispatchSortableEvent:function(s){ne({sortable:e,name:s,originalEvent:r})}},o))};function ne(n){ob(qe({putSortable:Gt,cloneEl:Dt,targetEl:W,rootEl:At,oldIndex:di,oldDraggableIndex:or,newIndex:me,newDraggableIndex:fn},n))}var W,Ot,st,At,_n,Jr,Dt,gn,di,me,or,fn,Wr,Gt,li=!1,fo=!1,po=[],kn,Pe,Ca,Aa,fc,pc,Gi,si,ar,sr=!1,jr=!1,Qr,Jt,Ea=[],fs=!1,go=[],Fo=typeof document<"u",Hr=Bd,gc=Ar||an?"cssFloat":"float",sb=Fo&&!Fd&&!Bd&&"draggable"in document.createElement("div"),Xd=function(){if(!!Fo){if(an)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),Ud=function(t,e){var i=nt(t),r=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),o=Ei(t,0,e),a=Ei(t,1,e),s=o&&nt(o),l=a&&nt(a),c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Ht(o).width,d=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Ht(a).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&s.float&&s.float!=="none"){var g=s.float==="left"?"left":"right";return a&&(l.clear==="both"||l.clear===g)?"vertical":"horizontal"}return o&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||c>=r&&i[gc]==="none"||a&&i[gc]==="none"&&c+d>r)?"vertical":"horizontal"},lb=function(t,e,i){var r=i?t.left:t.top,o=i?t.right:t.bottom,a=i?t.width:t.height,s=i?e.left:e.top,l=i?e.right:e.bottom,c=i?e.width:e.height;return r===s||o===l||r+a/2===s+c/2},cb=function(t,e){var i;return po.some(function(r){var o=r[be].options.emptyInsertThreshold;if(!(!o||nl(r))){var a=Ht(r),s=t>=a.left-o&&t<=a.right+o,l=e>=a.top-o&&e<=a.bottom+o;if(s&&l)return i=r}}),i},qd=function(t){function e(o,a){return function(s,l,c,d){var g=s.options.group.name&&l.options.group.name&&s.options.group.name===l.options.group.name;if(o==null&&(a||g))return!0;if(o==null||o===!1)return!1;if(a&&o==="clone")return o;if(typeof o=="function")return e(o(s,l,c,d),a)(s,l,c,d);var m=(a?s:l).options.group.name;return o===!0||typeof o=="string"&&o===m||o.join&&o.indexOf(m)>-1}}var i={},r=t.group;(!r||Kr(r)!="object")&&(r={name:r}),i.name=r.name,i.checkPull=e(r.pull,!0),i.checkPut=e(r.put),i.revertClone=r.revertClone,t.group=i},$d=function(){!Xd&&st&&nt(st,"display","none")},Vd=function(){!Xd&&st&&nt(st,"display","")};Fo&&!Fd&&document.addEventListener("click",function(n){if(fo)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),fo=!1,!1},!0);var On=function(t){if(W){t=t.touches?t.touches[0]:t;var e=cb(t.clientX,t.clientY);if(e){var i={};for(var r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);i.target=i.rootEl=e,i.preventDefault=void 0,i.stopPropagation=void 0,e[be]._onDragOver(i)}}},ub=function(t){W&&W.parentNode[be]._isOutsideThisEl(t.target)};function it(n,t){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=t=rn({},t),n[be]=this;var e={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ud(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,s){a.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:it.supportPointer!==!1&&"PointerEvent"in window&&!ir,emptyInsertThreshold:5};Er.initializePlugins(this,n,e);for(var i in e)!(i in t)&&(t[i]=e[i]);qd(t);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=t.forceFallback?!1:sb,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?mt(n,"pointerdown",this._onTapStart):(mt(n,"mousedown",this._onTapStart),mt(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(mt(n,"dragover",this),mt(n,"dragenter",this)),po.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),rn(this,nb())}it.prototype={constructor:it,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(si=null)},_getDirection:function(t,e){return typeof this.options.direction=="function"?this.options.direction.call(this,t,e,W):this.options.direction},_onTapStart:function(t){if(!!t.cancelable){var e=this,i=this.el,r=this.options,o=r.preventOnFilter,a=t.type,s=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(s||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,d=r.filter;if(bb(i),!W&&!(/mousedown|pointerdown/.test(a)&&t.button!==0||r.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&ir&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Ye(l,r.draggable,i,!1),!(l&&l.animated)&&Jr!==l)){if(di=ke(l),or=ke(l,r.draggable),typeof d=="function"){if(d.call(this,t,l,this)){ne({sortable:e,rootEl:c,name:"filter",targetEl:l,toEl:i,fromEl:i}),oe("filter",e,{evt:t}),o&&t.cancelable&&t.preventDefault();return}}else if(d&&(d=d.split(",").some(function(g){if(g=Ye(c,g.trim(),i,!1),g)return ne({sortable:e,rootEl:g,name:"filter",targetEl:l,fromEl:i,toEl:i}),oe("filter",e,{evt:t}),!0}),d)){o&&t.cancelable&&t.preventDefault();return}r.handle&&!Ye(c,r.handle,i,!1)||this._prepareDragStart(t,s,l)}}},_prepareDragStart:function(t,e,i){var r=this,o=r.el,a=r.options,s=o.ownerDocument,l;if(i&&!W&&i.parentNode===o){var c=Ht(i);if(At=o,W=i,Ot=W.parentNode,_n=W.nextSibling,Jr=i,Wr=a.group,it.dragged=W,kn={target:W,clientX:(e||t).clientX,clientY:(e||t).clientY},fc=kn.clientX-c.left,pc=kn.clientY-c.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,W.style["will-change"]="all",l=function(){if(oe("delayEnded",r,{evt:t}),it.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!cc&&r.nativeDraggable&&(W.draggable=!0),r._triggerDragStart(t,e),ne({sortable:r,name:"choose",originalEvent:t}),ge(W,a.chosenClass,!0)},a.ignore.split(",").forEach(function(d){jd(W,d.trim(),Sa)}),mt(s,"dragover",On),mt(s,"mousemove",On),mt(s,"touchmove",On),mt(s,"mouseup",r._onDrop),mt(s,"touchend",r._onDrop),mt(s,"touchcancel",r._onDrop),cc&&this.nativeDraggable&&(this.options.touchStartThreshold=4,W.draggable=!0),oe("delayStart",this,{evt:t}),a.delay&&(!a.delayOnTouchOnly||e)&&(!this.nativeDraggable||!(Ar||an))){if(it.eventCanceled){this._onDrop();return}mt(s,"mouseup",r._disableDelayedDrag),mt(s,"touchend",r._disableDelayedDrag),mt(s,"touchcancel",r._disableDelayedDrag),mt(s,"mousemove",r._delayedDragTouchMoveHandler),mt(s,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&mt(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(l,a.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){W&&Sa(W),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;ht(t,"mouseup",this._disableDelayedDrag),ht(t,"touchend",this._disableDelayedDrag),ht(t,"touchcancel",this._disableDelayedDrag),ht(t,"mousemove",this._delayedDragTouchMoveHandler),ht(t,"touchmove",this._delayedDragTouchMoveHandler),ht(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||t.pointerType=="touch"&&t,!this.nativeDraggable||e?this.options.supportPointer?mt(document,"pointermove",this._onTouchMove):e?mt(document,"touchmove",this._onTouchMove):mt(document,"mousemove",this._onTouchMove):(mt(W,"dragend",this),mt(At,"dragstart",this._onDragStart));try{document.selection?Zr(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,e){if(li=!1,At&&W){oe("dragStarted",this,{evt:e}),this.nativeDraggable&&mt(document,"dragover",ub);var i=this.options;!t&&ge(W,i.dragClass,!1),ge(W,i.ghostClass,!0),it.active=this,t&&this._appendGhost(),ne({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(Pe){this._lastX=Pe.clientX,this._lastY=Pe.clientY,$d();for(var t=document.elementFromPoint(Pe.clientX,Pe.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Pe.clientX,Pe.clientY),t!==e);)e=t;if(W.parentNode[be]._isOutsideThisEl(t),e)do{if(e[be]){var i=void 0;if(i=e[be]._onDragOver({clientX:Pe.clientX,clientY:Pe.clientY,target:t,rootEl:e}),i&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);Vd()}},_onTouchMove:function(t){if(kn){var e=this.options,i=e.fallbackTolerance,r=e.fallbackOffset,o=t.touches?t.touches[0]:t,a=st&&mi(st,!0),s=st&&a&&a.a,l=st&&a&&a.d,c=Hr&&Jt&&hc(Jt),d=(o.clientX-kn.clientX+r.x)/(s||1)+(c?c[0]-Ea[0]:0)/(s||1),g=(o.clientY-kn.clientY+r.y)/(l||1)+(c?c[1]-Ea[1]:0)/(l||1);if(!it.active&&!li){if(i&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<i)return;this._onDragStart(t,!0)}if(st){a?(a.e+=d-(Ca||0),a.f+=g-(Aa||0)):a={a:1,b:0,c:0,d:1,e:d,f:g};var m="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");nt(st,"webkitTransform",m),nt(st,"mozTransform",m),nt(st,"msTransform",m),nt(st,"transform",m),Ca=d,Aa=g,Pe=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!st){var t=this.options.fallbackOnBody?document.body:At,e=Ht(W,!0,Hr,!0,t),i=this.options;if(Hr){for(Jt=t;nt(Jt,"position")==="static"&&nt(Jt,"transform")==="none"&&Jt!==document;)Jt=Jt.parentNode;Jt!==document.body&&Jt!==document.documentElement?(Jt===document&&(Jt=Ue()),e.top+=Jt.scrollTop,e.left+=Jt.scrollLeft):Jt=Ue(),Ea=hc(Jt)}st=W.cloneNode(!0),ge(st,i.ghostClass,!1),ge(st,i.fallbackClass,!0),ge(st,i.dragClass,!0),nt(st,"transition",""),nt(st,"transform",""),nt(st,"box-sizing","border-box"),nt(st,"margin",0),nt(st,"top",e.top),nt(st,"left",e.left),nt(st,"width",e.width),nt(st,"height",e.height),nt(st,"opacity","0.8"),nt(st,"position",Hr?"absolute":"fixed"),nt(st,"zIndex","100000"),nt(st,"pointerEvents","none"),it.ghost=st,t.appendChild(st),nt(st,"transform-origin",fc/parseInt(st.style.width)*100+"% "+pc/parseInt(st.style.height)*100+"%")}},_onDragStart:function(t,e){var i=this,r=t.dataTransfer,o=i.options;if(oe("dragStart",this,{evt:t}),it.eventCanceled){this._onDrop();return}oe("setupClone",this),it.eventCanceled||(Dt=Yd(W),Dt.removeAttribute("id"),Dt.draggable=!1,Dt.style["will-change"]="",this._hideClone(),ge(Dt,this.options.chosenClass,!1),it.clone=Dt),i.cloneId=Zr(function(){oe("clone",i),!it.eventCanceled&&(i.options.removeCloneOnHide||At.insertBefore(Dt,W),i._hideClone(),ne({sortable:i,name:"clone"}))}),!e&&ge(W,o.dragClass,!0),e?(fo=!0,i._loopId=setInterval(i._emulateDragOver,50)):(ht(document,"mouseup",i._onDrop),ht(document,"touchend",i._onDrop),ht(document,"touchcancel",i._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(i,r,W)),mt(document,"drop",i),nt(W,"transform","translateZ(0)")),li=!0,i._dragStartId=Zr(i._dragStarted.bind(i,e,t)),mt(document,"selectstart",i),Gi=!0,ir&&nt(document.body,"user-select","none")},_onDragOver:function(t){var e=this.el,i=t.target,r,o,a,s=this.options,l=s.group,c=it.active,d=Wr===l,g=s.sort,m=Gt||c,x,D=this,E=!1;if(fs)return;function M(re,Re){oe(re,D,qe({evt:t,isOwner:d,axis:x?"vertical":"horizontal",revert:a,dragRect:r,targetRect:o,canSort:g,fromSortable:m,target:i,completed:R,onMove:function(Ae,ln){return zr(At,e,W,r,Ae,Ht(Ae),t,ln)},changed:_},Re))}function T(){M("dragOverAnimationCapture"),D.captureAnimationState(),D!==m&&m.captureAnimationState()}function R(re){return M("dragOverCompleted",{insertion:re}),re&&(d?c._hideClone():c._showClone(D),D!==m&&(ge(W,Gt?Gt.options.ghostClass:c.options.ghostClass,!1),ge(W,s.ghostClass,!0)),Gt!==D&&D!==it.active?Gt=D:D===it.active&&Gt&&(Gt=null),m===D&&(D._ignoreWhileAnimating=i),D.animateAll(function(){M("dragOverAnimationComplete"),D._ignoreWhileAnimating=null}),D!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(i===W&&!W.animated||i===e&&!i.animated)&&(si=null),!s.dragoverBubble&&!t.rootEl&&i!==document&&(W.parentNode[be]._isOutsideThisEl(t.target),!re&&On(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),E=!0}function _(){me=ke(W),fn=ke(W,s.draggable),ne({sortable:D,name:"change",toEl:e,newIndex:me,newDraggableIndex:fn,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),i=Ye(i,s.draggable,e,!0),M("dragOver"),it.eventCanceled)return E;if(W.contains(t.target)||i.animated&&i.animatingX&&i.animatingY||D._ignoreWhileAnimating===i)return R(!1);if(fo=!1,c&&!s.disabled&&(d?g||(a=Ot!==At):Gt===this||(this.lastPutMode=Wr.checkPull(this,c,W,t))&&l.checkPut(this,c,W,t))){if(x=this._getDirection(t,i)==="vertical",r=Ht(W),M("dragOverValid"),it.eventCanceled)return E;if(a)return Ot=At,T(),this._hideClone(),M("revert"),it.eventCanceled||(_n?At.insertBefore(W,_n):At.appendChild(W)),R(!0);var I=nl(e,s.draggable);if(!I||pb(t,x,this)&&!I.animated){if(I===W)return R(!1);if(I&&e===t.target&&(i=I),i&&(o=Ht(i)),zr(At,e,W,r,i,o,t,!!i)!==!1)return T(),I&&I.nextSibling?e.insertBefore(W,I.nextSibling):e.appendChild(W),Ot=e,_(),R(!0)}else if(I&&fb(t,x,this)){var L=Ei(e,0,s,!0);if(L===W)return R(!1);if(i=L,o=Ht(i),zr(At,e,W,r,i,o,t,!1)!==!1)return T(),e.insertBefore(W,L),Ot=e,_(),R(!0)}else if(i.parentNode===e){o=Ht(i);var S=0,B,Q=W.parentNode!==e,Z=!lb(W.animated&&W.toRect||r,i.animated&&i.toRect||o,x),pt=x?"top":"left",H=dc(i,"top","top")||dc(W,"top","top"),z=H?H.scrollTop:void 0;si!==i&&(B=o[pt],sr=!1,jr=!Z&&s.invertSwap||Q),S=gb(t,i,o,x,Z?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,jr,si===i);var tt;if(S!==0){var dt=ke(W);do dt-=S,tt=Ot.children[dt];while(tt&&(nt(tt,"display")==="none"||tt===st))}if(S===0||tt===i)return R(!1);si=i,ar=S;var St=i.nextElementSibling,wt=!1;wt=S===1;var Ce=zr(At,e,W,r,i,o,t,wt);if(Ce!==!1)return(Ce===1||Ce===-1)&&(wt=Ce===1),fs=!0,setTimeout(hb,30),T(),wt&&!St?e.appendChild(W):i.parentNode.insertBefore(W,wt?St:i),H&&zd(H,0,z-H.scrollTop),Ot=W.parentNode,B!==void 0&&!jr&&(Qr=Math.abs(B-Ht(i)[pt])),_(),R(!0)}if(e.contains(W))return R(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){ht(document,"mousemove",this._onTouchMove),ht(document,"touchmove",this._onTouchMove),ht(document,"pointermove",this._onTouchMove),ht(document,"dragover",On),ht(document,"mousemove",On),ht(document,"touchmove",On)},_offUpEvents:function(){var t=this.el.ownerDocument;ht(t,"mouseup",this._onDrop),ht(t,"touchend",this._onDrop),ht(t,"pointerup",this._onDrop),ht(t,"touchcancel",this._onDrop),ht(document,"selectstart",this)},_onDrop:function(t){var e=this.el,i=this.options;if(me=ke(W),fn=ke(W,i.draggable),oe("drop",this,{evt:t}),Ot=W&&W.parentNode,me=ke(W),fn=ke(W,i.draggable),it.eventCanceled){this._nulling();return}li=!1,jr=!1,sr=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ps(this.cloneId),ps(this._dragStartId),this.nativeDraggable&&(ht(document,"drop",this),ht(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ir&&nt(document.body,"user-select",""),nt(W,"transform",""),t&&(Gi&&(t.cancelable&&t.preventDefault(),!i.dropBubble&&t.stopPropagation()),st&&st.parentNode&&st.parentNode.removeChild(st),(At===Ot||Gt&&Gt.lastPutMode!=="clone")&&Dt&&Dt.parentNode&&Dt.parentNode.removeChild(Dt),W&&(this.nativeDraggable&&ht(W,"dragend",this),Sa(W),W.style["will-change"]="",Gi&&!li&&ge(W,Gt?Gt.options.ghostClass:this.options.ghostClass,!1),ge(W,this.options.chosenClass,!1),ne({sortable:this,name:"unchoose",toEl:Ot,newIndex:null,newDraggableIndex:null,originalEvent:t}),At!==Ot?(me>=0&&(ne({rootEl:Ot,name:"add",toEl:Ot,fromEl:At,originalEvent:t}),ne({sortable:this,name:"remove",toEl:Ot,originalEvent:t}),ne({rootEl:Ot,name:"sort",toEl:Ot,fromEl:At,originalEvent:t}),ne({sortable:this,name:"sort",toEl:Ot,originalEvent:t})),Gt&&Gt.save()):me!==di&&me>=0&&(ne({sortable:this,name:"update",toEl:Ot,originalEvent:t}),ne({sortable:this,name:"sort",toEl:Ot,originalEvent:t})),it.active&&((me==null||me===-1)&&(me=di,fn=or),ne({sortable:this,name:"end",toEl:Ot,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){oe("nulling",this),At=W=Ot=st=_n=Dt=Jr=gn=kn=Pe=Gi=me=fn=di=or=si=ar=Gt=Wr=it.dragged=it.ghost=it.clone=it.active=null,go.forEach(function(t){t.checked=!0}),go.length=Ca=Aa=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":W&&(this._onDragOver(t),db(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],e,i=this.el.children,r=0,o=i.length,a=this.options;r<o;r++)e=i[r],Ye(e,a.draggable,this.el,!1)&&t.push(e.getAttribute(a.dataIdAttr)||vb(e));return t},sort:function(t,e){var i={},r=this.el;this.toArray().forEach(function(o,a){var s=r.children[a];Ye(s,this.options.draggable,r,!1)&&(i[o]=s)},this),e&&this.captureAnimationState(),t.forEach(function(o){i[o]&&(r.removeChild(i[o]),r.appendChild(i[o]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return Ye(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var i=this.options;if(e===void 0)return i[t];var r=Er.modifyOption(this,t,e);typeof r<"u"?i[t]=r:i[t]=e,t==="group"&&qd(i)},destroy:function(){oe("destroy",this);var t=this.el;t[be]=null,ht(t,"mousedown",this._onTapStart),ht(t,"touchstart",this._onTapStart),ht(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(ht(t,"dragover",this),ht(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),po.splice(po.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!gn){if(oe("hideClone",this),it.eventCanceled)return;nt(Dt,"display","none"),this.options.removeCloneOnHide&&Dt.parentNode&&Dt.parentNode.removeChild(Dt),gn=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(gn){if(oe("showClone",this),it.eventCanceled)return;W.parentNode==At&&!this.options.group.revertClone?At.insertBefore(Dt,W):_n?At.insertBefore(Dt,_n):At.appendChild(Dt),this.options.group.revertClone&&this.animate(W,Dt),nt(Dt,"display",""),gn=!1}}};function db(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function zr(n,t,e,i,r,o,a,s){var l,c=n[be],d=c.options.onMove,g;return window.CustomEvent&&!an&&!Ar?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=n,l.dragged=e,l.draggedRect=i,l.related=r||t,l.relatedRect=o||Ht(t),l.willInsertAfter=s,l.originalEvent=a,n.dispatchEvent(l),d&&(g=d.call(c,l,a)),g}function Sa(n){n.draggable=!1}function hb(){fs=!1}function fb(n,t,e){var i=Ht(Ei(e.el,0,e.options,!0)),r=10;return t?n.clientX<i.left-r||n.clientY<i.top&&n.clientX<i.right:n.clientY<i.top-r||n.clientY<i.bottom&&n.clientX<i.left}function pb(n,t,e){var i=Ht(nl(e.el,e.options.draggable)),r=10;return t?n.clientX>i.right+r||n.clientX<=i.right&&n.clientY>i.bottom&&n.clientX>=i.left:n.clientX>i.right&&n.clientY>i.top||n.clientX<=i.right&&n.clientY>i.bottom+r}function gb(n,t,e,i,r,o,a,s){var l=i?n.clientY:n.clientX,c=i?e.height:e.width,d=i?e.top:e.left,g=i?e.bottom:e.right,m=!1;if(!a){if(s&&Qr<c*r){if(!sr&&(ar===1?l>d+c*o/2:l<g-c*o/2)&&(sr=!0),sr)m=!0;else if(ar===1?l<d+Qr:l>g-Qr)return-ar}else if(l>d+c*(1-r)/2&&l<g-c*(1-r)/2)return mb(t)}return m=m||a,m&&(l<d+c*o/2||l>g-c*o/2)?l>d+c/2?1:-1:0}function mb(n){return ke(W)<ke(n)?1:-1}function vb(n){for(var t=n.tagName+n.className+n.src+n.href+n.textContent,e=t.length,i=0;e--;)i+=t.charCodeAt(e);return i.toString(36)}function bb(n){go.length=0;for(var t=n.getElementsByTagName("input"),e=t.length;e--;){var i=t[e];i.checked&&go.push(i)}}function Zr(n){return setTimeout(n,0)}function ps(n){return clearTimeout(n)}Fo&&mt(document,"touchmove",function(n){(it.active||li)&&n.cancelable&&n.preventDefault()});it.utils={on:mt,off:ht,css:nt,find:jd,is:function(t,e){return!!Ye(t,e,t,!1)},extend:tb,throttle:Hd,closest:Ye,toggleClass:ge,clone:Yd,index:ke,nextTick:Zr,cancelNextTick:ps,detectDirection:Ud,getChild:Ei};it.get=function(n){return n[be]};it.mount=function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];t[0].constructor===Array&&(t=t[0]),t.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(it.utils=qe(qe({},it.utils),i.utils)),Er.mount(i)})};it.create=function(n,t){return new it(n,t)};it.version=Jv;var Pt=[],Ki,gs,ms=!1,Da,Ta,mo,Ji;function yb(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return n.prototype={dragStarted:function(e){var i=e.originalEvent;this.sortable.nativeDraggable?mt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?mt(document,"pointermove",this._handleFallbackAutoScroll):i.touches?mt(document,"touchmove",this._handleFallbackAutoScroll):mt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var i=e.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?ht(document,"dragover",this._handleAutoScroll):(ht(document,"pointermove",this._handleFallbackAutoScroll),ht(document,"touchmove",this._handleFallbackAutoScroll),ht(document,"mousemove",this._handleFallbackAutoScroll)),mc(),to(),eb()},nulling:function(){mo=gs=Ki=ms=Ji=Da=Ta=null,Pt.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,i){var r=this,o=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=document.elementFromPoint(o,a);if(mo=e,i||this.options.forceAutoScrollFallback||Ar||an||ir){Ma(e,this.options,s,i);var l=bn(s,!0);ms&&(!Ji||o!==Da||a!==Ta)&&(Ji&&mc(),Ji=setInterval(function(){var c=bn(document.elementFromPoint(o,a),!0);c!==l&&(l=c,to()),Ma(e,r.options,c,i)},10),Da=o,Ta=a)}else{if(!this.options.bubbleScroll||bn(s,!0)===Ue()){to();return}Ma(e,this.options,bn(s,!1),!1)}}},rn(n,{pluginName:"scroll",initializeByDefault:!0})}function to(){Pt.forEach(function(n){clearInterval(n.pid)}),Pt=[]}function mc(){clearInterval(Ji)}var Ma=Hd(function(n,t,e,i){if(!!t.scroll){var r=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,a=t.scrollSensitivity,s=t.scrollSpeed,l=Ue(),c=!1,d;gs!==e&&(gs=e,to(),Ki=t.scroll,d=t.scrollFn,Ki===!0&&(Ki=bn(e,!0)));var g=0,m=Ki;do{var x=m,D=Ht(x),E=D.top,M=D.bottom,T=D.left,R=D.right,_=D.width,I=D.height,L=void 0,S=void 0,B=x.scrollWidth,Q=x.scrollHeight,Z=nt(x),pt=x.scrollLeft,H=x.scrollTop;x===l?(L=_<B&&(Z.overflowX==="auto"||Z.overflowX==="scroll"||Z.overflowX==="visible"),S=I<Q&&(Z.overflowY==="auto"||Z.overflowY==="scroll"||Z.overflowY==="visible")):(L=_<B&&(Z.overflowX==="auto"||Z.overflowX==="scroll"),S=I<Q&&(Z.overflowY==="auto"||Z.overflowY==="scroll"));var z=L&&(Math.abs(R-r)<=a&&pt+_<B)-(Math.abs(T-r)<=a&&!!pt),tt=S&&(Math.abs(M-o)<=a&&H+I<Q)-(Math.abs(E-o)<=a&&!!H);if(!Pt[g])for(var dt=0;dt<=g;dt++)Pt[dt]||(Pt[dt]={});(Pt[g].vx!=z||Pt[g].vy!=tt||Pt[g].el!==x)&&(Pt[g].el=x,Pt[g].vx=z,Pt[g].vy=tt,clearInterval(Pt[g].pid),(z!=0||tt!=0)&&(c=!0,Pt[g].pid=setInterval(function(){i&&this.layer===0&&it.active._onTouchMove(mo);var St=Pt[this.layer].vy?Pt[this.layer].vy*s:0,wt=Pt[this.layer].vx?Pt[this.layer].vx*s:0;typeof d=="function"&&d.call(it.dragged.parentNode[be],wt,St,n,mo,Pt[this.layer].el)!=="continue"||zd(Pt[this.layer].el,wt,St)}.bind({layer:g}),24))),g++}while(t.bubbleScroll&&m!==l&&(m=bn(m,!1)));ms=c}},30),Gd=function(t){var e=t.originalEvent,i=t.putSortable,r=t.dragEl,o=t.activeSortable,a=t.dispatchSortableEvent,s=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(!!e){var c=i||o;s();var d=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,g=document.elementFromPoint(d.clientX,d.clientY);l(),c&&!c.el.contains(g)&&(a("spill"),this.onSpill({dragEl:r,putSortable:i}))}};function il(){}il.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,i=t.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var r=Ei(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(e,r):this.sortable.el.appendChild(e),this.sortable.animateAll(),i&&i.animateAll()},drop:Gd};rn(il,{pluginName:"revertOnSpill"});function rl(){}rl.prototype={onSpill:function(t){var e=t.dragEl,i=t.putSortable,r=i||this.sortable;r.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),r.animateAll()},drop:Gd};rn(rl,{pluginName:"removeOnSpill"});it.mount(new yb);it.mount(rl,il);const ol={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}},ce={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test(n){return vc(n.parentNode)===ce[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test(n){return vc(n.parentNode)===ce[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}},vc=n=>{var t;return n==null||(t=n.tagName)===null||t===void 0?void 0:t.toLowerCase()},bc=navigator.userAgent.match(/android\s([0-9]+.*Chrome)/i),ka=bc&&parseInt(bc[1]);var Sr={composesExistingText:/Android.*Chrome/.test(navigator.userAgent),recentAndroid:ka&&ka>12,samsungAndroid:ka&&navigator.userAgent.match(/Android.*SM-/),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:typeof InputEvent<"u"&&["data","getTargetRanges","inputType"].every(n=>n in InputEvent.prototype)},lt={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption\u2026",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL\u2026",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"};const wb=[lt.bytes,lt.KB,lt.MB,lt.GB,lt.TB,lt.PB];var Kd={prefix:"IEC",precision:2,formatter(n){switch(n){case 0:return"0 ".concat(lt.bytes);case 1:return"1 ".concat(lt.byte);default:let t;this.prefix==="SI"?t=1e3:this.prefix==="IEC"&&(t=1024);const e=Math.floor(Math.log(n)/Math.log(t)),i=(n/Math.pow(t,e)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"");return"".concat(i," ").concat(wb[e])}}};const Jd=function(n){for(const t in n){const e=n[t];this[t]=e}return this},al=document.documentElement,xb=al.matches,Mt=function(n){let{onElement:t,matchingSelector:e,withCallback:i,inPhase:r,preventDefault:o,times:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=t||al,l=e,c=r==="capturing",d=function(g){a!=null&&--a==0&&d.destroy();const m=En(g.target,{matchingSelector:l});m!=null&&(i==null||i.call(m,g,m),o&&g.preventDefault())};return d.destroy=()=>s.removeEventListener(n,d,c),s.addEventListener(n,d,c),d},lr=function(n){let{onElement:t,bubbles:e,cancelable:i,attributes:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=t!=null?t:al;e=e!==!1,i=i!==!1;const a=document.createEvent("Events");return a.initEvent(n,e,i),r!=null&&Jd.call(a,r),o.dispatchEvent(a)},Qd=function(n,t){if((n==null?void 0:n.nodeType)===1)return xb.call(n,t)},En=function(n){let{matchingSelector:t,untilNode:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(;n&&n.nodeType!==Node.ELEMENT_NODE;)n=n.parentNode;if(n!=null){if(t==null)return n;if(n.closest&&e==null)return n.closest(t);for(;n&&n!==e;){if(Qd(n,t))return n;n=n.parentNode}}},sl=n=>document.activeElement!==n&&Bn(n,document.activeElement),Bn=function(n,t){if(n&&t)for(;t;){if(t===n)return!0;t=t.parentNode}},Oa=function(n){var t;if((t=n)===null||t===void 0||!t.parentNode)return;let e=0;for(n=n.previousSibling;n;)e++,n=n.previousSibling;return e},Sn=n=>{var t;return n==null||(t=n.parentNode)===null||t===void 0?void 0:t.removeChild(n)},vo=function(n){let{onlyNodesOfType:t,usingFilter:e,expandEntityReferences:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(()=>{switch(t){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}})();return document.createTreeWalker(n,r,e!=null?e:null,i===!0)},se=n=>{var t;return n==null||(t=n.tagName)===null||t===void 0?void 0:t.toLowerCase()},ut=function(n){let t,e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof n=="object"?(i=n,n=i.tagName):i={attributes:i};const r=document.createElement(n);if(i.editable!=null&&(i.attributes==null&&(i.attributes={}),i.attributes.contenteditable=i.editable),i.attributes)for(t in i.attributes)e=i.attributes[t],r.setAttribute(t,e);if(i.style)for(t in i.style)e=i.style[t],r.style[t]=e;if(i.data)for(t in i.data)e=i.data[t],r.dataset[t]=e;return i.className&&i.className.split(" ").forEach(o=>{r.classList.add(o)}),i.textContent&&(r.textContent=i.textContent),i.childNodes&&[].concat(i.childNodes).forEach(o=>{r.appendChild(o)}),r};let qi;const cr=function(){if(qi!=null)return qi;qi=[];for(const n in ce){const t=ce[n];t.tagName&&qi.push(t.tagName)}return qi},La=n=>vi(n==null?void 0:n.firstChild),Cb=function(n){return cr().includes(se(n))&&!cr().includes(se(n.firstChild))},yc=function(n){let{strict:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{strict:!0};return t?vi(n):vi(n)||!vi(n.firstChild)&&Cb(n)},vi=n=>Ab(n)&&(n==null?void 0:n.data)==="block",Ab=n=>(n==null?void 0:n.nodeType)===Node.COMMENT_NODE,bi=function(n){let{name:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n)return ur(n)?n.data==="\uFEFF"?!t||n.parentNode.dataset.trixCursorTarget===t:void 0:bi(n.firstChild)},Hn=n=>Qd(n,"[data-trix-attachment]"),Zd=n=>ur(n)&&(n==null?void 0:n.data)==="",ur=n=>(n==null?void 0:n.nodeType)===Node.TEXT_NODE,ll={level2Enabled:!0,getLevel(){return this.level2Enabled&&Sr.supportsInputEvents?2:0},pickFiles(n){const t=ut("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId});t.addEventListener("change",()=>{n(t.files),Sn(t)}),Sn(document.getElementById(this.fileInputId)),document.body.appendChild(t),t.click()}};var eo={removeBlankTableCells:!1,tableCellSeparator:" | ",tableRowSeparator:`
`},zn={bold:{tagName:"strong",inheritable:!0,parser(n){const t=window.getComputedStyle(n);return t.fontWeight==="bold"||t.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:n=>window.getComputedStyle(n).fontStyle==="italic"},href:{groupTagName:"a",parser(n){const t="a:not(".concat("[data-trix-attachment]",")"),e=n.closest(t);if(e)return e.getAttribute("href")}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}},th={getDefaultHTML:()=>`<div class="trix-button-row">
      <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="`.concat(lt.bold,'" tabindex="-1">').concat(lt.bold,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="`).concat(lt.italic,'" tabindex="-1">').concat(lt.italic,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="`).concat(lt.strike,'" tabindex="-1">').concat(lt.strike,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="`).concat(lt.link,'" tabindex="-1">').concat(lt.link,`</button>
      </span>

      <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="`).concat(lt.heading1,'" tabindex="-1">').concat(lt.heading1,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="`).concat(lt.quote,'" tabindex="-1">').concat(lt.quote,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="`).concat(lt.code,'" tabindex="-1">').concat(lt.code,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="`).concat(lt.bullets,'" tabindex="-1">').concat(lt.bullets,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="`).concat(lt.numbers,'" tabindex="-1">').concat(lt.numbers,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="`).concat(lt.outdent,'" tabindex="-1">').concat(lt.outdent,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="`).concat(lt.indent,'" tabindex="-1">').concat(lt.indent,`</button>
      </span>

      <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="`).concat(lt.attachFiles,'" tabindex="-1">').concat(lt.attachFiles,`</button>
      </span>

      <span class="trix-button-group-spacer"></span>

      <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="`).concat(lt.undo,'" tabindex="-1">').concat(lt.undo,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="`).concat(lt.redo,'" tabindex="-1">').concat(lt.redo,`</button>
      </span>
    </div>

    <div class="trix-dialogs" data-trix-dialogs>
      <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">
        <div class="trix-dialog__link-fields">
          <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="`).concat(lt.urlPlaceholder,'" aria-label="').concat(lt.url,`" required data-trix-input>
          <div class="trix-button-group">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(lt.link,`" data-trix-method="setAttribute">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(lt.unlink,`" data-trix-method="removeAttribute">
          </div>
        </div>
      </div>
    </div>`)};const vs={interval:5e3};var Dr=Object.freeze({__proto__:null,attachments:ol,blockAttributes:ce,browser:Sr,css:{attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"},fileSize:Kd,input:ll,keyNames:{8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},lang:lt,parser:eo,textAttributes:zn,toolbar:th,undo:vs});class Wt{static proxyMethod(t){const{name:e,toMethod:i,toProperty:r,optional:o}=Eb(t);this.prototype[e]=function(){let a,s;var l,c;return i?s=o?(l=this[i])===null||l===void 0?void 0:l.call(this):this[i]():r&&(s=this[r]),o?(a=(c=s)===null||c===void 0?void 0:c[e],a?wc.call(a,s,arguments):void 0):(a=s[e],wc.call(a,s,arguments))}}}const Eb=function(n){const t=n.match(Sb);if(!t)throw new Error("can't parse @proxyMethod expression: ".concat(n));const e={name:t[4]};return t[2]!=null?e.toMethod=t[1]:e.toProperty=t[1],t[3]!=null&&(e.optional=!0),e},{apply:wc}=Function.prototype,Sb=new RegExp("^(.+?)(\\(\\))?(\\?)?\\.(.+?)$");var Ra,_a,Pa;class mr extends Wt{static box(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t instanceof this?t:this.fromUCS2String(t==null?void 0:t.toString())}static fromUCS2String(t){return new this(t,bs(t))}static fromCodepoints(t){return new this(ys(t),t)}constructor(t,e){super(...arguments),this.ucs2String=t,this.codepoints=e,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}offsetToUCS2Offset(t){return ys(this.codepoints.slice(0,Math.max(0,t))).length}offsetFromUCS2Offset(t){return bs(this.ucs2String.slice(0,Math.max(0,t))).length}slice(){return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))}charAt(t){return this.slice(t,t+1)}isEqualTo(t){return this.constructor.box(t).ucs2String===this.ucs2String}toJSON(){return this.ucs2String}getCacheKey(){return this.ucs2String}toString(){return this.ucs2String}}const Db=((Ra=Array.from)===null||Ra===void 0?void 0:Ra.call(Array,"\u{1F47C}").length)===1,Tb=((_a=" ".codePointAt)===null||_a===void 0?void 0:_a.call(" ",0))!=null,Mb=((Pa=String.fromCodePoint)===null||Pa===void 0?void 0:Pa.call(String,32,128124))===" \u{1F47C}";let bs,ys;bs=Db&&Tb?n=>Array.from(n).map(t=>t.codePointAt(0)):function(n){const t=[];let e=0;const{length:i}=n;for(;e<i;){let r=n.charCodeAt(e++);if(55296<=r&&r<=56319&&e<i){const o=n.charCodeAt(e++);(64512&o)==56320?r=((1023&r)<<10)+(1023&o)+65536:e--}t.push(r)}return t},ys=Mb?n=>String.fromCodePoint(...Array.from(n||[])):function(n){return(()=>{const t=[];return Array.from(n).forEach(e=>{let i="";e>65535&&(e-=65536,i+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t.push(i+String.fromCharCode(e))}),t})().join("")};let kb=0;class $n extends Wt{static fromJSONString(t){return this.fromJSON(JSON.parse(t))}constructor(){super(...arguments),this.id=++kb}hasSameConstructorAs(t){return this.constructor===(t==null?void 0:t.constructor)}isEqualTo(t){return this===t}inspect(){const t=[],e=this.contentsForInspection()||{};for(const i in e){const r=e[i];t.push("".concat(i,"=").concat(r))}return"#<".concat(this.constructor.name,":").concat(this.id).concat(t.length?" ".concat(t.join(", ")):"",">")}contentsForInspection(){}toJSONString(){return JSON.stringify(this)}toUTF16String(){return mr.box(this)}getCacheKey(){return this.id.toString()}}const Yn=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0},cl=function(n){const t=n.slice(0);for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return t.splice(...i),t},Ob=/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,Lb=function(){const n=ut("input",{dir:"auto",name:"x",dirName:"x.dir"}),t=ut("textarea",{dir:"auto",name:"y",dirName:"y.dir"}),e=ut("form");e.appendChild(n),e.appendChild(t);const i=function(){try{return new FormData(e).has(t.dirName)}catch{return!1}}(),r=function(){try{return n.matches(":dir(ltr),:dir(rtl)")}catch{return!1}}();return i?function(o){return t.value=o,new FormData(e).get(t.dirName)}:r?function(o){return n.value=o,n.matches(":dir(rtl)")?"rtl":"ltr"}:function(o){const a=o.trim().charAt(0);return Ob.test(a)?"rtl":"ltr"}}();let Ia=null,Na=null,Ba=null,Yr=null;const ws=()=>(Ia||(Ia=_b().concat(Rb())),Ia),Bt=n=>ce[n],Rb=()=>(Na||(Na=Object.keys(ce)),Na),xs=n=>zn[n],_b=()=>(Ba||(Ba=Object.keys(zn)),Ba),eh=function(n,t){Pb(n).textContent=t.replace(/%t/g,n)},Pb=function(n){const t=document.createElement("style");t.setAttribute("type","text/css"),t.setAttribute("data-tag-name",n.toLowerCase());const e=Ib();return e&&t.setAttribute("nonce",e),document.head.insertBefore(t,document.head.firstChild),t},Ib=function(){const n=xc("trix-csp-nonce")||xc("csp-nonce");if(n)return n.getAttribute("content")},xc=n=>document.head.querySelector("meta[name=".concat(n,"]")),Cc={"application/x-trix-feature-detection":"test"},nh=function(n){const t=n.getData("text/plain"),e=n.getData("text/html");if(!t||!e)return t==null?void 0:t.length;{const{body:i}=new DOMParser().parseFromString(e,"text/html");if(i.textContent===t)return!i.querySelector("*")}},ih=/Mac|^iP/.test(navigator.platform)?n=>n.metaKey:n=>n.ctrlKey,ul=n=>setTimeout(n,1),rh=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={};for(const e in n){const i=n[e];t[e]=i}return t},Tr=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const e in n)if(n[e]!==t[e])return!1;return!0},yt=function(n){if(n!=null)return Array.isArray(n)||(n=[n,n]),[Ac(n[0]),Ac(n[1]!=null?n[1]:n[0])]},tn=function(n){if(n==null)return;const[t,e]=yt(n);return Cs(t,e)},bo=function(n,t){if(n==null||t==null)return;const[e,i]=yt(n),[r,o]=yt(t);return Cs(e,r)&&Cs(i,o)},Ac=function(n){return typeof n=="number"?n:rh(n)},Cs=function(n,t){return typeof n=="number"?n===t:Tr(n,t)};class oh extends Wt{constructor(){super(...arguments),this.update=this.update.bind(this),this.run=this.run.bind(this),this.selectionManagers=[]}start(){if(!this.started)return this.started=!0,"onselectionchange"in document?document.addEventListener("selectionchange",this.update,!0):this.run()}stop(){if(this.started)return this.started=!1,document.removeEventListener("selectionchange",this.update,!0)}registerSelectionManager(t){if(!this.selectionManagers.includes(t))return this.selectionManagers.push(t),this.start()}unregisterSelectionManager(t){if(this.selectionManagers=this.selectionManagers.filter(e=>e!==t),this.selectionManagers.length===0)return this.stop()}notifySelectionManagersOfSelectionChange(){return this.selectionManagers.map(t=>t.selectionDidChange())}update(){const t=yi();if(!Nb(t,this.domRange))return this.domRange=t,this.notifySelectionManagersOfSelectionChange()}reset(){return this.domRange=null,this.update()}run(){if(this.started)return this.update(),requestAnimationFrame(this.run)}}const Nb=(n,t)=>(n==null?void 0:n.startContainer)===(t==null?void 0:t.startContainer)&&(n==null?void 0:n.startOffset)===(t==null?void 0:t.startOffset)&&(n==null?void 0:n.endContainer)===(t==null?void 0:t.endContainer)&&(n==null?void 0:n.endOffset)===(t==null?void 0:t.endOffset),Xn=new oh,ah=function(){const n=window.getSelection();if(n.rangeCount>0)return n},yi=function(){var n;const t=(n=ah())===null||n===void 0?void 0:n.getRangeAt(0);if(t&&!Bb(t))return t},sh=function(n){const t=window.getSelection();return t.removeAllRanges(),t.addRange(n),Xn.update()},Bb=n=>Ec(n.startContainer)||Ec(n.endContainer),Ec=n=>!Object.getPrototypeOf(n),Qi=n=>n.replace(new RegExp("".concat("\uFEFF"),"g"),"").replace(new RegExp("".concat("\xA0"),"g")," "),dl=new RegExp("[^\\S".concat("\xA0","]")),hl=n=>n.replace(new RegExp("".concat(dl.source),"g")," ").replace(/\ {2,}/g," "),Sc=function(n,t){if(n.isEqualTo(t))return["",""];const e=Fa(n,t),{length:i}=e.utf16String;let r;if(i){const{offset:o}=e,a=n.codepoints.slice(0,o).concat(n.codepoints.slice(o+i));r=Fa(t,mr.fromCodepoints(a))}else r=Fa(t,n);return[e.utf16String.toString(),r.utf16String.toString()]},Fa=function(n,t){let e=0,i=n.length,r=t.length;for(;e<i&&n.charAt(e).isEqualTo(t.charAt(e));)e++;for(;i>e+1&&n.charAt(i-1).isEqualTo(t.charAt(r-1));)i--,r--;return{utf16String:n.slice(e,i),offset:e}};class ye extends $n{static fromCommonAttributesOfObjects(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!t.length)return new this;let e=$i(t[0]),i=e.getKeys();return t.slice(1).forEach(r=>{i=e.getKeysCommonToHash($i(r)),e=e.slice(i)}),e}static box(t){return $i(t)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(...arguments),this.values=no(t)}add(t,e){return this.merge(Fb(t,e))}remove(t){return new ye(no(this.values,t))}get(t){return this.values[t]}has(t){return t in this.values}merge(t){return new ye(Wb(this.values,jb(t)))}slice(t){const e={};return Array.from(t).forEach(i=>{this.has(i)&&(e[i]=this.values[i])}),new ye(e)}getKeys(){return Object.keys(this.values)}getKeysCommonToHash(t){return t=$i(t),this.getKeys().filter(e=>this.values[e]===t.values[e])}isEqualTo(t){return Yn(this.toArray(),$i(t).toArray())}isEmpty(){return this.getKeys().length===0}toArray(){if(!this.array){const t=[];for(const e in this.values){const i=this.values[e];t.push(t.push(e,i))}this.array=t.slice(0)}return this.array}toObject(){return no(this.values)}toJSON(){return this.toObject()}contentsForInspection(){return{values:JSON.stringify(this.values)}}}const Fb=function(n,t){const e={};return e[n]=t,e},Wb=function(n,t){const e=no(n);for(const i in t){const r=t[i];e[i]=r}return e},no=function(n,t){const e={};return Object.keys(n).sort().forEach(i=>{i!==t&&(e[i]=n[i])}),e},$i=function(n){return n instanceof ye?n:new ye(n)},jb=function(n){return n instanceof ye?n.values:n};class fl{static groupObjects(){let t,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:i,asTree:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};r&&i==null&&(i=0);const o=[];return Array.from(e).forEach(a=>{var s;if(t){var l,c,d;if((l=a.canBeGrouped)!==null&&l!==void 0&&l.call(a,i)&&(c=(d=t[t.length-1]).canBeGroupedWith)!==null&&c!==void 0&&c.call(d,a,i))return void t.push(a);o.push(new this(t,{depth:i,asTree:r})),t=null}(s=a.canBeGrouped)!==null&&s!==void 0&&s.call(a,i)?t=[a]:o.push(a)}),t&&o.push(new this(t,{depth:i,asTree:r})),o}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:e,asTree:i}=arguments.length>1?arguments[1]:void 0;this.objects=t,i&&(this.depth=e,this.objects=this.constructor.groupObjects(this.objects,{asTree:i,depth:this.depth+1}))}getObjects(){return this.objects}getDepth(){return this.depth}getCacheKey(){const t=["objectGroup"];return Array.from(this.getObjects()).forEach(e=>{t.push(e.getCacheKey())}),t.join("/")}}class Hb extends Wt{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects={},Array.from(t).forEach(e=>{const i=JSON.stringify(e);this.objects[i]==null&&(this.objects[i]=e)})}find(t){const e=JSON.stringify(t);return this.objects[e]}}class zb{constructor(t){this.reset(t)}add(t){const e=Dc(t);this.elements[e]=t}remove(t){const e=Dc(t),i=this.elements[e];if(i)return delete this.elements[e],i}reset(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this.elements={},Array.from(t).forEach(e=>{this.add(e)}),t}}const Dc=n=>n.dataset.trixStoreKey;class yo extends Wt{isPerforming(){return this.performing===!0}hasPerformed(){return this.performed===!0}hasSucceeded(){return this.performed&&this.succeeded}hasFailed(){return this.performed&&!this.succeeded}getPromise(){return this.promise||(this.promise=new Promise((t,e)=>(this.performing=!0,this.perform((i,r)=>{this.succeeded=i,this.performing=!1,this.performed=!0,this.succeeded?t(r):e(r)})))),this.promise}perform(t){return t(!1)}release(){var t,e;(t=this.promise)===null||t===void 0||(e=t.cancel)===null||e===void 0||e.call(t),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null}}yo.proxyMethod("getPromise().then"),yo.proxyMethod("getPromise().catch");class Li extends Wt{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.object=t,this.options=e,this.childViews=[],this.rootView=this}getNodes(){return this.nodes||(this.nodes=this.createNodes()),this.nodes.map(t=>t.cloneNode(!0))}invalidate(){var t;return this.nodes=null,this.childViews=[],(t=this.parentView)===null||t===void 0?void 0:t.invalidate()}invalidateViewForObject(t){var e;return(e=this.findViewForObject(t))===null||e===void 0?void 0:e.invalidate()}findOrCreateCachedChildView(t,e,i){let r=this.getCachedViewForObject(e);return r?this.recordChildView(r):(r=this.createChildView(...arguments),this.cacheViewForObject(r,e)),r}createChildView(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};e instanceof fl&&(i.viewClass=t,t=Yb);const r=new t(e,i);return this.recordChildView(r)}recordChildView(t){return t.parentView=this,t.rootView=this.rootView,this.childViews.push(t),t}getAllChildViews(){let t=[];return this.childViews.forEach(e=>{t.push(e),t=t.concat(e.getAllChildViews())}),t}findElement(){return this.findElementForObject(this.object)}findElementForObject(t){const e=t==null?void 0:t.id;if(e)return this.rootView.element.querySelector("[data-trix-id='".concat(e,"']"))}findViewForObject(t){for(const e of this.getAllChildViews())if(e.object===t)return e}getViewCache(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?(this.viewCache||(this.viewCache={}),this.viewCache):void 0}isViewCachingEnabled(){return this.shouldCacheViews!==!1}enableViewCaching(){this.shouldCacheViews=!0}disableViewCaching(){this.shouldCacheViews=!1}getCachedViewForObject(t){var e;return(e=this.getViewCache())===null||e===void 0?void 0:e[t.getCacheKey()]}cacheViewForObject(t,e){const i=this.getViewCache();i&&(i[e.getCacheKey()]=t)}garbageCollectCachedViews(){const t=this.getViewCache();if(t){const e=this.getAllChildViews().concat(this).map(i=>i.object.getCacheKey());for(const i in t)e.includes(i)||delete t[i]}}}class Yb extends Li{constructor(){super(...arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}getChildViews(){return this.childViews.length||Array.from(this.objectGroup.getObjects()).forEach(t=>{this.findOrCreateCachedChildView(this.viewClass,t,this.options)}),this.childViews}createNodes(){const t=this.createContainerElement();return this.getChildViews().forEach(e=>{Array.from(e.getNodes()).forEach(i=>{t.appendChild(i)})}),[t]}createContainerElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.objectGroup.getDepth();return this.getChildViews()[0].createContainerElement(t)}}const{css:un}=Dr;class lh extends Li{constructor(){super(...arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}createContentNodes(){return[]}createNodes(){let t;const e=t=ut({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),i=this.getHref();return i&&(t=ut({tagName:"a",editable:!1,attributes:{href:i,tabindex:-1}}),e.appendChild(t)),this.attachment.hasContent()?t.innerHTML=this.attachment.getContent():this.createContentNodes().forEach(r=>{t.appendChild(r)}),t.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=ut({tagName:"progress",attributes:{class:un.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),e.appendChild(this.progressElement)),[Tc("left"),e,Tc("right")]}createCaptionElement(){const t=ut({tagName:"figcaption",className:un.attachmentCaption}),e=this.attachmentPiece.getCaption();if(e)t.classList.add("".concat(un.attachmentCaption,"--edited")),t.textContent=e;else{let i,r;const o=this.getCaptionConfig();if(o.name&&(i=this.attachment.getFilename()),o.size&&(r=this.attachment.getFormattedFilesize()),i){const a=ut({tagName:"span",className:un.attachmentName,textContent:i});t.appendChild(a)}if(r){i&&t.appendChild(document.createTextNode(" "));const a=ut({tagName:"span",className:un.attachmentSize,textContent:r});t.appendChild(a)}}return t}getClassName(){const t=[un.attachment,"".concat(un.attachment,"--").concat(this.attachment.getType())],e=this.attachment.getExtension();return e&&t.push("".concat(un.attachment,"--").concat(e)),t.join(" ")}getData(){const t={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},{attributes:e}=this.attachmentPiece;return e.isEmpty()||(t.trixAttributes=JSON.stringify(e)),this.attachment.isPending()&&(t.trixSerialize=!1),t}getHref(){if(!Xb(this.attachment.getContent(),"a"))return this.attachment.getHref()}getCaptionConfig(){var t;const e=this.attachment.getType(),i=rh((t=ol[e])===null||t===void 0?void 0:t.caption);return e==="file"&&(i.name=!0),i}findProgressElement(){var t;return(t=this.findElement())===null||t===void 0?void 0:t.querySelector("progress")}attachmentDidChangeUploadProgress(){const t=this.attachment.getUploadProgress(),e=this.findProgressElement();e&&(e.value=t)}}const Tc=n=>ut({tagName:"span",textContent:"\uFEFF",data:{trixCursorTarget:n,trixSerialize:!1}}),Xb=function(n,t){const e=ut("div");return e.innerHTML=n||"",e.querySelector(t)};class Ub extends lh{constructor(){super(...arguments),this.attachment.previewDelegate=this}createContentNodes(){return this.image=ut({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]}createCaptionElement(){const t=super.createCaptionElement(...arguments);return t.textContent||t.setAttribute("data-trix-placeholder",lt.captionPlaceholder),t}refresh(t){var e;if(t||(t=(e=this.findElement())===null||e===void 0?void 0:e.querySelector("img")),t)return this.updateAttributesForImage(t)}updateAttributesForImage(t){const e=this.attachment.getURL(),i=this.attachment.getPreviewURL();if(t.src=i||e,i===e)t.removeAttribute("data-trix-serialized-attributes");else{const s=JSON.stringify({src:e});t.setAttribute("data-trix-serialized-attributes",s)}const r=this.attachment.getWidth(),o=this.attachment.getHeight();r!=null&&(t.width=r),o!=null&&(t.height=o);const a=["imageElement",this.attachment.id,t.src,t.width,t.height].join("/");t.dataset.trixStoreKey=a}attachmentDidChangeAttributes(){return this.refresh(this.image),this.refresh()}}class qb extends Li{constructor(){super(...arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),this.textConfig=this.options.textConfig,this.context=this.options.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}createNodes(){let t=this.attachment?this.createAttachmentNodes():this.createStringNodes();const e=this.createElement();if(e){const i=function(r){for(;(o=r)!==null&&o!==void 0&&o.firstElementChild;){var o;r=r.firstElementChild}return r}(e);Array.from(t).forEach(r=>{i.appendChild(r)}),t=[e]}return t}createAttachmentNodes(){const t=this.attachment.isPreviewable()?Ub:lh;return this.createChildView(t,this.piece.attachment,{piece:this.piece}).getNodes()}createStringNodes(){var t;if((t=this.textConfig)!==null&&t!==void 0&&t.plaintext)return[document.createTextNode(this.string)];{const e=[],i=this.string.split(`
`);for(let r=0;r<i.length;r++){const o=i[r];if(r>0){const a=ut("br");e.push(a)}if(o.length){const a=document.createTextNode(this.preserveSpaces(o));e.push(a)}}return e}}createElement(){let t,e,i;const r={};for(e in this.attributes){i=this.attributes[e];const a=xs(e);if(a){if(a.tagName){var o;const s=ut(a.tagName);o?(o.appendChild(s),o=s):t=o=s}if(a.styleProperty&&(r[a.styleProperty]=i),a.style)for(e in a.style)i=a.style[e],r[e]=i}}if(Object.keys(r).length)for(e in t||(t=ut("span")),r)i=r[e],t.style[e]=i;return t}createContainerElement(){for(const t in this.attributes){const e=this.attributes[t],i=xs(t);if(i&&i.groupTagName){const r={};return r[t]=e,ut(i.groupTagName,r)}}}preserveSpaces(t){return this.context.isLast&&(t=t.replace(/\ $/,"\xA0")),t=t.replace(/(\S)\ {3}(\S)/g,"$1 ".concat("\xA0"," $2")).replace(/\ {2}/g,"".concat("\xA0"," ")).replace(/\ {2}/g," ".concat("\xA0")),(this.context.isFirst||this.context.followsWhitespace)&&(t=t.replace(/^\ /,"\xA0")),t}}class $b extends Li{constructor(){super(...arguments),this.text=this.object,this.textConfig=this.options.textConfig}createNodes(){const t=[],e=fl.groupObjects(this.getPieces()),i=e.length-1;for(let o=0;o<e.length;o++){const a=e[o],s={};o===0&&(s.isFirst=!0),o===i&&(s.isLast=!0),Vb(r)&&(s.followsWhitespace=!0);const l=this.findOrCreateCachedChildView(qb,a,{textConfig:this.textConfig,context:s});t.push(...Array.from(l.getNodes()||[]));var r=a}return t}getPieces(){return Array.from(this.text.getPieces()).filter(t=>!t.hasAttribute("blockBreak"))}}const Vb=n=>/\s$/.test(n==null?void 0:n.toString()),{css:Mc}=Dr;class Gb extends Li{constructor(){super(...arguments),this.block=this.object,this.attributes=this.block.getAttributes()}createNodes(){const t=[document.createComment("block")];if(this.block.isEmpty())t.push(ut("br"));else{var e;const i=(e=Bt(this.block.getLastAttribute()))===null||e===void 0?void 0:e.text,r=this.findOrCreateCachedChildView($b,this.block.text,{textConfig:i});t.push(...Array.from(r.getNodes()||[])),this.shouldAddExtraNewlineElement()&&t.push(ut("br"))}if(this.attributes.length)return t;{let i;const{tagName:r}=ce.default;this.block.isRTL()&&(i={dir:"rtl"});const o=ut({tagName:r,attributes:i});return t.forEach(a=>o.appendChild(a)),[o]}}createContainerElement(t){let e,i;const r=this.attributes[t],{tagName:o}=Bt(r);if(t===0&&this.block.isRTL()&&(e={dir:"rtl"}),r==="attachmentGallery"){const a=this.block.getBlockBreakPosition();i="".concat(Mc.attachmentGallery," ").concat(Mc.attachmentGallery,"--").concat(a)}return ut({tagName:o,className:i,attributes:e})}shouldAddExtraNewlineElement(){return/\n\n$/.test(this.block.toString())}}class pl extends Li{static render(t){const e=ut("div"),i=new this(t,{element:e});return i.render(),i.sync(),e}constructor(){super(...arguments),this.element=this.options.element,this.elementStore=new zb,this.setDocument(this.object)}setDocument(t){t.isEqualTo(this.document)||(this.document=this.object=t)}render(){if(this.childViews=[],this.shadowElement=ut("div"),!this.document.isEmpty()){const t=fl.groupObjects(this.document.getBlocks(),{asTree:!0});Array.from(t).forEach(e=>{const i=this.findOrCreateCachedChildView(Gb,e);Array.from(i.getNodes()).map(r=>this.shadowElement.appendChild(r))})}}isSynced(){return Kb(this.shadowElement,this.element)}sync(){const t=this.createDocumentFragmentForSync();for(;this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(t),this.didSync()}didSync(){return this.elementStore.reset(kc(this.element)),ul(()=>this.garbageCollectCachedViews())}createDocumentFragmentForSync(){const t=document.createDocumentFragment();return Array.from(this.shadowElement.childNodes).forEach(e=>{t.appendChild(e.cloneNode(!0))}),Array.from(kc(t)).forEach(e=>{const i=this.elementStore.remove(e);i&&e.parentNode.replaceChild(i,e)}),t}}const kc=n=>n.querySelectorAll("[data-trix-store-key]"),Kb=(n,t)=>Oc(n.innerHTML)===Oc(t.innerHTML),Oc=n=>n.replace(/&nbsp;/g," ");function we(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}class Vn extends $n{static registerType(t,e){e.type=t,this.types[t]=e}static fromJSON(t){const e=this.types[t.type];if(e)return e.fromJSON(t)}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.attributes=ye.box(e)}copyWithAttributes(t){return new this.constructor(this.getValue(),t)}copyWithAdditionalAttributes(t){return this.copyWithAttributes(this.attributes.merge(t))}copyWithoutAttribute(t){return this.copyWithAttributes(this.attributes.remove(t))}copy(){return this.copyWithAttributes(this.attributes)}getAttribute(t){return this.attributes.get(t)}getAttributesHash(){return this.attributes}getAttributes(){return this.attributes.toObject()}hasAttribute(t){return this.attributes.has(t)}hasSameStringValueAsPiece(t){return t&&this.toString()===t.toString()}hasSameAttributesAsPiece(t){return t&&(this.attributes===t.attributes||this.attributes.isEqualTo(t.attributes))}isBlockBreak(){return!1}isEqualTo(t){return super.isEqualTo(...arguments)||this.hasSameConstructorAs(t)&&this.hasSameStringValueAsPiece(t)&&this.hasSameAttributesAsPiece(t)}isEmpty(){return this.length===0}isSerializable(){return!0}toJSON(){return{type:this.constructor.type,attributes:this.getAttributes()}}contentsForInspection(){return{type:this.constructor.type,attributes:this.attributes.inspect()}}canBeGrouped(){return this.hasAttribute("href")}canBeGroupedWith(t){return this.getAttribute("href")===t.getAttribute("href")}getLength(){return this.length}canBeConsolidatedWith(t){return!1}}we(Vn,"types",{});class ch extends yo{constructor(t){super(...arguments),this.url=t}perform(t){const e=new Image;e.onload=()=>(e.width=this.width=e.naturalWidth,e.height=this.height=e.naturalHeight,t(!0,e)),e.onerror=()=>t(!1),e.src=this.url}}class Ri extends $n{static attachmentForFile(t){const e=new this(this.attributesForFile(t));return e.setFile(t),e}static attributesForFile(t){return new ye({filename:t.name,filesize:t.size,contentType:t.type})}static fromJSON(t){return new this(t)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.releaseFile=this.releaseFile.bind(this),this.attributes=ye.box(t),this.didChangeAttributes()}getAttribute(t){return this.attributes.get(t)}hasAttribute(t){return this.attributes.has(t)}getAttributes(){return this.attributes.toObject()}setAttributes(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=this.attributes.merge(t);var i,r,o,a;if(!this.attributes.isEqualTo(e))return this.attributes=e,this.didChangeAttributes(),(i=this.previewDelegate)===null||i===void 0||(r=i.attachmentDidChangeAttributes)===null||r===void 0||r.call(i,this),(o=this.delegate)===null||o===void 0||(a=o.attachmentDidChangeAttributes)===null||a===void 0?void 0:a.call(o,this)}didChangeAttributes(){if(this.isPreviewable())return this.preloadURL()}isPending(){return this.file!=null&&!(this.getURL()||this.getHref())}isPreviewable(){return this.attributes.has("previewable")?this.attributes.get("previewable"):Ri.previewablePattern.test(this.getContentType())}getType(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"}getURL(){return this.attributes.get("url")}getHref(){return this.attributes.get("href")}getFilename(){return this.attributes.get("filename")||""}getFilesize(){return this.attributes.get("filesize")}getFormattedFilesize(){const t=this.attributes.get("filesize");return typeof t=="number"?Kd.formatter(t):""}getExtension(){var t;return(t=this.getFilename().match(/\.(\w+)$/))===null||t===void 0?void 0:t[1].toLowerCase()}getContentType(){return this.attributes.get("contentType")}hasContent(){return this.attributes.has("content")}getContent(){return this.attributes.get("content")}getWidth(){return this.attributes.get("width")}getHeight(){return this.attributes.get("height")}getFile(){return this.file}setFile(t){if(this.file=t,this.isPreviewable())return this.preloadFile()}releaseFile(){this.releasePreloadedFile(),this.file=null}getUploadProgress(){return this.uploadProgress!=null?this.uploadProgress:0}setUploadProgress(t){var e,i;if(this.uploadProgress!==t)return this.uploadProgress=t,(e=this.uploadProgressDelegate)===null||e===void 0||(i=e.attachmentDidChangeUploadProgress)===null||i===void 0?void 0:i.call(e,this)}toJSON(){return this.getAttributes()}getCacheKey(){return[super.getCacheKey(...arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")}getPreviewURL(){return this.previewURL||this.preloadingURL}setPreviewURL(t){var e,i,r,o;if(t!==this.getPreviewURL())return this.previewURL=t,(e=this.previewDelegate)===null||e===void 0||(i=e.attachmentDidChangeAttributes)===null||i===void 0||i.call(e,this),(r=this.delegate)===null||r===void 0||(o=r.attachmentDidChangePreviewURL)===null||o===void 0?void 0:o.call(r,this)}preloadURL(){return this.preload(this.getURL(),this.releaseFile)}preloadFile(){if(this.file)return this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)}releasePreloadedFile(){this.fileObjectURL&&(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null)}preload(t,e){if(t&&t!==this.getPreviewURL())return this.preloadingURL=t,new ch(t).then(i=>{let{width:r,height:o}=i;return this.getWidth()&&this.getHeight()||this.setAttributes({width:r,height:o}),this.preloadingURL=null,this.setPreviewURL(t),e==null?void 0:e()}).catch(()=>(this.preloadingURL=null,e==null?void 0:e()))}}we(Ri,"previewablePattern",/^image(\/(gif|png|webp|jpe?g)|$)/);class Si extends Vn{static fromJSON(t){return new this(Ri.fromJSON(t.attachment),t.attributes)}constructor(t){super(...arguments),this.attachment=t,this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}ensureAttachmentExclusivelyHasAttribute(t){this.hasAttribute(t)&&(this.attachment.hasAttribute(t)||this.attachment.setAttributes(this.attributes.slice([t])),this.attributes=this.attributes.remove(t))}removeProhibitedAttributes(){const t=this.attributes.slice(Si.permittedAttributes);t.isEqualTo(this.attributes)||(this.attributes=t)}getValue(){return this.attachment}isSerializable(){return!this.attachment.isPending()}getCaption(){return this.attributes.get("caption")||""}isEqualTo(t){var e;return super.isEqualTo(t)&&this.attachment.id===(t==null||(e=t.attachment)===null||e===void 0?void 0:e.id)}toString(){return"\uFFFC"}toJSON(){const t=super.toJSON(...arguments);return t.attachment=this.attachment,t}getCacheKey(){return[super.getCacheKey(...arguments),this.attachment.getCacheKey()].join("/")}toConsole(){return JSON.stringify(this.toString())}}we(Si,"permittedAttributes",["caption","presentation"]),Vn.registerType("attachment",Si);class gl extends Vn{static fromJSON(t){return new this(t.string,t.attributes)}constructor(t){super(...arguments),this.string=(e=>e.replace(/\r\n/g,`
`))(t),this.length=this.string.length}getValue(){return this.string}toString(){return this.string.toString()}isBlockBreak(){return this.toString()===`
`&&this.getAttribute("blockBreak")===!0}toJSON(){const t=super.toJSON(...arguments);return t.string=this.string,t}canBeConsolidatedWith(t){return t&&this.hasSameConstructorAs(t)&&this.hasSameAttributesAsPiece(t)}consolidateWith(t){return new this.constructor(this.toString()+t.toString(),this.attributes)}splitAtOffset(t){let e,i;return t===0?(e=null,i=this):t===this.length?(e=this,i=null):(e=new this.constructor(this.string.slice(0,t),this.attributes),i=new this.constructor(this.string.slice(t),this.attributes)),[e,i]}toConsole(){let{string:t}=this;return t.length>15&&(t=t.slice(0,14)+"\u2026"),JSON.stringify(t.toString())}}Vn.registerType("string",gl);class wo extends $n{static box(t){return t instanceof this?t:new this(t)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects=t.slice(0),this.length=this.objects.length}indexOf(t){return this.objects.indexOf(t)}splice(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new this.constructor(cl(this.objects,...e))}eachObject(t){return this.objects.map((e,i)=>t(e,i))}insertObjectAtIndex(t,e){return this.splice(e,0,t)}insertSplittableListAtIndex(t,e){return this.splice(e,0,...t.objects)}insertSplittableListAtPosition(t,e){const[i,r]=this.splitObjectAtPosition(e);return new this.constructor(i).insertSplittableListAtIndex(t,r)}editObjectAtIndex(t,e){return this.replaceObjectAtIndex(e(this.objects[t]),t)}replaceObjectAtIndex(t,e){return this.splice(e,1,t)}removeObjectAtIndex(t){return this.splice(t,1)}getObjectAtIndex(t){return this.objects[t]}getSplittableListInRange(t){const[e,i,r]=this.splitObjectsAtRange(t);return new this.constructor(e.slice(i,r+1))}selectSplittableList(t){const e=this.objects.filter(i=>t(i));return new this.constructor(e)}removeObjectsInRange(t){const[e,i,r]=this.splitObjectsAtRange(t);return new this.constructor(e).splice(i,r-i+1)}transformObjectsInRange(t,e){const[i,r,o]=this.splitObjectsAtRange(t),a=i.map((s,l)=>r<=l&&l<=o?e(s):s);return new this.constructor(a)}splitObjectsAtRange(t){let e,[i,r,o]=this.splitObjectAtPosition(Qb(t));return[i,e]=new this.constructor(i).splitObjectAtPosition(Zb(t)+o),[i,r,e-1]}getObjectAtPosition(t){const{index:e}=this.findIndexAndOffsetAtPosition(t);return this.objects[e]}splitObjectAtPosition(t){let e,i;const{index:r,offset:o}=this.findIndexAndOffsetAtPosition(t),a=this.objects.slice(0);if(r!=null)if(o===0)e=r,i=0;else{const s=this.getObjectAtIndex(r),[l,c]=s.splitAtOffset(o);a.splice(r,1,l,c),e=r+1,i=l.getLength()-o}else e=a.length,i=0;return[a,e,i]}consolidate(){const t=[];let e=this.objects[0];return this.objects.slice(1).forEach(i=>{var r,o;(r=(o=e).canBeConsolidatedWith)!==null&&r!==void 0&&r.call(o,i)?e=e.consolidateWith(i):(t.push(e),e=i)}),e&&t.push(e),new this.constructor(t)}consolidateFromIndexToIndex(t,e){const i=this.objects.slice(0).slice(t,e+1),r=new this.constructor(i).consolidate().toArray();return this.splice(t,i.length,...r)}findIndexAndOffsetAtPosition(t){let e,i=0;for(e=0;e<this.objects.length;e++){const r=i+this.objects[e].getLength();if(i<=t&&t<r)return{index:e,offset:t-i};i=r}return{index:null,offset:null}}findPositionAtIndexAndOffset(t,e){let i=0;for(let r=0;r<this.objects.length;r++){const o=this.objects[r];if(r<t)i+=o.getLength();else if(r===t){i+=e;break}}return i}getEndPosition(){return this.endPosition==null&&(this.endPosition=0,this.objects.forEach(t=>this.endPosition+=t.getLength())),this.endPosition}toString(){return this.objects.join("")}toArray(){return this.objects.slice(0)}toJSON(){return this.toArray()}isEqualTo(t){return super.isEqualTo(...arguments)||Jb(this.objects,t==null?void 0:t.objects)}contentsForInspection(){return{objects:"[".concat(this.objects.map(t=>t.inspect()).join(", "),"]")}}}const Jb=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(n.length!==t.length)return!1;let e=!0;for(let i=0;i<n.length;i++){const r=n[i];e&&!r.isEqualTo(t[i])&&(e=!1)}return e},Qb=n=>n[0],Zb=n=>n[1];class Ie extends $n{static textForAttachmentWithAttributes(t,e){return new this([new Si(t,e)])}static textForStringWithAttributes(t,e){return new this([new gl(t,e)])}static fromJSON(t){return new this(Array.from(t).map(e=>Vn.fromJSON(e)))}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments);const e=t.filter(i=>!i.isEmpty());this.pieceList=new wo(e)}copy(){return this.copyWithPieceList(this.pieceList)}copyWithPieceList(t){return new this.constructor(t.consolidate().toArray())}copyUsingObjectMap(t){const e=this.getPieces().map(i=>t.find(i)||i);return new this.constructor(e)}appendText(t){return this.insertTextAtPosition(t,this.getLength())}insertTextAtPosition(t,e){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(t.pieceList,e))}removeTextAtRange(t){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(t))}replaceTextAtRange(t,e){return this.removeTextAtRange(e).insertTextAtPosition(t,e[0])}moveTextFromRangeToPosition(t,e){if(t[0]<=e&&e<=t[1])return;const i=this.getTextAtRange(t),r=i.getLength();return t[0]<e&&(e-=r),this.removeTextAtRange(t).insertTextAtPosition(i,e)}addAttributeAtRange(t,e,i){const r={};return r[t]=e,this.addAttributesAtRange(r,i)}addAttributesAtRange(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,i=>i.copyWithAdditionalAttributes(t)))}removeAttributeAtRange(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,i=>i.copyWithoutAttribute(t)))}setAttributesAtRange(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,i=>i.copyWithAttributes(t)))}getAttributesAtPosition(t){var e;return((e=this.pieceList.getObjectAtPosition(t))===null||e===void 0?void 0:e.getAttributes())||{}}getCommonAttributes(){const t=Array.from(this.pieceList.toArray()).map(e=>e.getAttributes());return ye.fromCommonAttributesOfObjects(t).toObject()}getCommonAttributesAtRange(t){return this.getTextAtRange(t).getCommonAttributes()||{}}getExpandedRangeForAttributeAtOffset(t,e){let i,r=i=e;const o=this.getLength();for(;r>0&&this.getCommonAttributesAtRange([r-1,i])[t];)r--;for(;i<o&&this.getCommonAttributesAtRange([e,i+1])[t];)i++;return[r,i]}getTextAtRange(t){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(t))}getStringAtRange(t){return this.pieceList.getSplittableListInRange(t).toString()}getStringAtPosition(t){return this.getStringAtRange([t,t+1])}startsWithString(t){return this.getStringAtRange([0,t.length])===t}endsWithString(t){const e=this.getLength();return this.getStringAtRange([e-t.length,e])===t}getAttachmentPieces(){return this.pieceList.toArray().filter(t=>!!t.attachment)}getAttachments(){return this.getAttachmentPieces().map(t=>t.attachment)}getAttachmentAndPositionById(t){let e=0;for(const r of this.pieceList.toArray()){var i;if(((i=r.attachment)===null||i===void 0?void 0:i.id)===t)return{attachment:r.attachment,position:e};e+=r.length}return{attachment:null,position:null}}getAttachmentById(t){const{attachment:e}=this.getAttachmentAndPositionById(t);return e}getRangeOfAttachment(t){const e=this.getAttachmentAndPositionById(t.id),i=e.position;if(t=e.attachment)return[i,i+1]}updateAttributesForAttachment(t,e){const i=this.getRangeOfAttachment(e);return i?this.addAttributesAtRange(t,i):this}getLength(){return this.pieceList.getEndPosition()}isEmpty(){return this.getLength()===0}isEqualTo(t){var e;return super.isEqualTo(t)||(t==null||(e=t.pieceList)===null||e===void 0?void 0:e.isEqualTo(this.pieceList))}isBlockBreak(){return this.getLength()===1&&this.pieceList.getObjectAtIndex(0).isBlockBreak()}eachPiece(t){return this.pieceList.eachObject(t)}getPieces(){return this.pieceList.toArray()}getPieceAtPosition(t){return this.pieceList.getObjectAtPosition(t)}contentsForInspection(){return{pieceList:this.pieceList.inspect()}}toSerializableText(){const t=this.pieceList.selectSplittableList(e=>e.isSerializable());return this.copyWithPieceList(t)}toString(){return this.pieceList.toString()}toJSON(){return this.pieceList.toJSON()}toConsole(){return JSON.stringify(this.pieceList.toArray().map(t=>JSON.parse(t.toConsole())))}getDirection(){return Lb(this.toString())}isRTL(){return this.getDirection()==="rtl"}}class en extends $n{static fromJSON(t){return new this(Ie.fromJSON(t.text),t.attributes)}constructor(t,e){super(...arguments),this.text=t0(t||new Ie),this.attributes=e||[]}isEmpty(){return this.text.isBlockBreak()}isEqualTo(t){return!!super.isEqualTo(t)||this.text.isEqualTo(t==null?void 0:t.text)&&Yn(this.attributes,t==null?void 0:t.attributes)}copyWithText(t){return new en(t,this.attributes)}copyWithoutText(){return this.copyWithText(null)}copyWithAttributes(t){return new en(this.text,t)}copyWithoutAttributes(){return this.copyWithAttributes(null)}copyUsingObjectMap(t){const e=t.find(this.text);return e?this.copyWithText(e):this.copyWithText(this.text.copyUsingObjectMap(t))}addAttribute(t){const e=this.attributes.concat(Lc(t));return this.copyWithAttributes(e)}removeAttribute(t){const{listAttribute:e}=Bt(t),i=_c(_c(this.attributes,t),e);return this.copyWithAttributes(i)}removeLastAttribute(){return this.removeAttribute(this.getLastAttribute())}getLastAttribute(){return Rc(this.attributes)}getAttributes(){return this.attributes.slice(0)}getAttributeLevel(){return this.attributes.length}getAttributeAtLevel(t){return this.attributes[t-1]}hasAttribute(t){return this.attributes.includes(t)}hasAttributes(){return this.getAttributeLevel()>0}getLastNestableAttribute(){return Rc(this.getNestableAttributes())}getNestableAttributes(){return this.attributes.filter(t=>Bt(t).nestable)}getNestingLevel(){return this.getNestableAttributes().length}decreaseNestingLevel(){const t=this.getLastNestableAttribute();return t?this.removeAttribute(t):this}increaseNestingLevel(){const t=this.getLastNestableAttribute();if(t){const e=this.attributes.lastIndexOf(t),i=cl(this.attributes,e+1,0,...Lc(t));return this.copyWithAttributes(i)}return this}getListItemAttributes(){return this.attributes.filter(t=>Bt(t).listAttribute)}isListItem(){var t;return(t=Bt(this.getLastAttribute()))===null||t===void 0?void 0:t.listAttribute}isTerminalBlock(){var t;return(t=Bt(this.getLastAttribute()))===null||t===void 0?void 0:t.terminal}breaksOnReturn(){var t;return(t=Bt(this.getLastAttribute()))===null||t===void 0?void 0:t.breakOnReturn}findLineBreakInDirectionFromPosition(t,e){const i=this.toString();let r;switch(t){case"forward":r=i.indexOf(`
`,e);break;case"backward":r=i.slice(0,e).lastIndexOf(`
`)}if(r!==-1)return r}contentsForInspection(){return{text:this.text.inspect(),attributes:this.attributes}}toString(){return this.text.toString()}toJSON(){return{text:this.text,attributes:this.attributes}}getDirection(){return this.text.getDirection()}isRTL(){return this.text.isRTL()}getLength(){return this.text.getLength()}canBeConsolidatedWith(t){return!this.hasAttributes()&&!t.hasAttributes()&&this.getDirection()===t.getDirection()}consolidateWith(t){const e=Ie.textForStringWithAttributes(`
`),i=this.getTextWithoutBlockBreak().appendText(e);return this.copyWithText(i.appendText(t.text))}splitAtOffset(t){let e,i;return t===0?(e=null,i=this):t===this.getLength()?(e=this,i=null):(e=this.copyWithText(this.text.getTextAtRange([0,t])),i=this.copyWithText(this.text.getTextAtRange([t,this.getLength()]))),[e,i]}getBlockBreakPosition(){return this.text.getLength()-1}getTextWithoutBlockBreak(){return uh(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()}canBeGrouped(t){return this.attributes[t]}canBeGroupedWith(t,e){const i=t.getAttributes(),r=i[e],o=this.attributes[e];return o===r&&!(Bt(o).group===!1&&!(()=>{if(!Yr){Yr=[];for(const a in ce){const{listAttribute:s}=ce[a];s!=null&&Yr.push(s)}}return Yr})().includes(i[e+1]))&&(this.getDirection()===t.getDirection()||t.isEmpty())}}const t0=function(n){return n=e0(n),n=i0(n)},e0=function(n){let t=!1;const e=n.getPieces();let i=e.slice(0,e.length-1);const r=e[e.length-1];return r?(i=i.map(o=>o.isBlockBreak()?(t=!0,r0(o)):o),t?new Ie([...i,r]):n):n},n0=Ie.textForStringWithAttributes(`
`,{blockBreak:!0}),i0=function(n){return uh(n)?n:n.appendText(n0)},uh=function(n){const t=n.getLength();return t===0?!1:n.getTextAtRange([t-1,t]).isBlockBreak()},r0=n=>n.copyWithoutAttribute("blockBreak"),Lc=function(n){const{listAttribute:t}=Bt(n);return t?[t,n]:[n]},Rc=n=>n.slice(-1)[0],_c=function(n,t){const e=n.lastIndexOf(t);return e===-1?n:cl(n,e,1)};class Le extends $n{static fromJSON(t){return new this(Array.from(t).map(e=>en.fromJSON(e)))}static fromString(t,e){const i=Ie.textForStringWithAttributes(t,e);return new this([new en(i)])}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),t.length===0&&(t=[new en]),this.blockList=wo.box(t)}isEmpty(){const t=this.getBlockAtIndex(0);return this.blockList.length===1&&t.isEmpty()&&!t.hasAttributes()}copy(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray();return new this.constructor(t)}copyUsingObjectsFromDocument(t){const e=new Hb(t.getObjects());return this.copyUsingObjectMap(e)}copyUsingObjectMap(t){const e=this.getBlocks().map(i=>t.find(i)||i.copyUsingObjectMap(t));return new this.constructor(e)}copyWithBaseBlockAttributes(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=this.getBlocks().map(i=>{const r=t.concat(i.getAttributes());return i.copyWithAttributes(r)});return new this.constructor(e)}replaceBlock(t,e){const i=this.blockList.indexOf(t);return i===-1?this:new this.constructor(this.blockList.replaceObjectAtIndex(e,i))}insertDocumentAtRange(t,e){const{blockList:i}=t;e=yt(e);let[r]=e;const{index:o,offset:a}=this.locationFromPosition(r);let s=this;const l=this.getBlockAtPosition(r);return tn(e)&&l.isEmpty()&&!l.hasAttributes()?s=new this.constructor(s.blockList.removeObjectAtIndex(o)):l.getBlockBreakPosition()===a&&r++,s=s.removeTextAtRange(e),new this.constructor(s.blockList.insertSplittableListAtPosition(i,r))}mergeDocumentAtRange(t,e){let i,r;e=yt(e);const[o]=e,a=this.locationFromPosition(o),s=this.getBlockAtIndex(a.index).getAttributes(),l=t.getBaseBlockAttributes(),c=s.slice(-l.length);if(Yn(l,c)){const m=s.slice(0,-l.length);i=t.copyWithBaseBlockAttributes(m)}else i=t.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(s);const d=i.getBlockCount(),g=i.getBlockAtIndex(0);if(Yn(s,g.getAttributes())){const m=g.getTextWithoutBlockBreak();if(r=this.insertTextAtRange(m,e),d>1){i=new this.constructor(i.getBlocks().slice(1));const x=o+m.getLength();r=r.insertDocumentAtRange(i,x)}}else r=this.insertDocumentAtRange(i,e);return r}insertTextAtRange(t,e){e=yt(e);const[i]=e,{index:r,offset:o}=this.locationFromPosition(i),a=this.removeTextAtRange(e);return new this.constructor(a.blockList.editObjectAtIndex(r,s=>s.copyWithText(s.text.insertTextAtPosition(t,o))))}removeTextAtRange(t){let e;t=yt(t);const[i,r]=t;if(tn(t))return this;const[o,a]=Array.from(this.locationRangeFromRange(t)),s=o.index,l=o.offset,c=this.getBlockAtIndex(s),d=a.index,g=a.offset,m=this.getBlockAtIndex(d);if(r-i==1&&c.getBlockBreakPosition()===l&&m.getBlockBreakPosition()!==g&&m.text.getStringAtPosition(g)===`
`)e=this.blockList.editObjectAtIndex(d,x=>x.copyWithText(x.text.removeTextAtRange([g,g+1])));else{let x;const D=c.text.getTextAtRange([0,l]),E=m.text.getTextAtRange([g,m.getLength()]),M=D.appendText(E);x=s!==d&&l===0&&c.getAttributeLevel()>=m.getAttributeLevel()?m.copyWithText(M):c.copyWithText(M);const T=d+1-s;e=this.blockList.splice(s,T,x)}return new this.constructor(e)}moveTextFromRangeToPosition(t,e){let i;t=yt(t);const[r,o]=t;if(r<=e&&e<=o)return this;let a=this.getDocumentAtRange(t),s=this.removeTextAtRange(t);const l=r<e;l&&(e-=a.getLength());const[c,...d]=a.getBlocks();return d.length===0?(i=c.getTextWithoutBlockBreak(),l&&(e+=1)):i=c.text,s=s.insertTextAtRange(i,e),d.length===0?s:(a=new this.constructor(d),e+=i.getLength(),s.insertDocumentAtRange(a,e))}addAttributeAtRange(t,e,i){let{blockList:r}=this;return this.eachBlockAtRange(i,(o,a,s)=>r=r.editObjectAtIndex(s,function(){return Bt(t)?o.addAttribute(t,e):a[0]===a[1]?o:o.copyWithText(o.text.addAttributeAtRange(t,e,a))})),new this.constructor(r)}addAttribute(t,e){let{blockList:i}=this;return this.eachBlock((r,o)=>i=i.editObjectAtIndex(o,()=>r.addAttribute(t,e))),new this.constructor(i)}removeAttributeAtRange(t,e){let{blockList:i}=this;return this.eachBlockAtRange(e,function(r,o,a){Bt(t)?i=i.editObjectAtIndex(a,()=>r.removeAttribute(t)):o[0]!==o[1]&&(i=i.editObjectAtIndex(a,()=>r.copyWithText(r.text.removeAttributeAtRange(t,o))))}),new this.constructor(i)}updateAttributesForAttachment(t,e){const i=this.getRangeOfAttachment(e),[r]=Array.from(i),{index:o}=this.locationFromPosition(r),a=this.getTextAtIndex(o);return new this.constructor(this.blockList.editObjectAtIndex(o,s=>s.copyWithText(a.updateAttributesForAttachment(t,e))))}removeAttributeForAttachment(t,e){const i=this.getRangeOfAttachment(e);return this.removeAttributeAtRange(t,i)}insertBlockBreakAtRange(t){let e;t=yt(t);const[i]=t,{offset:r}=this.locationFromPosition(i),o=this.removeTextAtRange(t);return r===0&&(e=[new en]),new this.constructor(o.blockList.insertSplittableListAtPosition(new wo(e),i))}applyBlockAttributeAtRange(t,e,i){const r=this.expandRangeToLineBreaksAndSplitBlocks(i);let o=r.document;i=r.range;const a=Bt(t);if(a.listAttribute){o=o.removeLastListAttributeAtRange(i,{exceptAttributeName:t});const s=o.convertLineBreaksToBlockBreaksInRange(i);o=s.document,i=s.range}else o=a.exclusive?o.removeBlockAttributesAtRange(i):a.terminal?o.removeLastTerminalAttributeAtRange(i):o.consolidateBlocksAtRange(i);return o.addAttributeAtRange(t,e,i)}removeLastListAttributeAtRange(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{blockList:i}=this;return this.eachBlockAtRange(t,function(r,o,a){const s=r.getLastAttribute();s&&Bt(s).listAttribute&&s!==e.exceptAttributeName&&(i=i.editObjectAtIndex(a,()=>r.removeAttribute(s)))}),new this.constructor(i)}removeLastTerminalAttributeAtRange(t){let{blockList:e}=this;return this.eachBlockAtRange(t,function(i,r,o){const a=i.getLastAttribute();a&&Bt(a).terminal&&(e=e.editObjectAtIndex(o,()=>i.removeAttribute(a)))}),new this.constructor(e)}removeBlockAttributesAtRange(t){let{blockList:e}=this;return this.eachBlockAtRange(t,function(i,r,o){i.hasAttributes()&&(e=e.editObjectAtIndex(o,()=>i.copyWithoutAttributes()))}),new this.constructor(e)}expandRangeToLineBreaksAndSplitBlocks(t){let e;t=yt(t);let[i,r]=t;const o=this.locationFromPosition(i),a=this.locationFromPosition(r);let s=this;const l=s.getBlockAtIndex(o.index);if(o.offset=l.findLineBreakInDirectionFromPosition("backward",o.offset),o.offset!=null&&(e=s.positionFromLocation(o),s=s.insertBlockBreakAtRange([e,e+1]),a.index+=1,a.offset-=s.getBlockAtIndex(o.index).getLength(),o.index+=1),o.offset=0,a.offset===0&&a.index>o.index)a.index-=1,a.offset=s.getBlockAtIndex(a.index).getBlockBreakPosition();else{const c=s.getBlockAtIndex(a.index);c.text.getStringAtRange([a.offset-1,a.offset])===`
`?a.offset-=1:a.offset=c.findLineBreakInDirectionFromPosition("forward",a.offset),a.offset!==c.getBlockBreakPosition()&&(e=s.positionFromLocation(a),s=s.insertBlockBreakAtRange([e,e+1]))}return i=s.positionFromLocation(o),r=s.positionFromLocation(a),{document:s,range:t=yt([i,r])}}convertLineBreaksToBlockBreaksInRange(t){t=yt(t);let[e]=t;const i=this.getStringAtRange(t).slice(0,-1);let r=this;return i.replace(/.*?\n/g,function(o){e+=o.length,r=r.insertBlockBreakAtRange([e-1,e])}),{document:r,range:t}}consolidateBlocksAtRange(t){t=yt(t);const[e,i]=t,r=this.locationFromPosition(e).index,o=this.locationFromPosition(i).index;return new this.constructor(this.blockList.consolidateFromIndexToIndex(r,o))}getDocumentAtRange(t){t=yt(t);const e=this.blockList.getSplittableListInRange(t).toArray();return new this.constructor(e)}getStringAtRange(t){let e;const i=t=yt(t);return i[i.length-1]!==this.getLength()&&(e=-1),this.getDocumentAtRange(t).toString().slice(0,e)}getBlockAtIndex(t){return this.blockList.getObjectAtIndex(t)}getBlockAtPosition(t){const{index:e}=this.locationFromPosition(t);return this.getBlockAtIndex(e)}getTextAtIndex(t){var e;return(e=this.getBlockAtIndex(t))===null||e===void 0?void 0:e.text}getTextAtPosition(t){const{index:e}=this.locationFromPosition(t);return this.getTextAtIndex(e)}getPieceAtPosition(t){const{index:e,offset:i}=this.locationFromPosition(t);return this.getTextAtIndex(e).getPieceAtPosition(i)}getCharacterAtPosition(t){const{index:e,offset:i}=this.locationFromPosition(t);return this.getTextAtIndex(e).getStringAtRange([i,i+1])}getLength(){return this.blockList.getEndPosition()}getBlocks(){return this.blockList.toArray()}getBlockCount(){return this.blockList.length}getEditCount(){return this.editCount}eachBlock(t){return this.blockList.eachObject(t)}eachBlockAtRange(t,e){let i,r;t=yt(t);const[o,a]=t,s=this.locationFromPosition(o),l=this.locationFromPosition(a);if(s.index===l.index)return i=this.getBlockAtIndex(s.index),r=[s.offset,l.offset],e(i,r,s.index);for(let c=s.index;c<=l.index;c++)if(i=this.getBlockAtIndex(c),i){switch(c){case s.index:r=[s.offset,i.text.getLength()];break;case l.index:r=[0,l.offset];break;default:r=[0,i.text.getLength()]}e(i,r,c)}}getCommonAttributesAtRange(t){t=yt(t);const[e]=t;if(tn(t))return this.getCommonAttributesAtPosition(e);{const i=[],r=[];return this.eachBlockAtRange(t,function(o,a){if(a[0]!==a[1])return i.push(o.text.getCommonAttributesAtRange(a)),r.push(Pc(o))}),ye.fromCommonAttributesOfObjects(i).merge(ye.fromCommonAttributesOfObjects(r)).toObject()}}getCommonAttributesAtPosition(t){let e,i;const{index:r,offset:o}=this.locationFromPosition(t),a=this.getBlockAtIndex(r);if(!a)return{};const s=Pc(a),l=a.text.getAttributesAtPosition(o),c=a.text.getAttributesAtPosition(o-1),d=Object.keys(zn).filter(g=>zn[g].inheritable);for(e in c)i=c[e],(i===l[e]||d.includes(e))&&(s[e]=i);return s}getRangeOfCommonAttributeAtPosition(t,e){const{index:i,offset:r}=this.locationFromPosition(e),o=this.getTextAtIndex(i),[a,s]=Array.from(o.getExpandedRangeForAttributeAtOffset(t,r)),l=this.positionFromLocation({index:i,offset:a}),c=this.positionFromLocation({index:i,offset:s});return yt([l,c])}getBaseBlockAttributes(){let t=this.getBlockAtIndex(0).getAttributes();for(let e=1;e<this.getBlockCount();e++){const i=this.getBlockAtIndex(e).getAttributes(),r=Math.min(t.length,i.length);t=(()=>{const o=[];for(let a=0;a<r&&i[a]===t[a];a++)o.push(i[a]);return o})()}return t}getAttachmentById(t){for(const e of this.getAttachments())if(e.id===t)return e}getAttachmentPieces(){let t=[];return this.blockList.eachObject(e=>{let{text:i}=e;return t=t.concat(i.getAttachmentPieces())}),t}getAttachments(){return this.getAttachmentPieces().map(t=>t.attachment)}getRangeOfAttachment(t){let e=0;const i=this.blockList.toArray();for(let r=0;r<i.length;r++){const{text:o}=i[r],a=o.getRangeOfAttachment(t);if(a)return yt([e+a[0],e+a[1]]);e+=o.getLength()}}getLocationRangeOfAttachment(t){const e=this.getRangeOfAttachment(t);return this.locationRangeFromRange(e)}getAttachmentPieceForAttachment(t){for(const e of this.getAttachmentPieces())if(e.attachment===t)return e}findRangesForBlockAttribute(t){let e=0;const i=[];return this.getBlocks().forEach(r=>{const o=r.getLength();r.hasAttribute(t)&&i.push([e,e+o]),e+=o}),i}findRangesForTextAttribute(t){let{withValue:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=0,r=[];const o=[];return this.getPieces().forEach(a=>{const s=a.getLength();(function(l){return e?l.getAttribute(t)===e:l.hasAttribute(t)})(a)&&(r[1]===i?r[1]=i+s:o.push(r=[i,i+s])),i+=s}),o}locationFromPosition(t){const e=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,t));if(e.index!=null)return e;{const i=this.getBlocks();return{index:i.length-1,offset:i[i.length-1].getLength()}}}positionFromLocation(t){return this.blockList.findPositionAtIndexAndOffset(t.index,t.offset)}locationRangeFromPosition(t){return yt(this.locationFromPosition(t))}locationRangeFromRange(t){if(!(t=yt(t)))return;const[e,i]=Array.from(t),r=this.locationFromPosition(e),o=this.locationFromPosition(i);return yt([r,o])}rangeFromLocationRange(t){let e;t=yt(t);const i=this.positionFromLocation(t[0]);return tn(t)||(e=this.positionFromLocation(t[1])),yt([i,e])}isEqualTo(t){return this.blockList.isEqualTo(t==null?void 0:t.blockList)}getTexts(){return this.getBlocks().map(t=>t.text)}getPieces(){const t=[];return Array.from(this.getTexts()).forEach(e=>{t.push(...Array.from(e.getPieces()||[]))}),t}getObjects(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())}toSerializableDocument(){const t=[];return this.blockList.eachObject(e=>t.push(e.copyWithText(e.text.toSerializableText()))),new this.constructor(t)}toString(){return this.blockList.toString()}toJSON(){return this.blockList.toJSON()}toConsole(){return JSON.stringify(this.blockList.toArray()).map(t=>JSON.parse(t.text.toConsole()))}}const Pc=function(n){const t={},e=n.getLastAttribute();return e&&(t[e]=!0),t},o0="style href src width height class".split(" "),a0="javascript:".split(" "),s0="script iframe form".split(" ");class dh extends Wt{static sanitize(t,e){const i=new this(t,e);return i.sanitize(),i}constructor(t){let{allowedAttributes:e,forbiddenProtocols:i,forbiddenElements:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.allowedAttributes=e||o0,this.forbiddenProtocols=i||a0,this.forbiddenElements=r||s0,this.body=l0(t)}sanitize(){return this.sanitizeElements(),this.normalizeListElementNesting()}getHTML(){return this.body.innerHTML}getBody(){return this.body}sanitizeElements(){const t=vo(this.body),e=[];for(;t.nextNode();){const i=t.currentNode;switch(i.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(i)?e.push(i):this.sanitizeElement(i);break;case Node.COMMENT_NODE:e.push(i)}}return e.forEach(i=>Sn(i)),this.body}sanitizeElement(t){return t.hasAttribute("href")&&this.forbiddenProtocols.includes(t.protocol)&&t.removeAttribute("href"),Array.from(t.attributes).forEach(e=>{let{name:i}=e;this.allowedAttributes.includes(i)||i.indexOf("data-trix")===0||t.removeAttribute(i)}),t}normalizeListElementNesting(){return Array.from(this.body.querySelectorAll("ul,ol")).forEach(t=>{const e=t.previousElementSibling;e&&se(e)==="li"&&e.appendChild(t)}),this.body}elementIsRemovable(t){if((t==null?void 0:t.nodeType)===Node.ELEMENT_NODE)return this.elementIsForbidden(t)||this.elementIsntSerializable(t)}elementIsForbidden(t){return this.forbiddenElements.includes(se(t))}elementIsntSerializable(t){return t.getAttribute("data-trix-serialize")==="false"&&!Hn(t)}}const l0=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";n=n.replace(/<\/html[^>]*>[^]*$/i,"</html>");const t=document.implementation.createHTMLDocument("");return t.documentElement.innerHTML=n,Array.from(t.head.querySelectorAll("style")).forEach(e=>{t.body.appendChild(e)}),t.body},Wa=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const e="string";return{string:n=Qi(n),attributes:t,type:e}},Ic=(n,t)=>{try{return JSON.parse(n.getAttribute("data-trix-".concat(t)))}catch{return{}}};class vr extends Wt{static parse(t,e){const i=new this(t,e);return i.parse(),i}constructor(t){let{referenceElement:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.html=t,this.referenceElement=e,this.blocks=[],this.blockElements=[],this.processedElements=[]}getDocument(){return Le.fromJSON(this.blocks)}parse(){try{this.createHiddenContainer();const t=dh.sanitize(this.html).getHTML();this.containerElement.innerHTML=t;const e=vo(this.containerElement,{usingFilter:u0});for(;e.nextNode();)this.processNode(e.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}}createHiddenContainer(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=ut({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))}removeHiddenContainer(){return Sn(this.containerElement)}processNode(t){switch(t.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(t))return this.appendBlockForTextNode(t),this.processTextNode(t);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(t),this.processElement(t)}}appendBlockForTextNode(t){const e=t.parentNode;if(e===this.currentBlockElement&&this.isBlockElement(t.previousSibling))return this.appendStringWithAttributes(`
`);if(e===this.containerElement||this.isBlockElement(e)){var i;const r=this.getBlockAttributes(e);Yn(r,(i=this.currentBlock)===null||i===void 0?void 0:i.attributes)||(this.currentBlock=this.appendBlockForAttributesWithElement(r,e),this.currentBlockElement=e)}}appendBlockForElement(t){const e=this.isBlockElement(t),i=Bn(this.currentBlockElement,t);if(e&&!this.isBlockElement(t.firstChild)){if(!this.isInsignificantTextNode(t.firstChild)||!this.isBlockElement(t.firstElementChild)){const r=this.getBlockAttributes(t);if(t.firstChild){if(i&&Yn(r,this.currentBlock.attributes))return this.appendStringWithAttributes(`
`);this.currentBlock=this.appendBlockForAttributesWithElement(r,t),this.currentBlockElement=t}}}else if(this.currentBlockElement&&!i&&!e){const r=this.findParentBlockElement(t);if(r)return this.appendBlockForElement(r);this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null}}findParentBlockElement(t){let{parentElement:e}=t;for(;e&&e!==this.containerElement;){if(this.isBlockElement(e)&&this.blockElements.includes(e))return e;e=e.parentElement}return null}processTextNode(t){let e=t.data;var i;return Nc(t.parentNode)||(e=hl(e),hh((i=t.previousSibling)===null||i===void 0?void 0:i.textContent)&&(e=d0(e))),this.appendStringWithAttributes(e,this.getTextAttributes(t.parentNode))}processElement(t){let e;if(Hn(t)){if(e=Ic(t,"attachment"),Object.keys(e).length){const i=this.getTextAttributes(t);this.appendAttachmentWithAttributes(e,i),t.innerHTML=""}return this.processedElements.push(t)}switch(se(t)){case"br":return this.isExtraBR(t)||this.isBlockElement(t.nextSibling)||this.appendStringWithAttributes(`
`,this.getTextAttributes(t)),this.processedElements.push(t);case"img":e={url:t.getAttribute("src"),contentType:"image"};const i=(r=>{const o=r.getAttribute("width"),a=r.getAttribute("height"),s={};return o&&(s.width=parseInt(o,10)),a&&(s.height=parseInt(a,10)),s})(t);for(const r in i){const o=i[r];e[r]=o}return this.appendAttachmentWithAttributes(e,this.getTextAttributes(t)),this.processedElements.push(t);case"tr":if(this.needsTableSeparator(t))return this.appendStringWithAttributes(eo.tableRowSeparator);break;case"td":if(this.needsTableSeparator(t))return this.appendStringWithAttributes(eo.tableCellSeparator)}}appendBlockForAttributesWithElement(t,e){this.blockElements.push(e);const i=function(){return{text:[],attributes:arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}}}(t);return this.blocks.push(i),i}appendEmptyBlock(){return this.appendBlockForAttributesWithElement([],null)}appendStringWithAttributes(t,e){return this.appendPiece(Wa(t,e))}appendAttachmentWithAttributes(t,e){return this.appendPiece(function(i){return{attachment:i,attributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},type:"attachment"}}(t,e))}appendPiece(t){return this.blocks.length===0&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(t)}appendStringToTextAtIndex(t,e){const{text:i}=this.blocks[e],r=i[i.length-1];if((r==null?void 0:r.type)!=="string")return i.push(Wa(t));r.string+=t}prependStringToTextAtIndex(t,e){const{text:i}=this.blocks[e],r=i[0];if((r==null?void 0:r.type)!=="string")return i.unshift(Wa(t));r.string=t+r.string}getTextAttributes(t){let e;const i={};for(const r in zn){const o=zn[r];if(o.tagName&&En(t,{matchingSelector:o.tagName,untilNode:this.containerElement}))i[r]=!0;else if(o.parser){if(e=o.parser(t),e){let a=!1;for(const s of this.findBlockElementAncestors(t))if(o.parser(s)===e){a=!0;break}a||(i[r]=e)}}else o.styleProperty&&(e=t.style[o.styleProperty],e&&(i[r]=e))}if(Hn(t)){const r=Ic(t,"attributes");for(const o in r)e=r[o],i[o]=e}return i}getBlockAttributes(t){const e=[];for(;t&&t!==this.containerElement;){for(const r in ce){const o=ce[r];var i;o.parse!==!1&&se(t)===o.tagName&&((i=o.test)!==null&&i!==void 0&&i.call(o,t)||!o.test)&&(e.push(r),o.listAttribute&&e.push(o.listAttribute))}t=t.parentNode}return e.reverse()}findBlockElementAncestors(t){const e=[];for(;t&&t!==this.containerElement;){const i=se(t);cr().includes(i)&&e.push(t),t=t.parentNode}return e}isBlockElement(t){if((t==null?void 0:t.nodeType)===Node.ELEMENT_NODE&&!Hn(t)&&!En(t,{matchingSelector:"td",untilNode:this.containerElement}))return cr().includes(se(t))||window.getComputedStyle(t).display==="block"}isInsignificantTextNode(t){if((t==null?void 0:t.nodeType)!==Node.TEXT_NODE||!h0(t.data))return;const{parentNode:e,previousSibling:i,nextSibling:r}=t;return c0(e.previousSibling)&&!this.isBlockElement(e.previousSibling)||Nc(e)?void 0:!i||this.isBlockElement(i)||!r||this.isBlockElement(r)}isExtraBR(t){return se(t)==="br"&&this.isBlockElement(t.parentNode)&&t.parentNode.lastChild===t}needsTableSeparator(t){if(eo.removeBlankTableCells){var e;const i=(e=t.previousSibling)===null||e===void 0?void 0:e.textContent;return i&&/\S/.test(i)}return t.previousSibling}translateBlockElementMarginsToNewlines(){const t=this.getMarginOfDefaultBlockElement();for(let e=0;e<this.blocks.length;e++){const i=this.getMarginOfBlockElementAtIndex(e);i&&(i.top>2*t.top&&this.prependStringToTextAtIndex(`
`,e),i.bottom>2*t.bottom&&this.appendStringToTextAtIndex(`
`,e))}}getMarginOfBlockElementAtIndex(t){const e=this.blockElements[t];if(e&&e.textContent&&!cr().includes(se(e))&&!this.processedElements.includes(e))return Bc(e)}getMarginOfDefaultBlockElement(){const t=ut(ce.default.tagName);return this.containerElement.appendChild(t),Bc(t)}}const Nc=function(n){const{whiteSpace:t}=window.getComputedStyle(n);return["pre","pre-wrap","pre-line"].includes(t)},c0=n=>n&&!hh(n.textContent),Bc=function(n){const t=window.getComputedStyle(n);if(t.display==="block")return{top:parseInt(t.marginTop),bottom:parseInt(t.marginBottom)}},u0=function(n){return se(n)==="style"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},d0=n=>n.replace(new RegExp("^".concat(dl.source,"+")),""),h0=n=>new RegExp("^".concat(dl.source,"*$")).test(n),hh=n=>/\s$/.test(n),f0=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],p0="[".concat("data-trix-serialized-attributes","]"),g0=new RegExp("<!--block-->","g"),m0={"application/json":function(n){let t;if(n instanceof Le)t=n;else{if(!(n instanceof HTMLElement))throw new Error("unserializable object");t=vr.parse(n.innerHTML).getDocument()}return t.toSerializableDocument().toJSONString()},"text/html":function(n){let t;if(n instanceof Le)t=pl.render(n);else{if(!(n instanceof HTMLElement))throw new Error("unserializable object");t=n.cloneNode(!0)}return Array.from(t.querySelectorAll("[data-trix-serialize=false]")).forEach(e=>{Sn(e)}),f0.forEach(e=>{Array.from(t.querySelectorAll("[".concat(e,"]"))).forEach(i=>{i.removeAttribute(e)})}),Array.from(t.querySelectorAll(p0)).forEach(e=>{try{const i=JSON.parse(e.getAttribute("data-trix-serialized-attributes"));e.removeAttribute("data-trix-serialized-attributes");for(const r in i){const o=i[r];e.setAttribute(r,o)}}catch{}}),t.innerHTML.replace(g0,"")}};var v0=Object.freeze({__proto__:null});class _t extends Wt{constructor(t,e){super(...arguments),this.attachmentManager=t,this.attachment=e,this.id=this.attachment.id,this.file=this.attachment.file}remove(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)}}_t.proxyMethod("attachment.getAttribute"),_t.proxyMethod("attachment.hasAttribute"),_t.proxyMethod("attachment.setAttribute"),_t.proxyMethod("attachment.getAttributes"),_t.proxyMethod("attachment.setAttributes"),_t.proxyMethod("attachment.isPending"),_t.proxyMethod("attachment.isPreviewable"),_t.proxyMethod("attachment.getURL"),_t.proxyMethod("attachment.getHref"),_t.proxyMethod("attachment.getFilename"),_t.proxyMethod("attachment.getFilesize"),_t.proxyMethod("attachment.getFormattedFilesize"),_t.proxyMethod("attachment.getExtension"),_t.proxyMethod("attachment.getContentType"),_t.proxyMethod("attachment.getFile"),_t.proxyMethod("attachment.setFile"),_t.proxyMethod("attachment.releaseFile"),_t.proxyMethod("attachment.getUploadProgress"),_t.proxyMethod("attachment.setUploadProgress");class fh extends Wt{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.managedAttachments={},Array.from(t).forEach(e=>{this.manageAttachment(e)})}getAttachments(){const t=[];for(const e in this.managedAttachments){const i=this.managedAttachments[e];t.push(i)}return t}manageAttachment(t){return this.managedAttachments[t.id]||(this.managedAttachments[t.id]=new _t(this,t)),this.managedAttachments[t.id]}attachmentIsManaged(t){return t.id in this.managedAttachments}requestRemovalOfAttachment(t){var e,i;if(this.attachmentIsManaged(t))return(e=this.delegate)===null||e===void 0||(i=e.attachmentManagerDidRequestRemovalOfAttachment)===null||i===void 0?void 0:i.call(e,t)}unmanageAttachment(t){const e=this.managedAttachments[t.id];return delete this.managedAttachments[t.id],e}}class ph{constructor(t){this.composition=t,this.document=this.composition.document;const e=this.composition.getSelectedRange();this.startPosition=e[0],this.endPosition=e[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}shouldInsertBlockBreak(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset!==0:this.breaksOnReturn&&this.nextCharacter!==`
`}shouldBreakFormattedBlock(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&this.nextCharacter===`
`||this.previousCharacter===`
`)}shouldDecreaseListLevel(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()}shouldPrependListItem(){return this.block.isListItem()&&this.startLocation.offset===0&&!this.block.isEmpty()}shouldRemoveLastBlockAttribute(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()}}class pn extends Wt{constructor(){super(...arguments),this.document=new Le,this.attachments=[],this.currentAttributes={},this.revision=0}setDocument(t){var e,i;if(!t.isEqualTo(this.document))return this.document=t,this.refreshAttachments(),this.revision++,(e=this.delegate)===null||e===void 0||(i=e.compositionDidChangeDocument)===null||i===void 0?void 0:i.call(e,t)}getSnapshot(){return{document:this.document,selectedRange:this.getSelectedRange()}}loadSnapshot(t){var e,i,r,o;let{document:a,selectedRange:s}=t;return(e=this.delegate)===null||e===void 0||(i=e.compositionWillLoadSnapshot)===null||i===void 0||i.call(e),this.setDocument(a!=null?a:new Le),this.setSelection(s!=null?s:[0,0]),(r=this.delegate)===null||r===void 0||(o=r.compositionDidLoadSnapshot)===null||o===void 0?void 0:o.call(r)}insertText(t){let{updatePosition:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{updatePosition:!0};const i=this.getSelectedRange();this.setDocument(this.document.insertTextAtRange(t,i));const r=i[0],o=r+t.getLength();return e&&this.setSelection(o),this.notifyDelegateOfInsertionAtRange([r,o])}insertBlock(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new en;const e=new Le([t]);return this.insertDocument(e)}insertDocument(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Le;const e=this.getSelectedRange();this.setDocument(this.document.insertDocumentAtRange(t,e));const i=e[0],r=i+t.getLength();return this.setSelection(r),this.notifyDelegateOfInsertionAtRange([i,r])}insertString(t,e){const i=this.getCurrentTextAttributes(),r=Ie.textForStringWithAttributes(t,i);return this.insertText(r,e)}insertBlockBreak(){const t=this.getSelectedRange();this.setDocument(this.document.insertBlockBreakAtRange(t));const e=t[0],i=e+1;return this.setSelection(i),this.notifyDelegateOfInsertionAtRange([e,i])}insertLineBreak(){const t=new ph(this);if(t.shouldDecreaseListLevel())return this.decreaseListLevel(),this.setSelection(t.startPosition);if(t.shouldPrependListItem()){const e=new Le([t.block.copyWithoutText()]);return this.insertDocument(e)}return t.shouldInsertBlockBreak()?this.insertBlockBreak():t.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():t.shouldBreakFormattedBlock()?this.breakFormattedBlock(t):this.insertString(`
`)}insertHTML(t){const e=vr.parse(t).getDocument(),i=this.getSelectedRange();this.setDocument(this.document.mergeDocumentAtRange(e,i));const r=i[0],o=r+e.getLength()-1;return this.setSelection(o),this.notifyDelegateOfInsertionAtRange([r,o])}replaceHTML(t){const e=vr.parse(t).getDocument().copyUsingObjectsFromDocument(this.document),i=this.getLocationRange({strict:!1}),r=this.document.rangeFromLocationRange(i);return this.setDocument(e),this.setSelection(r)}insertFile(t){return this.insertFiles([t])}insertFiles(t){const e=[];return Array.from(t).forEach(i=>{var r;if((r=this.delegate)!==null&&r!==void 0&&r.compositionShouldAcceptFile(i)){const o=Ri.attachmentForFile(i);e.push(o)}}),this.insertAttachments(e)}insertAttachment(t){return this.insertAttachments([t])}insertAttachments(t){let e=new Ie;return Array.from(t).forEach(i=>{var r;const o=i.getType(),a=(r=ol[o])===null||r===void 0?void 0:r.presentation,s=this.getCurrentTextAttributes();a&&(s.presentation=a);const l=Ie.textForAttachmentWithAttributes(i,s);e=e.appendText(l)}),this.insertText(e)}shouldManageDeletingInDirection(t){const e=this.getLocationRange();if(tn(e)){if(t==="backward"&&e[0].offset===0||this.shouldManageMovingCursorInDirection(t))return!0}else if(e[0].index!==e[1].index)return!0;return!1}deleteInDirection(t){let e,i,r,{length:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=this.getLocationRange();let s=this.getSelectedRange();const l=tn(s);if(l?i=t==="backward"&&a[0].offset===0:r=a[0].index!==a[1].index,i&&this.canDecreaseBlockAttributeLevel()){const c=this.getBlock();if(c.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(s[0]),c.isEmpty())return!1}return l&&(s=this.getExpandedRangeInDirection(t,{length:o}),t==="backward"&&(e=this.getAttachmentAtRange(s))),e?(this.editAttachment(e),!1):(this.setDocument(this.document.removeTextAtRange(s)),this.setSelection(s[0]),!i&&!r&&void 0)}moveTextFromRange(t){const[e]=Array.from(this.getSelectedRange());return this.setDocument(this.document.moveTextFromRangeToPosition(t,e)),this.setSelection(e)}removeAttachment(t){const e=this.document.getRangeOfAttachment(t);if(e)return this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(e)),this.setSelection(e[0])}removeLastBlockAttribute(){const[t,e]=Array.from(this.getSelectedRange()),i=this.document.getBlockAtPosition(e);return this.removeCurrentAttribute(i.getLastAttribute()),this.setSelection(t)}insertPlaceholder(){return this.placeholderPosition=this.getPosition(),this.insertString(" ")}selectPlaceholder(){if(this.placeholderPosition!=null)return this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+1]),this.getSelectedRange()}forgetPlaceholder(){this.placeholderPosition=null}hasCurrentAttribute(t){const e=this.currentAttributes[t];return e!=null&&e!==!1}toggleCurrentAttribute(t){const e=!this.currentAttributes[t];return e?this.setCurrentAttribute(t,e):this.removeCurrentAttribute(t)}canSetCurrentAttribute(t){return Bt(t)?this.canSetCurrentBlockAttribute(t):this.canSetCurrentTextAttribute(t)}canSetCurrentTextAttribute(t){const e=this.getSelectedDocument();if(e){for(const i of Array.from(e.getAttachments()))if(!i.hasContent())return!1;return!0}}canSetCurrentBlockAttribute(t){const e=this.getBlock();if(e)return!e.isTerminalBlock()}setCurrentAttribute(t,e){return Bt(t)?this.setBlockAttribute(t,e):(this.setTextAttribute(t,e),this.currentAttributes[t]=e,this.notifyDelegateOfCurrentAttributesChange())}setTextAttribute(t,e){const i=this.getSelectedRange();if(!i)return;const[r,o]=Array.from(i);if(r!==o)return this.setDocument(this.document.addAttributeAtRange(t,e,i));if(t==="href"){const a=Ie.textForStringWithAttributes(e,{href:e});return this.insertText(a)}}setBlockAttribute(t,e){const i=this.getSelectedRange();if(this.canSetCurrentAttribute(t))return this.setDocument(this.document.applyBlockAttributeAtRange(t,e,i)),this.setSelection(i)}removeCurrentAttribute(t){return Bt(t)?(this.removeBlockAttribute(t),this.updateCurrentAttributes()):(this.removeTextAttribute(t),delete this.currentAttributes[t],this.notifyDelegateOfCurrentAttributesChange())}removeTextAttribute(t){const e=this.getSelectedRange();if(e)return this.setDocument(this.document.removeAttributeAtRange(t,e))}removeBlockAttribute(t){const e=this.getSelectedRange();if(e)return this.setDocument(this.document.removeAttributeAtRange(t,e))}canDecreaseNestingLevel(){var t;return((t=this.getBlock())===null||t===void 0?void 0:t.getNestingLevel())>0}canIncreaseNestingLevel(){var t;const e=this.getBlock();if(e){if((t=Bt(e.getLastNestableAttribute()))===null||t===void 0||!t.listAttribute)return e.getNestingLevel()>0;{const i=this.getPreviousBlock();if(i)return function(){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Yn((arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).slice(0,r.length),r)}(i.getListItemAttributes(),e.getListItemAttributes())}}}decreaseNestingLevel(){const t=this.getBlock();if(t)return this.setDocument(this.document.replaceBlock(t,t.decreaseNestingLevel()))}increaseNestingLevel(){const t=this.getBlock();if(t)return this.setDocument(this.document.replaceBlock(t,t.increaseNestingLevel()))}canDecreaseBlockAttributeLevel(){var t;return((t=this.getBlock())===null||t===void 0?void 0:t.getAttributeLevel())>0}decreaseBlockAttributeLevel(){var t;const e=(t=this.getBlock())===null||t===void 0?void 0:t.getLastAttribute();if(e)return this.removeCurrentAttribute(e)}decreaseListLevel(){let[t]=Array.from(this.getSelectedRange());const{index:e}=this.document.locationFromPosition(t);let i=e;const r=this.getBlock().getAttributeLevel();let o=this.document.getBlockAtIndex(i+1);for(;o&&o.isListItem()&&!(o.getAttributeLevel()<=r);)i++,o=this.document.getBlockAtIndex(i+1);t=this.document.positionFromLocation({index:e,offset:0});const a=this.document.positionFromLocation({index:i,offset:0});return this.setDocument(this.document.removeLastListAttributeAtRange([t,a]))}updateCurrentAttributes(){const t=this.getSelectedRange({ignoreLock:!0});if(t){const e=this.document.getCommonAttributesAtRange(t);if(Array.from(ws()).forEach(i=>{e[i]||this.canSetCurrentAttribute(i)||(e[i]=!1)}),!Tr(e,this.currentAttributes))return this.currentAttributes=e,this.notifyDelegateOfCurrentAttributesChange()}}getCurrentAttributes(){return Jd.call({},this.currentAttributes)}getCurrentTextAttributes(){const t={};for(const e in this.currentAttributes){const i=this.currentAttributes[e];i!==!1&&xs(e)&&(t[e]=i)}return t}freezeSelection(){return this.setCurrentAttribute("frozen",!0)}thawSelection(){return this.removeCurrentAttribute("frozen")}hasFrozenSelection(){return this.hasCurrentAttribute("frozen")}setSelection(t){var e;const i=this.document.locationRangeFromRange(t);return(e=this.delegate)===null||e===void 0?void 0:e.compositionDidRequestChangingSelectionToLocationRange(i)}getSelectedRange(){const t=this.getLocationRange();if(t)return this.document.rangeFromLocationRange(t)}setSelectedRange(t){const e=this.document.locationRangeFromRange(t);return this.getSelectionManager().setLocationRange(e)}getPosition(){const t=this.getLocationRange();if(t)return this.document.positionFromLocation(t[0])}getLocationRange(t){return this.targetLocationRange?this.targetLocationRange:this.getSelectionManager().getLocationRange(t)||yt({index:0,offset:0})}withTargetLocationRange(t,e){let i;this.targetLocationRange=t;try{i=e()}finally{this.targetLocationRange=null}return i}withTargetRange(t,e){const i=this.document.locationRangeFromRange(t);return this.withTargetLocationRange(i,e)}withTargetDOMRange(t,e){const i=this.createLocationRangeFromDOMRange(t,{strict:!1});return this.withTargetLocationRange(i,e)}getExpandedRangeInDirection(t){let{length:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},[i,r]=Array.from(this.getSelectedRange());return t==="backward"?e?i-=e:i=this.translateUTF16PositionFromOffset(i,-1):e?r+=e:r=this.translateUTF16PositionFromOffset(r,1),yt([i,r])}shouldManageMovingCursorInDirection(t){if(this.editingAttachment)return!0;const e=this.getExpandedRangeInDirection(t);return this.getAttachmentAtRange(e)!=null}moveCursorInDirection(t){let e,i;if(this.editingAttachment)i=this.document.getRangeOfAttachment(this.editingAttachment);else{const r=this.getSelectedRange();i=this.getExpandedRangeInDirection(t),e=!bo(r,i)}if(t==="backward"?this.setSelectedRange(i[0]):this.setSelectedRange(i[1]),e){const r=this.getAttachmentAtRange(i);if(r)return this.editAttachment(r)}}expandSelectionInDirection(t){let{length:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getExpandedRangeInDirection(t,{length:e});return this.setSelectedRange(i)}expandSelectionForEditing(){if(this.hasCurrentAttribute("href"))return this.expandSelectionAroundCommonAttribute("href")}expandSelectionAroundCommonAttribute(t){const e=this.getPosition(),i=this.document.getRangeOfCommonAttributeAtPosition(t,e);return this.setSelectedRange(i)}selectionContainsAttachments(){var t;return((t=this.getSelectedAttachments())===null||t===void 0?void 0:t.length)>0}selectionIsInCursorTarget(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())}positionIsCursorTarget(t){const e=this.document.locationFromPosition(t);if(e)return this.locationIsCursorTarget(e)}positionIsBlockBreak(t){var e;return(e=this.document.getPieceAtPosition(t))===null||e===void 0?void 0:e.isBlockBreak()}getSelectedDocument(){const t=this.getSelectedRange();if(t)return this.document.getDocumentAtRange(t)}getSelectedAttachments(){var t;return(t=this.getSelectedDocument())===null||t===void 0?void 0:t.getAttachments()}getAttachments(){return this.attachments.slice(0)}refreshAttachments(){const t=this.document.getAttachments(),{added:e,removed:i}=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const a=[],s=[],l=new Set;r.forEach(d=>{l.add(d)});const c=new Set;return o.forEach(d=>{c.add(d),l.has(d)||a.push(d)}),r.forEach(d=>{c.has(d)||s.push(d)}),{added:a,removed:s}}(this.attachments,t);return this.attachments=t,Array.from(i).forEach(r=>{var o,a;r.delegate=null,(o=this.delegate)===null||o===void 0||(a=o.compositionDidRemoveAttachment)===null||a===void 0||a.call(o,r)}),(()=>{const r=[];return Array.from(e).forEach(o=>{var a,s;o.delegate=this,r.push((a=this.delegate)===null||a===void 0||(s=a.compositionDidAddAttachment)===null||s===void 0?void 0:s.call(a,o))}),r})()}attachmentDidChangeAttributes(t){var e,i;return this.revision++,(e=this.delegate)===null||e===void 0||(i=e.compositionDidEditAttachment)===null||i===void 0?void 0:i.call(e,t)}attachmentDidChangePreviewURL(t){var e,i;return this.revision++,(e=this.delegate)===null||e===void 0||(i=e.compositionDidChangeAttachmentPreviewURL)===null||i===void 0?void 0:i.call(e,t)}editAttachment(t,e){var i,r;if(t!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=t,(i=this.delegate)===null||i===void 0||(r=i.compositionDidStartEditingAttachment)===null||r===void 0?void 0:r.call(i,this.editingAttachment,e)}stopEditingAttachment(){var t,e;this.editingAttachment&&((t=this.delegate)===null||t===void 0||(e=t.compositionDidStopEditingAttachment)===null||e===void 0||e.call(t,this.editingAttachment),this.editingAttachment=null)}updateAttributesForAttachment(t,e){return this.setDocument(this.document.updateAttributesForAttachment(t,e))}removeAttributeForAttachment(t,e){return this.setDocument(this.document.removeAttributeForAttachment(t,e))}breakFormattedBlock(t){let{document:e}=t;const{block:i}=t;let r=t.startPosition,o=[r-1,r];i.getBlockBreakPosition()===t.startLocation.offset?(i.breaksOnReturn()&&t.nextCharacter===`
`?r+=1:e=e.removeTextAtRange(o),o=[r,r]):t.nextCharacter===`
`?t.previousCharacter===`
`?o=[r-1,r+1]:(o=[r,r+1],r+=1):t.startLocation.offset-1!=0&&(r+=1);const a=new Le([i.removeLastAttribute().copyWithoutText()]);return this.setDocument(e.insertDocumentAtRange(a,o)),this.setSelection(r)}getPreviousBlock(){const t=this.getLocationRange();if(t){const{index:e}=t[0];if(e>0)return this.document.getBlockAtIndex(e-1)}}getBlock(){const t=this.getLocationRange();if(t)return this.document.getBlockAtIndex(t[0].index)}getAttachmentAtRange(t){const e=this.document.getDocumentAtRange(t);if(e.toString()==="".concat("\uFFFC",`
`))return e.getAttachments()[0]}notifyDelegateOfCurrentAttributesChange(){var t,e;return(t=this.delegate)===null||t===void 0||(e=t.compositionDidChangeCurrentAttributes)===null||e===void 0?void 0:e.call(t,this.currentAttributes)}notifyDelegateOfInsertionAtRange(t){var e,i;return(e=this.delegate)===null||e===void 0||(i=e.compositionDidPerformInsertionAtRange)===null||i===void 0?void 0:i.call(e,t)}translateUTF16PositionFromOffset(t,e){const i=this.document.toUTF16String(),r=i.offsetFromUCS2Offset(t);return i.offsetToUCS2Offset(r+e)}}pn.proxyMethod("getSelectionManager().getPointRange"),pn.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),pn.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),pn.proxyMethod("getSelectionManager().locationIsCursorTarget"),pn.proxyMethod("getSelectionManager().selectionIsExpanded"),pn.proxyMethod("delegate?.getSelectionManager");class As extends Wt{constructor(t){super(...arguments),this.composition=t,this.undoEntries=[],this.redoEntries=[]}recordUndoEntry(t){let{context:e,consolidatable:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.undoEntries.slice(-1)[0];if(!i||!b0(r,t,e)){const o=this.createEntry({description:t,context:e});this.undoEntries.push(o),this.redoEntries=[]}}undo(){const t=this.undoEntries.pop();if(t){const e=this.createEntry(t);return this.redoEntries.push(e),this.composition.loadSnapshot(t.snapshot)}}redo(){const t=this.redoEntries.pop();if(t){const e=this.createEntry(t);return this.undoEntries.push(e),this.composition.loadSnapshot(t.snapshot)}}canUndo(){return this.undoEntries.length>0}canRedo(){return this.redoEntries.length>0}createEntry(){let{description:t,context:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{description:t==null?void 0:t.toString(),context:JSON.stringify(e),snapshot:this.composition.getSnapshot()}}}const b0=(n,t,e)=>(n==null?void 0:n.description)===(t==null?void 0:t.toString())&&(n==null?void 0:n.context)===JSON.stringify(e);class gh{constructor(t){this.document=t.document,this.selectedRange=t.selectedRange}perform(){return this.removeBlockAttribute(),this.applyBlockAttribute()}getSnapshot(){return{document:this.document,selectedRange:this.selectedRange}}removeBlockAttribute(){return this.findRangesOfBlocks().map(t=>this.document=this.document.removeAttributeAtRange("attachmentGallery",t))}applyBlockAttribute(){let t=0;this.findRangesOfPieces().forEach(e=>{e[1]-e[0]>1&&(e[0]+=t,e[1]+=t,this.document.getCharacterAtPosition(e[1])!==`
`&&(this.document=this.document.insertBlockBreakAtRange(e[1]),e[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),e[1]++,t++),e[0]!==0&&this.document.getCharacterAtPosition(e[0]-1)!==`
`&&(this.document=this.document.insertBlockBreakAtRange(e[0]),e[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),e[0]++,t++),this.document=this.document.applyBlockAttributeAtRange("attachmentGallery",!0,e))})}findRangesOfBlocks(){return this.document.findRangesForBlockAttribute("attachmentGallery")}findRangesOfPieces(){return this.document.findRangesForTextAttribute("presentation",{withValue:"gallery"})}moveSelectedRangeForward(){this.selectedRange[0]+=1,this.selectedRange[1]+=1}}const mh=function(n){const t=new gh(n);return t.perform(),t.getSnapshot()},y0=[mh];class vh{constructor(t,e,i){this.insertFiles=this.insertFiles.bind(this),this.composition=t,this.selectionManager=e,this.element=i,this.undoManager=new As(this.composition),this.filters=y0.slice(0)}loadDocument(t){return this.loadSnapshot({document:t,selectedRange:[0,0]})}loadHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const e=vr.parse(t,{referenceElement:this.element}).getDocument();return this.loadDocument(e)}loadJSON(t){let{document:e,selectedRange:i}=t;return e=Le.fromJSON(e),this.loadSnapshot({document:e,selectedRange:i})}loadSnapshot(t){return this.undoManager=new As(this.composition),this.composition.loadSnapshot(t)}getDocument(){return this.composition.document}getSelectedDocument(){return this.composition.getSelectedDocument()}getSnapshot(){return this.composition.getSnapshot()}toJSON(){return this.getSnapshot()}deleteInDirection(t){return this.composition.deleteInDirection(t)}insertAttachment(t){return this.composition.insertAttachment(t)}insertAttachments(t){return this.composition.insertAttachments(t)}insertDocument(t){return this.composition.insertDocument(t)}insertFile(t){return this.composition.insertFile(t)}insertFiles(t){return this.composition.insertFiles(t)}insertHTML(t){return this.composition.insertHTML(t)}insertString(t){return this.composition.insertString(t)}insertText(t){return this.composition.insertText(t)}insertLineBreak(){return this.composition.insertLineBreak()}getSelectedRange(){return this.composition.getSelectedRange()}getPosition(){return this.composition.getPosition()}getClientRectAtPosition(t){const e=this.getDocument().locationRangeFromRange([t,t+1]);return this.selectionManager.getClientRectAtLocationRange(e)}expandSelectionInDirection(t){return this.composition.expandSelectionInDirection(t)}moveCursorInDirection(t){return this.composition.moveCursorInDirection(t)}setSelectedRange(t){return this.composition.setSelectedRange(t)}activateAttribute(t){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return this.composition.setCurrentAttribute(t,e)}attributeIsActive(t){return this.composition.hasCurrentAttribute(t)}canActivateAttribute(t){return this.composition.canSetCurrentAttribute(t)}deactivateAttribute(t){return this.composition.removeCurrentAttribute(t)}canDecreaseNestingLevel(){return this.composition.canDecreaseNestingLevel()}canIncreaseNestingLevel(){return this.composition.canIncreaseNestingLevel()}decreaseNestingLevel(){if(this.canDecreaseNestingLevel())return this.composition.decreaseNestingLevel()}increaseNestingLevel(){if(this.canIncreaseNestingLevel())return this.composition.increaseNestingLevel()}canRedo(){return this.undoManager.canRedo()}canUndo(){return this.undoManager.canUndo()}recordUndoEntry(t){let{context:e,consolidatable:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.undoManager.recordUndoEntry(t,{context:e,consolidatable:i})}redo(){if(this.canRedo())return this.undoManager.redo()}undo(){if(this.canUndo())return this.undoManager.undo()}}class bh{constructor(t){this.element=t}findLocationFromContainerAndOffset(t,e){let{strict:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{strict:!0},r=0,o=!1;const a={index:0,offset:0},s=this.findAttachmentElementParentForNode(t);s&&(t=s.parentNode,e=Oa(s));const l=vo(this.element,{usingFilter:yh});for(;l.nextNode();){const c=l.currentNode;if(c===t&&ur(t)){bi(c)||(a.offset+=e);break}if(c.parentNode===t){if(r++===e)break}else if(!Bn(t,c)&&r>0)break;yc(c,{strict:i})?(o&&a.index++,a.offset=0,o=!0):a.offset+=ja(c)}return a}findContainerAndOffsetFromLocation(t){let e,i;if(t.index===0&&t.offset===0){for(e=this.element,i=0;e.firstChild;)if(e=e.firstChild,La(e)){i=1;break}return[e,i]}let[r,o]=this.findNodeAndOffsetFromLocation(t);if(r){if(ur(r))ja(r)===0?(e=r.parentNode.parentNode,i=Oa(r.parentNode),bi(r,{name:"right"})&&i++):(e=r,i=t.offset-o);else{if(e=r.parentNode,!yc(r.previousSibling)&&!La(e))for(;r===e.lastChild&&(r=e,e=e.parentNode,!La(e)););i=Oa(r),t.offset!==0&&i++}return[e,i]}}findNodeAndOffsetFromLocation(t){let e,i,r=0;for(const o of this.getSignificantNodesForIndex(t.index)){const a=ja(o);if(t.offset<=r+a)if(ur(o)){if(e=o,i=r,t.offset===i&&bi(e))break}else e||(e=o,i=r);if(r+=a,r>t.offset)break}return[e,i]}findAttachmentElementParentForNode(t){for(;t&&t!==this.element;){if(Hn(t))return t;t=t.parentNode}}getSignificantNodesForIndex(t){const e=[],i=vo(this.element,{usingFilter:w0});let r=!1;for(;i.nextNode();){const a=i.currentNode;var o;if(vi(a)){if(o!=null?o++:o=0,o===t)r=!0;else if(r)break}else r&&e.push(a)}return e}}const ja=function(n){return n.nodeType===Node.TEXT_NODE?bi(n)?0:n.textContent.length:se(n)==="br"||Hn(n)?1:0},w0=function(n){return x0(n)===NodeFilter.FILTER_ACCEPT?yh(n):NodeFilter.FILTER_REJECT},x0=function(n){return Zd(n)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},yh=function(n){return Hn(n.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT};class wh{createDOMRangeFromPoint(t){let e,{x:i,y:r}=t;if(document.caretPositionFromPoint){const{offsetNode:o,offset:a}=document.caretPositionFromPoint(i,r);return e=document.createRange(),e.setStart(o,a),e}if(document.caretRangeFromPoint)return document.caretRangeFromPoint(i,r);if(document.body.createTextRange){const o=yi();try{const a=document.body.createTextRange();a.moveToPoint(i,r),a.select()}catch{}return e=yi(),sh(o),e}}getClientRectsForDOMRange(t){const e=Array.from(t.getClientRects());return[e[0],e[e.length-1]]}}class In extends Wt{constructor(t){super(...arguments),this.didMouseDown=this.didMouseDown.bind(this),this.selectionDidChange=this.selectionDidChange.bind(this),this.element=t,this.locationMapper=new bh(this.element),this.pointMapper=new wh,this.lockCount=0,Mt("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}getLocationRange(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t.strict===!1?this.createLocationRangeFromDOMRange(yi()):t.ignoreLock?this.currentLocationRange:this.lockedLocationRange?this.lockedLocationRange:this.currentLocationRange}setLocationRange(t){if(this.lockedLocationRange)return;t=yt(t);const e=this.createDOMRangeFromLocationRange(t);e&&(sh(e),this.updateCurrentLocationRange(t))}setLocationRangeFromPointRange(t){t=yt(t);const e=this.getLocationAtPoint(t[0]),i=this.getLocationAtPoint(t[1]);this.setLocationRange([e,i])}getClientRectAtLocationRange(t){const e=this.createDOMRangeFromLocationRange(t);if(e)return this.getClientRectsForDOMRange(e)[1]}locationIsCursorTarget(t){const e=Array.from(this.findNodeAndOffsetFromLocation(t))[0];return bi(e)}lock(){this.lockCount++==0&&(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange())}unlock(){if(--this.lockCount==0){const{lockedLocationRange:t}=this;if(this.lockedLocationRange=null,t!=null)return this.setLocationRange(t)}}clearSelection(){var t;return(t=ah())===null||t===void 0?void 0:t.removeAllRanges()}selectionIsCollapsed(){var t;return((t=yi())===null||t===void 0?void 0:t.collapsed)===!0}selectionIsExpanded(){return!this.selectionIsCollapsed()}createLocationRangeFromDOMRange(t,e){if(t==null||!this.domRangeWithinElement(t))return;const i=this.findLocationFromContainerAndOffset(t.startContainer,t.startOffset,e);if(!i)return;const r=t.collapsed?void 0:this.findLocationFromContainerAndOffset(t.endContainer,t.endOffset,e);return yt([i,r])}didMouseDown(){return this.pauseTemporarily()}pauseTemporarily(){let t;this.paused=!0;const e=()=>{if(this.paused=!1,clearTimeout(i),Array.from(t).forEach(r=>{r.destroy()}),Bn(document,this.element))return this.selectionDidChange()},i=setTimeout(e,200);t=["mousemove","keydown"].map(r=>Mt(r,{onElement:document,withCallback:e}))}selectionDidChange(){if(!this.paused&&!sl(this.element))return this.updateCurrentLocationRange()}updateCurrentLocationRange(t){var e,i;if((t!=null?t:t=this.createLocationRangeFromDOMRange(yi()))&&!bo(t,this.currentLocationRange))return this.currentLocationRange=t,(e=this.delegate)===null||e===void 0||(i=e.locationRangeDidChange)===null||i===void 0?void 0:i.call(e,this.currentLocationRange.slice(0))}createDOMRangeFromLocationRange(t){const e=this.findContainerAndOffsetFromLocation(t[0]),i=tn(t)?e:this.findContainerAndOffsetFromLocation(t[1])||e;if(e!=null&&i!=null){const r=document.createRange();return r.setStart(...Array.from(e||[])),r.setEnd(...Array.from(i||[])),r}}getLocationAtPoint(t){const e=this.createDOMRangeFromPoint(t);var i;if(e)return(i=this.createLocationRangeFromDOMRange(e))===null||i===void 0?void 0:i[0]}domRangeWithinElement(t){return t.collapsed?Bn(this.element,t.startContainer):Bn(this.element,t.startContainer)&&Bn(this.element,t.endContainer)}}In.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),In.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),In.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),In.proxyMethod("pointMapper.createDOMRangeFromPoint"),In.proxyMethod("pointMapper.getClientRectsForDOMRange");var xh=Object.freeze({__proto__:null,Attachment:Ri,AttachmentManager:fh,AttachmentPiece:Si,Block:en,Composition:pn,Document:Le,Editor:vh,HTMLParser:vr,HTMLSanitizer:dh,LineBreakInsertion:ph,LocationMapper:bh,ManagedAttachment:_t,Piece:Vn,PointMapper:wh,SelectionManager:In,SplittableList:wo,StringPiece:gl,Text:Ie,UndoManager:As}),C0=Object.freeze({__proto__:null});const{lang:Ha,css:Ln,keyNames:A0}=Dr,za=function(n){return function(){const t=n.apply(this,arguments);t.do(),this.undos||(this.undos=[]),this.undos.push(t.undo)}};class Ch extends Wt{constructor(t,e,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(...arguments),we(this,"makeElementMutable",za(()=>({do:()=>{this.element.dataset.trixMutable=!0},undo:()=>delete this.element.dataset.trixMutable}))),we(this,"addToolbar",za(()=>{const o=ut({tagName:"div",className:Ln.attachmentToolbar,data:{trixMutable:!0},childNodes:ut({tagName:"div",className:"trix-button-row",childNodes:ut({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:ut({tagName:"button",className:"trix-button trix-button--remove",textContent:Ha.remove,attributes:{title:Ha.remove},data:{trixAction:"remove"}})})})});return this.attachment.isPreviewable()&&o.appendChild(ut({tagName:"div",className:Ln.attachmentMetadataContainer,childNodes:ut({tagName:"span",className:Ln.attachmentMetadata,childNodes:[ut({tagName:"span",className:Ln.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),ut({tagName:"span",className:Ln.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),Mt("click",{onElement:o,withCallback:this.didClickToolbar}),Mt("click",{onElement:o,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),lr("trix-attachment-before-toolbar",{onElement:this.element,attributes:{toolbar:o,attachment:this.attachment}}),{do:()=>this.element.appendChild(o),undo:()=>Sn(o)}})),we(this,"installCaptionEditor",za(()=>{const o=ut({tagName:"textarea",className:Ln.attachmentCaptionEditor,attributes:{placeholder:Ha.captionPlaceholder},data:{trixMutable:!0}});o.value=this.attachmentPiece.getCaption();const a=o.cloneNode();a.classList.add("trix-autoresize-clone"),a.tabIndex=-1;const s=function(){a.value=o.value,o.style.height=a.scrollHeight+"px"};Mt("input",{onElement:o,withCallback:s}),Mt("input",{onElement:o,withCallback:this.didInputCaption}),Mt("keydown",{onElement:o,withCallback:this.didKeyDownCaption}),Mt("change",{onElement:o,withCallback:this.didChangeCaption}),Mt("blur",{onElement:o,withCallback:this.didBlurCaption});const l=this.element.querySelector("figcaption"),c=l.cloneNode();return{do:()=>{if(l.style.display="none",c.appendChild(o),c.appendChild(a),c.classList.add("".concat(Ln.attachmentCaption,"--editing")),l.parentElement.insertBefore(c,l),s(),this.options.editCaption)return ul(()=>o.focus())},undo(){Sn(c),l.style.display=null}}})),this.didClickToolbar=this.didClickToolbar.bind(this),this.didClickActionButton=this.didClickActionButton.bind(this),this.didKeyDownCaption=this.didKeyDownCaption.bind(this),this.didInputCaption=this.didInputCaption.bind(this),this.didChangeCaption=this.didChangeCaption.bind(this),this.didBlurCaption=this.didBlurCaption.bind(this),this.attachmentPiece=t,this.element=e,this.container=i,this.options=r,this.attachment=this.attachmentPiece.attachment,se(this.element)==="a"&&(this.element=this.element.firstChild),this.install()}install(){this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()&&this.installCaptionEditor()}uninstall(){var t;let e=this.undos.pop();for(this.savePendingCaption();e;)e(),e=this.undos.pop();(t=this.delegate)===null||t===void 0||t.didUninstallAttachmentEditor(this)}savePendingCaption(){if(this.pendingCaption!=null){const o=this.pendingCaption;var t,e,i,r;this.pendingCaption=null,o?(t=this.delegate)===null||t===void 0||(e=t.attachmentEditorDidRequestUpdatingAttributesForAttachment)===null||e===void 0||e.call(t,{caption:o},this.attachment):(i=this.delegate)===null||i===void 0||(r=i.attachmentEditorDidRequestRemovingAttributeForAttachment)===null||r===void 0||r.call(i,"caption",this.attachment)}}didClickToolbar(t){return t.preventDefault(),t.stopPropagation()}didClickActionButton(t){var e;if(t.target.getAttribute("data-trix-action")==="remove")return(e=this.delegate)===null||e===void 0?void 0:e.attachmentEditorDidRequestRemovalOfAttachment(this.attachment)}didKeyDownCaption(t){var e,i;if(A0[t.keyCode]==="return")return t.preventDefault(),this.savePendingCaption(),(e=this.delegate)===null||e===void 0||(i=e.attachmentEditorDidRequestDeselectingAttachment)===null||i===void 0?void 0:i.call(e,this.attachment)}didInputCaption(t){this.pendingCaption=t.target.value.replace(/\s/g," ").trim()}didChangeCaption(t){return this.savePendingCaption()}didBlurCaption(t){return this.savePendingCaption()}}class Ah extends Wt{constructor(t,e){super(...arguments),this.didFocus=this.didFocus.bind(this),this.didBlur=this.didBlur.bind(this),this.didClickAttachment=this.didClickAttachment.bind(this),this.element=t,this.composition=e,this.documentView=new pl(this.composition.document,{element:this.element}),Mt("focus",{onElement:this.element,withCallback:this.didFocus}),Mt("blur",{onElement:this.element,withCallback:this.didBlur}),Mt("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),Mt("mousedown",{onElement:this.element,matchingSelector:"[data-trix-attachment]",withCallback:this.didClickAttachment}),Mt("click",{onElement:this.element,matchingSelector:"a".concat("[data-trix-attachment]"),preventDefault:!0})}didFocus(t){var e;const i=()=>{var r,o;if(!this.focused)return this.focused=!0,(r=this.delegate)===null||r===void 0||(o=r.compositionControllerDidFocus)===null||o===void 0?void 0:o.call(r)};return((e=this.blurPromise)===null||e===void 0?void 0:e.then(i))||i()}didBlur(t){this.blurPromise=new Promise(e=>ul(()=>{var i,r;return sl(this.element)||(this.focused=null,(i=this.delegate)===null||i===void 0||(r=i.compositionControllerDidBlur)===null||r===void 0||r.call(i)),this.blurPromise=null,e()}))}didClickAttachment(t,e){var i,r;const o=this.findAttachmentForElement(e),a=!!En(t.target,{matchingSelector:"figcaption"});return(i=this.delegate)===null||i===void 0||(r=i.compositionControllerDidSelectAttachment)===null||r===void 0?void 0:r.call(i,o,{editCaption:a})}getSerializableElement(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element}render(){var t,e,i,r,o,a;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&((i=this.delegate)===null||i===void 0||(r=i.compositionControllerWillSyncDocumentView)===null||r===void 0||r.call(i),this.documentView.sync(),(o=this.delegate)===null||o===void 0||(a=o.compositionControllerDidSyncDocumentView)===null||a===void 0||a.call(o)),(t=this.delegate)===null||t===void 0||(e=t.compositionControllerDidRender)===null||e===void 0?void 0:e.call(t)}rerenderViewForObject(t){return this.invalidateViewForObject(t),this.render()}invalidateViewForObject(t){return this.documentView.invalidateViewForObject(t)}isViewCachingEnabled(){return this.documentView.isViewCachingEnabled()}enableViewCaching(){return this.documentView.enableViewCaching()}disableViewCaching(){return this.documentView.disableViewCaching()}refreshViewCache(){return this.documentView.garbageCollectCachedViews()}isEditingAttachment(){return!!this.attachmentEditor}installAttachmentEditorForAttachment(t,e){var i;if(((i=this.attachmentEditor)===null||i===void 0?void 0:i.attachment)===t)return;const r=this.documentView.findElementForObject(t);if(!r)return;this.uninstallAttachmentEditor();const o=this.composition.document.getAttachmentPieceForAttachment(t);this.attachmentEditor=new Ch(o,r,this.element,e),this.attachmentEditor.delegate=this}uninstallAttachmentEditor(){var t;return(t=this.attachmentEditor)===null||t===void 0?void 0:t.uninstall()}didUninstallAttachmentEditor(){return this.attachmentEditor=null,this.render()}attachmentEditorDidRequestUpdatingAttributesForAttachment(t,e){var i,r;return(i=this.delegate)===null||i===void 0||(r=i.compositionControllerWillUpdateAttachment)===null||r===void 0||r.call(i,e),this.composition.updateAttributesForAttachment(t,e)}attachmentEditorDidRequestRemovingAttributeForAttachment(t,e){var i,r;return(i=this.delegate)===null||i===void 0||(r=i.compositionControllerWillUpdateAttachment)===null||r===void 0||r.call(i,e),this.composition.removeAttributeForAttachment(t,e)}attachmentEditorDidRequestRemovalOfAttachment(t){var e,i;return(e=this.delegate)===null||e===void 0||(i=e.compositionControllerDidRequestRemovalOfAttachment)===null||i===void 0?void 0:i.call(e,t)}attachmentEditorDidRequestDeselectingAttachment(t){var e,i;return(e=this.delegate)===null||e===void 0||(i=e.compositionControllerDidRequestDeselectingAttachment)===null||i===void 0?void 0:i.call(e,t)}canSyncDocumentView(){return!this.isEditingAttachment()}findAttachmentForElement(t){return this.composition.document.getAttachmentById(parseInt(t.dataset.trixId,10))}}class Eh extends Wt{}const E0="[".concat("data-trix-mutable","]"),S0={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};class Sh extends Wt{constructor(t){super(t),this.didMutate=this.didMutate.bind(this),this.element=t,this.observer=new window.MutationObserver(this.didMutate),this.start()}start(){return this.reset(),this.observer.observe(this.element,S0)}stop(){return this.observer.disconnect()}didMutate(t){var e,i;if(this.mutations.push(...Array.from(this.findSignificantMutations(t)||[])),this.mutations.length)return(e=this.delegate)===null||e===void 0||(i=e.elementDidMutate)===null||i===void 0||i.call(e,this.getMutationSummary()),this.reset()}reset(){this.mutations=[]}findSignificantMutations(t){return t.filter(e=>this.mutationIsSignificant(e))}mutationIsSignificant(t){if(this.nodeIsMutable(t.target))return!1;for(const e of Array.from(this.nodesModifiedByMutation(t)))if(this.nodeIsSignificant(e))return!0;return!1}nodeIsSignificant(t){return t!==this.element&&!this.nodeIsMutable(t)&&!Zd(t)}nodeIsMutable(t){return En(t,{matchingSelector:E0})}nodesModifiedByMutation(t){const e=[];switch(t.type){case"attributes":t.attributeName!=="data-trix-mutable"&&e.push(t.target);break;case"characterData":e.push(t.target.parentNode),e.push(t.target);break;case"childList":e.push(...Array.from(t.addedNodes||[])),e.push(...Array.from(t.removedNodes||[]))}return e}getMutationSummary(){return this.getTextMutationSummary()}getTextMutationSummary(){const{additions:t,deletions:e}=this.getTextChangesFromCharacterData(),i=this.getTextChangesFromChildList();Array.from(i.additions).forEach(s=>{Array.from(t).includes(s)||t.push(s)}),e.push(...Array.from(i.deletions||[]));const r={},o=t.join("");o&&(r.textAdded=o);const a=e.join("");return a&&(r.textDeleted=a),r}getMutationsByType(t){return Array.from(this.mutations).filter(e=>e.type===t)}getTextChangesFromChildList(){let t,e;const i=[],r=[];return Array.from(this.getMutationsByType("childList")).forEach(o=>{i.push(...Array.from(o.addedNodes||[])),r.push(...Array.from(o.removedNodes||[]))}),i.length===0&&r.length===1&&vi(r[0])?(t=[],e=[`
`]):(t=Es(i),e=Es(r)),{additions:t.filter((o,a)=>o!==e[a]).map(Qi),deletions:e.filter((o,a)=>o!==t[a]).map(Qi)}}getTextChangesFromCharacterData(){let t,e;const i=this.getMutationsByType("characterData");if(i.length){const r=i[0],o=i[i.length-1],a=function(s,l){let c,d;return s=mr.box(s),(l=mr.box(l)).length<s.length?[d,c]=Sc(s,l):[c,d]=Sc(l,s),{added:c,removed:d}}(Qi(r.oldValue),Qi(o.target.data));t=a.added,e=a.removed}return{additions:t?[t]:[],deletions:e?[e]:[]}}}const Es=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=[];for(const e of Array.from(n))switch(e.nodeType){case Node.TEXT_NODE:t.push(e.data);break;case Node.ELEMENT_NODE:se(e)==="br"?t.push(`
`):t.push(...Array.from(Es(e.childNodes)||[]))}return t};class Dh extends yo{constructor(t){super(...arguments),this.file=t}perform(t){const e=new FileReader;return e.onerror=()=>t(!1),e.onload=()=>{e.onerror=null;try{e.abort()}catch{}return t(!0,this.file)},e.readAsArrayBuffer(this.file)}}class D0{constructor(t){this.element=t}shouldIgnore(t){return!!Sr.samsungAndroid&&(this.previousEvent=this.event,this.event=t,this.checkSamsungKeyboardBuggyModeStart(),this.checkSamsungKeyboardBuggyModeEnd(),this.buggyMode)}checkSamsungKeyboardBuggyModeStart(){this.insertingLongTextAfterUnidentifiedChar()&&T0(this.element.innerText,this.event.data)&&(this.buggyMode=!0,this.event.preventDefault())}checkSamsungKeyboardBuggyModeEnd(){this.buggyMode&&this.event.inputType!=="insertText"&&(this.buggyMode=!1)}insertingLongTextAfterUnidentifiedChar(){var t;return this.isBeforeInputInsertText()&&this.previousEventWasUnidentifiedKeydown()&&((t=this.event.data)===null||t===void 0?void 0:t.length)>50}isBeforeInputInsertText(){return this.event.type==="beforeinput"&&this.event.inputType==="insertText"}previousEventWasUnidentifiedKeydown(){var t,e;return((t=this.previousEvent)===null||t===void 0?void 0:t.type)==="keydown"&&((e=this.previousEvent)===null||e===void 0?void 0:e.key)==="Unidentified"}}const T0=(n,t)=>Fc(n)===Fc(t),M0=new RegExp("(".concat("\uFFFC","|").concat("\uFEFF","|").concat("\xA0","|\\s)+"),"g"),Fc=n=>n.replace(M0," ").trim();class Wo extends Wt{constructor(t){super(...arguments),this.element=t,this.mutationObserver=new Sh(this.element),this.mutationObserver.delegate=this,this.flakyKeyboardDetector=new D0(this.element);for(const e in this.constructor.events)Mt(e,{onElement:this.element,withCallback:this.handlerFor(e)})}elementDidMutate(t){}editorWillSyncDocumentView(){return this.mutationObserver.stop()}editorDidSyncDocumentView(){return this.mutationObserver.start()}requestRender(){var t,e;return(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidRequestRender)===null||e===void 0?void 0:e.call(t)}requestReparse(){var t,e;return(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidRequestReparse)===null||e===void 0||e.call(t),this.requestRender()}attachFiles(t){const e=Array.from(t).map(i=>new Dh(i));return Promise.all(e).then(i=>{this.handleInput(function(){var r,o;return(r=this.delegate)===null||r===void 0||r.inputControllerWillAttachFiles(),(o=this.responder)===null||o===void 0||o.insertFiles(i),this.requestRender()})})}handlerFor(t){return e=>{e.defaultPrevented||this.handleInput(()=>{if(!sl(this.element)){if(this.flakyKeyboardDetector.shouldIgnore(e))return;this.eventName=t,this.constructor.events[t].call(this,e)}})}}handleInput(t){try{var e;(e=this.delegate)===null||e===void 0||e.inputControllerWillHandleInput(),t.call(this)}finally{var i;(i=this.delegate)===null||i===void 0||i.inputControllerDidHandleInput()}}createLinkHTML(t,e){const i=document.createElement("a");return i.href=t,i.textContent=e||t,i.outerHTML}}var Ya;we(Wo,"events",{});const{browser:k0,keyNames:Th}=Dr;let O0=0;class Qe extends Wo{constructor(){super(...arguments),this.resetInputSummary()}setInputSummary(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.inputSummary.eventName=this.eventName;for(const e in t){const i=t[e];this.inputSummary[e]=i}return this.inputSummary}resetInputSummary(){this.inputSummary={}}reset(){return this.resetInputSummary(),Xn.reset()}elementDidMutate(t){var e,i;return this.isComposing()?(e=this.delegate)===null||e===void 0||(i=e.inputControllerDidAllowUnhandledInput)===null||i===void 0?void 0:i.call(e):this.handleInput(function(){return this.mutationIsSignificant(t)&&(this.mutationIsExpected(t)?this.requestRender():this.requestReparse()),this.reset()})}mutationIsExpected(t){let{textAdded:e,textDeleted:i}=t;if(this.inputSummary.preferDocument)return!0;const r=e!=null?e===this.inputSummary.textAdded:!this.inputSummary.textAdded,o=i!=null?this.inputSummary.didDelete:!this.inputSummary.didDelete,a=[`
`,` 
`].includes(e)&&!r,s=i===`
`&&!o;if(a&&!s||s&&!a){const c=this.getSelectedRange();if(c){var l;const d=a?e.replace(/\n$/,"").length||-1:(e==null?void 0:e.length)||1;if((l=this.responder)!==null&&l!==void 0&&l.positionIsBlockBreak(c[1]+d))return!0}}return r&&o}mutationIsSignificant(t){var e;const i=Object.keys(t).length>0,r=((e=this.compositionInput)===null||e===void 0?void 0:e.getEndData())==="";return i||!r}getCompositionInput(){if(this.isComposing())return this.compositionInput;this.compositionInput=new dn(this)}isComposing(){return this.compositionInput&&!this.compositionInput.isEnded()}deleteInDirection(t,e){var i;return((i=this.responder)===null||i===void 0?void 0:i.deleteInDirection(t))!==!1?this.setInputSummary({didDelete:!0}):e?(e.preventDefault(),this.requestRender()):void 0}serializeSelectionToDataTransfer(t){var e;if(!function(r){if(r==null||!r.setData)return!1;for(const o in Cc){const a=Cc[o];try{if(r.setData(o,a),!r.getData(o)===a)return!1}catch{return!1}}return!0}(t))return;const i=(e=this.responder)===null||e===void 0?void 0:e.getSelectedDocument().toSerializableDocument();return t.setData("application/x-trix-document",JSON.stringify(i)),t.setData("text/html",pl.render(i).innerHTML),t.setData("text/plain",i.toString().replace(/\n$/,"")),!0}canAcceptDataTransfer(t){const e={};return Array.from((t==null?void 0:t.types)||[]).forEach(i=>{e[i]=!0}),e.Files||e["application/x-trix-document"]||e["text/html"]||e["text/plain"]}getPastedHTMLUsingHiddenElement(t){const e=this.getSelectedRange(),i={position:"absolute",left:"".concat(window.pageXOffset,"px"),top:"".concat(window.pageYOffset,"px"),opacity:0},r=ut({style:i,tagName:"div",editable:!0});return document.body.appendChild(r),r.focus(),requestAnimationFrame(()=>{const o=r.innerHTML;return Sn(r),this.setSelectedRange(e),t(o)})}}we(Qe,"events",{keydown(n){this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0;const t=Th[n.keyCode];if(t){var e;let r=this.keys;["ctrl","alt","shift","meta"].forEach(o=>{var a;n["".concat(o,"Key")]&&(o==="ctrl"&&(o="control"),r=(a=r)===null||a===void 0?void 0:a[o])}),((e=r)===null||e===void 0?void 0:e[t])!=null&&(this.setInputSummary({keyName:t}),Xn.reset(),r[t].call(this,n))}if(ih(n)){const r=String.fromCharCode(n.keyCode).toLowerCase();if(r){var i;const o=["alt","shift"].map(a=>{if(n["".concat(a,"Key")])return a}).filter(a=>a);o.push(r),(i=this.delegate)!==null&&i!==void 0&&i.inputControllerDidReceiveKeyboardCommand(o)&&n.preventDefault()}}},keypress(n){if(this.inputSummary.eventName!=null||n.metaKey||n.ctrlKey&&!n.altKey)return;const t=_0(n);var e,i;return t?((e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(i=this.responder)===null||i===void 0||i.insertString(t),this.setInputSummary({textAdded:t,didDelete:this.selectionIsExpanded()})):void 0},textInput(n){const{data:t}=n,{textAdded:e}=this.inputSummary;if(e&&e!==t&&e.toUpperCase()===t){var i;const r=this.getSelectedRange();return this.setSelectedRange([r[0],r[1]+e.length]),(i=this.responder)===null||i===void 0||i.insertString(t),this.setInputSummary({textAdded:t}),this.setSelectedRange(r)}},dragenter(n){n.preventDefault()},dragstart(n){var t,e;return this.serializeSelectionToDataTransfer(n.dataTransfer),this.draggedRange=this.getSelectedRange(),(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidStartDrag)===null||e===void 0?void 0:e.call(t)},dragover(n){if(this.draggedRange||this.canAcceptDataTransfer(n.dataTransfer)){n.preventDefault();const i={x:n.clientX,y:n.clientY};var t,e;if(!Tr(i,this.draggingPoint))return this.draggingPoint=i,(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidReceiveDragOverPoint)===null||e===void 0?void 0:e.call(t,this.draggingPoint)}},dragend(n){var t,e;(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidCancelDrag)===null||e===void 0||e.call(t),this.draggedRange=null,this.draggingPoint=null},drop(n){var t,e;n.preventDefault();const i=(t=n.dataTransfer)===null||t===void 0?void 0:t.files,r=n.dataTransfer.getData("application/x-trix-document"),o={x:n.clientX,y:n.clientY};if((e=this.responder)===null||e===void 0||e.setLocationRangeFromPointRange(o),i!=null&&i.length)this.attachFiles(i);else if(this.draggedRange){var a,s;(a=this.delegate)===null||a===void 0||a.inputControllerWillMoveText(),(s=this.responder)===null||s===void 0||s.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()}else if(r){var l;const c=Le.fromJSONString(r);(l=this.responder)===null||l===void 0||l.insertDocument(c),this.requestRender()}this.draggedRange=null,this.draggingPoint=null},cut(n){var t,e;if((t=this.responder)!==null&&t!==void 0&&t.selectionIsExpanded()&&(this.serializeSelectionToDataTransfer(n.clipboardData)&&n.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillCutText(),this.deleteInDirection("backward"),n.defaultPrevented))return this.requestRender()},copy(n){var t;(t=this.responder)!==null&&t!==void 0&&t.selectionIsExpanded()&&this.serializeSelectionToDataTransfer(n.clipboardData)&&n.preventDefault()},paste(n){const t=n.clipboardData||n.testClipboardData,e={clipboard:t};if(!t||P0(n))return void this.getPastedHTMLUsingHiddenElement(L=>{var S,B,Q;return e.type="text/html",e.html=L,(S=this.delegate)===null||S===void 0||S.inputControllerWillPaste(e),(B=this.responder)===null||B===void 0||B.insertHTML(e.html),this.requestRender(),(Q=this.delegate)===null||Q===void 0?void 0:Q.inputControllerDidPaste(e)});const i=t.getData("URL"),r=t.getData("text/html"),o=t.getData("public.url-name");if(i){var a,s,l;let L;e.type="text/html",L=o?hl(o).trim():i,e.html=this.createLinkHTML(i,L),(a=this.delegate)===null||a===void 0||a.inputControllerWillPaste(e),this.setInputSummary({textAdded:L,didDelete:this.selectionIsExpanded()}),(s=this.responder)===null||s===void 0||s.insertHTML(e.html),this.requestRender(),(l=this.delegate)===null||l===void 0||l.inputControllerDidPaste(e)}else if(nh(t)){var c,d,g;e.type="text/plain",e.string=t.getData("text/plain"),(c=this.delegate)===null||c===void 0||c.inputControllerWillPaste(e),this.setInputSummary({textAdded:e.string,didDelete:this.selectionIsExpanded()}),(d=this.responder)===null||d===void 0||d.insertString(e.string),this.requestRender(),(g=this.delegate)===null||g===void 0||g.inputControllerDidPaste(e)}else if(r){var m,x,D;e.type="text/html",e.html=r,(m=this.delegate)===null||m===void 0||m.inputControllerWillPaste(e),(x=this.responder)===null||x===void 0||x.insertHTML(e.html),this.requestRender(),(D=this.delegate)===null||D===void 0||D.inputControllerDidPaste(e)}else if(Array.from(t.types).includes("Files")){var E,M,T;const L=(E=t.items)===null||E===void 0||(M=E[0])===null||M===void 0||(T=M.getAsFile)===null||T===void 0?void 0:T.call(M);if(L){var R,_,I;const S=L0(L);!L.name&&S&&(L.name="pasted-file-".concat(++O0,".").concat(S)),e.type="File",e.file=L,(R=this.delegate)===null||R===void 0||R.inputControllerWillAttachFiles(),(_=this.responder)===null||_===void 0||_.insertFile(e.file),this.requestRender(),(I=this.delegate)===null||I===void 0||I.inputControllerDidPaste(e)}}n.preventDefault()},compositionstart(n){return this.getCompositionInput().start(n.data)},compositionupdate(n){return this.getCompositionInput().update(n.data)},compositionend(n){return this.getCompositionInput().end(n.data)},beforeinput(n){this.inputSummary.didInput=!0},input(n){return this.inputSummary.didInput=!0,n.stopPropagation()}}),we(Qe,"keys",{backspace(n){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("backward",n)},delete(n){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("forward",n)},return(n){var t,e;return this.setInputSummary({preferDocument:!0}),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(e=this.responder)===null||e===void 0?void 0:e.insertLineBreak()},tab(n){var t,e;(t=this.responder)!==null&&t!==void 0&&t.canIncreaseNestingLevel()&&((e=this.responder)===null||e===void 0||e.increaseNestingLevel(),this.requestRender(),n.preventDefault())},left(n){var t;if(this.selectionIsInCursorTarget())return n.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("backward")},right(n){var t;if(this.selectionIsInCursorTarget())return n.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("forward")},control:{d(n){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("forward",n)},h(n){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("backward",n)},o(n){var t,e;return n.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(e=this.responder)===null||e===void 0||e.insertString(`
`,{updatePosition:!1}),this.requestRender()}},shift:{return(n){var t,e;(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(e=this.responder)===null||e===void 0||e.insertString(`
`),this.requestRender(),n.preventDefault()},tab(n){var t,e;(t=this.responder)!==null&&t!==void 0&&t.canDecreaseNestingLevel()&&((e=this.responder)===null||e===void 0||e.decreaseNestingLevel(),this.requestRender(),n.preventDefault())},left(n){if(this.selectionIsInCursorTarget())return n.preventDefault(),this.expandSelectionInDirection("backward")},right(n){if(this.selectionIsInCursorTarget())return n.preventDefault(),this.expandSelectionInDirection("forward")}},alt:{backspace(n){var t;return this.setInputSummary({preferDocument:!1}),(t=this.delegate)===null||t===void 0?void 0:t.inputControllerWillPerformTyping()}},meta:{backspace(n){var t;return this.setInputSummary({preferDocument:!1}),(t=this.delegate)===null||t===void 0?void 0:t.inputControllerWillPerformTyping()}}}),Qe.proxyMethod("responder?.getSelectedRange"),Qe.proxyMethod("responder?.setSelectedRange"),Qe.proxyMethod("responder?.expandSelectionInDirection"),Qe.proxyMethod("responder?.selectionIsInCursorTarget"),Qe.proxyMethod("responder?.selectionIsExpanded");const L0=n=>{var t,e;return(t=n.type)===null||t===void 0||(e=t.match(/\/(\w+)$/))===null||e===void 0?void 0:e[1]},R0=!((Ya=" ".codePointAt)===null||Ya===void 0||!Ya.call(" ",0)),_0=function(n){if(n.key&&R0&&n.key.codePointAt(0)===n.keyCode)return n.key;{let t;if(n.which===null?t=n.keyCode:n.which!==0&&n.charCode!==0&&(t=n.charCode),t!=null&&Th[t]!=="escape")return mr.fromCodepoints([t]).toString()}},P0=function(n){const t=n.clipboardData;if(t){if(t.types.includes("text/html")){for(const e of t.types){const i=/^CorePasteboardFlavorType/.test(e),r=/^dyn\./.test(e)&&t.getData(e);if(i||r)return!0}return!1}{const e=t.types.includes("com.apple.webarchive"),i=t.types.includes("com.apple.flat-rtfd");return e||i}}};class dn extends Wt{constructor(t){super(...arguments),this.inputController=t,this.responder=this.inputController.responder,this.delegate=this.inputController.delegate,this.inputSummary=this.inputController.inputSummary,this.data={}}start(t){if(this.data.start=t,this.isSignificant()){var e,i;this.inputSummary.eventName==="keypress"&&this.inputSummary.textAdded&&((i=this.responder)===null||i===void 0||i.deleteInDirection("left")),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=(e=this.responder)===null||e===void 0?void 0:e.getSelectedRange()}}update(t){if(this.data.update=t,this.isSignificant()){const e=this.selectPlaceholder();e&&(this.forgetPlaceholder(),this.range=e)}}end(t){return this.data.end=t,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(i=this.responder)===null||i===void 0||i.setSelectedRange(this.range),(r=this.responder)===null||r===void 0||r.insertString(this.data.end),(o=this.responder)===null||o===void 0?void 0:o.setSelectedRange(this.range[0]+this.data.end.length)):this.data.start!=null||this.data.update!=null?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset();var e,i,r,o}getEndData(){return this.data.end}isEnded(){return this.getEndData()!=null}isSignificant(){return!k0.composesExistingText||this.inputSummary.didInput}canApplyToDocument(){var t,e;return((t=this.data.start)===null||t===void 0?void 0:t.length)===0&&((e=this.data.end)===null||e===void 0?void 0:e.length)>0&&this.range}}dn.proxyMethod("inputController.setInputSummary"),dn.proxyMethod("inputController.requestRender"),dn.proxyMethod("inputController.requestReparse"),dn.proxyMethod("responder?.selectionIsExpanded"),dn.proxyMethod("responder?.insertPlaceholder"),dn.proxyMethod("responder?.selectPlaceholder"),dn.proxyMethod("responder?.forgetPlaceholder");class dr extends Wo{constructor(){super(...arguments),this.render=this.render.bind(this)}elementDidMutate(){return this.scheduledRender?this.composing?(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidAllowUnhandledInput)===null||e===void 0?void 0:e.call(t):void 0:this.reparse();var t,e}scheduleRender(){return this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)}render(){var t,e;cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||(e=this.delegate)===null||e===void 0||e.render(),(t=this.afterRender)===null||t===void 0||t.call(this),this.afterRender=null}reparse(){var t;return(t=this.delegate)===null||t===void 0?void 0:t.reparse()}insertString(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var r;return(r=this.responder)===null||r===void 0?void 0:r.insertString(e,i)})}toggleAttributeIfSupported(t){var e;if(ws().includes(t))return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformFormatting(t),this.withTargetDOMRange(function(){var i;return(i=this.responder)===null||i===void 0?void 0:i.toggleCurrentAttribute(t)})}activateAttributeIfSupported(t,e){var i;if(ws().includes(t))return(i=this.delegate)===null||i===void 0||i.inputControllerWillPerformFormatting(t),this.withTargetDOMRange(function(){var r;return(r=this.responder)===null||r===void 0?void 0:r.setCurrentAttribute(t,e)})}deleteInDirection(t){let{recordUndoEntry:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{recordUndoEntry:!0};var i;e&&((i=this.delegate)===null||i===void 0||i.inputControllerWillPerformTyping());const r=()=>{var a;return(a=this.responder)===null||a===void 0?void 0:a.deleteInDirection(t)},o=this.getTargetDOMRange({minLength:2});return o?this.withTargetDOMRange(o,r):r()}withTargetDOMRange(t,e){var i;return typeof t=="function"&&(e=t,t=this.getTargetDOMRange()),t?(i=this.responder)===null||i===void 0?void 0:i.withTargetDOMRange(t,e.bind(this)):(Xn.reset(),e.call(this))}getTargetDOMRange(){var t,e;let{minLength:i}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{minLength:0};const r=(t=(e=this.event).getTargetRanges)===null||t===void 0?void 0:t.call(e);if(r&&r.length){const o=I0(r[0]);if(i===0||o.toString().length>=i)return o}}withEvent(t,e){let i;this.event=t;try{i=e.call(this)}finally{this.event=null}return i}}we(dr,"events",{keydown(n){if(ih(n)){var t;const e=F0(n);(t=this.delegate)!==null&&t!==void 0&&t.inputControllerDidReceiveKeyboardCommand(e)&&n.preventDefault()}else{let e=n.key;n.altKey&&(e+="+Alt"),n.shiftKey&&(e+="+Shift");const i=this.constructor.keys[e];if(i)return this.withEvent(n,i)}},paste(n){var t;let e;const i=(t=n.clipboardData)===null||t===void 0?void 0:t.getData("URL");return N0(n)?(n.preventDefault(),this.attachFiles(n.clipboardData.files)):B0(n)?(n.preventDefault(),e={type:"text/plain",string:n.clipboardData.getData("text/plain")},(r=this.delegate)===null||r===void 0||r.inputControllerWillPaste(e),(o=this.responder)===null||o===void 0||o.insertString(e.string),this.render(),(a=this.delegate)===null||a===void 0?void 0:a.inputControllerDidPaste(e)):i?(n.preventDefault(),e={type:"text/html",html:this.createLinkHTML(i)},(s=this.delegate)===null||s===void 0||s.inputControllerWillPaste(e),(l=this.responder)===null||l===void 0||l.insertHTML(e.html),this.render(),(c=this.delegate)===null||c===void 0?void 0:c.inputControllerDidPaste(e)):void 0;var r,o,a,s,l,c},beforeinput(n){const t=this.constructor.inputTypes[n.inputType];t&&(this.withEvent(n,t),this.scheduleRender())},input(n){Xn.reset()},dragstart(n){var t,e;(t=this.responder)!==null&&t!==void 0&&t.selectionContainsAttachments()&&(n.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:(e=this.responder)===null||e===void 0?void 0:e.getSelectedRange(),point:Ua(n)})},dragenter(n){Xa(n)&&n.preventDefault()},dragover(n){if(this.dragging){n.preventDefault();const e=Ua(n);var t;if(!Tr(e,this.dragging.point))return this.dragging.point=e,(t=this.responder)===null||t===void 0?void 0:t.setLocationRangeFromPointRange(e)}else Xa(n)&&n.preventDefault()},drop(n){var t,e;if(this.dragging)return n.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillMoveText(),(e=this.responder)===null||e===void 0||e.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender();if(Xa(n)){var i;n.preventDefault();const r=Ua(n);return(i=this.responder)===null||i===void 0||i.setLocationRangeFromPointRange(r),this.attachFiles(n.dataTransfer.files)}},dragend(){var n;this.dragging&&((n=this.responder)===null||n===void 0||n.setSelectedRange(this.dragging.range),this.dragging=null)},compositionend(n){this.composing&&(this.composing=!1,Sr.recentAndroid||this.scheduleRender())}}),we(dr,"keys",{ArrowLeft(){var n,t;if((n=this.responder)!==null&&n!==void 0&&n.shouldManageMovingCursorInDirection("backward"))return this.event.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("backward")},ArrowRight(){var n,t;if((n=this.responder)!==null&&n!==void 0&&n.shouldManageMovingCursorInDirection("forward"))return this.event.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("forward")},Backspace(){var n,t,e;if((n=this.responder)!==null&&n!==void 0&&n.shouldManageDeletingInDirection("backward"))return this.event.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(e=this.responder)===null||e===void 0||e.deleteInDirection("backward"),this.render()},Tab(){var n,t;if((n=this.responder)!==null&&n!==void 0&&n.canIncreaseNestingLevel())return this.event.preventDefault(),(t=this.responder)===null||t===void 0||t.increaseNestingLevel(),this.render()},"Tab+Shift"(){var n,t;if((n=this.responder)!==null&&n!==void 0&&n.canDecreaseNestingLevel())return this.event.preventDefault(),(t=this.responder)===null||t===void 0||t.decreaseNestingLevel(),this.render()}}),we(dr,"inputTypes",{deleteByComposition(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut(){return this.deleteInDirection("backward")},deleteByDrag(){return this.event.preventDefault(),this.withTargetDOMRange(function(){var n;this.deleteByDragRange=(n=this.responder)===null||n===void 0?void 0:n.getSelectedRange()})},deleteCompositionText(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent(){return this.deleteInDirection("backward")},deleteContentBackward(){return this.deleteInDirection("backward")},deleteContentForward(){return this.deleteInDirection("forward")},deleteEntireSoftLine(){return this.deleteInDirection("forward")},deleteHardLineBackward(){return this.deleteInDirection("backward")},deleteHardLineForward(){return this.deleteInDirection("forward")},deleteSoftLineBackward(){return this.deleteInDirection("backward")},deleteSoftLineForward(){return this.deleteInDirection("forward")},deleteWordBackward(){return this.deleteInDirection("backward")},deleteWordForward(){return this.deleteInDirection("forward")},formatBackColor(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold(){return this.toggleAttributeIfSupported("bold")},formatFontColor(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent(){var n;if((n=this.responder)!==null&&n!==void 0&&n.canIncreaseNestingLevel())return this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.increaseNestingLevel()})},formatItalic(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent(){var n;if((n=this.responder)!==null&&n!==void 0&&n.canDecreaseNestingLevel())return this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.decreaseNestingLevel()})},formatRemove(){this.withTargetDOMRange(function(){for(const e in(n=this.responder)===null||n===void 0?void 0:n.getCurrentAttributes()){var n,t;(t=this.responder)===null||t===void 0||t.removeCurrentAttribute(e)}})},formatSetBlockTextDirection(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough(){return this.toggleAttributeIfSupported("strike")},formatSubscript(){return this.toggleAttributeIfSupported("sub")},formatSuperscript(){return this.toggleAttributeIfSupported("sup")},formatUnderline(){return this.toggleAttributeIfSupported("underline")},historyRedo(){var n;return(n=this.delegate)===null||n===void 0?void 0:n.inputControllerWillPerformRedo()},historyUndo(){var n;return(n=this.delegate)===null||n===void 0?void 0:n.inputControllerWillPerformUndo()},insertCompositionText(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop(){const n=this.deleteByDragRange;var t;if(n)return this.deleteByDragRange=null,(t=this.delegate)===null||t===void 0||t.inputControllerWillMoveText(),this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.moveTextFromRange(n)})},insertFromPaste(){var n;const{dataTransfer:t}=this.event,e={dataTransfer:t},i=t.getData("URL"),r=t.getData("text/html");if(i){var o;let c;this.event.preventDefault(),e.type="text/html";const d=t.getData("public.url-name");c=d?hl(d).trim():i,e.html=this.createLinkHTML(i,c),(o=this.delegate)===null||o===void 0||o.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var g;return(g=this.responder)===null||g===void 0?void 0:g.insertHTML(e.html)}),this.afterRender=()=>{var g;return(g=this.delegate)===null||g===void 0?void 0:g.inputControllerDidPaste(e)}}else if(nh(t)){var a;e.type="text/plain",e.string=t.getData("text/plain"),(a=this.delegate)===null||a===void 0||a.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var c;return(c=this.responder)===null||c===void 0?void 0:c.insertString(e.string)}),this.afterRender=()=>{var c;return(c=this.delegate)===null||c===void 0?void 0:c.inputControllerDidPaste(e)}}else if(r){var s;this.event.preventDefault(),e.type="text/html",e.html=r,(s=this.delegate)===null||s===void 0||s.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var c;return(c=this.responder)===null||c===void 0?void 0:c.insertHTML(e.html)}),this.afterRender=()=>{var c;return(c=this.delegate)===null||c===void 0?void 0:c.inputControllerDidPaste(e)}}else if((n=t.files)!==null&&n!==void 0&&n.length){var l;e.type="File",e.file=t.files[0],(l=this.delegate)===null||l===void 0||l.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var c;return(c=this.responder)===null||c===void 0?void 0:c.insertFile(e.file)}),this.afterRender=()=>{var c;return(c=this.delegate)===null||c===void 0?void 0:c.inputControllerDidPaste(e)}}},insertFromYank(){return this.insertString(this.event.data)},insertLineBreak(){return this.insertString(`
`)},insertLink(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList(){return this.toggleAttributeIfSupported("number")},insertParagraph(){var n;return(n=this.delegate)===null||n===void 0||n.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.insertLineBreak()})},insertReplacementText(){return this.insertString(this.event.dataTransfer.getData("text/plain"),{updatePosition:!1})},insertText(){var n;return this.insertString(this.event.data||((n=this.event.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain")))},insertTranspose(){return this.insertString(this.event.data)},insertUnorderedList(){return this.toggleAttributeIfSupported("bullet")}});const I0=function(n){const t=document.createRange();return t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),t},Xa=n=>{var t;return Array.from(((t=n.dataTransfer)===null||t===void 0?void 0:t.types)||[]).includes("Files")},N0=function(n){const t=n.clipboardData;if(t)return t.types.includes("Files")&&t.types.length===1&&t.files.length>=1},B0=function(n){const t=n.clipboardData;if(t)return t.types.includes("text/plain")&&t.types.length===1},F0=function(n){const t=[];return n.altKey&&t.push("alt"),n.shiftKey&&t.push("shift"),t.push(n.key),t},Ua=n=>({x:n.clientX,y:n.clientY}),W0="".concat("[data-trix-attribute]",", ").concat("[data-trix-action]"),j0="".concat("[data-trix-dialog]","[data-trix-active]"),H0="".concat("[data-trix-dialog]"," [data-trix-method]"),Wc="".concat("[data-trix-dialog]"," [data-trix-input]"),jc=(n,t)=>(t||(t=ci(n)),n.querySelector("[data-trix-input][name='".concat(t,"']"))),Hc=n=>n.getAttribute("data-trix-action"),ci=n=>n.getAttribute("data-trix-attribute")||n.getAttribute("data-trix-dialog-attribute");class Mh extends Wt{constructor(t){super(t),this.didClickActionButton=this.didClickActionButton.bind(this),this.didClickAttributeButton=this.didClickAttributeButton.bind(this),this.didClickDialogButton=this.didClickDialogButton.bind(this),this.didKeyDownDialogInput=this.didKeyDownDialogInput.bind(this),this.element=t,this.attributes={},this.actions={},this.resetDialogInputs(),Mt("mousedown",{onElement:this.element,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),Mt("mousedown",{onElement:this.element,matchingSelector:"[data-trix-attribute]",withCallback:this.didClickAttributeButton}),Mt("click",{onElement:this.element,matchingSelector:W0,preventDefault:!0}),Mt("click",{onElement:this.element,matchingSelector:H0,withCallback:this.didClickDialogButton}),Mt("keydown",{onElement:this.element,matchingSelector:Wc,withCallback:this.didKeyDownDialogInput})}didClickActionButton(t,e){var i;(i=this.delegate)===null||i===void 0||i.toolbarDidClickButton(),t.preventDefault();const r=Hc(e);return this.getDialog(r)?this.toggleDialog(r):(o=this.delegate)===null||o===void 0?void 0:o.toolbarDidInvokeAction(r);var o}didClickAttributeButton(t,e){var i;(i=this.delegate)===null||i===void 0||i.toolbarDidClickButton(),t.preventDefault();const r=ci(e);var o;return this.getDialog(r)?this.toggleDialog(r):(o=this.delegate)===null||o===void 0||o.toolbarDidToggleAttribute(r),this.refreshAttributeButtons()}didClickDialogButton(t,e){const i=En(e,{matchingSelector:"[data-trix-dialog]"});return this[e.getAttribute("data-trix-method")].call(this,i)}didKeyDownDialogInput(t,e){if(t.keyCode===13){t.preventDefault();const i=e.getAttribute("name"),r=this.getDialog(i);this.setAttribute(r)}if(t.keyCode===27)return t.preventDefault(),this.hideDialog()}updateActions(t){return this.actions=t,this.refreshActionButtons()}refreshActionButtons(){return this.eachActionButton((t,e)=>{t.disabled=this.actions[e]===!1})}eachActionButton(t){return Array.from(this.element.querySelectorAll("[data-trix-action]")).map(e=>t(e,Hc(e)))}updateAttributes(t){return this.attributes=t,this.refreshAttributeButtons()}refreshAttributeButtons(){return this.eachAttributeButton((t,e)=>(t.disabled=this.attributes[e]===!1,this.attributes[e]||this.dialogIsVisible(e)?(t.setAttribute("data-trix-active",""),t.classList.add("trix-active")):(t.removeAttribute("data-trix-active"),t.classList.remove("trix-active"))))}eachAttributeButton(t){return Array.from(this.element.querySelectorAll("[data-trix-attribute]")).map(e=>t(e,ci(e)))}applyKeyboardCommand(t){const e=JSON.stringify(t.sort());for(const i of Array.from(this.element.querySelectorAll("[data-trix-key]"))){const r=i.getAttribute("data-trix-key").split("+");if(JSON.stringify(r.sort())===e)return lr("mousedown",{onElement:i}),!0}return!1}dialogIsVisible(t){const e=this.getDialog(t);if(e)return e.hasAttribute("data-trix-active")}toggleDialog(t){return this.dialogIsVisible(t)?this.hideDialog():this.showDialog(t)}showDialog(t){var e,i;this.hideDialog(),(e=this.delegate)===null||e===void 0||e.toolbarWillShowDialog();const r=this.getDialog(t);r.setAttribute("data-trix-active",""),r.classList.add("trix-active"),Array.from(r.querySelectorAll("input[disabled]")).forEach(a=>{a.removeAttribute("disabled")});const o=ci(r);if(o){const a=jc(r,t);a&&(a.value=this.attributes[o]||"",a.select())}return(i=this.delegate)===null||i===void 0?void 0:i.toolbarDidShowDialog(t)}setAttribute(t){const e=ci(t),i=jc(t,e);return i.willValidate&&!i.checkValidity()?(i.setAttribute("data-trix-validate",""),i.classList.add("trix-validate"),i.focus()):((r=this.delegate)===null||r===void 0||r.toolbarDidUpdateAttribute(e,i.value),this.hideDialog());var r}removeAttribute(t){var e;const i=ci(t);return(e=this.delegate)===null||e===void 0||e.toolbarDidRemoveAttribute(i),this.hideDialog()}hideDialog(){const t=this.element.querySelector(j0);var e;if(t)return t.removeAttribute("data-trix-active"),t.classList.remove("trix-active"),this.resetDialogInputs(),(e=this.delegate)===null||e===void 0?void 0:e.toolbarDidHideDialog((i=>i.getAttribute("data-trix-dialog"))(t))}resetDialogInputs(){Array.from(this.element.querySelectorAll(Wc)).forEach(t=>{t.setAttribute("disabled","disabled"),t.removeAttribute("data-trix-validate"),t.classList.remove("trix-validate")})}getDialog(t){return this.element.querySelector("[data-trix-dialog=".concat(t,"]"))}}class hr extends Eh{constructor(t){let{editorElement:e,document:i,html:r}=t;super(...arguments),this.editorElement=e,this.selectionManager=new In(this.editorElement),this.selectionManager.delegate=this,this.composition=new pn,this.composition.delegate=this,this.attachmentManager=new fh(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=ll.getLevel()===2?new dr(this.editorElement):new Qe(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new Ah(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new Mh(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new vh(this.composition,this.selectionManager,this.editorElement),i?this.editor.loadDocument(i):this.editor.loadHTML(r)}registerSelectionManager(){return Xn.registerSelectionManager(this.selectionManager)}unregisterSelectionManager(){return Xn.unregisterSelectionManager(this.selectionManager)}render(){return this.compositionController.render()}reparse(){return this.composition.replaceHTML(this.editorElement.innerHTML)}compositionDidChangeDocument(t){if(this.notifyEditorElement("document-change"),!this.handlingInput)return this.render()}compositionDidChangeCurrentAttributes(t){return this.currentAttributes=t,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})}compositionDidPerformInsertionAtRange(t){this.pasting&&(this.pastedRange=t)}compositionShouldAcceptFile(t){return this.notifyEditorElement("file-accept",{file:t})}compositionDidAddAttachment(t){const e=this.attachmentManager.manageAttachment(t);return this.notifyEditorElement("attachment-add",{attachment:e})}compositionDidEditAttachment(t){this.compositionController.rerenderViewForObject(t);const e=this.attachmentManager.manageAttachment(t);return this.notifyEditorElement("attachment-edit",{attachment:e}),this.notifyEditorElement("change")}compositionDidChangeAttachmentPreviewURL(t){return this.compositionController.invalidateViewForObject(t),this.notifyEditorElement("change")}compositionDidRemoveAttachment(t){const e=this.attachmentManager.unmanageAttachment(t);return this.notifyEditorElement("attachment-remove",{attachment:e})}compositionDidStartEditingAttachment(t,e){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(t),this.compositionController.installAttachmentEditorForAttachment(t,e),this.selectionManager.setLocationRange(this.attachmentLocationRange)}compositionDidStopEditingAttachment(t){this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null}compositionDidRequestChangingSelectionToLocationRange(t){if(!this.loadingSnapshot||this.isFocused())return this.requestedLocationRange=t,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()}compositionWillLoadSnapshot(){this.loadingSnapshot=!0}compositionDidLoadSnapshot(){this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1}getSelectionManager(){return this.selectionManager}attachmentManagerDidRequestRemovalOfAttachment(t){return this.removeAttachment(t)}compositionControllerWillSyncDocumentView(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()}compositionControllerDidSyncDocumentView(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")}compositionControllerDidRender(){this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision}compositionControllerDidFocus(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")}compositionControllerDidBlur(){return this.notifyEditorElement("blur")}compositionControllerDidSelectAttachment(t,e){return this.toolbarController.hideDialog(),this.composition.editAttachment(t,e)}compositionControllerDidRequestDeselectingAttachment(t){const e=this.attachmentLocationRange||this.composition.document.getLocationRangeOfAttachment(t);return this.selectionManager.setLocationRange(e[1])}compositionControllerWillUpdateAttachment(t){return this.editor.recordUndoEntry("Edit Attachment",{context:t.id,consolidatable:!0})}compositionControllerDidRequestRemovalOfAttachment(t){return this.removeAttachment(t)}inputControllerWillHandleInput(){this.handlingInput=!0,this.requestedRender=!1}inputControllerDidRequestRender(){this.requestedRender=!0}inputControllerDidHandleInput(){if(this.handlingInput=!1,this.requestedRender)return this.requestedRender=!1,this.render()}inputControllerDidAllowUnhandledInput(){return this.notifyEditorElement("change")}inputControllerDidRequestReparse(){return this.reparse()}inputControllerWillPerformTyping(){return this.recordTypingUndoEntry()}inputControllerWillPerformFormatting(t){return this.recordFormattingUndoEntry(t)}inputControllerWillCutText(){return this.editor.recordUndoEntry("Cut")}inputControllerWillPaste(t){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:t})}inputControllerDidPaste(t){return t.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:t})}inputControllerWillMoveText(){return this.editor.recordUndoEntry("Move")}inputControllerWillAttachFiles(){return this.editor.recordUndoEntry("Drop Files")}inputControllerWillPerformUndo(){return this.editor.undo()}inputControllerWillPerformRedo(){return this.editor.redo()}inputControllerDidReceiveKeyboardCommand(t){return this.toolbarController.applyKeyboardCommand(t)}inputControllerDidStartDrag(){this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()}inputControllerDidReceiveDragOverPoint(t){return this.selectionManager.setLocationRangeFromPointRange(t)}inputControllerDidCancelDrag(){this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null}locationRangeDidChange(t){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!bo(this.attachmentLocationRange,t)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")}toolbarDidClickButton(){if(!this.getLocationRange())return this.setLocationRange({index:0,offset:0})}toolbarDidInvokeAction(t){return this.invokeAction(t)}toolbarDidToggleAttribute(t){if(this.recordFormattingUndoEntry(t),this.composition.toggleCurrentAttribute(t),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidUpdateAttribute(t,e){if(this.recordFormattingUndoEntry(t),this.composition.setCurrentAttribute(t,e),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidRemoveAttribute(t){if(this.recordFormattingUndoEntry(t),this.composition.removeCurrentAttribute(t),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarWillShowDialog(t){return this.composition.expandSelectionForEditing(),this.freezeSelection()}toolbarDidShowDialog(t){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:t})}toolbarDidHideDialog(t){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:t})}freezeSelection(){if(!this.selectionFrozen)return this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render()}thawSelection(){if(this.selectionFrozen)return this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()}canInvokeAction(t){return!!this.actionIsExternal(t)||!((e=this.actions[t])===null||e===void 0||(i=e.test)===null||i===void 0||!i.call(this));var e,i}invokeAction(t){return this.actionIsExternal(t)?this.notifyEditorElement("action-invoke",{actionName:t}):(e=this.actions[t])===null||e===void 0||(i=e.perform)===null||i===void 0?void 0:i.call(this);var e,i}actionIsExternal(t){return/^x-./.test(t)}getCurrentActions(){const t={};for(const e in this.actions)t[e]=this.canInvokeAction(e);return t}updateCurrentActions(){const t=this.getCurrentActions();if(!Tr(t,this.currentActions))return this.currentActions=t,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions})}runEditorFilters(){let t=this.composition.getSnapshot();if(Array.from(this.editor.filters).forEach(r=>{const{document:o,selectedRange:a}=t;t=r.call(this.editor,t)||{},t.document||(t.document=o),t.selectedRange||(t.selectedRange=a)}),e=t,i=this.composition.getSnapshot(),!bo(e.selectedRange,i.selectedRange)||!e.document.isEqualTo(i.document))return this.composition.loadSnapshot(t);var e,i}updateInputElement(){const t=function(e,i){const r=m0[i];if(r)return r(e);throw new Error("unknown content type: ".concat(i))}(this.compositionController.getSerializableElement(),"text/html");return this.editorElement.setInputElementValue(t)}notifyEditorElement(t,e){switch(t){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(t,e)}removeAttachment(t){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(t),this.render()}recordFormattingUndoEntry(t){const e=Bt(t),i=this.selectionManager.getLocationRange();if(e||!tn(i))return this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})}recordTypingUndoEntry(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})}getUndoContext(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return[this.getLocationContext(),this.getTimeContext(),...Array.from(e)]}getLocationContext(){const t=this.selectionManager.getLocationRange();return tn(t)?t[0].index:t}getTimeContext(){return vs.interval>0?Math.floor(new Date().getTime()/vs.interval):0}isFocused(){var t;return this.editorElement===((t=this.editorElement.ownerDocument)===null||t===void 0?void 0:t.activeElement)}isFocusedInvisibly(){return this.isFocused()&&!this.getLocationRange()}get actions(){return this.constructor.actions}}we(hr,"actions",{undo:{test(){return this.editor.canUndo()},perform(){return this.editor.undo()}},redo:{test(){return this.editor.canRedo()},perform(){return this.editor.redo()}},link:{test(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test(){return this.editor.canIncreaseNestingLevel()},perform(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test(){return this.editor.canDecreaseNestingLevel()},perform(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:()=>!0,perform(){return ll.pickFiles(this.editor.insertFiles)}}}),hr.proxyMethod("getSelectionManager().setLocationRange"),hr.proxyMethod("getSelectionManager().getLocationRange");var z0=Object.freeze({__proto__:null,AttachmentEditorController:Ch,CompositionController:Ah,Controller:Eh,EditorController:hr,InputController:Wo,Level0InputController:Qe,Level2InputController:dr,ToolbarController:Mh}),Y0=Object.freeze({__proto__:null,MutationObserver:Sh,SelectionChangeObserver:oh}),X0=Object.freeze({__proto__:null,FileVerificationOperation:Dh,ImagePreloadOperation:ch});eh("trix-toolbar",`%t {
  display: block;
}

%t {
  white-space: nowrap;
}

%t [data-trix-dialog] {
  display: none;
}

%t [data-trix-dialog][data-trix-active] {
  display: block;
}

%t [data-trix-dialog] [data-trix-validate]:invalid {
  background-color: #ffdddd;
}`);class kh extends HTMLElement{connectedCallback(){this.innerHTML===""&&(this.innerHTML=th.getDefaultHTML())}}let U0=0;const q0=function(n){if(!n.hasAttribute("contenteditable"))return n.setAttribute("contenteditable",""),function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.times=1,Mt(t,e)}("focus",{onElement:n,withCallback:()=>$0(n)})},$0=function(n){return V0(n),G0()},V0=function(n){var t,e;if((t=(e=document).queryCommandSupported)!==null&&t!==void 0&&t.call(e,"enableObjectResizing"))return document.execCommand("enableObjectResizing",!1,!1),Mt("mscontrolselect",{onElement:n,preventDefault:!0})},G0=function(n){var t,e;if((t=(e=document).queryCommandSupported)!==null&&t!==void 0&&t.call(e,"DefaultParagraphSeparator")){const{tagName:i}=ce.default;if(["div","p"].includes(i))return document.execCommand("DefaultParagraphSeparator",!1,i)}},zc=Sr.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"};eh("trix-editor",`%t {
    display: block;
}

%t:empty:not(:focus)::before {
    content: attr(placeholder);
    color: graytext;
    cursor: text;
    pointer-events: none;
    white-space: pre-line;
}

%t a[contenteditable=false] {
    cursor: text;
}

%t img {
    max-width: 100%;
    height: auto;
}

%t `.concat("[data-trix-attachment]",` figcaption textarea {
    resize: none;
}

%t `).concat("[data-trix-attachment]",` figcaption textarea.trix-autoresize-clone {
    position: absolute;
    left: -9999px;
    max-height: 0px;
}

%t `).concat("[data-trix-attachment]",` figcaption[data-trix-placeholder]:empty::before {
    content: attr(data-trix-placeholder);
    color: graytext;
}

%t [data-trix-cursor-target] {
    display: `).concat(zc.display,` !important;
    width: `).concat(zc.width,` !important;
    padding: 0 !important;
    margin: 0 !important;
    border: none !important;
}

%t [data-trix-cursor-target=left] {
    vertical-align: top !important;
    margin-left: -1px !important;
}

%t [data-trix-cursor-target=right] {
    vertical-align: bottom !important;
    margin-right: -1px !important;
}`));class Oh extends HTMLElement{get trixId(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++U0),this.trixId)}get labels(){const t=[];this.id&&this.ownerDocument&&t.push(...Array.from(this.ownerDocument.querySelectorAll("label[for='".concat(this.id,"']"))||[]));const e=En(this,{matchingSelector:"label"});return e&&[this,null].includes(e.control)&&t.push(e),t}get toolbarElement(){var t;if(this.hasAttribute("toolbar"))return(t=this.ownerDocument)===null||t===void 0?void 0:t.getElementById(this.getAttribute("toolbar"));if(this.parentNode){const e="trix-toolbar-".concat(this.trixId);this.setAttribute("toolbar",e);const i=ut("trix-toolbar",{id:e});return this.parentNode.insertBefore(i,this),i}}get form(){var t;return(t=this.inputElement)===null||t===void 0?void 0:t.form}get inputElement(){var t;if(this.hasAttribute("input"))return(t=this.ownerDocument)===null||t===void 0?void 0:t.getElementById(this.getAttribute("input"));if(this.parentNode){const e="trix-input-".concat(this.trixId);this.setAttribute("input",e);const i=ut("input",{type:"hidden",id:e});return this.parentNode.insertBefore(i,this.nextElementSibling),i}}get editor(){var t;return(t=this.editorController)===null||t===void 0?void 0:t.editor}get name(){var t;return(t=this.inputElement)===null||t===void 0?void 0:t.name}get value(){var t;return(t=this.inputElement)===null||t===void 0?void 0:t.value}set value(t){var e;this.defaultValue=t,(e=this.editor)===null||e===void 0||e.loadHTML(this.defaultValue)}notify(t,e){if(this.editorController)return lr("trix-".concat(t),{onElement:this,attributes:e})}setInputElementValue(t){this.inputElement&&(this.inputElement.value=t)}connectedCallback(){this.hasAttribute("data-trix-internal")||(q0(this),function(t){t.hasAttribute("role")||t.setAttribute("role","textbox")}(this),function(t){if(t.hasAttribute("aria-label")||t.hasAttribute("aria-labelledby"))return;const e=function(){const i=Array.from(t.labels).map(o=>{if(!o.contains(t))return o.textContent}).filter(o=>o),r=i.join(" ");return r?t.setAttribute("aria-label",r):t.removeAttribute("aria-label")};e(),Mt("focus",{onElement:t,withCallback:e})}(this),this.editorController||(lr("trix-before-initialize",{onElement:this}),this.editorController=new hr({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame(()=>lr("trix-initialize",{onElement:this}))),this.editorController.registerSelectionManager(),this.registerResetListener(),this.registerClickListener(),function(t){!document.querySelector(":focus")&&t.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===t&&t.focus()}(this))}disconnectedCallback(){var t;return(t=this.editorController)===null||t===void 0||t.unregisterSelectionManager(),this.unregisterResetListener(),this.unregisterClickListener()}registerResetListener(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener("reset",this.resetListener,!1)}unregisterResetListener(){return window.removeEventListener("reset",this.resetListener,!1)}registerClickListener(){return this.clickListener=this.clickBubbled.bind(this),window.addEventListener("click",this.clickListener,!1)}unregisterClickListener(){return window.removeEventListener("click",this.clickListener,!1)}resetBubbled(t){if(!t.defaultPrevented&&t.target===this.form)return this.reset()}clickBubbled(t){if(t.defaultPrevented||this.contains(t.target))return;const e=En(t.target,{matchingSelector:"label"});return e&&Array.from(this.labels).includes(e)?this.focus():void 0}reset(){this.value=this.defaultValue}}const Yc={VERSION:"2.0.5",config:Dr,core:v0,models:xh,views:C0,controllers:z0,observers:Y0,operations:X0,elements:Object.freeze({__proto__:null,TrixEditorElement:Oh,TrixToolbarElement:kh}),filters:Object.freeze({__proto__:null,Filter:gh,attachmentGalleryFilter:mh})};Object.assign(Yc,xh),window.Trix=Yc,setTimeout(function(){customElements.get("trix-toolbar")||customElements.define("trix-toolbar",kh),customElements.get("trix-editor")||customElements.define("trix-editor",Oh)},0);/*!
 * perfect-scrollbar v1.5.3
 * Copyright 2021 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */function Xe(n){return getComputedStyle(n)}function le(n,t){for(var e in t){var i=t[e];typeof i=="number"&&(i=i+"px"),n.style[e]=i}return n}function Xr(n){var t=document.createElement("div");return t.className=n,t}var Xc=typeof Element<"u"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function yn(n,t){if(!Xc)throw new Error("No element matching method supported");return Xc.call(n,t)}function hi(n){n.remove?n.remove():n.parentNode&&n.parentNode.removeChild(n)}function Uc(n,t){return Array.prototype.filter.call(n.children,function(e){return yn(e,t)})}var It={main:"ps",rtl:"ps__rtl",element:{thumb:function(n){return"ps__thumb-"+n},rail:function(n){return"ps__rail-"+n},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(n){return"ps--active-"+n},scrolling:function(n){return"ps--scrolling-"+n}}},Lh={x:null,y:null};function Rh(n,t){var e=n.element.classList,i=It.state.scrolling(t);e.contains(i)?clearTimeout(Lh[t]):e.add(i)}function _h(n,t){Lh[t]=setTimeout(function(){return n.isAlive&&n.element.classList.remove(It.state.scrolling(t))},n.settings.scrollingThreshold)}function K0(n,t){Rh(n,t),_h(n,t)}var Mr=function(t){this.element=t,this.handlers={}},Ph={isEmpty:{configurable:!0}};Mr.prototype.bind=function(t,e){typeof this.handlers[t]>"u"&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)};Mr.prototype.unbind=function(t,e){var i=this;this.handlers[t]=this.handlers[t].filter(function(r){return e&&r!==e?!0:(i.element.removeEventListener(t,r,!1),!1)})};Mr.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)};Ph.isEmpty.get=function(){var n=this;return Object.keys(this.handlers).every(function(t){return n.handlers[t].length===0})};Object.defineProperties(Mr.prototype,Ph);var _i=function(){this.eventElements=[]};_i.prototype.eventElement=function(t){var e=this.eventElements.filter(function(i){return i.element===t})[0];return e||(e=new Mr(t),this.eventElements.push(e)),e};_i.prototype.bind=function(t,e,i){this.eventElement(t).bind(e,i)};_i.prototype.unbind=function(t,e,i){var r=this.eventElement(t);r.unbind(e,i),r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)};_i.prototype.unbindAll=function(){this.eventElements.forEach(function(t){return t.unbindAll()}),this.eventElements=[]};_i.prototype.once=function(t,e,i){var r=this.eventElement(t),o=function(a){r.unbind(e,o),i(a)};r.bind(e,o)};function Ur(n){if(typeof window.CustomEvent=="function")return new CustomEvent(n);var t=document.createEvent("CustomEvent");return t.initCustomEvent(n,!1,!1,void 0),t}function xo(n,t,e,i,r){i===void 0&&(i=!0),r===void 0&&(r=!1);var o;if(t==="top")o=["contentHeight","containerHeight","scrollTop","y","up","down"];else if(t==="left")o=["contentWidth","containerWidth","scrollLeft","x","left","right"];else throw new Error("A proper axis should be provided");J0(n,e,o,i,r)}function J0(n,t,e,i,r){var o=e[0],a=e[1],s=e[2],l=e[3],c=e[4],d=e[5];i===void 0&&(i=!0),r===void 0&&(r=!1);var g=n.element;n.reach[l]=null,g[s]<1&&(n.reach[l]="start"),g[s]>n[o]-n[a]-1&&(n.reach[l]="end"),t&&(g.dispatchEvent(Ur("ps-scroll-"+l)),t<0?g.dispatchEvent(Ur("ps-scroll-"+c)):t>0&&g.dispatchEvent(Ur("ps-scroll-"+d)),i&&K0(n,l)),n.reach[l]&&(t||r)&&g.dispatchEvent(Ur("ps-"+l+"-reach-"+n.reach[l]))}function Tt(n){return parseInt(n,10)||0}function Q0(n){return yn(n,"input,[contenteditable]")||yn(n,"select,[contenteditable]")||yn(n,"textarea,[contenteditable]")||yn(n,"button,[contenteditable]")}function Z0(n){var t=Xe(n);return Tt(t.width)+Tt(t.paddingLeft)+Tt(t.paddingRight)+Tt(t.borderLeftWidth)+Tt(t.borderRightWidth)}var ui={isWebKit:typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,supportsTouch:typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:typeof navigator<"u"&&navigator.msMaxTouchPoints,isChrome:typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent)};function on(n){var t=n.element,e=Math.floor(t.scrollTop),i=t.getBoundingClientRect();n.containerWidth=Math.round(i.width),n.containerHeight=Math.round(i.height),n.contentWidth=t.scrollWidth,n.contentHeight=t.scrollHeight,t.contains(n.scrollbarXRail)||(Uc(t,It.element.rail("x")).forEach(function(r){return hi(r)}),t.appendChild(n.scrollbarXRail)),t.contains(n.scrollbarYRail)||(Uc(t,It.element.rail("y")).forEach(function(r){return hi(r)}),t.appendChild(n.scrollbarYRail)),!n.settings.suppressScrollX&&n.containerWidth+n.settings.scrollXMarginOffset<n.contentWidth?(n.scrollbarXActive=!0,n.railXWidth=n.containerWidth-n.railXMarginWidth,n.railXRatio=n.containerWidth/n.railXWidth,n.scrollbarXWidth=qc(n,Tt(n.railXWidth*n.containerWidth/n.contentWidth)),n.scrollbarXLeft=Tt((n.negativeScrollAdjustment+t.scrollLeft)*(n.railXWidth-n.scrollbarXWidth)/(n.contentWidth-n.containerWidth))):n.scrollbarXActive=!1,!n.settings.suppressScrollY&&n.containerHeight+n.settings.scrollYMarginOffset<n.contentHeight?(n.scrollbarYActive=!0,n.railYHeight=n.containerHeight-n.railYMarginHeight,n.railYRatio=n.containerHeight/n.railYHeight,n.scrollbarYHeight=qc(n,Tt(n.railYHeight*n.containerHeight/n.contentHeight)),n.scrollbarYTop=Tt(e*(n.railYHeight-n.scrollbarYHeight)/(n.contentHeight-n.containerHeight))):n.scrollbarYActive=!1,n.scrollbarXLeft>=n.railXWidth-n.scrollbarXWidth&&(n.scrollbarXLeft=n.railXWidth-n.scrollbarXWidth),n.scrollbarYTop>=n.railYHeight-n.scrollbarYHeight&&(n.scrollbarYTop=n.railYHeight-n.scrollbarYHeight),ty(t,n),n.scrollbarXActive?t.classList.add(It.state.active("x")):(t.classList.remove(It.state.active("x")),n.scrollbarXWidth=0,n.scrollbarXLeft=0,t.scrollLeft=n.isRtl===!0?n.contentWidth:0),n.scrollbarYActive?t.classList.add(It.state.active("y")):(t.classList.remove(It.state.active("y")),n.scrollbarYHeight=0,n.scrollbarYTop=0,t.scrollTop=0)}function qc(n,t){return n.settings.minScrollbarLength&&(t=Math.max(t,n.settings.minScrollbarLength)),n.settings.maxScrollbarLength&&(t=Math.min(t,n.settings.maxScrollbarLength)),t}function ty(n,t){var e={width:t.railXWidth},i=Math.floor(n.scrollTop);t.isRtl?e.left=t.negativeScrollAdjustment+n.scrollLeft+t.containerWidth-t.contentWidth:e.left=n.scrollLeft,t.isScrollbarXUsingBottom?e.bottom=t.scrollbarXBottom-i:e.top=t.scrollbarXTop+i,le(t.scrollbarXRail,e);var r={top:i,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?r.right=t.contentWidth-(t.negativeScrollAdjustment+n.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth-9:r.right=t.scrollbarYRight-n.scrollLeft:t.isRtl?r.left=t.negativeScrollAdjustment+n.scrollLeft+t.containerWidth*2-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:r.left=t.scrollbarYLeft+n.scrollLeft,le(t.scrollbarYRail,r),le(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),le(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}function ey(n){n.element,n.event.bind(n.scrollbarY,"mousedown",function(t){return t.stopPropagation()}),n.event.bind(n.scrollbarYRail,"mousedown",function(t){var e=t.pageY-window.pageYOffset-n.scrollbarYRail.getBoundingClientRect().top,i=e>n.scrollbarYTop?1:-1;n.element.scrollTop+=i*n.containerHeight,on(n),t.stopPropagation()}),n.event.bind(n.scrollbarX,"mousedown",function(t){return t.stopPropagation()}),n.event.bind(n.scrollbarXRail,"mousedown",function(t){var e=t.pageX-window.pageXOffset-n.scrollbarXRail.getBoundingClientRect().left,i=e>n.scrollbarXLeft?1:-1;n.element.scrollLeft+=i*n.containerWidth,on(n),t.stopPropagation()})}function ny(n){$c(n,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),$c(n,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])}function $c(n,t){var e=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],d=t[8],g=n.element,m=null,x=null,D=null;function E(R){R.touches&&R.touches[0]&&(R[r]=R.touches[0].pageY),g[l]=m+D*(R[r]-x),Rh(n,c),on(n),R.stopPropagation(),R.type.startsWith("touch")&&R.changedTouches.length>1&&R.preventDefault()}function M(){_h(n,c),n[d].classList.remove(It.state.clicking),n.event.unbind(n.ownerDocument,"mousemove",E)}function T(R,_){m=g[l],_&&R.touches&&(R[r]=R.touches[0].pageY),x=R[r],D=(n[i]-n[e])/(n[o]-n[s]),_?n.event.bind(n.ownerDocument,"touchmove",E):(n.event.bind(n.ownerDocument,"mousemove",E),n.event.once(n.ownerDocument,"mouseup",M),R.preventDefault()),n[d].classList.add(It.state.clicking),R.stopPropagation()}n.event.bind(n[a],"mousedown",function(R){T(R)}),n.event.bind(n[a],"touchstart",function(R){T(R,!0)})}function iy(n){var t=n.element,e=function(){return yn(t,":hover")},i=function(){return yn(n.scrollbarX,":focus")||yn(n.scrollbarY,":focus")};function r(o,a){var s=Math.floor(t.scrollTop);if(o===0){if(!n.scrollbarYActive)return!1;if(s===0&&a>0||s>=n.contentHeight-n.containerHeight&&a<0)return!n.settings.wheelPropagation}var l=t.scrollLeft;if(a===0){if(!n.scrollbarXActive)return!1;if(l===0&&o<0||l>=n.contentWidth-n.containerWidth&&o>0)return!n.settings.wheelPropagation}return!0}n.event.bind(n.ownerDocument,"keydown",function(o){if(!(o.isDefaultPrevented&&o.isDefaultPrevented()||o.defaultPrevented)&&!(!e()&&!i())){var a=document.activeElement?document.activeElement:n.ownerDocument.activeElement;if(a){if(a.tagName==="IFRAME")a=a.contentDocument.activeElement;else for(;a.shadowRoot;)a=a.shadowRoot.activeElement;if(Q0(a))return}var s=0,l=0;switch(o.which){case 37:o.metaKey?s=-n.contentWidth:o.altKey?s=-n.containerWidth:s=-30;break;case 38:o.metaKey?l=n.contentHeight:o.altKey?l=n.containerHeight:l=30;break;case 39:o.metaKey?s=n.contentWidth:o.altKey?s=n.containerWidth:s=30;break;case 40:o.metaKey?l=-n.contentHeight:o.altKey?l=-n.containerHeight:l=-30;break;case 32:o.shiftKey?l=n.containerHeight:l=-n.containerHeight;break;case 33:l=n.containerHeight;break;case 34:l=-n.containerHeight;break;case 36:l=n.contentHeight;break;case 35:l=-n.contentHeight;break;default:return}n.settings.suppressScrollX&&s!==0||n.settings.suppressScrollY&&l!==0||(t.scrollTop-=l,t.scrollLeft+=s,on(n),r(s,l)&&o.preventDefault())}})}function ry(n){var t=n.element;function e(a,s){var l=Math.floor(t.scrollTop),c=t.scrollTop===0,d=l+t.offsetHeight===t.scrollHeight,g=t.scrollLeft===0,m=t.scrollLeft+t.offsetWidth===t.scrollWidth,x;return Math.abs(s)>Math.abs(a)?x=c||d:x=g||m,x?!n.settings.wheelPropagation:!0}function i(a){var s=a.deltaX,l=-1*a.deltaY;return(typeof s>"u"||typeof l>"u")&&(s=-1*a.wheelDeltaX/6,l=a.wheelDeltaY/6),a.deltaMode&&a.deltaMode===1&&(s*=10,l*=10),s!==s&&l!==l&&(s=0,l=a.wheelDelta),a.shiftKey?[-l,-s]:[s,l]}function r(a,s,l){if(!ui.isWebKit&&t.querySelector("select:focus"))return!0;if(!t.contains(a))return!1;for(var c=a;c&&c!==t;){if(c.classList.contains(It.element.consuming))return!0;var d=Xe(c);if(l&&d.overflowY.match(/(scroll|auto)/)){var g=c.scrollHeight-c.clientHeight;if(g>0&&(c.scrollTop>0&&l<0||c.scrollTop<g&&l>0))return!0}if(s&&d.overflowX.match(/(scroll|auto)/)){var m=c.scrollWidth-c.clientWidth;if(m>0&&(c.scrollLeft>0&&s<0||c.scrollLeft<m&&s>0))return!0}c=c.parentNode}return!1}function o(a){var s=i(a),l=s[0],c=s[1];if(!r(a.target,l,c)){var d=!1;n.settings.useBothWheelAxes?n.scrollbarYActive&&!n.scrollbarXActive?(c?t.scrollTop-=c*n.settings.wheelSpeed:t.scrollTop+=l*n.settings.wheelSpeed,d=!0):n.scrollbarXActive&&!n.scrollbarYActive&&(l?t.scrollLeft+=l*n.settings.wheelSpeed:t.scrollLeft-=c*n.settings.wheelSpeed,d=!0):(t.scrollTop-=c*n.settings.wheelSpeed,t.scrollLeft+=l*n.settings.wheelSpeed),on(n),d=d||e(l,c),d&&!a.ctrlKey&&(a.stopPropagation(),a.preventDefault())}}typeof window.onwheel<"u"?n.event.bind(t,"wheel",o):typeof window.onmousewheel<"u"&&n.event.bind(t,"mousewheel",o)}function oy(n){if(!ui.supportsTouch&&!ui.supportsIePointer)return;var t=n.element;function e(D,E){var M=Math.floor(t.scrollTop),T=t.scrollLeft,R=Math.abs(D),_=Math.abs(E);if(_>R){if(E<0&&M===n.contentHeight-n.containerHeight||E>0&&M===0)return window.scrollY===0&&E>0&&ui.isChrome}else if(R>_&&(D<0&&T===n.contentWidth-n.containerWidth||D>0&&T===0))return!0;return!0}function i(D,E){t.scrollTop-=E,t.scrollLeft-=D,on(n)}var r={},o=0,a={},s=null;function l(D){return D.targetTouches?D.targetTouches[0]:D}function c(D){return D.pointerType&&D.pointerType==="pen"&&D.buttons===0?!1:!!(D.targetTouches&&D.targetTouches.length===1||D.pointerType&&D.pointerType!=="mouse"&&D.pointerType!==D.MSPOINTER_TYPE_MOUSE)}function d(D){if(!!c(D)){var E=l(D);r.pageX=E.pageX,r.pageY=E.pageY,o=new Date().getTime(),s!==null&&clearInterval(s)}}function g(D,E,M){if(!t.contains(D))return!1;for(var T=D;T&&T!==t;){if(T.classList.contains(It.element.consuming))return!0;var R=Xe(T);if(M&&R.overflowY.match(/(scroll|auto)/)){var _=T.scrollHeight-T.clientHeight;if(_>0&&(T.scrollTop>0&&M<0||T.scrollTop<_&&M>0))return!0}if(E&&R.overflowX.match(/(scroll|auto)/)){var I=T.scrollWidth-T.clientWidth;if(I>0&&(T.scrollLeft>0&&E<0||T.scrollLeft<I&&E>0))return!0}T=T.parentNode}return!1}function m(D){if(c(D)){var E=l(D),M={pageX:E.pageX,pageY:E.pageY},T=M.pageX-r.pageX,R=M.pageY-r.pageY;if(g(D.target,T,R))return;i(T,R),r=M;var _=new Date().getTime(),I=_-o;I>0&&(a.x=T/I,a.y=R/I,o=_),e(T,R)&&D.preventDefault()}}function x(){n.settings.swipeEasing&&(clearInterval(s),s=setInterval(function(){if(n.isInitialized){clearInterval(s);return}if(!a.x&&!a.y){clearInterval(s);return}if(Math.abs(a.x)<.01&&Math.abs(a.y)<.01){clearInterval(s);return}if(!n.element){clearInterval(s);return}i(a.x*30,a.y*30),a.x*=.8,a.y*=.8},10))}ui.supportsTouch?(n.event.bind(t,"touchstart",d),n.event.bind(t,"touchmove",m),n.event.bind(t,"touchend",x)):ui.supportsIePointer&&(window.PointerEvent?(n.event.bind(t,"pointerdown",d),n.event.bind(t,"pointermove",m),n.event.bind(t,"pointerup",x)):window.MSPointerEvent&&(n.event.bind(t,"MSPointerDown",d),n.event.bind(t,"MSPointerMove",m),n.event.bind(t,"MSPointerUp",x)))}var ay=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},sy={"click-rail":ey,"drag-thumb":ny,keyboard:iy,wheel:ry,touch:oy},kr=function(t,e){var i=this;if(e===void 0&&(e={}),typeof t=="string"&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");this.element=t,t.classList.add(It.main),this.settings=ay();for(var r in e)this.settings[r]=e[r];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var o=function(){return t.classList.add(It.state.focus)},a=function(){return t.classList.remove(It.state.focus)};this.isRtl=Xe(t).direction==="rtl",this.isRtl===!0&&t.classList.add(It.rtl),this.isNegativeScroll=function(){var c=t.scrollLeft,d=null;return t.scrollLeft=-1,d=t.scrollLeft<0,t.scrollLeft=c,d}(),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new _i,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=Xr(It.element.rail("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=Xr(It.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",o),this.event.bind(this.scrollbarX,"blur",a),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var s=Xe(this.scrollbarXRail);this.scrollbarXBottom=parseInt(s.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=Tt(s.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=Tt(s.borderLeftWidth)+Tt(s.borderRightWidth),le(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=Tt(s.marginLeft)+Tt(s.marginRight),le(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=Xr(It.element.rail("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=Xr(It.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",o),this.event.bind(this.scrollbarY,"blur",a),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var l=Xe(this.scrollbarYRail);this.scrollbarYRight=parseInt(l.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=Tt(l.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?Z0(this.scrollbarY):null,this.railBorderYWidth=Tt(l.borderTopWidth)+Tt(l.borderBottomWidth),le(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=Tt(l.marginTop)+Tt(l.marginBottom),le(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(c){return sy[c](i)}),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",function(c){return i.onScroll(c)}),on(this)};kr.prototype.update=function(){!this.isAlive||(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,le(this.scrollbarXRail,{display:"block"}),le(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=Tt(Xe(this.scrollbarXRail).marginLeft)+Tt(Xe(this.scrollbarXRail).marginRight),this.railYMarginHeight=Tt(Xe(this.scrollbarYRail).marginTop)+Tt(Xe(this.scrollbarYRail).marginBottom),le(this.scrollbarXRail,{display:"none"}),le(this.scrollbarYRail,{display:"none"}),on(this),xo(this,"top",0,!1,!0),xo(this,"left",0,!1,!0),le(this.scrollbarXRail,{display:""}),le(this.scrollbarYRail,{display:""}))};kr.prototype.onScroll=function(t){!this.isAlive||(on(this),xo(this,"top",this.element.scrollTop-this.lastScrollTop),xo(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)};kr.prototype.destroy=function(){!this.isAlive||(this.event.unbindAll(),hi(this.scrollbarX),hi(this.scrollbarY),hi(this.scrollbarXRail),hi(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)};kr.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(t){return!t.match(/^ps([-_].+|)$/)}).join(" ")};window.Swiper=Oe;window.flatpickr=Nt;window.Sortable=it;Oi.plugin(zv);Oi.plugin($v);window.PerfectScrollbar=kr;Oi.data("mainState",()=>{const n={pageLoaded:!1,init(){window.onload=i=>{this.pageLoaded=!0}}},t=()=>window.localStorage.getItem("dark")?JSON.parse(window.localStorage.getItem("dark")):!!window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=i=>{window.localStorage.setItem("dark",i)};return{loadingMask:n,isDarkMode:t(),toggleTheme(){this.isDarkMode=!this.isDarkMode,e(this.isDarkMode)},isSidebarOpen:sessionStorage.getItem("sidebarOpen")==="true",handleSidebarToggle(){this.isSidebarOpen=!this.isSidebarOpen,sessionStorage.setItem("sidebarOpen",this.isSidebarOpen.toString())},isSidebarHovered:!1,handleSidebarHover(i){window.innerWidth<1024||(this.isSidebarHovered=i)},handleWindowResize(){window.innerWidth<=1024?this.isSidebarOpen=!1:this.isSidebarOpen=!0},scrollingDown:!1,scrollingUp:!1}});Oi.plugin(yv);window.Alpine=Oi;Oi.start()});export default ly();
