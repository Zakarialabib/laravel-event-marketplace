function ht(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var na={exports:{}},ni={exports:{}},oa=function(e,n){return function(){for(var i=new Array(arguments.length),r=0;r<i.length;r++)i[r]=arguments[r];return e.apply(n,i)}},Uc=oa,oi=Object.prototype.toString,ri=function(t){return function(e){var n=oi.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function Ot(t){return t=t.toLowerCase(),function(n){return ri(n)===t}}function ii(t){return Array.isArray(t)}function ro(t){return typeof t>"u"}function zc(t){return t!==null&&!ro(t)&&t.constructor!==null&&!ro(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var ra=Ot("ArrayBuffer");function $c(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ra(t.buffer),e}function Wc(t){return typeof t=="string"}function Yc(t){return typeof t=="number"}function ia(t){return t!==null&&typeof t=="object"}function Gn(t){if(ri(t)!=="object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}var Xc=Ot("Date"),Gc=Ot("File"),Vc=Ot("Blob"),qc=Ot("FileList");function si(t){return oi.call(t)==="[object Function]"}function Kc(t){return ia(t)&&si(t.pipe)}function Jc(t){var e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||oi.call(t)===e||si(t.toString)&&t.toString()===e)}var Zc=Ot("URLSearchParams");function Qc(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function ed(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function ai(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),ii(t))for(var n=0,o=t.length;n<o;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function Sr(){var t={};function e(i,r){Gn(t[r])&&Gn(i)?t[r]=Sr(t[r],i):Gn(i)?t[r]=Sr({},i):ii(i)?t[r]=i.slice():t[r]=i}for(var n=0,o=arguments.length;n<o;n++)ai(arguments[n],e);return t}function td(t,e,n){return ai(e,function(i,r){n&&typeof i=="function"?t[r]=Uc(i,n):t[r]=i}),t}function nd(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}function od(t,e,n,o){t.prototype=Object.create(e.prototype,o),t.prototype.constructor=t,n&&Object.assign(t.prototype,n)}function rd(t,e,n){var o,i,r,s={};e=e||{};do{for(o=Object.getOwnPropertyNames(t),i=o.length;i-- >0;)r=o[i],s[r]||(e[r]=t[r],s[r]=!0);t=Object.getPrototypeOf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e}function id(t,e,n){t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;var o=t.indexOf(e,n);return o!==-1&&o===n}function sd(t){if(!t)return null;var e=t.length;if(ro(e))return null;for(var n=new Array(e);e-- >0;)n[e]=t[e];return n}var ad=function(t){return function(e){return t&&e instanceof t}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),pe={isArray:ii,isArrayBuffer:ra,isBuffer:zc,isFormData:Jc,isArrayBufferView:$c,isString:Wc,isNumber:Yc,isObject:ia,isPlainObject:Gn,isUndefined:ro,isDate:Xc,isFile:Gc,isBlob:Vc,isFunction:si,isStream:Kc,isURLSearchParams:Zc,isStandardBrowserEnv:ed,forEach:ai,merge:Sr,extend:td,trim:Qc,stripBOM:nd,inherits:od,toFlatObject:rd,kindOf:ri,kindOfTest:Ot,endsWith:id,toArray:sd,isTypedArray:ad,isFileList:qc},Lt=pe;function Gi(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var sa=function(e,n,o){if(!n)return e;var i;if(o)i=o(n);else if(Lt.isURLSearchParams(n))i=n.toString();else{var r=[];Lt.forEach(n,function(l,c){l===null||typeof l>"u"||(Lt.isArray(l)?c=c+"[]":l=[l],Lt.forEach(l,function(d){Lt.isDate(d)?d=d.toISOString():Lt.isObject(d)&&(d=JSON.stringify(d)),r.push(Gi(c)+"="+Gi(d))}))}),i=r.join("&")}if(i){var s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},ld=pe;function wo(){this.handlers=[]}wo.prototype.use=function(e,n,o){return this.handlers.push({fulfilled:e,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1};wo.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};wo.prototype.forEach=function(e){ld.forEach(this.handlers,function(o){o!==null&&e(o)})};var cd=wo,dd=pe,ud=function(e,n){dd.forEach(e,function(i,r){r!==n&&r.toUpperCase()===n.toUpperCase()&&(e[n]=i,delete e[r])})},aa=pe;function Yt(t,e,n,o,i){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),o&&(this.request=o),i&&(this.response=i)}aa.inherits(Yt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var la=Yt.prototype,ca={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(t){ca[t]={value:t}});Object.defineProperties(Yt,ca);Object.defineProperty(la,"isAxiosError",{value:!0});Yt.from=function(t,e,n,o,i,r){var s=Object.create(la);return aa.toFlatObject(t,s,function(l){return l!==Error.prototype}),Yt.call(s,t.message,e,n,o,i),s.name=t.name,r&&Object.assign(s,r),s};var Jt=Yt,da={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ie=pe;function fd(t,e){e=e||new FormData;var n=[];function o(r){return r===null?"":Ie.isDate(r)?r.toISOString():Ie.isArrayBuffer(r)||Ie.isTypedArray(r)?typeof Blob=="function"?new Blob([r]):Buffer.from(r):r}function i(r,s){if(Ie.isPlainObject(r)||Ie.isArray(r)){if(n.indexOf(r)!==-1)throw Error("Circular reference detected in "+s);n.push(r),Ie.forEach(r,function(l,c){if(!Ie.isUndefined(l)){var u=s?s+"."+c:c,d;if(l&&!s&&typeof l=="object"){if(Ie.endsWith(c,"{}"))l=JSON.stringify(l);else if(Ie.endsWith(c,"[]")&&(d=Ie.toArray(l))){d.forEach(function(f){!Ie.isUndefined(f)&&e.append(u,o(f))});return}}i(l,u)}}),n.pop()}else e.append(s,o(r))}return i(t),e}var ua=fd,Ho,Vi;function hd(){if(Vi)return Ho;Vi=1;var t=Jt;return Ho=function(n,o,i){var r=i.config.validateStatus;!i.status||!r||r(i.status)?n(i):o(new t("Request failed with status code "+i.status,[t.ERR_BAD_REQUEST,t.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},Ho}var Uo,qi;function pd(){if(qi)return Uo;qi=1;var t=pe;return Uo=t.isStandardBrowserEnv()?function(){return{write:function(o,i,r,s,a,l){var c=[];c.push(o+"="+encodeURIComponent(i)),t.isNumber(r)&&c.push("expires="+new Date(r).toGMTString()),t.isString(s)&&c.push("path="+s),t.isString(a)&&c.push("domain="+a),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(o){var i=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(o){this.write(o,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Uo}var gd=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},md=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e},vd=gd,bd=md,fa=function(e,n){return e&&!vd(n)?bd(e,n):n},zo,Ki;function yd(){if(Ki)return zo;Ki=1;var t=pe,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return zo=function(o){var i={},r,s,a;return o&&t.forEach(o.split(`
`),function(c){if(a=c.indexOf(":"),r=t.trim(c.substr(0,a)).toLowerCase(),s=t.trim(c.substr(a+1)),r){if(i[r]&&e.indexOf(r)>=0)return;r==="set-cookie"?i[r]=(i[r]?i[r]:[]).concat([s]):i[r]=i[r]?i[r]+", "+s:s}}),i},zo}var $o,Ji;function wd(){if(Ji)return $o;Ji=1;var t=pe;return $o=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a"),i;function r(s){var a=s;return n&&(o.setAttribute("href",a),a=o.href),o.setAttribute("href",a),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:o.pathname.charAt(0)==="/"?o.pathname:"/"+o.pathname}}return i=r(window.location.href),function(a){var l=t.isString(a)?r(a):a;return l.protocol===i.protocol&&l.host===i.host}}():function(){return function(){return!0}}(),$o}var Wo,Zi;function xo(){if(Zi)return Wo;Zi=1;var t=Jt,e=pe;function n(o){t.call(this,o==null?"canceled":o,t.ERR_CANCELED),this.name="CanceledError"}return e.inherits(n,t,{__CANCEL__:!0}),Wo=n,Wo}var Yo,Qi;function xd(){return Qi||(Qi=1,Yo=function(e){var n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}),Yo}var Xo,es;function ts(){if(es)return Xo;es=1;var t=pe,e=hd(),n=pd(),o=sa,i=fa,r=yd(),s=wd(),a=da,l=Jt,c=xo(),u=xd();return Xo=function(f){return new Promise(function(p,y){var S=f.data,C=f.headers,E=f.responseType,g;function b(){f.cancelToken&&f.cancelToken.unsubscribe(g),f.signal&&f.signal.removeEventListener("abort",g)}t.isFormData(S)&&t.isStandardBrowserEnv()&&delete C["Content-Type"];var m=new XMLHttpRequest;if(f.auth){var k=f.auth.username||"",M=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";C.Authorization="Basic "+btoa(k+":"+M)}var x=i(f.baseURL,f.url);m.open(f.method.toUpperCase(),o(x,f.params,f.paramsSerializer),!0),m.timeout=f.timeout;function v(){if(!!m){var T="getAllResponseHeaders"in m?r(m.getAllResponseHeaders()):null,_=!E||E==="text"||E==="json"?m.responseText:m.response,L={data:_,status:m.status,statusText:m.statusText,headers:T,config:f,request:m};e(function(A){p(A),b()},function(A){y(A),b()},L),m=null}}if("onloadend"in m?m.onloadend=v:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(v)},m.onabort=function(){!m||(y(new l("Request aborted",l.ECONNABORTED,f,m)),m=null)},m.onerror=function(){y(new l("Network Error",l.ERR_NETWORK,f,m,m)),m=null},m.ontimeout=function(){var _=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded",L=f.transitional||a;f.timeoutErrorMessage&&(_=f.timeoutErrorMessage),y(new l(_,L.clarifyTimeoutError?l.ETIMEDOUT:l.ECONNABORTED,f,m)),m=null},t.isStandardBrowserEnv()){var O=(f.withCredentials||s(x))&&f.xsrfCookieName?n.read(f.xsrfCookieName):void 0;O&&(C[f.xsrfHeaderName]=O)}"setRequestHeader"in m&&t.forEach(C,function(_,L){typeof S>"u"&&L.toLowerCase()==="content-type"?delete C[L]:m.setRequestHeader(L,_)}),t.isUndefined(f.withCredentials)||(m.withCredentials=!!f.withCredentials),E&&E!=="json"&&(m.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&m.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&m.upload&&m.upload.addEventListener("progress",f.onUploadProgress),(f.cancelToken||f.signal)&&(g=function(T){!m||(y(!T||T&&T.type?new c:T),m.abort(),m=null)},f.cancelToken&&f.cancelToken.subscribe(g),f.signal&&(f.signal.aborted?g():f.signal.addEventListener("abort",g))),S||(S=null);var w=u(x);if(w&&["http","https","file"].indexOf(w)===-1){y(new l("Unsupported protocol "+w+":",l.ERR_BAD_REQUEST,f));return}m.send(S)})},Xo}var Go,ns;function kd(){return ns||(ns=1,Go=null),Go}var ce=pe,os=ud,rs=Jt,Sd=da,Ed=ua,Td={"Content-Type":"application/x-www-form-urlencoded"};function is(t,e){!ce.isUndefined(t)&&ce.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function Cd(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=ts()),t}function _d(t,e,n){if(ce.isString(t))try{return(e||JSON.parse)(t),ce.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(t)}var ko={transitional:Sd,adapter:Cd(),transformRequest:[function(e,n){if(os(n,"Accept"),os(n,"Content-Type"),ce.isFormData(e)||ce.isArrayBuffer(e)||ce.isBuffer(e)||ce.isStream(e)||ce.isFile(e)||ce.isBlob(e))return e;if(ce.isArrayBufferView(e))return e.buffer;if(ce.isURLSearchParams(e))return is(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var o=ce.isObject(e),i=n&&n["Content-Type"],r;if((r=ce.isFileList(e))||o&&i==="multipart/form-data"){var s=this.env&&this.env.FormData;return Ed(r?{"files[]":e}:e,s&&new s)}else if(o||i==="application/json")return is(n,"application/json"),_d(e);return e}],transformResponse:[function(e){var n=this.transitional||ko.transitional,o=n&&n.silentJSONParsing,i=n&&n.forcedJSONParsing,r=!o&&this.responseType==="json";if(r||i&&ce.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(r)throw s.name==="SyntaxError"?rs.from(s,rs.ERR_BAD_RESPONSE,this,null,this.response):s}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kd()},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ce.forEach(["delete","get","head"],function(e){ko.headers[e]={}});ce.forEach(["post","put","patch"],function(e){ko.headers[e]=ce.merge(Td)});var li=ko,Bd=pe,Od=li,Md=function(e,n,o){var i=this||Od;return Bd.forEach(o,function(s){e=s.call(i,e,n)}),e},Vo,ss;function ha(){return ss||(ss=1,Vo=function(e){return!!(e&&e.__CANCEL__)}),Vo}var as=pe,qo=Md,Ad=ha(),Ld=li,Id=xo();function Ko(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Id}var Pd=function(e){Ko(e),e.headers=e.headers||{},e.data=qo.call(e,e.data,e.headers,e.transformRequest),e.headers=as.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),as.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var n=e.adapter||Ld.adapter;return n(e).then(function(i){return Ko(e),i.data=qo.call(e,i.data,i.headers,e.transformResponse),i},function(i){return Ad(i)||(Ko(e),i&&i.response&&(i.response.data=qo.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},Se=pe,pa=function(e,n){n=n||{};var o={};function i(u,d){return Se.isPlainObject(u)&&Se.isPlainObject(d)?Se.merge(u,d):Se.isPlainObject(d)?Se.merge({},d):Se.isArray(d)?d.slice():d}function r(u){if(Se.isUndefined(n[u])){if(!Se.isUndefined(e[u]))return i(void 0,e[u])}else return i(e[u],n[u])}function s(u){if(!Se.isUndefined(n[u]))return i(void 0,n[u])}function a(u){if(Se.isUndefined(n[u])){if(!Se.isUndefined(e[u]))return i(void 0,e[u])}else return i(void 0,n[u])}function l(u){if(u in n)return i(e[u],n[u]);if(u in e)return i(void 0,e[u])}var c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return Se.forEach(Object.keys(e).concat(Object.keys(n)),function(d){var f=c[d]||r,h=f(d);Se.isUndefined(h)&&f!==l||(o[d]=h)}),o},Jo,ls;function ga(){return ls||(ls=1,Jo={version:"0.27.2"}),Jo}var Nd=ga().version,et=Jt,ci={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){ci[t]=function(o){return typeof o===t||"a"+(e<1?"n ":" ")+t}});var cs={};ci.transitional=function(e,n,o){function i(r,s){return"[Axios v"+Nd+"] Transitional option '"+r+"'"+s+(o?". "+o:"")}return function(r,s,a){if(e===!1)throw new et(i(s," has been removed"+(n?" in "+n:"")),et.ERR_DEPRECATED);return n&&!cs[s]&&(cs[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,s,a):!0}};function Rd(t,e,n){if(typeof t!="object")throw new et("options must be an object",et.ERR_BAD_OPTION_VALUE);for(var o=Object.keys(t),i=o.length;i-- >0;){var r=o[i],s=e[r];if(s){var a=t[r],l=a===void 0||s(a,r,t);if(l!==!0)throw new et("option "+r+" must be "+l,et.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new et("Unknown option "+r,et.ERR_BAD_OPTION)}}var Dd={assertOptions:Rd,validators:ci},ma=pe,Fd=sa,ds=cd,us=Pd,So=pa,jd=fa,va=Dd,It=va.validators;function Xt(t){this.defaults=t,this.interceptors={request:new ds,response:new ds}}Xt.prototype.request=function(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=So(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var o=n.transitional;o!==void 0&&va.assertOptions(o,{silentJSONParsing:It.transitional(It.boolean),forcedJSONParsing:It.transitional(It.boolean),clarifyTimeoutError:It.transitional(It.boolean)},!1);var i=[],r=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(n)===!1||(r=r&&h.synchronous,i.unshift(h.fulfilled,h.rejected))});var s=[];this.interceptors.response.forEach(function(h){s.push(h.fulfilled,h.rejected)});var a;if(!r){var l=[us,void 0];for(Array.prototype.unshift.apply(l,i),l=l.concat(s),a=Promise.resolve(n);l.length;)a=a.then(l.shift(),l.shift());return a}for(var c=n;i.length;){var u=i.shift(),d=i.shift();try{c=u(c)}catch(f){d(f);break}}try{a=us(c)}catch(f){return Promise.reject(f)}for(;s.length;)a=a.then(s.shift(),s.shift());return a};Xt.prototype.getUri=function(e){e=So(this.defaults,e);var n=jd(e.baseURL,e.url);return Fd(n,e.params,e.paramsSerializer)};ma.forEach(["delete","get","head","options"],function(e){Xt.prototype[e]=function(n,o){return this.request(So(o||{},{method:e,url:n,data:(o||{}).data}))}});ma.forEach(["post","put","patch"],function(e){function n(o){return function(r,s,a){return this.request(So(a||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:r,data:s}))}}Xt.prototype[e]=n(),Xt.prototype[e+"Form"]=n(!0)});var Hd=Xt,Zo,fs;function Ud(){if(fs)return Zo;fs=1;var t=xo();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var o;this.promise=new Promise(function(s){o=s});var i=this;this.promise.then(function(r){if(!!i._listeners){var s,a=i._listeners.length;for(s=0;s<a;s++)i._listeners[s](r);i._listeners=null}}),this.promise.then=function(r){var s,a=new Promise(function(l){i.subscribe(l),s=l}).then(r);return a.cancel=function(){i.unsubscribe(s)},a},n(function(s){i.reason||(i.reason=new t(s),o(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(o){if(this.reason){o(this.reason);return}this._listeners?this._listeners.push(o):this._listeners=[o]},e.prototype.unsubscribe=function(o){if(!!this._listeners){var i=this._listeners.indexOf(o);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var o,i=new e(function(s){o=s});return{token:i,cancel:o}},Zo=e,Zo}var Qo,hs;function zd(){return hs||(hs=1,Qo=function(e){return function(o){return e.apply(null,o)}}),Qo}var er,ps;function $d(){if(ps)return er;ps=1;var t=pe;return er=function(n){return t.isObject(n)&&n.isAxiosError===!0},er}var gs=pe,Wd=oa,Vn=Hd,Yd=pa,Xd=li;function ba(t){var e=new Vn(t),n=Wd(Vn.prototype.request,e);return gs.extend(n,Vn.prototype,e),gs.extend(n,e),n.create=function(i){return ba(Yd(t,i))},n}var ke=ba(Xd);ke.Axios=Vn;ke.CanceledError=xo();ke.CancelToken=Ud();ke.isCancel=ha();ke.VERSION=ga().version;ke.toFormData=ua;ke.AxiosError=Jt;ke.Cancel=ke.CanceledError;ke.all=function(e){return Promise.all(e)};ke.spread=zd();ke.isAxiosError=$d();ni.exports=ke;ni.exports.default=ke;(function(t){t.exports=ni.exports})(na);const Gd=ht(na.exports);window.axios=Gd;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var Vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Eo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function tr(){}Object.assign(tr,{default:tr,register:tr,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){const e=(this.document||this.ownerDocument).querySelectorAll(t);let n=e.length;for(;--n>=0&&e.item(n)!==this;);return n>-1});Element.prototype.closest||(Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(e!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(t){const e=document.createDocumentFragment();Array.isArray(t)||(t=[t]),t.forEach(n=>{const o=n instanceof Node;e.appendChild(o?n:document.createTextNode(n))}),this.insertBefore(e,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(t){t=arguments.length===0?!0:!!t;const e=this.parentNode,n=window.getComputedStyle(e,null),o=parseInt(n.getPropertyValue("border-top-width")),i=parseInt(n.getPropertyValue("border-left-width")),r=this.offsetTop-e.offsetTop<e.scrollTop,s=this.offsetTop-e.offsetTop+this.clientHeight-o>e.scrollTop+e.clientHeight,a=this.offsetLeft-e.offsetLeft<e.scrollLeft,l=this.offsetLeft-e.offsetLeft+this.clientWidth-i>e.scrollLeft+e.clientWidth,c=r&&!s;(r||s)&&t&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-o+this.clientHeight/2),(a||l)&&t&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-i+this.clientWidth/2),(r||s||a||l)&&!t&&this.scrollIntoView(c)});let qd=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var ya=(t=>(t.VERBOSE="VERBOSE",t.INFO="INFO",t.WARN="WARN",t.ERROR="ERROR",t))(ya||{});const U={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91},Kd={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};function Bn(t,e,n="log",o,i="color: inherit"){if(!("console"in window)||!window.console[n])return;const r=["info","log","warn","error"].includes(n),s=[];switch(Bn.logLevel){case"ERROR":if(n!=="error")return;break;case"WARN":if(!["error","warn"].includes(n))return;break;case"INFO":if(!r||t)return;break}o&&s.push(o);const a="Editor.js 2.27.2",l=`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`;t&&(r?(s.unshift(l,i),e=`%c${a}%c ${e}`):e=`( ${a} )${e}`);try{r?o?console[n](`${e} %o`,...s):console[n](e,...s):console[n](e)}catch{}}Bn.logLevel="VERBOSE";function Jd(t){Bn.logLevel=t}const $=Bn.bind(window,!1),Ne=Bn.bind(window,!0);function _t(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function q(t){return _t(t)==="function"||_t(t)==="asyncfunction"}function he(t){return _t(t)==="object"}function lt(t){return _t(t)==="string"}function Zd(t){return _t(t)==="boolean"}function ms(t){return _t(t)==="number"}function vs(t){return _t(t)==="undefined"}function De(t){return t?Object.keys(t).length===0&&t.constructor===Object:!0}function wa(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}async function xa(t,e=()=>{},n=()=>{}){async function o(i,r,s){try{await i.function(i.data),await r(vs(i.data)?{}:i.data)}catch{s(vs(i.data)?{}:i.data)}}return t.reduce(async(i,r)=>(await i,o(r,e,n)),Promise.resolve())}function ka(t){return Array.prototype.slice.call(t)}function Bt(t,e){return function(){const n=this,o=arguments;window.setTimeout(()=>t.apply(n,o),e)}}function Qd(t){return t.name.split(".").pop()}function eu(t){return/^[-\w]+\/([-+\w]+|\*)$/.test(t)}function tu(t,e,n){let o;return(...i)=>{const r=this,s=()=>{o=null,n||t.apply(r,i)},a=n&&!o;window.clearTimeout(o),o=window.setTimeout(s,e),a&&t.apply(r,i)}}function Er(t,e,n=void 0){let o,i,r,s=null,a=0;n||(n={});const l=function(){a=n.leading===!1?0:Date.now(),s=null,r=t.apply(o,i),s||(o=i=null)};return function(){const c=Date.now();!a&&n.leading===!1&&(a=c);const u=e-(c-a);return o=this,i=arguments,u<=0||u>e?(s&&(clearTimeout(s),s=null),a=c,r=t.apply(o,i),s||(o=i=null)):!s&&n.trailing!==!1&&(s=setTimeout(l,u)),r}}function nu(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e&&(t[e]=!0),t}function io(t){return t[0].toUpperCase()+t.slice(1)}function Tr(t,...e){if(!e.length)return t;const n=e.shift();if(he(t)&&he(n))for(const o in n)he(n[o])?(t[o]||Object.assign(t,{[o]:{}}),Tr(t[o],n[o])):Object.assign(t,{[o]:n[o]});return Tr(t,...e)}function Sa(t){const e=nu();return t=t.replace(/shift/gi,"\u21E7").replace(/backspace/gi,"\u232B").replace(/enter/gi,"\u23CE").replace(/up/gi,"\u2191").replace(/left/gi,"\u2192").replace(/down/gi,"\u2193").replace(/right/gi,"\u2190").replace(/escape/gi,"\u238B").replace(/insert/gi,"Ins").replace(/delete/gi,"\u2421").replace(/\+/gi," + "),e.mac?t=t.replace(/ctrl|cmd/gi,"\u2318").replace(/alt/gi,"\u2325"):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function ou(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function ru(){return qd(10)}function iu(t){window.open(t,"_blank")}function su(t=""){return`${t}${Math.floor(Math.random()*1e8).toString(16)}`}function Cr(t,e,n){const o=`\xAB${e}\xBB is deprecated and will be removed in the next major release. Please use the \xAB${n}\xBB instead.`;t&&Ne(o,"warn")}function Zt(t,e,n){const o=n.value?"value":"get",i=n[o],r=`#${e}Cache`;if(n[o]=function(...s){return this[r]===void 0&&(this[r]=i.apply(this,...s)),this[r]},o==="get"&&n.set){const s=n.set;n.set=function(a){delete t[r],s.apply(this,a)}}return n}const Ea=650;function St(){return window.matchMedia(`(max-width: ${Ea}px)`).matches}const bs=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function au(t,e){const n=Array.isArray(t)||he(t),o=Array.isArray(e)||he(e);return n||o?JSON.stringify(t)===JSON.stringify(e):t===e}class I{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,n=null,o={}){const i=document.createElement(e);Array.isArray(n)?i.classList.add(...n):n&&i.classList.add(n);for(const r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r]);return i}static text(e){return document.createTextNode(e)}static append(e,n){Array.isArray(n)?n.forEach(o=>e.appendChild(o)):e.appendChild(n)}static prepend(e,n){Array.isArray(n)?(n=n.reverse(),n.forEach(o=>e.prepend(o))):e.prepend(n)}static swap(e,n){const o=document.createElement("div"),i=e.parentNode;i.insertBefore(o,e),i.insertBefore(e,n),i.insertBefore(n,o),i.removeChild(o)}static find(e=document,n){return e.querySelector(n)}static get(e){return document.getElementById(e)}static findAll(e=document,n){return e.querySelectorAll(n)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return ka(e.querySelectorAll(I.allInputsSelector)).reduce((n,o)=>I.isNativeInput(o)||I.containsOnlyInlineElements(o)?[...n,o]:[...n,...I.getDeepestBlockElements(o)],[])}static getDeepestNode(e,n=!1){const o=n?"lastChild":"firstChild",i=n?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[o]){let r=e[o];if(I.isSingleTag(r)&&!I.isNativeInput(r)&&!I.isLineBreakTag(r))if(r[i])r=r[i];else if(r.parentNode[i])r=r.parentNode[i];else return r.parentNode;return this.getDeepestNode(r,n)}return e}static isElement(e){return ms(e)?!1:e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return ms(e)?!1:e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return e.contentEditable==="true"}static isNativeInput(e){const n=["INPUT","TEXTAREA"];return e&&e.tagName?n.includes(e.tagName):!1}static canSetCaret(e){let n=!0;if(I.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":n=!1;break}else n=I.isContentEditable(e);return n}static isNodeEmpty(e){let n;return this.isSingleTag(e)&&!this.isLineBreakTag(e)?!1:(this.isElement(e)&&this.isNativeInput(e)?n=e.value:n=e.textContent.replace("\u200B",""),n.trim().length===0)}static isLeaf(e){return e?e.childNodes.length===0:!1}static isEmpty(e){e.normalize();const n=[e];for(;n.length>0;)if(e=n.shift(),!!e){if(this.isLeaf(e)&&!this.isNodeEmpty(e))return!1;e.childNodes&&n.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const n=I.make("div");return n.innerHTML=e,n.childElementCount>0}static getContentLength(e){return I.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let n;lt(e)?(n=document.createElement("div"),n.innerHTML=e):n=e;const o=i=>!I.blockElements.includes(i.tagName.toLowerCase())&&Array.from(i.children).every(o);return Array.from(n.children).every(o)}static getDeepestBlockElements(e){return I.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((n,o)=>[...n,...I.getDeepestBlockElements(o)],[])}static getHolder(e){return lt(e)?document.getElementById(e):e}static isAnchor(e){return e.tagName.toLowerCase()==="a"}static offset(e){const n=e.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop,r=n.top+i,s=n.left+o;return{top:r,left:s,bottom:r+n.height,right:s+n.width}}}const lu={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":""}},cu={Text:"",Link:"",Bold:"",Italic:""},du={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},uu={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},Ta={ui:lu,toolNames:cu,tools:du,blockTunes:uu},Rt=class{static ui(t,e){return Rt._t(t,e)}static t(t,e){return Rt._t(t,e)}static setDictionary(t){Rt.currentDictionary=t}static _t(t,e){const n=Rt.getNamespace(t);return!n||!n[e]?e:n[e]}static getNamespace(t){return t.split(".").reduce((e,n)=>!e||!Object.keys(e).length?{}:e[n],Rt.currentDictionary)}};let xe=Rt;xe.currentDictionary=Ta;class Ca extends Error{}class To{constructor(){this.subscribers={}}on(e,n){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(n)}once(e,n){e in this.subscribers||(this.subscribers[e]=[]);const o=i=>{const r=n(i),s=this.subscribers[e].indexOf(o);return s!==-1&&this.subscribers[e].splice(s,1),r};this.subscribers[e].push(o)}emit(e,n){De(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((o,i)=>{const r=i(o);return r!==void 0?r:o},n)}off(e,n){for(let o=0;o<this.subscribers[e].length;o++)if(this.subscribers[e][o]===n){delete this.subscribers[e][o];break}}destroy(){this.subscribers=null}}function pn(t){Object.setPrototypeOf(this,{get id(){return t.id},get name(){return t.name},get config(){return t.config},get holder(){return t.holder},get isEmpty(){return t.isEmpty},get selected(){return t.selected},set stretched(e){t.stretched=e},get stretched(){return t.stretched},call(e,n){return t.call(e,n)},save(){return t.save()},validate(e){return t.validate(e)},dispatchChange(){t.dispatchChange()}})}class di{constructor(){this.allListeners=[]}on(e,n,o,i=!1){const r=su("l"),s={id:r,element:e,eventType:n,handler:o,options:i};if(!this.findOne(e,n,o))return this.allListeners.push(s),e.addEventListener(n,o,i),r}off(e,n,o,i){const r=this.findAll(e,n,o);r.forEach((s,a)=>{const l=this.allListeners.indexOf(r[a]);l>-1&&(this.allListeners.splice(l,1),s.element.removeEventListener(s.eventType,s.handler,s.options))})}offById(e){const n=this.findById(e);n&&n.element.removeEventListener(n.eventType,n.handler,n.options)}findOne(e,n,o){const i=this.findAll(e,n,o);return i.length>0?i[0]:null}findAll(e,n,o){let i;const r=e?this.findByEventTarget(e):[];return e&&n&&o?i=r.filter(s=>s.eventType===n&&s.handler===o):e&&n?i=r.filter(s=>s.eventType===n):i=r,i}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(n=>{if(n.element===e)return n})}findByType(e){return this.allListeners.filter(n=>{if(n.eventType===e)return n})}findByHandler(e){return this.allListeners.filter(n=>{if(n.handler===e)return n})}findById(e){return this.allListeners.find(n=>n.id===e)}}class W{constructor({config:e,eventsDispatcher:n}){if(this.nodes={},this.listeners=new di,this.readOnlyMutableListeners={on:(o,i,r,s=!1)=>{this.mutableListenerIds.push(this.listeners.on(o,i,r,s))},clearAll:()=>{for(const o of this.mutableListenerIds)this.listeners.offById(o);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===W)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=n}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const n=this.nodes[e];n instanceof HTMLElement&&n.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}}class F{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const n=e.anchorNode;return n?I.isElement(n)?n:n.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(F.get())}static isSelectionAtEditor(e){if(!e)return!1;let n=e.anchorNode||e.focusNode;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let o=null;return n&&n instanceof Element&&(o=n.closest(`.${F.CSS.editorZone}`)),o?o.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(e){if(!e)return;let n=e.startContainer;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let o=null;return n&&n instanceof Element&&(o=n.closest(`.${F.CSS.editorZone}`)),o?o.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!F.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e=document.selection,n,o={x:0,y:0,width:0,height:0};if(e&&e.type!=="Control")return e=e,n=e.createRange(),o.x=n.boundingLeft,o.y=n.boundingTop,o.width=n.boundingWidth,o.height=n.boundingHeight,o;if(!window.getSelection)return $("Method window.getSelection is not supported","warn"),o;if(e=window.getSelection(),e.rangeCount===null||isNaN(e.rangeCount))return $("Method SelectionUtils.rangeCount is not supported","warn"),o;if(e.rangeCount===0)return o;if(n=e.getRangeAt(0).cloneRange(),n.getBoundingClientRect&&(o=n.getBoundingClientRect()),o.x===0&&o.y===0){const i=document.createElement("span");if(i.getBoundingClientRect){i.appendChild(document.createTextNode("\u200B")),n.insertNode(i),o=i.getBoundingClientRect();const r=i.parentNode;r.removeChild(i),r.normalize()}}return o}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,n=0){const o=document.createRange(),i=window.getSelection();return I.isNativeInput(e)?I.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=n,e.getBoundingClientRect()):void 0:(o.setStart(e,n),o.setEnd(e,n),i.removeAllRanges(),i.addRange(o),o.getBoundingClientRect())}static isRangeInsideContainer(e){const n=F.range;return n===null?!1:e.contains(n.startContainer)}static addFakeCursor(){const e=F.range;if(e===null)return;const n=I.make("span","codex-editor__fake-cursor");n.dataset.mutationFree="true",e.collapse(),e.insertNode(n)}static isFakeCursorInsideContainer(e){return I.find(e,".codex-editor__fake-cursor")!==null}static removeFakeCursor(e=document.body){const n=I.find(e,".codex-editor__fake-cursor");n&&n.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=F.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),n=document.createRange();n.selectNodeContents(e.focusNode),n.collapse(!1),e.removeAllRanges(),e.addRange(n)}findParentTag(e,n,o=10){const i=window.getSelection();let r=null;return!i||!i.anchorNode||!i.focusNode?null:([i.anchorNode,i.focusNode].forEach(s=>{let a=o;for(;a>0&&s.parentNode&&!(s.tagName===e&&(r=s,n&&s.classList&&!s.classList.contains(n)&&(r=null),r));)s=s.parentNode,a--}),r)}expandToTag(e){const n=window.getSelection();n.removeAllRanges();const o=document.createRange();o.selectNodeContents(e),n.addRange(o)}}function fu(t,e){const{type:n,target:o,addedNodes:i,removedNodes:r}=t;if(o===e)return!0;if(["characterData","attributes"].includes(n)){const l=o.nodeType===Node.TEXT_NODE?o.parentNode:o;return e.contains(l)}const s=Array.from(i).some(l=>e.contains(l)),a=Array.from(r).some(l=>e.contains(l));return s||a}const _r="redactor dom changed",_a="block changed",Ba="fake cursor is about to be toggled",Oa="fake cursor have been set";var nt=(t=>(t.APPEND_CALLBACK="appendCallback",t.RENDERED="rendered",t.MOVED="moved",t.UPDATED="updated",t.REMOVED="removed",t.ON_PASTE="onPaste",t))(nt||{});class ae extends To{constructor({id:e=ru(),data:n,tool:o,api:i,readOnly:r,tunesData:s},a){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(l=void 0)=>{const c=l===void 0,u=l instanceof InputEvent;!c&&!u&&this.detectToolRootChange(l);let d;c||u?d=!0:d=!(l.length>0&&l.every(f=>{const{addedNodes:h,removedNodes:p,target:y}=f;return[...Array.from(h),...Array.from(p),y].some(S=>I.isElement(S)?S.dataset.mutationFree==="true":!1)})),d&&(this.dropInputsCache(),this.updateCurrentInput(),this.call("updated"),this.emit("didMutated",this))},this.name=o.name,this.id=e,this.settings=o.settings,this.config=o.settings.config||{},this.api=i,this.editorEventBus=a||null,this.blockAPI=new pn(this),this.tool=o,this.toolInstance=o.create(n,this.blockAPI,r),this.tunes=o.tunes,this.composeTunes(s),this.holder=this.compose(),this.watchBlockMutations(),this.addInputEvents()}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",focused:"ce-block--focused",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const e=I.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const n=this.inputs.findIndex(o=>o===e||o.contains(e));n!==-1&&(this.inputIndex=n)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!De(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return q(this.toolInstance.merge)}get isEmpty(){const e=I.isEmpty(this.pluginsContent),n=!this.hasMedia;return e&&n}get hasMedia(){const e=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(e.join(","))}set focused(e){this.holder.classList.toggle(ae.CSS.focused,e)}get focused(){return this.holder.classList.contains(ae.CSS.focused)}set selected(e){var n,o;this.holder.classList.toggle(ae.CSS.selected,e);const i=e===!0&&F.isRangeInsideContainer(this.holder),r=e===!1&&F.isFakeCursorInsideContainer(this.holder);(i||r)&&((n=this.editorEventBus)==null||n.emit(Ba,{state:e}),i?F.addFakeCursor():F.removeFakeCursor(this.holder),(o=this.editorEventBus)==null||o.emit(Oa,{state:e}))}get selected(){return this.holder.classList.contains(ae.CSS.selected)}set stretched(e){this.holder.classList.toggle(ae.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(ae.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(ae.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,n){if(q(this.toolInstance[e])){e==="appendCallback"&&$("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,n)}catch(o){$(`Error during '${e}' call: ${o.message}`,"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),n=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([r,s])=>{if(q(s.save))try{n[r]=s.save()}catch(a){$(`Tune ${s.constructor.name} save method throws an Error %o`,"warn",a)}});const o=window.performance.now();let i;return Promise.resolve(e).then(r=>(i=window.performance.now(),{id:this.id,tool:this.name,data:r,tunes:n,time:i-o})).catch(r=>{$(`Saving process for ${this.name} tool failed due to the ${r}`,"log","red")})}async validate(e){let n=!0;return this.toolInstance.validate instanceof Function&&(n=await this.toolInstance.validate(e)),n}getTunes(){const e=document.createElement("div"),n=[],o=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[],i=[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(r=>r.render());return[o,i].flat().forEach(r=>{I.isElement(r)?e.appendChild(r):Array.isArray(r)?n.push(...r):n.push(r)}),[n,e]}updateCurrentInput(){this.currentInput=I.isNativeInput(document.activeElement)||!F.anchorNode?document.activeElement:F.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),q(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(e.length===1)return Promise.resolve(this.tool.toolbox[0]);const n=await this.data;return e.find(o=>Object.entries(o.data).some(([i,r])=>n[i]&&au(n[i],r)))}compose(){const e=I.make("div",ae.CSS.wrapper),n=I.make("div",ae.CSS.content),o=this.toolInstance.render();this.toolRenderedElement=o,n.appendChild(this.toolRenderedElement);let i=n;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(r=>{if(q(r.wrap))try{i=r.wrap(i)}catch(s){$(`Tune ${r.constructor.name} wrap method throws an Error %o`,"warn",s)}}),e.appendChild(i),e}composeTunes(e){Array.from(this.tunes.values()).forEach(n=>{(n.isInternal?this.defaultTunesInstances:this.tunesInstances).set(n.name,n.create(e[n.name],this.blockAPI))}),Object.entries(e).forEach(([n,o])=>{this.tunesInstances.has(n)||(this.unavailableTunesData[n]=o)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),I.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),I.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=n=>{const{mutations:o}=n;o.some(i=>fu(i,this.toolRenderedElement))&&this.didMutated(o)},(e=this.editorEventBus)==null||e.on(_r,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;(e=this.editorEventBus)==null||e.off(_r,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(n=>{if(Array.from(n.removedNodes).includes(this.toolRenderedElement)){const o=n.addedNodes[n.addedNodes.length-1];this.toolRenderedElement=o}})}dropInputsCache(){this.cachedInputs=[]}}class hu extends W{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,n={},o={},i,r,s,a)=>{const l=this.Editor.BlockManager.insert({id:a,tool:e,data:n,index:i,needToFocus:r,replace:s});return new pn(l)},this.composeBlockData=async e=>{const n=this.Editor.Tools.blockTools.get(e);return new ae({tool:n,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=(e,n)=>{const{BlockManager:o}=this.Editor,i=o.getBlockById(e);if(!i){$("blocks.update(): Block with passed id was not found","warn");return}const r=o.getBlockIndex(i);o.insert({id:i.id,tool:i.name,data:n,index:r,replace:!0,tunes:i.tunes})}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,n)=>this.swap(e,n),move:(e,n)=>this.move(e,n),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),stretchBlock:(e,n=!0)=>this.stretchBlock(e,n),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,update:this.update,composeBlockData:this.composeBlockData}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const n=this.Editor.BlockManager.getBlockById(e);if(!n){Ne("There is no block with id `"+e+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(n)}getBlockByIndex(e){const n=this.Editor.BlockManager.getBlockByIndex(e);if(n===void 0){Ne("There is no block at index `"+e+"`","warn");return}return new pn(n)}getById(e){const n=this.Editor.BlockManager.getBlockById(e);return n===void 0?(Ne("There is no block with id `"+e+"`","warn"),null):new pn(n)}swap(e,n){$("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,n)}move(e,n){this.Editor.BlockManager.move(e,n)}delete(e){try{this.Editor.BlockManager.removeBlock(e)}catch(n){Ne(n,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}clear(){this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}render(e){return this.Editor.BlockManager.clear(),this.Editor.Renderer.render(e.blocks)}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,n=!0){Cr(!0,"blocks.stretchBlock()","BlockAPI");const o=this.Editor.BlockManager.getBlockByIndex(e);o&&(o.stretched=n)}insertNewBlock(){$("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}}class pu extends W{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,n),!0):!1,this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,n),!0):!1,this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,n),!0):!1,this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,n),!0):!1,this.setToBlock=(e,n=this.Editor.Caret.positions.DEFAULT,o=0)=>this.Editor.BlockManager.blocks[e]?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.blocks[e],n,o),!0):!1,this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class gu extends W{get methods(){return{emit:(e,n)=>this.emit(e,n),off:(e,n)=>this.off(e,n),on:(e,n)=>this.on(e,n)}}on(e,n){this.eventsDispatcher.on(e,n)}emit(e,n){this.eventsDispatcher.emit(e,n)}off(e,n){this.eventsDispatcher.off(e,n)}}class ui extends W{static getNamespace(e){return e.isTune()?`blockTunes.${e.name}`:`tools.${e.name}`}get methods(){return{t:()=>{Ne("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e){return Object.assign(this.methods,{t:n=>xe.t(ui.getNamespace(e),n)})}}class mu extends W{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e)})}}class vu extends W{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class bu extends W{get methods(){return{on:(e,n,o,i)=>this.on(e,n,o,i),off:(e,n,o,i)=>this.off(e,n,o,i),offById:e=>this.offById(e)}}on(e,n,o,i){return this.listeners.on(e,n,o,i)}off(e,n,o,i){this.listeners.off(e,n,o,i)}offById(e){this.listeners.offById(e)}}var Br={},yu={get exports(){return Br},set exports(t){Br=t}};(function(t,e){(function(n,o){t.exports=o()})(window,function(){return function(n){var o={};function i(r){if(o[r])return o[r].exports;var s=o[r]={i:r,l:!1,exports:{}};return n[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=o,i.d=function(r,s,a){i.o(r,s)||Object.defineProperty(r,s,{enumerable:!0,get:a})},i.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},i.t=function(r,s){if(1&s&&(r=i(r)),8&s||4&s&&typeof r=="object"&&r&&r.__esModule)return r;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),2&s&&typeof r!="string")for(var l in r)i.d(a,l,function(c){return r[c]}.bind(null,l));return a},i.n=function(r){var s=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(s,"a",s),s},i.o=function(r,s){return Object.prototype.hasOwnProperty.call(r,s)},i.p="/",i(i.s=0)}([function(n,o,i){i(1),n.exports=function(){var r=i(6),s="cdx-notify--bounce-in",a=null;return{show:function(l){if(l.message){(function(){if(a)return!0;a=r.getWrapper(),document.body.appendChild(a)})();var c=null,u=l.time||8e3;switch(l.type){case"confirm":c=r.confirm(l);break;case"prompt":c=r.prompt(l);break;default:c=r.alert(l),window.setTimeout(function(){c.remove()},u)}a.appendChild(c),c.classList.add(s)}}}}()},function(n,o,i){var r=i(2);typeof r=="string"&&(r=[[n.i,r,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(r,s),r.locals&&(n.exports=r.locals)},function(n,o,i){(n.exports=i(3)(!1)).push([n.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(n,o){n.exports=function(i){var r=[];return r.toString=function(){return this.map(function(s){var a=function(l,c){var u=l[1]||"",d=l[3];if(!d)return u;if(c&&typeof btoa=="function"){var f=(p=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),h=d.sources.map(function(y){return"/*# sourceURL="+d.sourceRoot+y+" */"});return[u].concat(h).concat([f]).join(`
`)}var p;return[u].join(`
`)}(s,i);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},r.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<s.length;c++){var d=s[c];typeof d[0]=="number"&&l[d[0]]||(a&&!d[2]?d[2]=a:a&&(d[2]="("+d[2]+") and ("+a+")"),r.push(d))}},r}},function(n,o,i){var r,s,a={},l=(r=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=r.apply(this,arguments)),s}),c=function(x){var v={};return function(O){if(typeof O=="function")return O();if(v[O]===void 0){var w=function(T){return document.querySelector(T)}.call(this,O);if(window.HTMLIFrameElement&&w instanceof window.HTMLIFrameElement)try{w=w.contentDocument.head}catch{w=null}v[O]=w}return v[O]}}(),u=null,d=0,f=[],h=i(5);function p(x,v){for(var O=0;O<x.length;O++){var w=x[O],T=a[w.id];if(T){T.refs++;for(var _=0;_<T.parts.length;_++)T.parts[_](w.parts[_]);for(;_<w.parts.length;_++)T.parts.push(b(w.parts[_],v))}else{var L=[];for(_=0;_<w.parts.length;_++)L.push(b(w.parts[_],v));a[w.id]={id:w.id,refs:1,parts:L}}}}function y(x,v){for(var O=[],w={},T=0;T<x.length;T++){var _=x[T],L=v.base?_[0]+v.base:_[0],B={css:_[1],media:_[2],sourceMap:_[3]};w[L]?w[L].parts.push(B):O.push(w[L]={id:L,parts:[B]})}return O}function S(x,v){var O=c(x.insertInto);if(!O)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var w=f[f.length-1];if(x.insertAt==="top")w?w.nextSibling?O.insertBefore(v,w.nextSibling):O.appendChild(v):O.insertBefore(v,O.firstChild),f.push(v);else if(x.insertAt==="bottom")O.appendChild(v);else{if(typeof x.insertAt!="object"||!x.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var T=c(x.insertInto+" "+x.insertAt.before);O.insertBefore(v,T)}}function C(x){if(x.parentNode===null)return!1;x.parentNode.removeChild(x);var v=f.indexOf(x);v>=0&&f.splice(v,1)}function E(x){var v=document.createElement("style");return x.attrs.type===void 0&&(x.attrs.type="text/css"),g(v,x.attrs),S(x,v),v}function g(x,v){Object.keys(v).forEach(function(O){x.setAttribute(O,v[O])})}function b(x,v){var O,w,T,_;if(v.transform&&x.css){if(!(_=v.transform(x.css)))return function(){};x.css=_}if(v.singleton){var L=d++;O=u||(u=E(v)),w=M.bind(null,O,L,!1),T=M.bind(null,O,L,!0)}else x.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(O=function(B){var A=document.createElement("link");return B.attrs.type===void 0&&(B.attrs.type="text/css"),B.attrs.rel="stylesheet",g(A,B.attrs),S(B,A),A}(v),w=function(B,A,N){var P=N.css,D=N.sourceMap,G=A.convertToAbsoluteUrls===void 0&&D;(A.convertToAbsoluteUrls||G)&&(P=h(P)),D&&(P+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(D))))+" */");var te=new Blob([P],{type:"text/css"}),se=B.href;B.href=URL.createObjectURL(te),se&&URL.revokeObjectURL(se)}.bind(null,O,v),T=function(){C(O),O.href&&URL.revokeObjectURL(O.href)}):(O=E(v),w=function(B,A){var N=A.css,P=A.media;if(P&&B.setAttribute("media",P),B.styleSheet)B.styleSheet.cssText=N;else{for(;B.firstChild;)B.removeChild(B.firstChild);B.appendChild(document.createTextNode(N))}}.bind(null,O),T=function(){C(O)});return w(x),function(B){if(B){if(B.css===x.css&&B.media===x.media&&B.sourceMap===x.sourceMap)return;w(x=B)}else T()}}n.exports=function(x,v){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(v=v||{}).attrs=typeof v.attrs=="object"?v.attrs:{},v.singleton||typeof v.singleton=="boolean"||(v.singleton=l()),v.insertInto||(v.insertInto="head"),v.insertAt||(v.insertAt="bottom");var O=y(x,v);return p(O,v),function(w){for(var T=[],_=0;_<O.length;_++){var L=O[_];(B=a[L.id]).refs--,T.push(B)}for(w&&p(y(w,v),v),_=0;_<T.length;_++){var B;if((B=T[_]).refs===0){for(var A=0;A<B.parts.length;A++)B.parts[A]();delete a[B.id]}}}};var m,k=(m=[],function(x,v){return m[x]=v,m.filter(Boolean).join(`
`)});function M(x,v,O,w){var T=O?"":w.css;if(x.styleSheet)x.styleSheet.cssText=k(v,T);else{var _=document.createTextNode(T),L=x.childNodes;L[v]&&x.removeChild(L[v]),L.length?x.insertBefore(_,L[v]):x.appendChild(_)}}},function(n,o){n.exports=function(i){var r=typeof window<"u"&&window.location;if(!r)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var s=r.protocol+"//"+r.host,a=s+r.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,d=c.trim().replace(/^"(.*)"$/,function(f,h){return h}).replace(/^'(.*)'$/,function(f,h){return h});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?l:(u=d.indexOf("//")===0?d:d.indexOf("/")===0?s+d:a+d.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,o,i){var r,s,a,l,c,u,d,f,h;n.exports=(r="cdx-notifies",s="cdx-notify",a="cdx-notify__cross",l="cdx-notify__button--confirm",c="cdx-notify__button--cancel",u="cdx-notify__input",d="cdx-notify__button",f="cdx-notify__btns-wrapper",{alert:h=function(p){var y=document.createElement("DIV"),S=document.createElement("DIV"),C=p.message,E=p.style;return y.classList.add(s),E&&y.classList.add(s+"--"+E),y.innerHTML=C,S.classList.add(a),S.addEventListener("click",y.remove.bind(y)),y.appendChild(S),y},confirm:function(p){var y=h(p),S=document.createElement("div"),C=document.createElement("button"),E=document.createElement("button"),g=y.querySelector("."+a),b=p.cancelHandler,m=p.okHandler;return S.classList.add(f),C.innerHTML=p.okText||"Confirm",E.innerHTML=p.cancelText||"Cancel",C.classList.add(d),E.classList.add(d),C.classList.add(l),E.classList.add(c),b&&typeof b=="function"&&(E.addEventListener("click",b),g.addEventListener("click",b)),m&&typeof m=="function"&&C.addEventListener("click",m),C.addEventListener("click",y.remove.bind(y)),E.addEventListener("click",y.remove.bind(y)),S.appendChild(C),S.appendChild(E),y.appendChild(S),y},prompt:function(p){var y=h(p),S=document.createElement("div"),C=document.createElement("button"),E=document.createElement("input"),g=y.querySelector("."+a),b=p.cancelHandler,m=p.okHandler;return S.classList.add(f),C.innerHTML=p.okText||"Ok",C.classList.add(d),C.classList.add(l),E.classList.add(u),p.placeholder&&E.setAttribute("placeholder",p.placeholder),p.default&&(E.value=p.default),p.inputType&&(E.type=p.inputType),b&&typeof b=="function"&&g.addEventListener("click",b),m&&typeof m=="function"&&C.addEventListener("click",function(){m(E.value)}),C.addEventListener("click",y.remove.bind(y)),S.appendChild(E),S.appendChild(C),y.appendChild(S),y},getWrapper:function(){var p=document.createElement("DIV");return p.classList.add(r),p}})}])})})(yu);const wu=Eo(Br);class xu{show(e){wu.show(e)}}class ku extends W{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.notifier=new xu}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}}class Su extends W{get methods(){const e=()=>this.isEnabled;return{toggle:n=>this.toggle(n),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var Or={},Eu={get exports(){return Or},set exports(t){Or=t}};(function(t,e){(function(n,o){t.exports=o()})(Vd,function(){function n(d){var f=d.tags,h=Object.keys(f),p=h.map(function(y){return typeof f[y]}).every(function(y){return y==="object"||y==="boolean"||y==="function"});if(!p)throw new Error("The configuration was invalid");this.config=d}var o=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function i(d){return o.indexOf(d.nodeName)!==-1}var r=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function s(d){return r.indexOf(d.nodeName)!==-1}n.prototype.clean=function(d){const f=document.implementation.createHTMLDocument(),h=f.createElement("div");return h.innerHTML=d,this._sanitize(f,h),h.innerHTML},n.prototype._sanitize=function(d,f){var h=a(d,f),p=h.firstChild();if(p)do{if(p.nodeType===Node.TEXT_NODE)if(p.data.trim()===""&&(p.previousElementSibling&&i(p.previousElementSibling)||p.nextElementSibling&&i(p.nextElementSibling))){f.removeChild(p),this._sanitize(d,f);break}else continue;if(p.nodeType===Node.COMMENT_NODE){f.removeChild(p),this._sanitize(d,f);break}var y=s(p),S;y&&(S=Array.prototype.some.call(p.childNodes,i));var C=!!f.parentNode,E=i(f)&&i(p)&&C,g=p.nodeName.toLowerCase(),b=l(this.config,g,p),m=y&&S;if(m||c(p,b)||!this.config.keepNestedBlockElements&&E){if(!(p.nodeName==="SCRIPT"||p.nodeName==="STYLE"))for(;p.childNodes.length>0;)f.insertBefore(p.childNodes[0],p);f.removeChild(p),this._sanitize(d,f);break}for(var k=0;k<p.attributes.length;k+=1){var M=p.attributes[k];u(M,b,p)&&(p.removeAttribute(M.name),k=k-1)}this._sanitize(d,p)}while(p=h.nextSibling())};function a(d,f){return d.createTreeWalker(f,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function l(d,f,h){return typeof d.tags[f]=="function"?d.tags[f](h):d.tags[f]}function c(d,f){return typeof f>"u"?!0:typeof f=="boolean"?!f:!1}function u(d,f,h){var p=d.name.toLowerCase();return f===!0?!1:typeof f[p]=="function"?!f[p](d.value,h):typeof f[p]>"u"||f[p]===!1?!0:typeof f[p]=="string"?f[p]!==d.value:!1}return n})})(Eu);const Tu=Or;function Ma(t,e){return t.map(n=>{const o=q(e)?e(n.tool):e;return De(o)||(n.data=fi(n.data,o)),n})}function Ge(t,e={}){const n={tags:e};return new Tu(n).clean(t)}function fi(t,e){return Array.isArray(t)?Cu(t,e):he(t)?_u(t,e):lt(t)?Bu(t,e):t}function Cu(t,e){return t.map(n=>fi(n,e))}function _u(t,e){const n={};for(const o in t){if(!Object.prototype.hasOwnProperty.call(t,o))continue;const i=t[o],r=Ou(e[o])?e[o]:e;n[o]=fi(i,r)}return n}function Bu(t,e){return he(e)?Ge(t,e):e===!1?Ge(t,{}):t}function Ou(t){return he(t)||Zd(t)||q(t)}class Mu extends W{get methods(){return{clean:(e,n)=>this.clean(e,n)}}clean(e,n){return Ge(e,n)}}class Au extends W{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(Ne(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}}class Lu extends W{get methods(){return{findParentTag:(e,n)=>this.findParentTag(e,n),expandToTag:e=>this.expandToTag(e)}}findParentTag(e,n){return new F().findParentTag(e,n)}expandToTag(e){new F().expandToTag(e)}}class Iu extends W{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class Pu extends W{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Ne("Could't toggle the Toolbar because there is no block selected ","warn");return}(e!=null?e:!this.Editor.BlockSettings.opened)?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Ne("Could't toggle the Toolbox because there is no block selected ","warn");return}(e!=null?e:!this.Editor.Toolbar.toolbox.opened)?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var Mr={},Nu={get exports(){return Mr},set exports(t){Mr=t}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(t,e){(function(n,o){t.exports=o()})(window,function(){return function(n){var o={};function i(r){if(o[r])return o[r].exports;var s=o[r]={i:r,l:!1,exports:{}};return n[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=o,i.d=function(r,s,a){i.o(r,s)||Object.defineProperty(r,s,{enumerable:!0,get:a})},i.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},i.t=function(r,s){if(1&s&&(r=i(r)),8&s||4&s&&typeof r=="object"&&r&&r.__esModule)return r;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),2&s&&typeof r!="string")for(var l in r)i.d(a,l,function(c){return r[c]}.bind(null,l));return a},i.n=function(r){var s=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(s,"a",s),s},i.o=function(r,s){return Object.prototype.hasOwnProperty.call(r,s)},i.p="",i(i.s=0)}([function(n,o,i){n.exports=i(1)},function(n,o,i){i.r(o),i.d(o,"default",function(){return r});class r{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(a,l,c){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const u=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},c);if(u.hidingDelay&&(this.hidingDelay=u.hidingDelay),this.nodes.content.innerHTML="",typeof l=="string")this.nodes.content.appendChild(document.createTextNode(l));else{if(!(l instanceof Node))throw Error("[CodeX Tooltip] Wrong type of \xABcontent\xBB passed. It should be an instance of Node or String. But "+typeof l+" given.");this.nodes.content.appendChild(l)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),u.placement){case"top":this.placeTop(a,u);break;case"left":this.placeLeft(a,u);break;case"right":this.placeRight(a,u);break;case"bottom":default:this.placeBottom(a,u)}u&&u.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},u.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(a=!1){if(this.hidingDelay&&!a)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(a,l,c){a.addEventListener("mouseenter",()=>{this.show(a,l,c)}),a.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const a="codex-tooltips-style";if(document.getElementById(a))return;const l=i(2),c=this.make("style",null,{textContent:l.toString(),id:a});this.prepend(document.head,c)}placeBottom(a,l){const c=a.getBoundingClientRect(),u=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,d=c.bottom+window.pageYOffset+this.offsetTop+l.marginTop;this.applyPlacement("bottom",u,d)}placeTop(a,l){const c=a.getBoundingClientRect(),u=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,d=c.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",u,d)}placeLeft(a,l){const c=a.getBoundingClientRect(),u=c.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-l.marginLeft,d=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",u,d)}placeRight(a,l){const c=a.getBoundingClientRect(),u=c.right+this.offsetRight+l.marginRight,d=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",u,d)}applyPlacement(a,l,c){this.nodes.wrapper.classList.add(this.CSS.placement[a]),this.nodes.wrapper.style.left=l+"px",this.nodes.wrapper.style.top=c+"px"}make(a,l=null,c={}){const u=document.createElement(a);Array.isArray(l)?u.classList.add(...l):l&&u.classList.add(l);for(const d in c)c.hasOwnProperty(d)&&(u[d]=c[d]);return u}append(a,l){Array.isArray(l)?l.forEach(c=>a.appendChild(c)):a.appendChild(l)}prepend(a,l){Array.isArray(l)?(l=l.reverse()).forEach(c=>a.prepend(c)):a.prepend(l)}}},function(n,o){n.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(Nu);const Ru=Eo(Mr);class hi{constructor(){this.lib=new Ru}destroy(){this.lib.destroy()}show(e,n,o){this.lib.show(e,n,o)}hide(e=!1){this.lib.hide(e)}onHover(e,n,o){this.lib.onHover(e,n,o)}}class Du extends W{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.tooltip=new hi}destroy(){this.tooltip.destroy()}get methods(){return{show:(e,n,o)=>this.show(e,n,o),hide:()=>this.hide(),onHover:(e,n,o)=>this.onHover(e,n,o)}}show(e,n,o){this.tooltip.show(e,n,o)}hide(){this.tooltip.hide()}onHover(e,n,o){this.tooltip.onHover(e,n,o)}}class Fu extends W{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function Aa(t,e){const n={};return Object.entries(t).forEach(([o,i])=>{if(he(i)){const r=e?`${e}.${o}`:o;Object.values(i).every(s=>lt(s))?n[o]=r:n[o]=Aa(i,r);return}n[o]=i}),n}const Re=Aa(Ta);function ju(t,e){const n={};return Object.keys(t).forEach(o=>{const i=e[o];i!==void 0?n[i]=t[o]:n[o]=t[o]}),n}const Hu='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',La='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',Uu='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',zu='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',$u='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',Wu='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',ys='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',Yu='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',Xu='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',Gu='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',Vu='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';class ne{constructor(e){this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{this.nodes.root.classList.remove(ne.CSS.noFocus)},this.removeSpecialHoverBehavior=()=>{this.nodes.root.classList.remove(ne.CSS.noHover)},this.onErrorAnimationEnd=()=>{this.nodes.icon.classList.remove(ne.CSS.wobbleAnimation),this.nodes.icon.removeEventListener("animationend",this.onErrorAnimationEnd)},this.params=e,this.nodes.root=this.make(e)}get isDisabled(){return this.params.isDisabled}get toggle(){return this.params.toggle}get title(){return this.params.title}get closeOnActivate(){return this.params.closeOnActivate}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root.classList.contains(ne.CSS.focused)}static get CSS(){return{container:"ce-popover-item",title:"ce-popover-item__title",secondaryTitle:"ce-popover-item__secondary-title",icon:"ce-popover-item__icon",active:"ce-popover-item--active",disabled:"ce-popover-item--disabled",focused:"ce-popover-item--focused",hidden:"ce-popover-item--hidden",confirmationState:"ce-popover-item--confirmation",noHover:"ce-popover-item--no-hover",noFocus:"ce-popover-item--no-focus",wobbleAnimation:"wobble"}}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){this.nodes.root.classList.toggle(ne.CSS.active,e)}toggleHidden(e){this.nodes.root.classList.toggle(ne.CSS.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e){const n=I.make("div",ne.CSS.container);return e.name&&(n.dataset.itemName=e.name),this.nodes.icon=I.make("div",ne.CSS.icon,{innerHTML:e.icon||$u}),n.appendChild(this.nodes.icon),n.appendChild(I.make("div",ne.CSS.title,{innerHTML:e.title||""})),e.secondaryLabel&&n.appendChild(I.make("div",ne.CSS.secondaryTitle,{textContent:e.secondaryLabel})),e.isActive&&n.classList.add(ne.CSS.active),e.isDisabled&&n.classList.add(ne.CSS.disabled),n}enableConfirmationMode(e){const n={...this.params,...e,confirmation:e.confirmation},o=this.make(n);this.nodes.root.innerHTML=o.innerHTML,this.nodes.root.classList.add(ne.CSS.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(ne.CSS.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){this.nodes.root.classList.add(ne.CSS.noHover),this.nodes.root.classList.add(ne.CSS.noFocus),this.nodes.root.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),this.nodes.root.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){if(e.confirmation===void 0)try{e.onActivate(e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){this.nodes.icon.classList.contains(ne.CSS.wobbleAnimation)||(this.nodes.icon.classList.add(ne.CSS.wobbleAnimation),this.nodes.icon.addEventListener("animationend",this.onErrorAnimationEnd))}}const ln=class{constructor(t,e){this.cursor=-1,this.items=[],this.items=t||[],this.focusedCssClass=e}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(t){t<this.items.length&&t>=-1&&(this.dropCursor(),this.cursor=t,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(t){this.items=t}next(){this.cursor=this.leafNodesAndReturnIndex(ln.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(ln.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(t){if(this.items.length===0)return this.cursor;let e=this.cursor;return e===-1?e=t===ln.directions.RIGHT?-1:0:this.items[e].classList.remove(this.focusedCssClass),t===ln.directions.RIGHT?e=(e+1)%this.items.length:e=(this.items.length+e-1)%this.items.length,I.canSetCaret(this.items[e])&&Bt(()=>F.setCursor(this.items[e]),50)(),this.items[e].classList.add(this.focusedCssClass),e}};let Dt=ln;Dt.directions={RIGHT:"right",LEFT:"left"};class Ke{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=n=>{if(this.isEventReadyForHandling(n))switch(Ke.usedKeys.includes(n.keyCode)&&n.preventDefault(),n.keyCode){case U.TAB:this.handleTabPress(n);break;case U.LEFT:case U.UP:this.flipLeft();break;case U.RIGHT:case U.DOWN:this.flipRight();break;case U.ENTER:this.handleEnterPress(n);break}},this.iterator=new Dt(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||Ke.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[U.TAB,U.LEFT,U.RIGHT,U.ENTER,U.UP,U.DOWN]}activate(e,n){this.activated=!0,e&&this.iterator.setItems(e),n!==void 0&&this.iterator.setCursor(n),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(n=>n!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?Dt.directions.LEFT:Dt.directions.RIGHT){case Dt.directions.RIGHT:this.flipRight();break;case Dt.directions.LEFT:this.flipLeft();break}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),q(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}}class gn{static get CSS(){return{wrapper:"cdx-search-field",icon:"cdx-search-field__icon",input:"cdx-search-field__input"}}constructor({items:e,onSearch:n,placeholder:o}){this.listeners=new di,this.items=e,this.onSearch=n,this.render(o)}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.onSearch("",this.foundItems)}destroy(){this.listeners.removeAll()}render(e){this.wrapper=I.make("div",gn.CSS.wrapper);const n=I.make("div",gn.CSS.icon,{innerHTML:Gu});this.input=I.make("input",gn.CSS.input,{placeholder:e}),this.wrapper.appendChild(n),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.onSearch(this.searchQuery,this.foundItems)})}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var n;const o=((n=e.title)==null?void 0:n.toLowerCase())||"",i=this.searchQuery.toLowerCase();return o.includes(i)}}const cn=class{lock(){bs?this.lockHard():document.body.classList.add(cn.CSS.scrollLocked)}unlock(){bs?this.unlockHard():document.body.classList.remove(cn.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(cn.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(cn.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};let Ia=cn;Ia.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};var qu=Object.defineProperty,Ku=Object.getOwnPropertyDescriptor,Ju=(t,e,n,o)=>{for(var i=o>1?void 0:o?Ku(e,n):e,r=t.length-1,s;r>=0;r--)(s=t[r])&&(i=(o?s(e,n,i):s(i))||i);return o&&i&&qu(e,n,i),i},Tn=(t=>(t.Close="close",t))(Tn||{});const ue=class extends To{constructor(t){super(),this.scopeElement=document.body,this.listeners=new di,this.scrollLocker=new Ia,this.nodes={wrapper:null,popover:null,nothingFoundMessage:null,customContent:null,items:null,overlay:null},this.messages={nothingFound:"Nothing found",search:"Search"},this.onFlip=()=>{this.items.find(e=>e.isFocused).onFocus()},this.items=t.items.map(e=>new ne(e)),t.scopeElement!==void 0&&(this.scopeElement=t.scopeElement),t.messages&&(this.messages={...this.messages,...t.messages}),t.customContentFlippableItems&&(this.customContentFlippableItems=t.customContentFlippableItems),this.make(),t.customContent&&this.addCustomContent(t.customContent),t.searchable&&this.addSearch(),this.initializeFlipper()}static get CSS(){return{popover:"ce-popover",popoverOpenTop:"ce-popover--open-top",popoverOpened:"ce-popover--opened",search:"ce-popover__search",nothingFoundMessage:"ce-popover__nothing-found-message",nothingFoundMessageDisplayed:"ce-popover__nothing-found-message--displayed",customContent:"ce-popover__custom-content",customContentHidden:"ce-popover__custom-content--hidden",items:"ce-popover__items",overlay:"ce-popover__overlay",overlayHidden:"ce-popover__overlay--hidden"}}getElement(){return this.nodes.wrapper}hasFocus(){return this.flipper.hasFocus()}show(){this.shouldOpenBottom||(this.nodes.popover.style.setProperty("--popover-height",this.height+"px"),this.nodes.popover.classList.add(ue.CSS.popoverOpenTop)),this.nodes.overlay.classList.remove(ue.CSS.overlayHidden),this.nodes.popover.classList.add(ue.CSS.popoverOpened),this.flipper.activate(this.flippableElements),this.search!==void 0&&setTimeout(()=>{this.search.focus()},100),St()&&this.scrollLocker.lock()}hide(){this.nodes.popover.classList.remove(ue.CSS.popoverOpened),this.nodes.popover.classList.remove(ue.CSS.popoverOpenTop),this.nodes.overlay.classList.add(ue.CSS.overlayHidden),this.flipper.deactivate(),this.items.forEach(t=>t.reset()),this.search!==void 0&&this.search.clear(),St()&&this.scrollLocker.unlock(),this.emit("close")}destroy(){this.flipper.deactivate(),this.listeners.removeAll(),St()&&this.scrollLocker.unlock()}make(){this.nodes.popover=I.make("div",[ue.CSS.popover]),this.nodes.nothingFoundMessage=I.make("div",[ue.CSS.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popover.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=I.make("div",[ue.CSS.items]),this.items.forEach(t=>{this.nodes.items.appendChild(t.getElement())}),this.nodes.popover.appendChild(this.nodes.items),this.listeners.on(this.nodes.popover,"click",t=>{const e=this.getTargetItem(t);e!==void 0&&this.handleItemClick(e)}),this.nodes.wrapper=I.make("div"),this.nodes.overlay=I.make("div",[ue.CSS.overlay,ue.CSS.overlayHidden]),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.nodes.wrapper.appendChild(this.nodes.overlay),this.nodes.wrapper.appendChild(this.nodes.popover)}addSearch(){this.search=new gn({items:this.items,placeholder:this.messages.search,onSearch:(e,n)=>{this.items.forEach(i=>{const r=!n.includes(i);i.toggleHidden(r)}),this.toggleNothingFoundMessage(n.length===0),this.toggleCustomContent(e!=="");const o=e===""?this.flippableElements:n.map(i=>i.getElement());this.flipper.isActivated&&(this.flipper.deactivate(),this.flipper.activate(o))}});const t=this.search.getElement();t.classList.add(ue.CSS.search),this.nodes.popover.insertBefore(t,this.nodes.popover.firstChild)}addCustomContent(t){this.nodes.customContent=t,this.nodes.customContent.classList.add(ue.CSS.customContent),this.nodes.popover.insertBefore(t,this.nodes.popover.firstChild)}getTargetItem(t){return this.items.find(e=>t.composedPath().includes(e.getElement()))}handleItemClick(t){t.isDisabled||(this.items.filter(e=>e!==t).forEach(e=>e.reset()),t.handleClick(),this.toggleItemActivenessIfNeeded(t),t.closeOnActivate&&this.hide())}initializeFlipper(){this.flipper=new Ke({items:this.flippableElements,focusedItemClass:ne.CSS.focused,allowedKeys:[U.TAB,U.UP,U.DOWN,U.ENTER]}),this.flipper.onFlip(this.onFlip)}get flippableElements(){const t=this.items.map(e=>e.getElement());return(this.customContentFlippableItems||[]).concat(t)}get height(){let t=0;if(this.nodes.popover===null)return t;const e=this.nodes.popover.cloneNode(!0);return e.style.visibility="hidden",e.style.position="absolute",e.style.top="-1000px",e.classList.add(ue.CSS.popoverOpened),document.body.appendChild(e),t=e.offsetHeight,e.remove(),t}get shouldOpenBottom(){const t=this.nodes.popover.getBoundingClientRect(),e=this.scopeElement.getBoundingClientRect(),n=this.height,o=t.top+n,i=t.top-n,r=Math.min(window.innerHeight,e.bottom);return i<e.top||o<=r}toggleNothingFoundMessage(t){this.nodes.nothingFoundMessage.classList.toggle(ue.CSS.nothingFoundMessageDisplayed,t)}toggleCustomContent(t){var e;(e=this.nodes.customContent)==null||e.classList.toggle(ue.CSS.customContentHidden,t)}toggleItemActivenessIfNeeded(t){if(t.toggle===!0&&t.toggleActive(),typeof t.toggle=="string"){const e=this.items.filter(n=>n.toggle===t.toggle);if(e.length===1){t.toggleActive();return}e.forEach(n=>{n.toggleActive(n===t)})}}};let pi=ue;Ju([Zt],pi.prototype,"height",1);class Zu extends W{constructor(){super(...arguments),this.opened=!1,this.selection=new F,this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;return(e=this.popover)==null?void 0:e.flipper}make(){this.nodes.wrapper=I.make("div",[this.CSS.settings])}destroy(){this.removeAllNodes()}open(e=this.Editor.BlockManager.currentBlock){this.opened=!0,this.selection.save(),e.selected=!0,this.Editor.BlockSelection.clearCache();const[n,o]=e.getTunes();this.eventsDispatcher.emit(this.events.opened),this.popover=new pi({searchable:!0,items:n.map(i=>this.resolveTuneAliases(i)),customContent:o,customContentFlippableItems:this.getControls(o),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:xe.ui(Re.ui.popover,"Nothing found"),search:xe.ui(Re.ui.popover,"Filter")}}),this.popover.on(Tn.Close,this.onPopoverClose),this.nodes.wrapper.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}close(){this.opened=!1,F.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&(this.Editor.BlockManager.currentBlock.selected=!1),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(Tn.Close,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null)}getControls(e){const{StylesAPI:n}=this.Editor,o=e.querySelectorAll(`.${n.classes.settingsButton}, ${I.allInputsSelector}`);return Array.from(o)}resolveTuneAliases(e){const n=ju(e,{label:"title"});return e.confirmation&&(n.confirmation=this.resolveTuneAliases(e.confirmation)),n}}class Oe extends W{constructor(){super(...arguments),this.opened=!1,this.tools=[],this.flipper=null,this.togglingCallback=null}static get CSS(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}make(){this.nodes.wrapper=I.make("div",[Oe.CSS.conversionToolbarWrapper,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.tools=I.make("div",Oe.CSS.conversionToolbarTools);const e=I.make("div",Oe.CSS.conversionToolbarLabel,{textContent:xe.ui(Re.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),I.append(this.nodes.wrapper,e),I.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}toggle(e){this.opened?this.close():this.open(),q(e)&&(this.togglingCallback=e)}open(){this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(Oe.CSS.conversionToolbarShowed),window.requestAnimationFrame(()=>{this.flipper.activate(this.tools.map(e=>e.button).filter(e=>!e.classList.contains(Oe.CSS.conversionToolHidden))),this.flipper.focusFirst(),q(this.togglingCallback)&&this.togglingCallback(!0)})}close(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(Oe.CSS.conversionToolbarShowed),q(this.togglingCallback)&&this.togglingCallback(!1)}hasTools(){return this.tools.length===1?this.tools[0].name!==this.config.defaultBlock:!0}async replaceWithBlock(e,n){const o=this.Editor.BlockManager.currentBlock.tool,i=(await this.Editor.BlockManager.currentBlock.save()).data,r=this.Editor.Tools.blockTools.get(e);let s="";const a=o.conversionConfig.export;if(q(a))s=a(i);else if(lt(a))s=i[a];else{$("Conversion \xABexport\xBB property must be a string or function. String means key of saved data object to export. Function should export processed string to export.");return}const l=Ge(s,r.sanitizeConfig);let c={};const u=r.conversionConfig.import;if(q(u))c=u(l);else if(lt(u))c[u]=l;else{$("Conversion \xABimport\xBB property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data.");return}n&&(c=Object.assign(c,n)),this.Editor.BlockManager.replace({tool:e,data:c}),this.Editor.BlockSelection.clearSelection(),this.close(),this.Editor.InlineToolbar.close(),Bt(()=>{this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)},10)()}addTools(){const e=this.Editor.Tools.blockTools;Array.from(e.entries()).forEach(([n,o])=>{const i=o.conversionConfig;!i||!i.import||o.toolbox.forEach(r=>this.addToolIfValid(n,r))})}addToolIfValid(e,n){De(n)||!n.icon||this.addTool(e,n)}addTool(e,n){const o=I.make("div",[Oe.CSS.conversionTool]),i=I.make("div",[Oe.CSS.conversionToolIcon]);o.dataset.tool=e,i.innerHTML=n.icon,I.append(o,i),I.append(o,I.text(xe.t(Re.toolNames,n.title||io(e)))),I.append(this.nodes.tools,o),this.tools.push({name:e,button:o,toolboxItem:n}),this.listeners.on(o,"click",async()=>{await this.replaceWithBlock(e,n.data)})}async filterTools(){const{currentBlock:e}=this.Editor.BlockManager,n=await e.getActiveToolboxEntry();function o(i,r){return i.icon===r.icon&&i.title===r.title}this.tools.forEach(i=>{let r=!1;if(n){const s=o(n,i.toolboxItem);r=i.button.dataset.tool===e.name&&s}i.button.hidden=r,i.button.classList.toggle(Oe.CSS.conversionToolHidden,r)})}enableFlipper(){this.flipper=new Ke({focusedItemClass:Oe.CSS.conversionToolFocused})}}var Ar={},Qu={get exports(){return Ar},set exports(t){Ar=t}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(t,e){(function(n,o){t.exports=o()})(window,function(){return function(n){var o={};function i(r){if(o[r])return o[r].exports;var s=o[r]={i:r,l:!1,exports:{}};return n[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=o,i.d=function(r,s,a){i.o(r,s)||Object.defineProperty(r,s,{enumerable:!0,get:a})},i.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},i.t=function(r,s){if(1&s&&(r=i(r)),8&s||4&s&&typeof r=="object"&&r&&r.__esModule)return r;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),2&s&&typeof r!="string")for(var l in r)i.d(a,l,function(c){return r[c]}.bind(null,l));return a},i.n=function(r){var s=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(s,"a",s),s},i.o=function(r,s){return Object.prototype.hasOwnProperty.call(r,s)},i.p="",i(i.s=0)}([function(n,o,i){function r(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}function s(l,c,u){return c&&r(l.prototype,c),u&&r(l,u),l}i.r(o);var a=function(){function l(c){var u=this;(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,l),this.commands={},this.keys={},this.name=c.name,this.parseShortcutName(c.name),this.element=c.on,this.callback=c.callback,this.executeShortcut=function(d){u.execute(d)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return s(l,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),s(l,[{key:"parseShortcutName",value:function(c){c=c.split("+");for(var u=0;u<c.length;u++){c[u]=c[u].toUpperCase();var d=!1;for(var f in l.supportedCommands)if(l.supportedCommands[f].includes(c[u])){d=this.commands[f]=!0;break}d||(this.keys[c[u]]=!0)}for(var h in l.supportedCommands)this.commands[h]||(this.commands[h]=!1)}},{key:"execute",value:function(c){var u,d={CMD:c.ctrlKey||c.metaKey,SHIFT:c.shiftKey,ALT:c.altKey},f=!0;for(u in this.commands)this.commands[u]!==d[u]&&(f=!1);var h,p=!0;for(h in this.keys)p=p&&c.keyCode===l.keyCodes[h];f&&p&&this.callback(c)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),l}();o.default=a}]).default})})(Qu);const ef=Eo(Ar);class tf{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const n=new ef({name:e.name,on:e.on,callback:e.handler}),o=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...o,n])}remove(e,n){const o=this.findShortcut(e,n);if(!o)return;o.remove();const i=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,i.filter(r=>r!==o))}findShortcut(e,n){return(this.registeredShortcuts.get(e)||[]).find(({name:o})=>o===n)}}const Gt=new tf;var nf=Object.defineProperty,of=Object.getOwnPropertyDescriptor,Pa=(t,e,n,o)=>{for(var i=o>1?void 0:o?of(e,n):e,r=t.length-1,s;r>=0;r--)(s=t[r])&&(i=(o?s(e,n,i):s(i))||i);return o&&i&&nf(e,n,i),i},qn=(t=>(t.Opened="toolbox-opened",t.Closed="toolbox-closed",t.BlockAdded="toolbox-block-added",t))(qn||{});const Na=class extends To{constructor({api:t,tools:e,i18nLabels:n}){super(),this.opened=!1,this.nodes={toolbox:null},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=t,this.tools=e,this.i18nLabels=n}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}make(){return this.popover=new pi({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(Tn.Close,this.onPopoverClose),this.enableShortcuts(),this.nodes.toolbox=this.popover.getElement(),this.nodes.toolbox.classList.add(Na.CSS.toolbox),this.nodes.toolbox}hasFocus(){var t;return(t=this.popover)==null?void 0:t.hasFocus()}destroy(){var t;super.destroy(),this.nodes&&this.nodes.toolbox&&(this.nodes.toolbox.remove(),this.nodes.toolbox=null),this.removeAllShortcuts(),(t=this.popover)==null||t.off(Tn.Close,this.onPopoverClose)}toolButtonActivated(t,e){this.insertNewBlock(t,e)}open(){var t;this.isEmpty||((t=this.popover)==null||t.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var t;(t=this.popover)==null||t.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}get toolsToBeDisplayed(){const t=[];return this.tools.forEach(e=>{e.toolbox&&t.push(e)}),t}get toolboxItemsToBeDisplayed(){const t=(e,n)=>({icon:e.icon,title:xe.t(Re.toolNames,e.title||io(n.name)),name:n.name,onActivate:()=>{this.toolButtonActivated(n.name,e.data)},secondaryLabel:n.shortcut?Sa(n.shortcut):""});return this.toolsToBeDisplayed.reduce((e,n)=>(Array.isArray(n.toolbox)?n.toolbox.forEach(o=>{e.push(t(o,n))}):n.toolbox!==void 0&&e.push(t(n.toolbox,n)),e),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(t=>{const e=t.shortcut;e&&this.enableShortcutForTool(t.name,e)})}enableShortcutForTool(t,e){Gt.add({name:e,on:this.api.ui.nodes.redactor,handler:n=>{n.preventDefault(),this.insertNewBlock(t)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(t=>{const e=t.shortcut;e&&Gt.remove(this.api.ui.nodes.redactor,e)})}async insertNewBlock(t,e){const n=this.api.blocks.getCurrentBlockIndex(),o=this.api.blocks.getBlockByIndex(n);if(!o)return;const i=o.isEmpty?n:n+1;let r;if(e){const a=await this.api.blocks.composeBlockData(t);r=Object.assign(a,e)}const s=this.api.blocks.insert(t,r,void 0,i,void 0,o.isEmpty);s.call(nt.APPEND_CALLBACK),this.api.caret.setToBlock(i),this.emit("toolbox-block-added",{block:s}),this.api.toolbar.close()}};let gi=Na;Pa([Zt],gi.prototype,"toolsToBeDisplayed",1);Pa([Zt],gi.prototype,"toolboxItemsToBeDisplayed",1);const Ra="block hovered";class rf extends W{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.tooltip=new hi}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){return{opened:this.toolboxInstance.opened,close:()=>{this.toolboxInstance.close()},open:()=>{this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>this.toolboxInstance.toggle(),hasFocus:()=>this.toolboxInstance.hasFocus()}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):(this.drawUI(),this.enableModuleBindings())}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const n=e.holder,{isMobile:o}=this.Editor.UI,i=e.pluginsContent,r=window.getComputedStyle(i),s=parseInt(r.paddingTop,10),a=n.offsetHeight;let l;o?l=n.offsetTop+a:l=n.offsetTop+s,this.nodes.wrapper.style.top=`${Math.floor(l)}px`,this.Editor.BlockManager.blocks.length===1&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),this.toolboxInstance.close(),this.Editor.BlockSettings.close())}open(e=!0){Bt(()=>{this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()},50)()}make(){this.nodes.wrapper=I.make("div",this.CSS.toolbar),["content","actions"].forEach(n=>{this.nodes[n]=I.make("div",this.CSS[n])}),I.append(this.nodes.wrapper,this.nodes.content),I.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=I.make("div",this.CSS.plusButton,{innerHTML:Xu}),I.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{this.tooltip.hide(!0),this.plusButtonClicked()},!1);const e=I.make("div");e.appendChild(document.createTextNode(xe.ui(Re.ui.toolbar.toolbox,"Add"))),e.appendChild(I.make("div",this.CSS.plusButtonShortcut,{textContent:"\u21E5 Tab"})),this.tooltip.onHover(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=I.make("span",this.CSS.settingsToggler,{innerHTML:Yu}),I.append(this.nodes.actions,this.nodes.settingsToggler),this.tooltip.onHover(this.nodes.settingsToggler,xe.ui(Re.ui.blockTunes.toggler,"Click to tune"),{hidingDelay:400}),I.append(this.nodes.actions,this.makeToolbox()),I.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),I.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new gi({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:xe.ui(Re.ui.popover,"Filter"),nothingFound:xe.ui(Re.ui.popover,"Nothing found")}}),this.toolboxInstance.on(qn.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(qn.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(qn.BlockAdded,({block:e})=>{const{BlockManager:n,Caret:o}=this.Editor,i=n.getBlockById(e.id);i.inputs.length===0&&(i===n.lastBlock?(n.insertAtEnd(),o.setToBlock(n.lastBlock)):o.setToBlock(n.nextBlock))}),this.toolboxInstance.make()}plusButtonClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{e.stopPropagation(),this.settingsTogglerClicked(),this.toolboxInstance.opened&&this.toolboxInstance.close(),this.tooltip.hide(!0)},!0),St()||this.eventsDispatcher.on(Ra,e=>{this.Editor.BlockSettings.opened||this.toolboxInstance.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy(),this.tooltip.destroy()}}var Co=(t=>(t[t.Block=0]="Block",t[t.Inline=1]="Inline",t[t.Tune=2]="Tune",t))(Co||{}),Kn=(t=>(t.Shortcut="shortcut",t.Toolbox="toolbox",t.EnabledInlineTools="inlineToolbar",t.EnabledBlockTunes="tunes",t.Config="config",t))(Kn||{}),Da=(t=>(t.Shortcut="shortcut",t.SanitizeConfig="sanitize",t))(Da||{}),Ft=(t=>(t.IsEnabledLineBreaks="enableLineBreaks",t.Toolbox="toolbox",t.ConversionConfig="conversionConfig",t.IsReadOnlySupported="isReadOnlySupported",t.PasteConfig="pasteConfig",t))(Ft||{}),mi=(t=>(t.IsInline="isInline",t.Title="title",t))(mi||{}),Fa=(t=>(t.IsTune="isTune",t))(Fa||{});class vi{constructor({name:e,constructable:n,config:o,api:i,isDefault:r,isInternal:s=!1,defaultPlaceholder:a}){this.api=i,this.name=e,this.constructable=n,this.config=o,this.isDefault=r,this.isInternal=s,this.defaultPlaceholder=a}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(q(this.constructable.reset))return this.constructable.reset()}prepare(){if(q(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===1}isBlock(){return this.type===0}isTune(){return this.type===2}}class sf extends W{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerArrow:"ce-inline-toolbar__dropdown-arrow",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},this.opened=!1,this.toolbarVerticalMargin=St()?20:6,this.buttonsList=null,this.width=0,this.flipper=null,this.tooltip=new hi}toggleReadOnly(e){e?(this.destroy(),this.Editor.ConversionToolbar.destroy()):this.make()}tryToShow(e=!1,n=!0){if(!this.allowedToShow()){e&&this.close();return}this.move(),this.open(n),this.Editor.Toolbar.close()}move(){const e=F.rect,n=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),o={x:e.x-n.left,y:e.y+e.height-n.top+this.toolbarVerticalMargin};e.width&&(o.x+=Math.floor(e.width/2));const i=o.x-this.width/2,r=o.x+this.width/2;this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarLeftOriented,i<this.Editor.UI.contentRect.left),this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarRightOriented,r>this.Editor.UI.contentRect.right),this.nodes.wrapper.style.left=Math.floor(o.x)+"px",this.nodes.wrapper.style.top=Math.floor(o.y)+"px"}close(){this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach(([e,n])=>{const o=this.getToolShortcut(e);o&&Gt.remove(this.Editor.UI.nodes.redactor,o),q(n.clear)&&n.clear()}),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}open(e=!0){if(this.opened)return;this.addToolsFiltered(),this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(`.${this.CSS.inlineToolButton}`),this.opened=!0,e&&this.Editor.ConversionToolbar.hasTools()?this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0;let n=Array.from(this.buttonsList);n.unshift(this.nodes.conversionToggler),n=n.filter(o=>!o.hidden),this.flipper.activate(n)}containsNode(e){return this.nodes.wrapper.contains(e)}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes(),this.tooltip.destroy()}make(){this.nodes.wrapper=I.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.togglerAndButtonsWrapper=I.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=I.make("div",this.CSS.buttonsWrapper),this.nodes.actions=I.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",e=>{e.target.closest(`.${this.CSS.actionsWrapper}`)||e.preventDefault()}),I.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),I.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),I.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),this.recalculateWidth(),this.enableFlipper()}allowedToShow(){const e=["IMG","INPUT"],n=F.get(),o=F.text;if(!n||!n.anchorNode||n.isCollapsed||o.length<1)return!1;const i=I.isElement(n.anchorNode)?n.anchorNode:n.anchorNode.parentElement;if(n&&e.includes(i.tagName)||i.closest('[contenteditable="true"]')===null)return!1;const r=this.Editor.BlockManager.getBlock(n.anchorNode);return r?r.tool.inlineTools.size!==0:!1}recalculateWidth(){this.width=this.nodes.wrapper.offsetWidth}addConversionToggler(){this.nodes.conversionToggler=I.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=I.make("div",this.CSS.conversionTogglerContent);const e=I.make("div",this.CSS.conversionTogglerArrow,{innerHTML:La});this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(e),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",()=>{this.Editor.ConversionToolbar.toggle(n=>{!n&&this.opened?this.flipper.activate():this.opened&&this.flipper.deactivate()})}),St()===!1&&this.tooltip.onHover(this.nodes.conversionToggler,xe.ui(Re.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}async setConversionTogglerContent(){const{BlockManager:e}=this.Editor,{currentBlock:n}=e,o=n.name,i=n.tool.conversionConfig,r=i&&i.export;this.nodes.conversionToggler.hidden=!r,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!r);const s=await n.getActiveToolboxEntry()||{};this.nodes.conversionTogglerContent.innerHTML=s.icon||s.title||io(o)}prepareConversionToolbar(){const e=this.Editor.ConversionToolbar.make();I.append(this.nodes.wrapper,e)}addToolsFiltered(){const e=F.get(),n=this.Editor.BlockManager.getBlock(e.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(n.tool.inlineTools.values()).forEach(o=>{this.addTool(o)}),this.recalculateWidth()}addTool(e){const n=e.create(),o=n.render();if(!o){$("Render method must return an instance of Node","warn",e.name);return}if(o.dataset.tool=e.name,this.nodes.buttons.appendChild(o),this.toolsInstances.set(e.name,n),q(n.renderActions)){const a=n.renderActions();this.nodes.actions.appendChild(a)}this.listeners.on(o,"click",a=>{this.toolClicked(n),a.preventDefault()});const i=this.getToolShortcut(e.name);if(i)try{this.enableShortcuts(n,i)}catch{}const r=I.make("div"),s=xe.t(Re.toolNames,e.title||io(e.name));r.appendChild(I.text(s)),i&&r.appendChild(I.make("div",this.CSS.inlineToolbarShortcut,{textContent:Sa(i)})),St()===!1&&this.tooltip.onHover(o,r,{placement:"top",hidingDelay:100}),n.checkState(F.get())}getToolShortcut(e){const{Tools:n}=this.Editor,o=n.inlineTools.get(e),i=n.internal.inlineTools;return Array.from(i.keys()).includes(e)?this.inlineTools[e][Da.Shortcut]:o.shortcut}enableShortcuts(e,n){Gt.add({name:n,handler:o=>{const{currentBlock:i}=this.Editor.BlockManager;i&&i.tool.enabledInlineTools&&(o.preventDefault(),this.toolClicked(e))},on:this.Editor.UI.nodes.redactor})}toolClicked(e){const n=F.range;e.surround(n),this.checkToolsState(),e.renderActions!==void 0&&this.flipper.deactivate()}checkToolsState(){this.toolsInstances.forEach(e=>{e.checkState(F.get())})}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([n,o])=>{e[n]=o.create()}),e}enableFlipper(){this.flipper=new Ke({focusedItemClass:this.CSS.focusedButton,allowedKeys:[U.ENTER,U.TAB]})}}class af extends W{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case U.BACKSPACE:this.backspace(e);break;case U.ENTER:this.enter(e);break;case U.DOWN:case U.RIGHT:this.arrowRightAndDown(e);break;case U.UP:case U.LEFT:this.arrowLeftAndUp(e);break;case U.TAB:this.tabPressed(e);break}}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&wa(e.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||(this.Editor.BlockManager.clearFocused(),this.Editor.BlockSelection.clearSelection(e)))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}tabPressed(e){this.Editor.BlockSelection.clearSelection(e);const{BlockManager:n,InlineToolbar:o,ConversionToolbar:i}=this.Editor,r=n.currentBlock;if(!r)return;const s=r.isEmpty,a=r.tool.isDefault&&s,l=!s&&i.opened,c=!s&&!F.isCollapsed&&o.opened;a?this.activateToolbox():!l&&!c&&this.activateBlockSettings()}dragOver(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!0}dragLeave(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!1}handleCommandC(e){const{BlockSelection:n}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:n,BlockManager:o,Caret:i}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e).then(()=>{const r=o.removeSelectedBlocks(),s=o.insertDefaultBlockAtIndex(r,!0);i.setToBlock(s,i.positions.START),n.clearSelection(e)})}enter(e){const{BlockManager:n,UI:o}=this.Editor;if(n.currentBlock.tool.isLineBreaksEnabled||o.someToolbarOpened&&o.someFlipperButtonFocused||e.shiftKey)return;let i=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):this.Editor.Caret.isAtEnd?i=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):i=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(i),this.Editor.Toolbar.moveAndOpen(i),e.preventDefault()}backspace(e){const{BlockManager:n,BlockSelection:o,Caret:i}=this.Editor,r=n.currentBlock,s=r.tool;if(r.selected||r.isEmpty&&r.currentInput===r.firstInput){e.preventDefault();const l=n.currentBlockIndex;n.previousBlock&&n.previousBlock.inputs.length===0?n.removeBlock(l-1):n.removeBlock(),i.setToBlock(n.currentBlock,l?i.positions.END:i.positions.START),this.Editor.Toolbar.close(),o.clearSelection(e);return}if(s.isLineBreaksEnabled&&!i.isAtStart)return;const a=n.currentBlockIndex===0;i.isAtStart&&F.isCollapsed&&r.currentInput===r.firstInput&&!a&&(e.preventDefault(),this.mergeBlocks())}mergeBlocks(){const{BlockManager:e,Caret:n,Toolbar:o}=this.Editor,i=e.previousBlock,r=e.currentBlock;if(r.name!==i.name||!i.mergeable){if(i.inputs.length===0||i.isEmpty){e.removeBlock(e.currentBlockIndex-1),n.setToBlock(e.currentBlock),o.close();return}n.navigatePrevious()&&o.close();return}n.createShadow(i.pluginsContent),e.mergeBlocks(i,r).then(()=>{n.restoreCaret(i.pluginsContent),i.pluginsContent.normalize(),o.close()})}arrowRightAndDown(e){const n=Ke.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===U.TAB);if(this.Editor.UI.someToolbarOpened&&n)return;this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const o=this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===U.DOWN&&o){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}(e.keyCode===U.DOWN||e.keyCode===U.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious())?e.preventDefault():Bt(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(Ke.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===U.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const n=this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===U.UP&&n){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}(e.keyCode===U.UP||e.keyCode===U.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext())?e.preventDefault():Bt(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}needToolbarClosing(e){const n=e.keyCode===U.ENTER&&this.Editor.Toolbar.toolbox.opened,o=e.keyCode===U.ENTER&&this.Editor.BlockSettings.opened,i=e.keyCode===U.ENTER&&this.Editor.InlineToolbar.opened,r=e.keyCode===U.ENTER&&this.Editor.ConversionToolbar.opened,s=e.keyCode===U.TAB;return!(e.shiftKey||s||n||o||i||r)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||(this.Editor.BlockManager.currentBlock.focused=!0,this.Editor.Toolbar.moveAndOpen()),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}class nr{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return ka(this.workingArea.children)}static set(e,n,o){return isNaN(Number(n))?(Reflect.set(e,n,o),!0):(e.insert(+n,o),!0)}static get(e,n){return isNaN(Number(n))?Reflect.get(e,n):e.get(+n)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,n){const o=this.blocks[n];I.swap(this.blocks[e].holder,o.holder),this.blocks[n]=this.blocks[e],this.blocks[e]=o}move(e,n){const o=this.blocks.splice(n,1)[0],i=e-1,r=Math.max(0,i),s=this.blocks[r];e>0?this.insertToDOM(o,"afterend",s):this.insertToDOM(o,"beforebegin",s),this.blocks.splice(e,0,o);const a=this.composeBlockEvent("move",{fromIndex:n,toIndex:e});o.call(nt.MOVED,a)}insert(e,n,o=!1){if(!this.length){this.push(n);return}e>this.length&&(e=this.length),o&&(this.blocks[e].holder.remove(),this.blocks[e].call(nt.REMOVED));const i=o?1:0;if(this.blocks.splice(e,i,n),e>0){const r=this.blocks[e-1];this.insertToDOM(n,"afterend",r)}else{const r=this.blocks[e+1];r?this.insertToDOM(n,"beforebegin",r):this.insertToDOM(n)}}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(nt.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(nt.REMOVED)),this.blocks.length=0}insertAfter(e,n){const o=this.blocks.indexOf(e);this.insert(o+1,n)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,n,o){n?o.holder.insertAdjacentElement(n,e.holder):this.workingArea.appendChild(e.holder),e.call(nt.RENDERED)}composeBlockEvent(e,n){return new CustomEvent(e,{detail:n})}}const ws="block-removed",xs="block-added",lf="block-moved",cf="block-changed";class df extends W{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){const e=new nr(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:nr.set,get:nr.get}),this.listeners.on(document,"copy",n=>this.Editor.BlockEvents.handleCommandC(n))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:n={},id:o=void 0,tunes:i={}}){const r=this.Editor.ReadOnly.isEnabled,s=this.Editor.Tools.blockTools.get(e),a=new ae({id:o,data:n,tool:s,api:this.Editor.API,readOnly:r,tunesData:i},this.eventsDispatcher);return r||this.bindBlockEvents(a),a}insert({id:e=void 0,tool:n=this.config.defaultBlock,data:o={},index:i,needToFocus:r=!0,replace:s=!1,tunes:a={}}={}){let l=i;l===void 0&&(l=this.currentBlockIndex+(s?0:1));const c=this.composeBlock({id:e,tool:n,data:o,tunes:a});return s&&this.blockDidMutated(ws,this.getBlockByIndex(l),{index:l}),this._blocks.insert(l,c,s),this.blockDidMutated(xs,c,{index:l}),r?this.currentBlockIndex=l:l<=this.currentBlockIndex&&this.currentBlockIndex++,c}replace({tool:e=this.config.defaultBlock,data:n={}}){return this.insert({tool:e,data:n,index:this.currentBlockIndex,replace:!0})}paste(e,n,o=!1){const i=this.insert({tool:e,replace:o});try{i.call(nt.ON_PASTE,n)}catch(r){$(`${e}: onPaste callback call is failed`,"error",r)}return i}insertDefaultBlockAtIndex(e,n=!1){const o=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=o,this.blockDidMutated(xs,o,{index:e}),n?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,o}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,n){const o=this._blocks.indexOf(n);if(n.isEmpty)return;const i=await n.data;De(i)||await e.mergeWith(i),this.removeBlock(o),this.currentBlockIndex=this._blocks.indexOf(e)}removeBlock(e=this.currentBlockIndex){if(!this.validateIndex(e))throw new Error("Can't find a Block to remove");const n=this._blocks[e];n.destroy(),this._blocks.remove(e),this.blockDidMutated(ws,n,{index:e}),this.currentBlockIndex>=e&&this.currentBlockIndex--,this.blocks.length?e===0&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,this.insert())}removeSelectedBlocks(){let e;for(let n=this.blocks.length-1;n>=0;n--)this.blocks[n].selected&&(this.removeBlock(n),e=n);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),n=I.make("div");n.appendChild(e);const o={text:I.isEmpty(n)?"":n.innerHTML};return this.insert({data:o})}getBlockByIndex(e){return e===-1&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(n=>n.id===e)}getBlock(e){I.isElement(e)||(e=e.parentNode);const n=this._blocks.nodes,o=e.closest(`.${ae.CSS.wrapper}`),i=n.indexOf(o);if(i>=0)return this._blocks[i]}highlightCurrentNode(){this.clearFocused(),this.currentBlock.focused=!0}clearFocused(){this.blocks.forEach(e=>{e.focused=!1})}setCurrentBlockByChildNode(e){I.isElement(e)||(e=e.parentNode);const n=e.closest(`.${ae.CSS.wrapper}`);if(!n)return;const o=n.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(o!=null&&o.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(n),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(e){I.isElement(e)||(e=e.parentNode);const n=e.closest(`.${ae.CSS.wrapper}`);return this.blocks.find(o=>o.holder===n)}swap(e,n){this._blocks.swap(e,n),this.currentBlockIndex=n}move(e,n=this.currentBlockIndex){if(isNaN(e)||isNaN(n)){$("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(e)||!this.validateIndex(n)){$("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(e,n),this.currentBlockIndex=e,this.blockDidMutated(lf,this.currentBlock,{fromIndex:n,toIndex:e})}dropPointer(){this.currentBlockIndex=-1,this.clearFocused()}clear(e=!1){this._blocks.removeAll(),this.dropPointer(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(e=>e.destroy()))}bindBlockEvents(e){const{BlockEvents:n}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",o=>{n.keydown(o)}),this.readOnlyMutableListeners.on(e.holder,"keyup",o=>{n.keyup(o)}),this.readOnlyMutableListeners.on(e.holder,"dragover",o=>{n.dragOver(o)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",o=>{n.dragLeave(o)}),e.on("didMutated",o=>this.blockDidMutated(cf,o,{index:this.getBlockIndex(o)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,n,o){const i=new CustomEvent(e,{detail:{target:new pn(n),...o}});return this.eventsDispatcher.emit(_a,{event:i}),n}}class uf extends W{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every(n=>n.selected===!0)}set allBlocksSelected(e){const{BlockManager:n}=this.Editor;n.blocks.forEach(o=>{o.selected=e}),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=e.blocks.some(n=>n.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new F,Gt.add({name:"CMD+A",handler:e=>{const{BlockManager:n,ReadOnly:o}=this.Editor;if(o.isEnabled){e.preventDefault(),this.selectAllBlocks();return}n.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){F.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:n}=this.Editor;let o;isNaN(e)?o=n.currentBlock:o=n.getBlockByIndex(e),o.selected=!1,this.clearCache()}clearSelection(e,n=!1){const{BlockManager:o,Caret:i,RectangleSelection:r}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const s=e&&e instanceof KeyboardEvent,a=s&&wa(e.keyCode);if(this.anyBlockSelected&&s&&a&&!F.isSelectionExists){const l=o.removeSelectedBlocks();o.insertDefaultBlockAtIndex(l,!0),i.setToBlock(o.currentBlock),Bt(()=>{const c=e.key;i.insertContentAtCaretPosition(c.length>1?"":c)},20)()}if(this.Editor.CrossBlockSelection.clear(e),!this.anyBlockSelected||r.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}n&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(e){e.preventDefault();const n=I.make("div");this.selectedBlocks.forEach(r=>{const s=Ge(r.holder.innerHTML,this.sanitizerConfig),a=I.make("p");a.innerHTML=s,n.appendChild(a)});const o=Array.from(n.childNodes).map(r=>r.textContent).join(`

`),i=n.innerHTML;return e.clipboardData.setData("text/plain",o),e.clipboardData.setData("text/html",i),Promise.all(this.selectedBlocks.map(r=>r.save())).then(r=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(r))}catch{}})}selectBlockByIndex(e){const{BlockManager:n}=this.Editor;n.clearFocused();let o;isNaN(e)?o=n.currentBlock:o=n.getBlockByIndex(e),this.selection.save(),F.get().removeAllRanges(),o.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}clearCache(){this.anyBlockSelectedCache=null}destroy(){Gt.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),I.isNativeInput(e.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const n=this.Editor.BlockManager.getBlock(e.target).inputs;if(n.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(n.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlockByIndex(),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),F.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}class so extends W{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}get isAtStart(){const e=F.get(),n=I.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput);let o=e.focusNode;if(I.isNativeInput(n))return n.selectionEnd===0;if(!e.anchorNode)return!1;let i=o.textContent.search(/\S/);i===-1&&(i=0);let r=e.focusOffset;return o.nodeType!==Node.TEXT_NODE&&o.childNodes.length&&(o.childNodes[r]?(o=o.childNodes[r],r=0):(o=o.childNodes[r-1],r=o.textContent.length)),(I.isLineBreakTag(n)||I.isEmpty(n))&&this.getHigherLevelSiblings(o,"left").every(s=>{const a=I.isLineBreakTag(s),l=s.children.length===1&&I.isLineBreakTag(s.children[0]),c=a||l;return I.isEmpty(s)&&!c})&&r===i?!0:n===null||o===n&&r<=i}get isAtEnd(){const e=F.get();let n=e.focusNode;const o=I.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput,!0);if(I.isNativeInput(o))return o.selectionEnd===o.value.length;if(!e.focusNode)return!1;let i=e.focusOffset;if(n.nodeType!==Node.TEXT_NODE&&n.childNodes.length&&(n.childNodes[i-1]?(n=n.childNodes[i-1],i=n.textContent.length):(n=n.childNodes[0],i=0)),I.isLineBreakTag(o)||I.isEmpty(o)){const s=this.getHigherLevelSiblings(n,"right");if(s.every((a,l)=>l===s.length-1&&I.isLineBreakTag(a)||I.isEmpty(a)&&!I.isLineBreakTag(a))&&i===n.textContent.length)return!0}const r=o.textContent.replace(/\s+$/,"");return n===o&&i>=r.length}setToBlock(e,n=this.positions.DEFAULT,o=0){const{BlockManager:i}=this.Editor;let r;switch(n){case this.positions.START:r=e.firstInput;break;case this.positions.END:r=e.lastInput;break;default:r=e.currentInput}if(!r)return;const s=I.getDeepestNode(r,n===this.positions.END),a=I.getContentLength(s);switch(!0){case n===this.positions.START:o=0;break;case n===this.positions.END:case o>a:o=a;break}Bt(()=>{this.set(s,o)},20)(),i.setCurrentBlockByChildNode(e.holder),i.currentBlock.currentInput=r}setToInput(e,n=this.positions.DEFAULT,o=0){const{currentBlock:i}=this.Editor.BlockManager,r=I.getDeepestNode(e);switch(n){case this.positions.START:this.set(r,0);break;case this.positions.END:this.set(r,I.getContentLength(r));break;default:o&&this.set(r,o)}i.currentInput=e}set(e,n=0){const{top:o,bottom:i}=F.setCursor(e,n),{innerHeight:r}=window;o<0&&window.scrollBy(0,o),i>r&&window.scrollBy(0,i-r)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const n=this.Editor.BlockManager.insertAtEnd();this.setToBlock(n)}}extractFragmentFromCaretPosition(){const e=F.get();if(e.rangeCount){const n=e.getRangeAt(0),o=this.Editor.BlockManager.currentBlock.currentInput;if(n.deleteContents(),o)if(I.isNativeInput(o)){const i=o,r=document.createDocumentFragment(),s=i.value.substring(0,i.selectionStart),a=i.value.substring(i.selectionStart);return r.textContent=a,i.value=s,r}else{const i=n.cloneRange();return i.selectNodeContents(o),i.setStart(n.endContainer,n.endOffset),i.extractContents()}}}navigateNext(){const{BlockManager:e}=this.Editor,{currentBlock:n,nextContentfulBlock:o}=e,{nextInput:i}=n,r=this.isAtEnd;let s=o;if(!s&&!i){if(n.tool.isDefault||!r)return!1;s=e.insertAtEnd()}return r?(i?this.setToInput(i,this.positions.START):this.setToBlock(s,this.positions.START),!0):!1}navigatePrevious(){const{currentBlock:e,previousContentfulBlock:n}=this.Editor.BlockManager;if(!e)return!1;const{previousInput:o}=e;return!n&&!o?!1:this.isAtStart?(o?this.setToInput(o,this.positions.END):this.setToBlock(n,this.positions.END),!0):!1}createShadow(e){const n=document.createElement("span");n.classList.add(so.CSS.shadowCaret),e.insertAdjacentElement("beforeend",n)}restoreCaret(e){const n=e.querySelector(`.${so.CSS.shadowCaret}`);!n||(new F().expandToTag(n),setTimeout(()=>{const o=document.createRange();o.selectNode(n),o.extractContents()},50))}insertContentAtCaretPosition(e){const n=document.createDocumentFragment(),o=document.createElement("div"),i=F.get(),r=F.range;o.innerHTML=e,Array.from(o.childNodes).forEach(l=>n.appendChild(l)),n.childNodes.length===0&&n.appendChild(new Text);const s=n.lastChild;r.deleteContents(),r.insertNode(n);const a=document.createRange();a.setStart(s,s.textContent.length),i.removeAllRanges(),i.addRange(a)}getHigherLevelSiblings(e,n){let o=e;const i=[];for(;o.parentNode&&o.parentNode.contentEditable!=="true";)o=o.parentNode;const r=n==="left"?"previousSibling":"nextSibling";for(;o[r];)o=o[r],i.push(o);return i}}class ff extends W{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:n,BlockSelection:o}=this.Editor,i=n.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,r=n.getBlockByChildNode(e.target);if(!(!i||!r)&&r!==i){if(i===this.firstSelectedBlock){F.get().removeAllRanges(),i.selected=!0,r.selected=!0,o.clearCache();return}if(r===this.firstSelectedBlock){i.selected=!1,r.selected=!1,o.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(i,r),this.lastSelectedBlock=r}}}async prepare(){this.listeners.on(document,"mousedown",e=>{this.enableCrossBlockSelection(e)})}watchSelection(e){if(e.button!==Kd.LEFT)return;const{BlockManager:n}=this.Editor;this.firstSelectedBlock=n.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:n,BlockSelection:o}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=n.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,o.clearCache(),F.get().removeAllRanges());const i=n.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),r=n.blocks[i];r&&(this.lastSelectedBlock.selected!==r.selected?(r.selected=!0,o.clearCache()):(this.lastSelectedBlock.selected=!1,o.clearCache()),this.lastSelectedBlock=r,this.Editor.InlineToolbar.close(),r.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:n,BlockSelection:o,Caret:i}=this.Editor,r=n.blocks.indexOf(this.firstSelectedBlock),s=n.blocks.indexOf(this.lastSelectedBlock);if(o.anyBlockSelected&&r>-1&&s>-1)if(e&&e instanceof KeyboardEvent)switch(e.keyCode){case U.DOWN:case U.RIGHT:i.setToBlock(n.blocks[Math.max(r,s)],i.positions.END);break;case U.UP:case U.LEFT:i.setToBlock(n.blocks[Math.min(r,s)],i.positions.START);break;default:i.setToBlock(n.blocks[Math.max(r,s)],i.positions.END)}else i.setToBlock(n.blocks[Math.max(r,s)],i.positions.END);this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:n}=this.Editor;F.isCollapsed||this.Editor.BlockSelection.clearSelection(e),n.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,n){const{BlockManager:o,BlockSelection:i}=this.Editor,r=o.blocks.indexOf(e),s=o.blocks.indexOf(n),a=e.selected!==n.selected;for(let l=Math.min(r,s);l<=Math.max(r,s);l++){const c=o.blocks[l];c!==this.firstSelectedBlock&&c!==(a?e:n)&&(o.blocks[l].selected=!o.blocks[l].selected,i.clearCache())}}}class hf extends W{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",async n=>{await this.processDrop(n)},!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",n=>{this.processDragOver(n)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:n,Caret:o,Paste:i}=this.Editor;e.preventDefault(),n.blocks.forEach(s=>{s.dropTarget=!1}),F.isAtEditor&&!F.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const r=n.setCurrentBlockByChildNode(e.target);if(r)this.Editor.Caret.setToBlock(r,o.positions.END);else{const s=n.setCurrentBlockByChildNode(n.lastBlock.holder);this.Editor.Caret.setToBlock(s,o.positions.END)}await i.processDataTransfer(e.dataTransfer,!0)}processDragStart(){F.isAtEditor&&!F.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}}class pf extends W{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=400,this.mutationObserver=new MutationObserver(o=>{this.redactorChanged(o)}),this.eventsDispatcher.on(_a,o=>{this.particularBlockChanged(o.event)}),this.eventsDispatcher.on(Ba,()=>{this.disable()}),this.eventsDispatcher.on(Oa,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!q(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let n;this.batchingOnChangeQueue.size===1?n=this.batchingOnChangeQueue.values().next().value:n=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,n),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(_r,{mutations:e})}}const ja=class extends W{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=t=>{try{const e=t.create({},{},!1);if(t.pasteConfig===!1){this.exceptionList.push(t.name);return}if(!q(e.onPaste))return;this.getTagsConfig(t),this.getFilesConfig(t),this.getPatternsConfig(t)}catch(e){$(`Paste handling for \xAB${t.name}\xBB Tool hasn't been set up because of the error`,"warn",e)}},this.handlePasteEvent=async t=>{const{BlockManager:e,Toolbar:n}=this.Editor;!e.currentBlock||this.isNativeBehaviour(t.target)&&!t.clipboardData.types.includes("Files")||e.currentBlock&&this.exceptionList.includes(e.currentBlock.name)||(t.preventDefault(),this.processDataTransfer(t.clipboardData),e.clearFocused(),n.close())}}async prepare(){this.processTools()}toggleReadOnly(t){t?this.unsetCallback():this.setCallback()}async processDataTransfer(t,e=!1){const{Tools:n}=this.Editor,o=t.types;if((o.includes?o.includes("Files"):o.contains("Files"))&&!De(this.toolsFiles)){await this.processFiles(t.files);return}const i=t.getData(this.MIME_TYPE),r=t.getData("text/plain");let s=t.getData("text/html");if(i)try{this.insertEditorJSData(JSON.parse(i));return}catch{}e&&r.trim()&&s.trim()&&(s="<p>"+(s.trim()?s:r)+"</p>");const a=Object.keys(this.toolsTags).reduce((u,d)=>{var f;return u[d.toLowerCase()]=(f=this.toolsTags[d].sanitizationConfig)!=null?f:{},u},{}),l=Object.assign({},a,n.getAllInlineToolsSanitizeConfig(),{br:{}}),c=Ge(s,l);!c.trim()||c.trim()===r||!I.isHTMLString(c)?await this.processText(r):await this.processText(c,!0)}async processText(t,e=!1){const{Caret:n,BlockManager:o}=this.Editor,i=e?this.processHTML(t):this.processPlain(t);if(!i.length)return;if(i.length===1){i[0].isBlock?this.processSingleBlock(i.pop()):this.processInlinePaste(i.pop());return}const r=o.currentBlock&&o.currentBlock.tool.isDefault&&o.currentBlock.isEmpty;i.map(async(s,a)=>this.insertBlock(s,a===0&&r)),o.currentBlock&&n.setToBlock(o.currentBlock,n.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const t=this.Editor.Tools.blockTools;Array.from(t.values()).forEach(this.processTool)}collectTagNames(t){return lt(t)?[t]:he(t)?Object.keys(t):[]}getTagsConfig(t){if(t.pasteConfig===!1)return;const e=t.pasteConfig.tags||[],n=[];e.forEach(o=>{const i=this.collectTagNames(o);n.push(...i),i.forEach(r=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,r)){$(`Paste handler for \xAB${t.name}\xBB Tool on \xAB${r}\xBB tag is skipped because it is already used by \xAB${this.toolsTags[r].tool.name}\xBB Tool.`,"warn");return}const s=he(o)?o[r]:null;this.toolsTags[r.toUpperCase()]={tool:t,sanitizationConfig:s}})}),this.tagsByTool[t.name]=n.map(o=>o.toUpperCase())}getFilesConfig(t){if(t.pasteConfig===!1)return;const{files:e={}}=t.pasteConfig;let{extensions:n,mimeTypes:o}=e;!n&&!o||(n&&!Array.isArray(n)&&($(`\xABextensions\xBB property of the onDrop config for \xAB${t.name}\xBB Tool should be an array`),n=[]),o&&!Array.isArray(o)&&($(`\xABmimeTypes\xBB property of the onDrop config for \xAB${t.name}\xBB Tool should be an array`),o=[]),o&&(o=o.filter(i=>eu(i)?!0:($(`MIME type value \xAB${i}\xBB for the \xAB${t.name}\xBB Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[t.name]={extensions:n||[],mimeTypes:o||[]})}getPatternsConfig(t){t.pasteConfig===!1||!t.pasteConfig.patterns||De(t.pasteConfig.patterns)||Object.entries(t.pasteConfig.patterns).forEach(([e,n])=>{n instanceof RegExp||$(`Pattern ${n} for \xAB${t.name}\xBB Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:e,pattern:n,tool:t})})}isNativeBehaviour(t){return I.isNativeInput(t)}async processFiles(t){const{BlockManager:e}=this.Editor;let n;n=await Promise.all(Array.from(t).map(i=>this.processFile(i))),n=n.filter(i=>!!i);const o=e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty;n.forEach((i,r)=>{e.paste(i.type,i.event,r===0&&o)})}async processFile(t){const e=Qd(t),n=Object.entries(this.toolsFiles).find(([i,{mimeTypes:r,extensions:s}])=>{const[a,l]=t.type.split("/"),c=s.find(d=>d.toLowerCase()===e.toLowerCase()),u=r.find(d=>{const[f,h]=d.split("/");return f===a&&(h===l||h==="*")});return!!c||!!u});if(!n)return;const[o]=n;return{event:this.composePasteEvent("file",{file:t}),type:o}}processHTML(t){const{Tools:e}=this.Editor,n=I.make("DIV");return n.innerHTML=t,this.getNodes(n).map(o=>{let i,r=e.defaultTool,s=!1;switch(o.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:i=I.make("div"),i.appendChild(o);break;case Node.ELEMENT_NODE:i=o,s=!0,this.toolsTags[i.tagName]&&(r=this.toolsTags[i.tagName].tool);break}const{tags:a}=r.pasteConfig||{tags:[]},l=a.reduce((d,f)=>(this.collectTagNames(f).forEach(h=>{const p=he(f)?f[h]:null;d[h.toLowerCase()]=p||{}}),d),{}),c=Object.assign({},l,r.baseSanitizeConfig);if(i.tagName.toLowerCase()==="table"){const d=Ge(i.outerHTML,c);i=I.make("div",void 0,{innerHTML:d}).firstChild}else i.innerHTML=Ge(i.innerHTML,c);const u=this.composePasteEvent("tag",{data:i});return{content:i,isBlock:s,tool:r.name,event:u}}).filter(o=>{const i=I.isEmpty(o.content),r=I.isSingleTag(o.content);return!i||r})}processPlain(t){const{defaultBlock:e}=this.config;if(!t)return[];const n=e;return t.split(/\r?\n/).filter(o=>o.trim()).map(o=>{const i=I.make("div");i.textContent=o;const r=this.composePasteEvent("tag",{data:i});return{content:i,tool:n,isBlock:!1,event:r}})}async processSingleBlock(t){const{Caret:e,BlockManager:n}=this.Editor,{currentBlock:o}=n;if(!o||t.tool!==o.name||!I.containsOnlyInlineElements(t.content.innerHTML)){this.insertBlock(t,(o==null?void 0:o.tool.isDefault)&&o.isEmpty);return}e.insertContentAtCaretPosition(t.content.innerHTML)}async processInlinePaste(t){const{BlockManager:e,Caret:n}=this.Editor,{content:o}=t;if(e.currentBlock&&e.currentBlock.tool.isDefault&&o.textContent.length<ja.PATTERN_PROCESSING_MAX_LENGTH){const i=await this.processPattern(o.textContent);if(i){const r=e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty,s=e.paste(i.tool,i.event,r);n.setToBlock(s,n.positions.END);return}}if(e.currentBlock&&e.currentBlock.currentInput){const i=e.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,Ge(o.innerHTML,i))}else this.insertBlock(t)}async processPattern(t){const e=this.toolsPatterns.find(n=>{const o=n.pattern.exec(t);return o?t===o.shift():!1});return e?{event:this.composePasteEvent("pattern",{key:e.key,data:t}),tool:e.tool.name}:void 0}insertBlock(t,e=!1){const{BlockManager:n,Caret:o}=this.Editor,{currentBlock:i}=n;let r;if(e&&i&&i.isEmpty){r=n.paste(t.tool,t.event,!0),o.setToBlock(r,o.positions.END);return}r=n.paste(t.tool,t.event),o.setToBlock(r,o.positions.END)}insertEditorJSData(t){const{BlockManager:e,Caret:n,Tools:o}=this.Editor;Ma(t,i=>o.blockTools.get(i).sanitizeConfig).forEach(({tool:i,data:r},s)=>{let a=!1;s===0&&(a=e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty);const l=e.insert({tool:i,data:r,replace:a});n.setToBlock(l,n.positions.END)})}processElementNode(t,e,n){const o=Object.keys(this.toolsTags),i=t,{tool:r}=this.toolsTags[i.tagName]||{},s=this.tagsByTool[r==null?void 0:r.name]||[],a=o.includes(i.tagName),l=I.blockElements.includes(i.tagName.toLowerCase()),c=Array.from(i.children).some(({tagName:d})=>o.includes(d)&&!s.includes(d)),u=Array.from(i.children).some(({tagName:d})=>I.blockElements.includes(d.toLowerCase()));if(!l&&!a&&!c)return n.appendChild(i),[...e,n];if(a&&!c||l&&!u&&!c)return[...e,n,i]}getNodes(t){const e=Array.from(t.childNodes);let n;const o=(i,r)=>{if(I.isEmpty(r)&&!I.isSingleTag(r))return i;const s=i[i.length-1];let a=new DocumentFragment;switch(s&&I.isFragment(s)&&(a=i.pop()),r.nodeType){case Node.ELEMENT_NODE:if(n=this.processElementNode(r,i,a),n)return n;break;case Node.TEXT_NODE:return a.appendChild(r),[...i,a];default:return[...i,a]}return[...i,...Array.from(r.childNodes).reduce(o,[])]};return e.reduce(o,[])}composePasteEvent(t,e){return new CustomEvent(t,{detail:e})}};let Ha=ja;Ha.PATTERN_PROCESSING_MAX_LENGTH=450;class gf extends W{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:n}=e,o=[];Array.from(n.entries()).forEach(([i,r])=>{r.isReadOnlySupported||o.push(i)}),this.toolsDontSupportReadOnly=o,this.config.readOnly&&o.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly)}async toggle(e=!this.readOnlyEnabled){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const n=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const i in this.Editor)this.Editor[i].toggleReadOnly&&this.Editor[i].toggleReadOnly(e);if(n===e)return this.readOnlyEnabled;const o=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(o.blocks),this.readOnlyEnabled}throwCriticalError(){throw new Ca(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}class mn extends W{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,n){const o=document.elementFromPoint(e-window.pageXOffset,n-window.pageYOffset);o.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const i=[`.${ae.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],r=o.closest("."+this.Editor.UI.CSS.editorWrapper),s=i.some(a=>!!o.closest(a));!r||s||(this.mousedown=!0,this.startX=e,this.startY=n)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",n=>{this.processMouseDown(n)},!1),this.listeners.on(document.body,"mousemove",Er(n=>{this.processMouseMove(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",Er(n=>{this.processScroll(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(e.target.closest(I.allInputsSelector)!==null||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){if(this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:e}=this.Editor,n=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),o=I.make("div",mn.CSS.overlay,{}),i=I.make("div",mn.CSS.overlayContainer,{}),r=I.make("div",mn.CSS.rect,{});return i.appendChild(r),o.appendChild(i),n.appendChild(o),this.overlayRectangle=r,{container:n,overlay:o}}scrollVertical(e){if(!(this.inScrollZone&&this.mousedown))return;const n=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-n,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;e.pageY!==void 0&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:n,leftPos:o,index:i}=this.genInfoForMouseSelection(),r=this.startX>n&&this.mouseX>n,s=this.startX<o&&this.mouseX<o;this.rectCrossesBlocks=!(r||s),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),i!==void 0&&(this.trySelectNextBlock(i),this.inverseSelection(),F.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(n);if(!this.rectCrossesBlocks&&e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(n)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,n=this.mouseY-window.pageYOffset,o=document.elementFromPoint(e,n),i=this.Editor.BlockManager.getBlockByChildNode(o);let r;i!==void 0&&(r=this.Editor.BlockManager.blocks.findIndex(u=>u.holder===i.holder));const s=this.Editor.BlockManager.lastBlock.holder.querySelector("."+ae.CSS.content),a=Number.parseInt(window.getComputedStyle(s).width,10)/2,l=e-a,c=e+a;return{index:r,leftPos:l,rightPos:c}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const n=this.stackOfSelected[this.stackOfSelected.length-1]===e,o=this.stackOfSelected.length,i=1,r=-1,s=0;if(n)return;const a=this.stackOfSelected[o-1]-this.stackOfSelected[o-2]>0;let l=s;o>1&&(l=a?i:r);const c=e>this.stackOfSelected[o-1]&&l===i,u=e<this.stackOfSelected[o-1]&&l===r,d=!(c||u||l===s);if(!d&&(e>this.stackOfSelected[o-1]||this.stackOfSelected[o-1]===void 0)){let p=this.stackOfSelected[o-1]+1||e;for(p;p<=e;p++)this.addBlockInSelection(p);return}if(!d&&e<this.stackOfSelected[o-1]){for(let p=this.stackOfSelected[o-1]-1;p>=e;p--)this.addBlockInSelection(p);return}if(!d)return;let f=o-1,h;for(e>this.stackOfSelected[o-1]?h=()=>e>this.stackOfSelected[f]:h=()=>e<this.stackOfSelected[f];h();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[f]),this.stackOfSelected.pop(),f--}}class mf extends W{async render(e){const n=e.map(i=>({function:()=>this.insertBlock(i)}));this.Editor.ModificationsObserver.disable();const o=await xa(n);return this.Editor.ModificationsObserver.enable(),this.Editor.UI.checkEmptiness(),o}async insertBlock(e){var n;const{Tools:o,BlockManager:i}=this.Editor,{type:r,data:s,tunes:a,id:l}=e;if(o.available.has(r))try{i.insert({id:l,tool:r,data:s,tunes:a})}catch(c){throw $(`Block \xAB${r}\xBB skipped because of plugins error`,"warn",{data:s,error:c}),Error(c)}else{const c={savedData:{id:l,type:r,data:s},title:r};if(o.unavailable.has(r)){const d=(n=o.unavailable.get(r).toolbox[0])==null?void 0:n.title;c.title=d||c.title}const u=i.insert({id:l,tool:o.stubTool,data:c});u.stretched=!0,$(`Tool \xAB${r}\xBB is not found. Check 'tools' property at your initial Editor.js config.`,"warn")}}}class vf extends W{async save(){const{BlockManager:e,Tools:n}=this.Editor,o=e.blocks,i=[];try{o.forEach(a=>{i.push(this.getSavedData(a))});const r=await Promise.all(i),s=await Ma(r,a=>n.blockTools.get(a).sanitizeConfig);return this.makeOutput(s)}catch(r){Ne("Saving failed due to the Error %o","error",r)}}async getSavedData(e){const n=await e.save(),o=n&&await e.validate(n.data);return{...n,isValid:o}}makeOutput(e){let n=0;const o=[];return $("[Editor.js saving]:","groupCollapsed"),e.forEach(({id:i,tool:r,data:s,tunes:a,time:l,isValid:c})=>{if(n+=l,$(`${r.charAt(0).toUpperCase()+r.slice(1)}`,"group"),c)$(s),$(void 0,"groupEnd");else{$(`Block \xAB${r}\xBB skipped because saved data is invalid`),$(void 0,"groupEnd");return}if(r===this.Editor.Tools.stubTool){o.push(s);return}const u={id:i,type:r,data:s,...!De(a)&&{tunes:a}};o.push(u)}),$("Total","log",n),$(void 0,"groupEnd"),{time:+new Date,blocks:o,version:"2.27.2"}}}var Lr={},bf={get exports(){return Lr},set exports(t){Lr=t}};(function(t,e){(function(n,o){t.exports=o()})(window,function(){return function(n){var o={};function i(r){if(o[r])return o[r].exports;var s=o[r]={i:r,l:!1,exports:{}};return n[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=o,i.d=function(r,s,a){i.o(r,s)||Object.defineProperty(r,s,{enumerable:!0,get:a})},i.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},i.t=function(r,s){if(1&s&&(r=i(r)),8&s||4&s&&typeof r=="object"&&r&&r.__esModule)return r;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),2&s&&typeof r!="string")for(var l in r)i.d(a,l,function(c){return r[c]}.bind(null,l));return a},i.n=function(r){var s=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(s,"a",s),s},i.o=function(r,s){return Object.prototype.hasOwnProperty.call(r,s)},i.p="/",i(i.s=4)}([function(n,o,i){var r=i(1),s=i(2);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var a={insert:"head",singleton:!1};r(s,a),n.exports=s.locals||{}},function(n,o,i){var r,s=function(){return r===void 0&&(r=!!(window&&document&&document.all&&!window.atob)),r},a=function(){var g={};return function(b){if(g[b]===void 0){var m=document.querySelector(b);if(window.HTMLIFrameElement&&m instanceof window.HTMLIFrameElement)try{m=m.contentDocument.head}catch{m=null}g[b]=m}return g[b]}}(),l=[];function c(g){for(var b=-1,m=0;m<l.length;m++)if(l[m].identifier===g){b=m;break}return b}function u(g,b){for(var m={},k=[],M=0;M<g.length;M++){var x=g[M],v=b.base?x[0]+b.base:x[0],O=m[v]||0,w="".concat(v," ").concat(O);m[v]=O+1;var T=c(w),_={css:x[1],media:x[2],sourceMap:x[3]};T!==-1?(l[T].references++,l[T].updater(_)):l.push({identifier:w,updater:E(_,b),references:1}),k.push(w)}return k}function d(g){var b=document.createElement("style"),m=g.attributes||{};if(m.nonce===void 0){var k=i.nc;k&&(m.nonce=k)}if(Object.keys(m).forEach(function(x){b.setAttribute(x,m[x])}),typeof g.insert=="function")g.insert(b);else{var M=a(g.insert||"head");if(!M)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");M.appendChild(b)}return b}var f,h=(f=[],function(g,b){return f[g]=b,f.filter(Boolean).join(`
`)});function p(g,b,m,k){var M=m?"":k.media?"@media ".concat(k.media," {").concat(k.css,"}"):k.css;if(g.styleSheet)g.styleSheet.cssText=h(b,M);else{var x=document.createTextNode(M),v=g.childNodes;v[b]&&g.removeChild(v[b]),v.length?g.insertBefore(x,v[b]):g.appendChild(x)}}function y(g,b,m){var k=m.css,M=m.media,x=m.sourceMap;if(M?g.setAttribute("media",M):g.removeAttribute("media"),x&&btoa&&(k+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(x))))," */")),g.styleSheet)g.styleSheet.cssText=k;else{for(;g.firstChild;)g.removeChild(g.firstChild);g.appendChild(document.createTextNode(k))}}var S=null,C=0;function E(g,b){var m,k,M;if(b.singleton){var x=C++;m=S||(S=d(b)),k=p.bind(null,m,x,!1),M=p.bind(null,m,x,!0)}else m=d(b),k=y.bind(null,m,b),M=function(){(function(v){if(v.parentNode===null)return!1;v.parentNode.removeChild(v)})(m)};return k(g),function(v){if(v){if(v.css===g.css&&v.media===g.media&&v.sourceMap===g.sourceMap)return;k(g=v)}else M()}}n.exports=function(g,b){(b=b||{}).singleton||typeof b.singleton=="boolean"||(b.singleton=s());var m=u(g=g||[],b);return function(k){if(k=k||[],Object.prototype.toString.call(k)==="[object Array]"){for(var M=0;M<m.length;M++){var x=c(m[M]);l[x].references--}for(var v=u(k,b),O=0;O<m.length;O++){var w=c(m[O]);l[w].references===0&&(l[w].updater(),l.splice(w,1))}m=v}}}},function(n,o,i){(o=i(3)(!1)).push([n.i,`.ce-paragraph {
    line-height: 1.6em;
    outline: none;
}

.ce-paragraph[data-placeholder]:empty::before{
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

/** Show placeholder at the first paragraph if Editor is empty */
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {
  opacity: 1;
}

.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {
  opacity: 0;
}

.ce-paragraph p:first-of-type{
    margin-top: 0;
}

.ce-paragraph p:last-of-type{
    margin-bottom: 0;
}
`,""]),n.exports=o},function(n,o,i){n.exports=function(r){var s=[];return s.toString=function(){return this.map(function(a){var l=function(c,u){var d=c[1]||"",f=c[3];if(!f)return d;if(u&&typeof btoa=="function"){var h=(y=f,S=btoa(unescape(encodeURIComponent(JSON.stringify(y)))),C="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(S),"/*# ".concat(C," */")),p=f.sources.map(function(E){return"/*# sourceURL=".concat(f.sourceRoot||"").concat(E," */")});return[d].concat(p).concat([h]).join(`
`)}var y,S,C;return[d].join(`
`)}(a,r);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},s.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var u={};if(c)for(var d=0;d<this.length;d++){var f=this[d][0];f!=null&&(u[f]=!0)}for(var h=0;h<a.length;h++){var p=[].concat(a[h]);c&&u[p[0]]||(l&&(p[2]?p[2]="".concat(l," and ").concat(p[2]):p[2]=l),s.push(p))}},s}},function(n,o,i){i.r(o),i.d(o,"default",function(){return a}),i(0);function r(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}function s(l,c,u){return c&&r(l.prototype,c),u&&r(l,u),l}/**
 * Base Paragraph Block for the Editor.js.
 * Represents simple paragraph
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */var a=function(){function l(c){var u=c.data,d=c.config,f=c.api,h=c.readOnly;(function(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=f,this.readOnly=h,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=d.placeholder?d.placeholder:l.DEFAULT_PLACEHOLDER,this._data={},this._element=this.drawView(),this._preserveBlank=d.preserveBlank!==void 0&&d.preserveBlank,this.data=u}return s(l,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),s(l,[{key:"onKeyUp",value:function(c){c.code!=="Backspace"&&c.code!=="Delete"||this._element.textContent===""&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var c=document.createElement("DIV");return c.classList.add(this._CSS.wrapper,this._CSS.block),c.contentEditable=!1,c.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(c.contentEditable=!0,c.addEventListener("keyup",this.onKeyUp)),c}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(c){var u={text:this.data.text+c.text};this.data=u}},{key:"validate",value:function(c){return!(c.text.trim()===""&&!this._preserveBlank)}},{key:"save",value:function(c){return{text:c.innerHTML}}},{key:"onPaste",value:function(c){var u={text:c.detail.data.innerHTML};this.data=u}},{key:"data",get:function(){var c=this._element.innerHTML;return this._data.text=c,this._data},set:function(c){this._data=c||{},this._element.innerHTML=this._data.text||""}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>',title:"Text"}}}]),l}()}]).default})})(bf);const yf=Eo(Lr);class bi{constructor(){this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}static get sanitize(){return{b:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=Hu,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+B"}}bi.isInline=!0;bi.title="Bold";class yi{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=Wu,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}}yi.isInline=!0;yi.title="Italic";class wi{constructor({api:e}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new F}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=ys,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)}),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const n=this.selection.findParentTag("A");if(n){this.selection.expandToTag(n),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML=Vu,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const n=e.getAttribute("href");this.nodes.input.value=n!=="null"?n:"",this.selection.save()}else this.nodes.button.innerHTML=ys,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(e=!1){this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(e=!0){if(this.selection.isFakeBackgroundEnabled){const n=new F;n.save(),this.selection.restore(),this.selection.removeFakeBackground(),n.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let n=this.nodes.input.value||"";if(!n.trim()){this.selection.restore(),this.unlink(),e.preventDefault(),this.closeActions();return}if(!this.validateURL(n)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),$("Incorrect Link pasted","warn",n);return}n=this.prepareLink(n),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(n),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),e=this.addProtocol(e),e}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const n=/^\/[^/\s]/.test(e),o=e.substring(0,1)==="#",i=/^\/\/[^/\s]/.test(e);return!n&&!o&&!i&&(e="http://"+e),e}insertLink(e){const n=this.selection.findParentTag("A");n&&this.selection.expandToTag(n),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}}wi.isInline=!0;wi.title="Link";class Ua{constructor({data:e,api:n}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=n,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=I.make("div",this.CSS.wrapper),n='<svg xmlns="http://www.w3.org/2000/svg" width="52" height="52" viewBox="0 0 52 52"><path fill="#D76B6B" fill-rule="nonzero" d="M26 52C11.64 52 0 40.36 0 26S11.64 0 26 0s26 11.64 26 26-11.64 26-26 26zm0-3.25c12.564 0 22.75-10.186 22.75-22.75S38.564 3.25 26 3.25 3.25 13.436 3.25 26 13.436 48.75 26 48.75zM15.708 33.042a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm23.834 0a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm-15.875 5.452a1.083 1.083 0 1 1-1.834-1.155c1.331-2.114 3.49-3.179 6.334-3.179 2.844 0 5.002 1.065 6.333 3.18a1.083 1.083 0 1 1-1.833 1.154c-.913-1.45-2.366-2.167-4.5-2.167s-3.587.717-4.5 2.167z"/></svg>',o=I.make("div",this.CSS.info),i=I.make("div",this.CSS.title,{textContent:this.title}),r=I.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML=n,o.appendChild(i),o.appendChild(r),e.appendChild(o),e}}Ua.isReadOnlySupported=!0;class wf extends vi{constructor(){super(...arguments),this.type=Co.Inline}get title(){return this.constructable[mi.Title]}create(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}}class xf extends vi{constructor(){super(...arguments),this.type=Co.Tune}create(e,n){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings,block:n,data:e})}}class me extends Map{get blockTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isBlock());return new me(e)}get inlineTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInline());return new me(e)}get blockTunes(){const e=Array.from(this.entries()).filter(([,n])=>n.isTune());return new me(e)}get internalTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInternal);return new me(e)}get externalTools(){const e=Array.from(this.entries()).filter(([,n])=>!n.isInternal);return new me(e)}}var kf=Object.defineProperty,Sf=Object.getOwnPropertyDescriptor,za=(t,e,n,o)=>{for(var i=o>1?void 0:o?Sf(e,n):e,r=t.length-1,s;r>=0;r--)(s=t[r])&&(i=(o?s(e,n,i):s(i))||i);return o&&i&&kf(e,n,i),i};class xi extends vi{constructor(){super(...arguments),this.type=Co.Block,this.inlineTools=new me,this.tunes=new me}create(e,n,o){return new this.constructable({data:e,block:n,readOnly:o,api:this.api.getMethodsForTool(this),config:this.settings})}get isReadOnlySupported(){return this.constructable[Ft.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[Ft.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[Ft.Toolbox],n=this.config[Kn.Toolbox];if(!De(e)&&n!==!1)return n?Array.isArray(e)?Array.isArray(n)?n.map((o,i)=>{const r=e[i];return r?{...r,...o}:o}):[n]:Array.isArray(n)?n:[{...e,...n}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[Ft.ConversionConfig]}get enabledInlineTools(){return this.config[Kn.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[Kn.EnabledBlockTunes]}get pasteConfig(){var e;return(e=this.constructable[Ft.PasteConfig])!=null?e:{}}get sanitizeConfig(){const e=super.sanitizeConfig,n=this.baseSanitizeConfig;if(De(e))return n;const o={};for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const r=e[i];he(r)?o[i]=Object.assign({},n,r):o[i]=r}return o}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),Array.from(this.tunes.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),e}}za([Zt],xi.prototype,"sanitizeConfig",1);za([Zt],xi.prototype,"baseSanitizeConfig",1);class Ef{constructor(e,n,o){this.api=o,this.config=e,this.editorConfig=n}get(e){const{class:n,isInternal:o=!1,...i}=this.config[e],r=this.getConstructor(n);return new r({name:e,constructable:n,config:i,api:this.api,isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:o})}getConstructor(e){switch(!0){case e[mi.IsInline]:return wf;case e[Fa.IsTune]:return xf;default:return xi}}}class $a{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:La,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e+1);if(!n)throw new Error("Unable to move Block down since it is already the last");const o=n.holder,i=o.getBoundingClientRect();let r=Math.abs(window.innerHeight-o.offsetHeight);i.top<window.innerHeight&&(r=window.scrollY+o.offsetHeight),window.scrollTo(0,r),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}}$a.isTune=!0;class Wa{constructor({api:e}){this.api=e}render(){return{icon:zu,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}Wa.isTune=!0;class Ya{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:Uu,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e),o=this.api.blocks.getBlockByIndex(e-1);if(e===0||!n||!o)throw new Error("Unable to move Block up since it is already the first");const i=n.holder,r=o.holder,s=i.getBoundingClientRect(),a=r.getBoundingClientRect();let l;a.top>0?l=Math.abs(s.top)-Math.abs(a.top):l=Math.abs(s.top)+a.height,window.scrollBy(0,-1*l),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}}Ya.isTune=!0;var Tf=Object.defineProperty,Cf=Object.getOwnPropertyDescriptor,_f=(t,e,n,o)=>{for(var i=o>1?void 0:o?Cf(e,n):e,r=t.length-1,s;r>=0;r--)(s=t[r])&&(i=(o?s(e,n,i):s(i))||i);return o&&i&&Tf(e,n,i),i};class Xa extends W{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new me,this.toolsUnavailable=new me}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=Tr({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new Ef(e,this.config,this.Editor.API);const n=this.getListOfPrepareFunctions(e);if(n.length===0)return Promise.resolve();await xa(n,o=>{this.toolPrepareMethodSuccess(o)},o=>{this.toolPrepareMethodFallback(o)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>{Object.assign(e,n.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(async e=>{q(e.reset)&&await e.reset()})}get internalTools(){return{bold:{class:bi,isInternal:!0},italic:{class:yi,isInternal:!0},link:{class:wi,isInternal:!0},paragraph:{class:yf,inlineToolbar:!0,isInternal:!0},stub:{class:Ua,isInternal:!0},moveUp:{class:Ya,isInternal:!0},delete:{class:Wa,isInternal:!0},moveDown:{class:$a,isInternal:!0}}}toolPrepareMethodSuccess(e){const n=this.factory.get(e.toolName);if(n.isInline()){const o=["render","surround","checkState"].filter(i=>!n.create()[i]);if(o.length){$(`Incorrect Inline Tool: ${n.name}. Some of required methods is not implemented %o`,"warn",o),this.toolsUnavailable.set(n.name,n);return}}this.toolsAvailable.set(n.name,n)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const n=[];return Object.entries(e).forEach(([o,i])=>{n.push({function:q(i.class.prepare)?i.class.prepare:()=>{},data:{toolName:o,config:i.config}})}),n}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(this.config.inlineToolbar!==!1){if(e.enabledInlineTools===!0){e.inlineTools=new me(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(n=>[n,this.inlineTools.get(n)]):Array.from(this.inlineTools.entries()));return}Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new me(e.enabledInlineTools.map(n=>[n,this.inlineTools.get(n)])))}}assignBlockTunesToBlockTool(e){if(e.enabledBlockTunes!==!1){if(Array.isArray(e.enabledBlockTunes)){const n=new me(e.enabledBlockTunes.map(o=>[o,this.blockTunes.get(o)]));e.tunes=new me([...n,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const n=new me(this.config.tunes.map(o=>[o,this.blockTunes.get(o)]));e.tunes=new me([...n,...this.blockTunes.internalTools]);return}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const n=this.config.tools[e];if(!q(n)&&!q(n.class))throw Error(`Tool \xAB${e}\xBB must be a constructor function or an object with function in the \xABclass\xBB property`)}}prepareConfig(){const e={};for(const n in this.config.tools)he(this.config.tools[n])?e[n]=this.config.tools[n]:e[n]={class:this.config.tools[n]};return e}}_f([Zt],Xa.prototype,"getAllInlineToolsSanitizeConfig",1);const Bf=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide,.codex-editor__redactor--hidden{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor__loader{position:relative;height:30vh}.codex-editor__loader:before{content:"";position:absolute;left:50%;top:50%;width:30px;height:30px;margin-top:-15px;margin-left:-15px;border-radius:50%;border:2px solid rgba(201,201,204,.48);border-top-color:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-animation:editor-loader-spin .8s infinite linear;animation:editor-loader-spin .8s infinite linear;will-change:transform}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0px;left:0px;right:0px;bottom:0px;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}::-moz-selection{background-color:#d4ecff}::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}@-webkit-keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;-webkit-transform:translateX(-50%) translateY(8px) scale(.94);transform:translate(-50%) translateY(8px) scale(.94);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translate(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.94);transform:translate(-23px) translateY(8px) scale(.94)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translate(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.94);transform:translate(-100%) translateY(8px) scale(.94);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translate(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;border-radius:0;line-height:normal}.ce-inline-tool svg{width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#eff2f5}}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48);-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:150px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px rgba(201,201,204,.48);box-shadow:0 0 0 1px #c9c9cc7a;border-radius:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff;-webkit-box-sizing:content-box;box-sizing:content-box;-ms-flex-negative:0;flex-shrink:0;margin-right:10px}.ce-conversion-tool__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-conversion-tool__icon{width:36px;height:36px;border-radius:8px}.ce-conversion-tool__icon svg{width:28px;height:28px}}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important}.ce-conversion-tool--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;line-height:32px}.ce-settings__button svg{width:20px;height:20px}@media (max-width: 650px){.ce-settings__button svg{width:28px;height:28px}}@media (hover: hover){.ce-settings__button:hover{background-color:#eff2f5}}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{background:rgba(34,186,255,.08)!important}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button--disabled{cursor:not-allowed!important}.ce-settings__button--disabled{opacity:.3}.ce-settings__button--selected{color:#388ae5}@media (min-width: 651px){.codex-editor--narrow .ce-settings .ce-popover{right:0;left:auto;left:initial}}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width: 651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button svg{width:20px;height:20px}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:3.5em 0;margin:17px 0;border-radius:3px;background:#fcf7f7;color:#b46262}.ce-stub__info{margin-left:20px}.ce-stub__title{margin-bottom:3px;font-weight:600;font-size:18px;text-transform:capitalize}.ce-stub__subtitle{font-size:16px}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0px;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:rgba(232,232,235,.49);border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #e8e8eb;--color-shadow: rgba(13,20,33,.13);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #eff2f5;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:0;top:calc(100% + var(--offset-from-target));background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}.ce-popover--open-top{top:calc(-1 * (var(--offset-from-target) + var(--popover-height)))}@media (max-width: 650px){.ce-popover{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}.ce-popover .ce-popover__search{display:none}}.ce-popover__search,.ce-popover__custom-content:not(:empty){margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover__custom-content:not(:empty){padding:4px}@media (min-width: 651px){.ce-popover__custom-content:not(:empty){padding:0}}.ce-popover__custom-content--hidden{display:none}.ce-popover-item{--border-radius: 6px;--icon-size: 20px;--icon-size-mobile: 28px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:3px;color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{border-radius:5px;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px var(--color-border-icon);box-shadow:0 0 0 1px var(--color-border-icon);background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:var(--icon-size-mobile);height:var(--icon-size-mobile)}}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--active .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--disabled .ce-popover-item__icon{-webkit-box-shadow:0 0 0 1px var(--color-border-icon-disabled);box-shadow:0 0 0 1px var(--color-border-icon-disabled)}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--focused:not(.ce-popover-item--no-focus){-webkit-box-shadow:inset 0 0 0px 1px var(--color-shadow-item-focus);box-shadow:inset 0 0 0 1px var(--color-shadow-item-focus)}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}.ce-popover-item:hover .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__icon{color:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}.ce-popover-item--confirmation .ce-popover-item__icon,.ce-popover-item--active .ce-popover-item__icon,.ce-popover-item--focused .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}
`;class Of extends W{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=tu(()=>{this.windowResize()},200)}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorLoader:"codex-editor__loader",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${ae.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}addLoader(){this.nodes.loader=I.make("div",this.CSS.editorLoader),this.nodes.wrapper.prepend(this.nodes.loader),this.nodes.redactor.classList.add(this.CSS.editorZoneHidden)}removeLoader(){this.nodes.loader.remove(),this.nodes.redactor.classList.remove(this.CSS.editorZoneHidden)}async prepare(){this.checkIsMobile(),this.make(),this.addLoader(),this.loadStyles()}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:n,InlineToolbar:o,ConversionToolbar:i}=this.Editor;return n.opened||o.opened||i.opened||e.toolbox.opened}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([e,n])=>n.flipper instanceof Ke).some(([e,n])=>n.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){const{Toolbar:e,BlockSettings:n,InlineToolbar:o,ConversionToolbar:i}=this.Editor;n.close(),o.close(),i.close(),e.toolbox.close()}checkIsMobile(){this.isMobile=window.innerWidth<Ea}make(){this.nodes.holder=I.getHolder(this.config.holder),this.nodes.wrapper=I.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=I.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){const e="editor-js-styles";if(I.get(e))return;const n=I.make("style",null,{id:e,textContent:Bf.toString()});I.prepend(document.head,n)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",e=>{this.redactorClicked(e)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",e=>{this.documentTouched(e)},!0),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",e=>{this.documentTouched(e)},!0),this.readOnlyMutableListeners.on(document,"keydown",e=>{this.documentKeydown(e)},!0),this.readOnlyMutableListeners.on(document,"mousedown",e=>{this.documentClicked(e)},!0),this.readOnlyMutableListeners.on(document,"selectionchange",()=>{this.selectionChanged()},!0),this.readOnlyMutableListeners.on(window,"resize",()=>{this.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",Er(n=>{const o=n.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||o&&e!==o&&(e=o,this.eventsDispatcher.emit(Ra,{block:this.Editor.BlockManager.getBlockByChildNode(o)}))},20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.checkIsMobile()}documentKeydown(e){switch(e.keyCode){case U.ENTER:this.enterPressed(e);break;case U.BACKSPACE:this.backspacePressed(e);break;case U.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e);break}}defaultBehaviour(e){const{currentBlock:n}=this.Editor.BlockManager,o=e.target.closest(`.${this.CSS.editorWrapper}`),i=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(n!==void 0&&o===null){this.Editor.BlockEvents.keydown(e);return}o||n&&i||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close())}backspacePressed(e){const{BlockManager:n,BlockSelection:o,Caret:i}=this.Editor;if(o.anyBlockSelected&&!F.isSelectionExists){const r=n.removeSelectedBlocks();i.setToBlock(n.insertDefaultBlockAtIndex(r,!0),i.positions.START),o.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:n,BlockSelection:o}=this.Editor,i=n.currentBlockIndex>=0;if(o.anyBlockSelected&&!F.isSelectionExists){o.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();return}if(!this.someToolbarOpened&&i&&e.target.tagName==="BODY"){const r=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(r),this.Editor.BlockManager.highlightCurrentNode(),this.Editor.Toolbar.moveAndOpen(r)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){if(!e.isTrusted)return;const n=e.target;this.nodes.holder.contains(n)||F.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close());const o=this.Editor.BlockSettings.nodes.wrapper.contains(n),i=this.Editor.Toolbar.nodes.settingsToggler.contains(n),r=o||i;if(this.Editor.BlockSettings.opened&&!r){this.Editor.BlockSettings.close();const s=this.Editor.BlockManager.getBlockByChildNode(n);this.Editor.Toolbar.moveAndOpen(s)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let n=e.target;if(n===this.nodes.redactor){const o=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,i=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;n=document.elementFromPoint(o,i)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(n),this.Editor.BlockManager.highlightCurrentNode()}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){const{BlockSelection:n}=this.Editor;if(!F.isCollapsed)return;const o=()=>{e.stopImmediatePropagation(),e.stopPropagation()},i=e.target,r=e.metaKey||e.ctrlKey;if(I.isAnchor(i)&&r){o();const c=i.getAttribute("href"),u=ou(c);iu(u);return}const s=this.Editor.BlockManager.getBlockByIndex(-1),a=I.offset(s.holder).bottom,l=e.pageY;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!n.anyBlockSelected&&a<l){o();const{BlockManager:c,Caret:u,Toolbar:d}=this.Editor;(!c.lastBlock.tool.isDefault||!c.lastBlock.isEmpty)&&c.insertAtEnd(),u.setToTheLastBlock(),d.moveAndOpen(c.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:n}=this.Editor,o=F.anchorElement;if(e.isCrossBlockSelectionStarted&&n.anyBlockSelected&&F.get().removeAllRanges(),!o){F.range||this.Editor.InlineToolbar.close();return}const i=o.closest(`.${ae.CSS.content}`)===null;if(i&&(this.Editor.InlineToolbar.containsNode(o)||this.Editor.InlineToolbar.close(),o.dataset.inlineToolbar!=="true"))return;this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(o);const r=i!==!0;this.Editor.InlineToolbar.tryToShow(!0,r)}}const Mf={BlocksAPI:hu,CaretAPI:pu,EventsAPI:gu,I18nAPI:ui,API:mu,InlineToolbarAPI:vu,ListenersAPI:bu,NotifierAPI:ku,ReadOnlyAPI:Su,SanitizerAPI:Mu,SaverAPI:Au,SelectionAPI:Lu,StylesAPI:Iu,ToolbarAPI:Pu,TooltipAPI:Du,UiAPI:Fu,BlockSettings:Zu,ConversionToolbar:Oe,Toolbar:rf,InlineToolbar:sf,BlockEvents:af,BlockManager:df,BlockSelection:uf,Caret:so,CrossBlockSelection:ff,DragNDrop:hf,ModificationsObserver:pf,Paste:Ha,ReadOnly:gf,RectangleSelection:mn,Renderer:mf,Saver:vf,Tools:Xa,UI:Of};class Af{constructor(e){this.moduleInstances={},this.eventsDispatcher=new To;let n,o;this.isReady=new Promise((i,r)=>{n=i,o=r}),Promise.resolve().then(async()=>{this.configuration=e,await this.validate(),await this.init(),await this.start(),Ne("I'm ready! (\uFF89\u25D5\u30EE\u25D5)\uFF89*:\uFF65\uFF9F\u2727","log","","color: #E24A75"),setTimeout(async()=>{if(await this.render(),this.configuration.autofocus){const{BlockManager:i,Caret:r}=this.moduleInstances;r.setToBlock(i.blocks[0],r.positions.START),i.highlightCurrentNode()}this.moduleInstances.UI.removeLoader(),n()},500)}).catch(i=>{$(`Editor.js is not ready because of ${i}`,"error"),o(i)})}set configuration(e){var n,o;he(e)?this.config={...e}:this.config={holder:e},Cr(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=ya.VERBOSE),Jd(this.config.logLevel),Cr(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const i={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(De(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[i]}),this.config.readOnly=this.config.readOnly||!1,(n=this.config.i18n)!=null&&n.messages&&xe.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((o=this.config.i18n)==null?void 0:o.direction)||"ltr"}get configuration(){return this.config}async validate(){const{holderId:e,holder:n}=this.config;if(e&&n)throw Error("\xABholderId\xBB and \xABholder\xBB param can't assign at the same time.");if(lt(n)&&!I.get(n))throw Error(`element with ID \xAB${n}\xBB is missing. Pass correct holder's ID.`);if(n&&he(n)&&!I.isElement(n))throw Error("\xABholder\xBB value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((e,n)=>e.then(async()=>{try{await this.moduleInstances[n].prepare()}catch(o){if(o instanceof Ca)throw new Error(o.message);$(`Module ${n} was skipped because of %o`,"warn",o)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(Mf).forEach(([e,n])=>{try{this.moduleInstances[e]=new n({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(o){$("[constructModules]",`Module ${e} skipped because`,"error",o)}})}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const n={};for(const o in this.moduleInstances)o!==e&&(n[o]=this.moduleInstances[o]);return n}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class Lf{static get version(){return"2.27.2"}constructor(e){let n=()=>{};he(e)&&q(e.onReady)&&(n=e.onReady);const o=new Af(e);this.isReady=o.isReady.then(()=>{this.exportAPI(o),n()})}exportAPI(e){const n=["configuration"],o=()=>{Object.values(e.moduleInstances).forEach(i=>{q(i.destroy)&&i.destroy(),i.listeners.removeAll()}),e=null;for(const i in this)Object.prototype.hasOwnProperty.call(this,i)&&delete this[i];Object.setPrototypeOf(this,null)};n.forEach(i=>{this[i]=e[i]}),this.destroy=o,Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([i,r])=>{Object.entries(r).forEach(([s,a])=>{this[a]=e.moduleInstances.API.methods[i][s]})})}}var Ga={exports:{}};/*!
 * Image tool
 * 
 * @version 2.8.1
 * 
 * @package https://github.com/editor-js/image
 * @licence MIT
 * @author CodeX <https://codex.so>
 */(function(t,e){(function(n,o){t.exports=o()})(window,function(){return function(n){var o={};function i(r){if(o[r])return o[r].exports;var s=o[r]={i:r,l:!1,exports:{}};return n[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=o,i.d=function(r,s,a){i.o(r,s)||Object.defineProperty(r,s,{enumerable:!0,get:a})},i.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},i.t=function(r,s){if(1&s&&(r=i(r)),8&s||4&s&&typeof r=="object"&&r&&r.__esModule)return r;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),2&s&&typeof r!="string")for(var l in r)i.d(a,l,function(c){return r[c]}.bind(null,l));return a},i.n=function(r){var s=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(s,"a",s),s},i.o=function(r,s){return Object.prototype.hasOwnProperty.call(r,s)},i.p="/",i(i.s=9)}([function(n,o){function i(r,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(r,l.key,l)}}n.exports=function(r,s,a){return s&&i(r.prototype,s),a&&i(r,a),r}},function(n,o,i){n.exports=function(r){var s={};function a(l){if(s[l])return s[l].exports;var c=s[l]={i:l,l:!1,exports:{}};return r[l].call(c.exports,c,c.exports,a),c.l=!0,c.exports}return a.m=r,a.c=s,a.d=function(l,c,u){a.o(l,c)||Object.defineProperty(l,c,{enumerable:!0,get:u})},a.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},a.t=function(l,c){if(1&c&&(l=a(l)),8&c||4&c&&typeof l=="object"&&l&&l.__esModule)return l;var u=Object.create(null);if(a.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:l}),2&c&&typeof l!="string")for(var d in l)a.d(u,d,function(f){return l[f]}.bind(null,d));return u},a.n=function(l){var c=l&&l.__esModule?function(){return l.default}:function(){return l};return a.d(c,"a",c),c},a.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)},a.p="",a(a.s=3)}([function(r,s){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}r.exports=a},function(r,s,a){(function(l){var c=a(2),u=setTimeout;function d(){}function f(g){if(!(this instanceof f))throw new TypeError("Promises must be constructed via new");if(typeof g!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],E(g,this)}function h(g,b){for(;g._state===3;)g=g._value;g._state!==0?(g._handled=!0,f._immediateFn(function(){var m=g._state===1?b.onFulfilled:b.onRejected;if(m!==null){var k;try{k=m(g._value)}catch(M){return void y(b.promise,M)}p(b.promise,k)}else(g._state===1?p:y)(b.promise,g._value)})):g._deferreds.push(b)}function p(g,b){try{if(b===g)throw new TypeError("A promise cannot be resolved with itself.");if(b&&(typeof b=="object"||typeof b=="function")){var m=b.then;if(b instanceof f)return g._state=3,g._value=b,void S(g);if(typeof m=="function")return void E((k=m,M=b,function(){k.apply(M,arguments)}),g)}g._state=1,g._value=b,S(g)}catch(x){y(g,x)}var k,M}function y(g,b){g._state=2,g._value=b,S(g)}function S(g){g._state===2&&g._deferreds.length===0&&f._immediateFn(function(){g._handled||f._unhandledRejectionFn(g._value)});for(var b=0,m=g._deferreds.length;b<m;b++)h(g,g._deferreds[b]);g._deferreds=null}function C(g,b,m){this.onFulfilled=typeof g=="function"?g:null,this.onRejected=typeof b=="function"?b:null,this.promise=m}function E(g,b){var m=!1;try{g(function(k){m||(m=!0,p(b,k))},function(k){m||(m=!0,y(b,k))})}catch(k){if(m)return;m=!0,y(b,k)}}f.prototype.catch=function(g){return this.then(null,g)},f.prototype.then=function(g,b){var m=new this.constructor(d);return h(this,new C(g,b,m)),m},f.prototype.finally=c.a,f.all=function(g){return new f(function(b,m){if(!g||g.length===void 0)throw new TypeError("Promise.all accepts an array");var k=Array.prototype.slice.call(g);if(k.length===0)return b([]);var M=k.length;function x(O,w){try{if(w&&(typeof w=="object"||typeof w=="function")){var T=w.then;if(typeof T=="function")return void T.call(w,function(_){x(O,_)},m)}k[O]=w,--M==0&&b(k)}catch(_){m(_)}}for(var v=0;v<k.length;v++)x(v,k[v])})},f.resolve=function(g){return g&&typeof g=="object"&&g.constructor===f?g:new f(function(b){b(g)})},f.reject=function(g){return new f(function(b,m){m(g)})},f.race=function(g){return new f(function(b,m){for(var k=0,M=g.length;k<M;k++)g[k].then(b,m)})},f._immediateFn=typeof l=="function"&&function(g){l(g)}||function(g){u(g,0)},f._unhandledRejectionFn=function(g){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",g)},s.a=f}).call(this,a(5).setImmediate)},function(r,s,a){s.a=function(l){var c=this.constructor;return this.then(function(u){return c.resolve(l()).then(function(){return u})},function(u){return c.resolve(l()).then(function(){return c.reject(u)})})}},function(r,s,a){function l(E){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(E)}a(4);var c,u,d,f,h,p,y,S=a(8),C=(u=function(E){return new Promise(function(g,b){E=f(E),(E=h(E)).beforeSend&&E.beforeSend();var m=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");m.open(E.method,E.url),m.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(E.headers).forEach(function(M){var x=E.headers[M];m.setRequestHeader(M,x)});var k=E.ratio;m.upload.addEventListener("progress",function(M){var x=Math.round(M.loaded/M.total*100),v=Math.ceil(x*k/100);E.progress(Math.min(v,100))},!1),m.addEventListener("progress",function(M){var x=Math.round(M.loaded/M.total*100),v=Math.ceil(x*(100-k)/100)+k;E.progress(Math.min(v,100))},!1),m.onreadystatechange=function(){if(m.readyState===4){var M=m.response;try{M=JSON.parse(M)}catch{}var x=S.parseHeaders(m.getAllResponseHeaders()),v={body:M,code:m.status,headers:x};y(m.status)?g(v):b(v)}},m.send(E.data)})},d=function(E){return E.method="POST",u(E)},f=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(E.url&&typeof E.url!="string")throw new Error("Url must be a string");if(E.url=E.url||"",E.method&&typeof E.method!="string")throw new Error("`method` must be a string or null");if(E.method=E.method?E.method.toUpperCase():"GET",E.headers&&l(E.headers)!=="object")throw new Error("`headers` must be an object or null");if(E.headers=E.headers||{},E.type&&(typeof E.type!="string"||!Object.values(c).includes(E.type)))throw new Error("`type` must be taken from module's \xABcontentType\xBB library");if(E.progress&&typeof E.progress!="function")throw new Error("`progress` must be a function or null");if(E.progress=E.progress||function(g){},E.beforeSend=E.beforeSend||function(g){},E.ratio&&typeof E.ratio!="number")throw new Error("`ratio` must be a number");if(E.ratio<0||E.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(E.ratio=E.ratio||90,E.accept&&typeof E.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(E.accept=E.accept||"*/*",E.multiple&&typeof E.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(E.multiple=E.multiple||!1,E.fieldName&&typeof E.fieldName!="string")throw new Error("`fieldName` must be a string");return E.fieldName=E.fieldName||"files",E},h=function(E){switch(E.method){case"GET":var g=p(E.data,c.URLENCODED);delete E.data,E.url=/\?/.test(E.url)?E.url+"&"+g:E.url+"?"+g;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var b=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||c.JSON}(E);(S.isFormData(E.data)||S.isFormElement(E.data))&&(b=c.FORM),E.data=p(E.data,b),b!==C.contentType.FORM&&(E.headers["content-type"]=b)}return E},p=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case c.URLENCODED:return S.urlEncode(E);case c.JSON:return S.jsonEncode(E);case c.FORM:return S.formEncode(E);default:return E}},y=function(E){return E>=200&&E<300},{contentType:c={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:u,get:function(E){return E.method="GET",u(E)},post:d,transport:function(E){return E=f(E),S.selectFiles(E).then(function(g){for(var b=new FormData,m=0;m<g.length;m++)b.append(E.fieldName,g[m],g[m].name);S.isObject(E.data)&&Object.keys(E.data).forEach(function(M){var x=E.data[M];b.append(M,x)});var k=E.beforeSend;return E.beforeSend=function(){return k(g)},E.data=b,d(E)})},selectFiles:function(E){return delete(E=f(E)).beforeSend,S.selectFiles(E)}});r.exports=C},function(r,s,a){a.r(s);var l=a(1);window.Promise=window.Promise||l.a},function(r,s,a){(function(l){var c=l!==void 0&&l||typeof self<"u"&&self||window,u=Function.prototype.apply;function d(f,h){this._id=f,this._clearFn=h}s.setTimeout=function(){return new d(u.call(setTimeout,c,arguments),clearTimeout)},s.setInterval=function(){return new d(u.call(setInterval,c,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(f){f&&f.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(c,this._id)},s.enroll=function(f,h){clearTimeout(f._idleTimeoutId),f._idleTimeout=h},s.unenroll=function(f){clearTimeout(f._idleTimeoutId),f._idleTimeout=-1},s._unrefActive=s.active=function(f){clearTimeout(f._idleTimeoutId);var h=f._idleTimeout;h>=0&&(f._idleTimeoutId=setTimeout(function(){f._onTimeout&&f._onTimeout()},h))},a(6),s.setImmediate=typeof self<"u"&&self.setImmediate||l!==void 0&&l.setImmediate||this&&this.setImmediate,s.clearImmediate=typeof self<"u"&&self.clearImmediate||l!==void 0&&l.clearImmediate||this&&this.clearImmediate}).call(this,a(0))},function(r,s,a){(function(l,c){(function(u,d){if(!u.setImmediate){var f,h,p,y,S,C=1,E={},g=!1,b=u.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(u);m=m&&m.setTimeout?m:u,{}.toString.call(u.process)==="[object process]"?f=function(x){c.nextTick(function(){M(x)})}:function(){if(u.postMessage&&!u.importScripts){var x=!0,v=u.onmessage;return u.onmessage=function(){x=!1},u.postMessage("","*"),u.onmessage=v,x}}()?(y="setImmediate$"+Math.random()+"$",S=function(x){x.source===u&&typeof x.data=="string"&&x.data.indexOf(y)===0&&M(+x.data.slice(y.length))},u.addEventListener?u.addEventListener("message",S,!1):u.attachEvent("onmessage",S),f=function(x){u.postMessage(y+x,"*")}):u.MessageChannel?((p=new MessageChannel).port1.onmessage=function(x){M(x.data)},f=function(x){p.port2.postMessage(x)}):b&&"onreadystatechange"in b.createElement("script")?(h=b.documentElement,f=function(x){var v=b.createElement("script");v.onreadystatechange=function(){M(x),v.onreadystatechange=null,h.removeChild(v),v=null},h.appendChild(v)}):f=function(x){setTimeout(M,0,x)},m.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var v=new Array(arguments.length-1),O=0;O<v.length;O++)v[O]=arguments[O+1];var w={callback:x,args:v};return E[C]=w,f(C),C++},m.clearImmediate=k}function k(x){delete E[x]}function M(x){if(g)setTimeout(M,0,x);else{var v=E[x];if(v){g=!0;try{(function(O){var w=O.callback,T=O.args;switch(T.length){case 0:w();break;case 1:w(T[0]);break;case 2:w(T[0],T[1]);break;case 3:w(T[0],T[1],T[2]);break;default:w.apply(void 0,T)}})(v)}finally{k(x),g=!1}}}}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,a(0),a(7))},function(r,s){var a,l,c=r.exports={};function u(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function f(m){if(a===setTimeout)return setTimeout(m,0);if((a===u||!a)&&setTimeout)return a=setTimeout,setTimeout(m,0);try{return a(m,0)}catch{try{return a.call(null,m,0)}catch{return a.call(this,m,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:u}catch{a=u}try{l=typeof clearTimeout=="function"?clearTimeout:d}catch{l=d}})();var h,p=[],y=!1,S=-1;function C(){y&&h&&(y=!1,h.length?p=h.concat(p):S=-1,p.length&&E())}function E(){if(!y){var m=f(C);y=!0;for(var k=p.length;k;){for(h=p,p=[];++S<k;)h&&h[S].run();S=-1,k=p.length}h=null,y=!1,function(M){if(l===clearTimeout)return clearTimeout(M);if((l===d||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(M);try{l(M)}catch{try{return l.call(null,M)}catch{return l.call(this,M)}}}(m)}}function g(m,k){this.fun=m,this.array=k}function b(){}c.nextTick=function(m){var k=new Array(arguments.length-1);if(arguments.length>1)for(var M=1;M<arguments.length;M++)k[M-1]=arguments[M];p.push(new g(m,k)),p.length!==1||y||f(E)},g.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=b,c.addListener=b,c.once=b,c.off=b,c.removeListener=b,c.removeAllListeners=b,c.emit=b,c.prependListener=b,c.prependOnceListener=b,c.listeners=function(m){return[]},c.binding=function(m){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(m){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(r,s,a){function l(u,d){for(var f=0;f<d.length;f++){var h=d[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}var c=a(9);r.exports=function(){function u(){(function(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,u)}var d,f;return d=u,(f=[{key:"urlEncode",value:function(h){return c(h)}},{key:"jsonEncode",value:function(h){return JSON.stringify(h)}},{key:"formEncode",value:function(h){if(this.isFormData(h))return h;if(this.isFormElement(h))return new FormData(h);if(this.isObject(h)){var p=new FormData;return Object.keys(h).forEach(function(y){var S=h[y];p.append(y,S)}),p}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(h){return Object.prototype.toString.call(h)==="[object Object]"}},{key:"isFormData",value:function(h){return h instanceof FormData}},{key:"isFormElement",value:function(h){return h instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(p,y){var S=document.createElement("INPUT");S.type="file",h.multiple&&S.setAttribute("multiple","multiple"),h.accept&&S.setAttribute("accept",h.accept),S.style.display="none",document.body.appendChild(S),S.addEventListener("change",function(C){var E=C.target.files;p(E),document.body.removeChild(S)},!1),S.click()})}},{key:"parseHeaders",value:function(h){var p=h.trim().split(/[\r\n]+/),y={};return p.forEach(function(S){var C=S.split(": "),E=C.shift(),g=C.join(": ");E&&(y[E]=g)}),y}}])&&l(d,f),u}()},function(r,s){var a=function(c){return encodeURIComponent(c).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},l=function(c,u,d,f){return u=u||null,d=d||"&",f=f||null,c?function(h){for(var p=new Array,y=0;y<h.length;y++)h[y]&&p.push(h[y]);return p}(Object.keys(c).map(function(h){var p,y,S=h;if(f&&(S=f+"["+S+"]"),typeof c[h]=="object"&&c[h]!==null)p=l(c[h],null,d,S);else{u&&(y=S,S=!isNaN(parseFloat(y))&&isFinite(y)?u+Number(S):S);var C=c[h];C=(C=(C=(C=C===!0?"1":C)===!1?"0":C)===0?"0":C)||"",p=a(S)+"="+a(C)}return p})).join(d).replace(/[!'()*]/g,""):""};r.exports=l}])},function(n,o){n.exports=function(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}},function(n,o,i){n.exports=i(10)},function(n,o){n.exports=function(i,r){(r==null||r>i.length)&&(r=i.length);for(var s=0,a=new Array(r);s<r;s++)a[s]=i[s];return a}},function(n,o,i){var r=i(4);n.exports=function(s,a){if(s){if(typeof s=="string")return r(s,a);var l=Object.prototype.toString.call(s).slice(8,-1);return l==="Object"&&s.constructor&&(l=s.constructor.name),l==="Map"||l==="Set"?Array.from(l):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?r(s,a):void 0}}},function(n,o){function i(r,s,a,l,c,u,d){try{var f=r[u](d),h=f.value}catch(p){return void a(p)}f.done?s(h):Promise.resolve(h).then(l,c)}n.exports=function(r){return function(){var s=this,a=arguments;return new Promise(function(l,c){var u=r.apply(s,a);function d(h){i(u,l,c,d,f,"next",h)}function f(h){i(u,l,c,d,f,"throw",h)}d(void 0)})}}},function(n,o,i){var r=i(15),s=i(16),a=i(5),l=i(17);n.exports=function(c){return r(c)||s(c)||a(c)||l()}},function(n,o,i){var r=i(18),s=i(19),a=i(5),l=i(20);n.exports=function(c,u){return r(c)||s(c,u)||a(c,u)||l()}},function(n,o,i){n.exports=i(21)},function(n,o,i){var r=function(s){var a=Object.prototype,l=a.hasOwnProperty,c=typeof Symbol=="function"?Symbol:{},u=c.iterator||"@@iterator",d=c.asyncIterator||"@@asyncIterator",f=c.toStringTag||"@@toStringTag";function h(B,A,N,P){var D=A&&A.prototype instanceof S?A:S,G=Object.create(D.prototype),te=new T(P||[]);return G._invoke=function(se,Ye,V){var Xe="suspendedStart";return function(pt,gt){if(Xe==="executing")throw new Error("Generator is already running");if(Xe==="completed"){if(pt==="throw")throw gt;return L()}for(V.method=pt,V.arg=gt;;){var At=V.delegate;if(At){var mt=v(At,V);if(mt){if(mt===y)continue;return mt}}if(V.method==="next")V.sent=V._sent=V.arg;else if(V.method==="throw"){if(Xe==="suspendedStart")throw Xe="completed",V.arg;V.dispatchException(V.arg)}else V.method==="return"&&V.abrupt("return",V.arg);Xe="executing";var Le=p(se,Ye,V);if(Le.type==="normal"){if(Xe=V.done?"completed":"suspendedYield",Le.arg===y)continue;return{value:Le.arg,done:V.done}}Le.type==="throw"&&(Xe="completed",V.method="throw",V.arg=Le.arg)}}}(B,N,te),G}function p(B,A,N){try{return{type:"normal",arg:B.call(A,N)}}catch(P){return{type:"throw",arg:P}}}s.wrap=h;var y={};function S(){}function C(){}function E(){}var g={};g[u]=function(){return this};var b=Object.getPrototypeOf,m=b&&b(b(_([])));m&&m!==a&&l.call(m,u)&&(g=m);var k=E.prototype=S.prototype=Object.create(g);function M(B){["next","throw","return"].forEach(function(A){B[A]=function(N){return this._invoke(A,N)}})}function x(B,A){var N;this._invoke=function(P,D){function G(){return new A(function(te,se){(function Ye(V,Xe,pt,gt){var At=p(B[V],B,Xe);if(At.type!=="throw"){var mt=At.arg,Le=mt.value;return Le&&typeof Le=="object"&&l.call(Le,"__await")?A.resolve(Le.__await).then(function(vt){Ye("next",vt,pt,gt)},function(vt){Ye("throw",vt,pt,gt)}):A.resolve(Le).then(function(vt){mt.value=vt,pt(mt)},function(vt){return Ye("throw",vt,pt,gt)})}gt(At.arg)})(P,D,te,se)})}return N=N?N.then(G,G):G()}}function v(B,A){var N=B.iterator[A.method];if(N===void 0){if(A.delegate=null,A.method==="throw"){if(B.iterator.return&&(A.method="return",A.arg=void 0,v(B,A),A.method==="throw"))return y;A.method="throw",A.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var P=p(N,B.iterator,A.arg);if(P.type==="throw")return A.method="throw",A.arg=P.arg,A.delegate=null,y;var D=P.arg;return D?D.done?(A[B.resultName]=D.value,A.next=B.nextLoc,A.method!=="return"&&(A.method="next",A.arg=void 0),A.delegate=null,y):D:(A.method="throw",A.arg=new TypeError("iterator result is not an object"),A.delegate=null,y)}function O(B){var A={tryLoc:B[0]};1 in B&&(A.catchLoc=B[1]),2 in B&&(A.finallyLoc=B[2],A.afterLoc=B[3]),this.tryEntries.push(A)}function w(B){var A=B.completion||{};A.type="normal",delete A.arg,B.completion=A}function T(B){this.tryEntries=[{tryLoc:"root"}],B.forEach(O,this),this.reset(!0)}function _(B){if(B){var A=B[u];if(A)return A.call(B);if(typeof B.next=="function")return B;if(!isNaN(B.length)){var N=-1,P=function D(){for(;++N<B.length;)if(l.call(B,N))return D.value=B[N],D.done=!1,D;return D.value=void 0,D.done=!0,D};return P.next=P}}return{next:L}}function L(){return{value:void 0,done:!0}}return C.prototype=k.constructor=E,E.constructor=C,E[f]=C.displayName="GeneratorFunction",s.isGeneratorFunction=function(B){var A=typeof B=="function"&&B.constructor;return!!A&&(A===C||(A.displayName||A.name)==="GeneratorFunction")},s.mark=function(B){return Object.setPrototypeOf?Object.setPrototypeOf(B,E):(B.__proto__=E,f in B||(B[f]="GeneratorFunction")),B.prototype=Object.create(k),B},s.awrap=function(B){return{__await:B}},M(x.prototype),x.prototype[d]=function(){return this},s.AsyncIterator=x,s.async=function(B,A,N,P,D){D===void 0&&(D=Promise);var G=new x(h(B,A,N,P),D);return s.isGeneratorFunction(A)?G:G.next().then(function(te){return te.done?te.value:G.next()})},M(k),k[f]="Generator",k[u]=function(){return this},k.toString=function(){return"[object Generator]"},s.keys=function(B){var A=[];for(var N in B)A.push(N);return A.reverse(),function P(){for(;A.length;){var D=A.pop();if(D in B)return P.value=D,P.done=!1,P}return P.done=!0,P}},s.values=_,T.prototype={constructor:T,reset:function(B){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!B)for(var A in this)A.charAt(0)==="t"&&l.call(this,A)&&!isNaN(+A.slice(1))&&(this[A]=void 0)},stop:function(){this.done=!0;var B=this.tryEntries[0].completion;if(B.type==="throw")throw B.arg;return this.rval},dispatchException:function(B){if(this.done)throw B;var A=this;function N(Ye,V){return G.type="throw",G.arg=B,A.next=Ye,V&&(A.method="next",A.arg=void 0),!!V}for(var P=this.tryEntries.length-1;P>=0;--P){var D=this.tryEntries[P],G=D.completion;if(D.tryLoc==="root")return N("end");if(D.tryLoc<=this.prev){var te=l.call(D,"catchLoc"),se=l.call(D,"finallyLoc");if(te&&se){if(this.prev<D.catchLoc)return N(D.catchLoc,!0);if(this.prev<D.finallyLoc)return N(D.finallyLoc)}else if(te){if(this.prev<D.catchLoc)return N(D.catchLoc,!0)}else{if(!se)throw new Error("try statement without catch or finally");if(this.prev<D.finallyLoc)return N(D.finallyLoc)}}}},abrupt:function(B,A){for(var N=this.tryEntries.length-1;N>=0;--N){var P=this.tryEntries[N];if(P.tryLoc<=this.prev&&l.call(P,"finallyLoc")&&this.prev<P.finallyLoc){var D=P;break}}D&&(B==="break"||B==="continue")&&D.tryLoc<=A&&A<=D.finallyLoc&&(D=null);var G=D?D.completion:{};return G.type=B,G.arg=A,D?(this.method="next",this.next=D.finallyLoc,y):this.complete(G)},complete:function(B,A){if(B.type==="throw")throw B.arg;return B.type==="break"||B.type==="continue"?this.next=B.arg:B.type==="return"?(this.rval=this.arg=B.arg,this.method="return",this.next="end"):B.type==="normal"&&A&&(this.next=A),y},finish:function(B){for(var A=this.tryEntries.length-1;A>=0;--A){var N=this.tryEntries[A];if(N.finallyLoc===B)return this.complete(N.completion,N.afterLoc),w(N),y}},catch:function(B){for(var A=this.tryEntries.length-1;A>=0;--A){var N=this.tryEntries[A];if(N.tryLoc===B){var P=N.completion;if(P.type==="throw"){var D=P.arg;w(N)}return D}}throw new Error("illegal catch attempt")},delegateYield:function(B,A,N){return this.delegate={iterator:_(B),resultName:A,nextLoc:N},this.method==="next"&&(this.arg=void 0),y}},s}(n.exports);try{regeneratorRuntime=r}catch{Function("r","regeneratorRuntime = r")(r)}},function(n,o,i){var r=i(12),s=i(13);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var a={insert:"head",singleton:!1},l=(r(s,a),s.locals?s.locals:{});n.exports=l},function(n,o,i){var r,s=function(){return r===void 0&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},a=function(){var g={};return function(b){if(g[b]===void 0){var m=document.querySelector(b);if(window.HTMLIFrameElement&&m instanceof window.HTMLIFrameElement)try{m=m.contentDocument.head}catch{m=null}g[b]=m}return g[b]}}(),l=[];function c(g){for(var b=-1,m=0;m<l.length;m++)if(l[m].identifier===g){b=m;break}return b}function u(g,b){for(var m={},k=[],M=0;M<g.length;M++){var x=g[M],v=b.base?x[0]+b.base:x[0],O=m[v]||0,w="".concat(v," ").concat(O);m[v]=O+1;var T=c(w),_={css:x[1],media:x[2],sourceMap:x[3]};T!==-1?(l[T].references++,l[T].updater(_)):l.push({identifier:w,updater:E(_,b),references:1}),k.push(w)}return k}function d(g){var b=document.createElement("style"),m=g.attributes||{};if(m.nonce===void 0){var k=i.nc;k&&(m.nonce=k)}if(Object.keys(m).forEach(function(x){b.setAttribute(x,m[x])}),typeof g.insert=="function")g.insert(b);else{var M=a(g.insert||"head");if(!M)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");M.appendChild(b)}return b}var f,h=(f=[],function(g,b){return f[g]=b,f.filter(Boolean).join(`
`)});function p(g,b,m,k){var M=m?"":k.media?"@media ".concat(k.media," {").concat(k.css,"}"):k.css;if(g.styleSheet)g.styleSheet.cssText=h(b,M);else{var x=document.createTextNode(M),v=g.childNodes;v[b]&&g.removeChild(v[b]),v.length?g.insertBefore(x,v[b]):g.appendChild(x)}}function y(g,b,m){var k=m.css,M=m.media,x=m.sourceMap;if(M?g.setAttribute("media",M):g.removeAttribute("media"),x&&btoa&&(k+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(x))))," */")),g.styleSheet)g.styleSheet.cssText=k;else{for(;g.firstChild;)g.removeChild(g.firstChild);g.appendChild(document.createTextNode(k))}}var S=null,C=0;function E(g,b){var m,k,M;if(b.singleton){var x=C++;m=S||(S=d(b)),k=p.bind(null,m,x,!1),M=p.bind(null,m,x,!0)}else m=d(b),k=y.bind(null,m,b),M=function(){(function(v){if(v.parentNode===null)return!1;v.parentNode.removeChild(v)})(m)};return k(g),function(v){if(v){if(v.css===g.css&&v.media===g.media&&v.sourceMap===g.sourceMap)return;k(g=v)}else M()}}n.exports=function(g,b){(b=b||{}).singleton||typeof b.singleton=="boolean"||(b.singleton=s());var m=u(g=g||[],b);return function(k){if(k=k||[],Object.prototype.toString.call(k)==="[object Array]"){for(var M=0;M<m.length;M++){var x=c(m[M]);l[x].references--}for(var v=u(k,b),O=0;O<m.length;O++){var w=c(m[O]);l[w].references===0&&(l[w].updater(),l.splice(w,1))}m=v}}}},function(n,o,i){(o=i(14)(!1)).push([n.i,`.image-tool {
  --bg-color: #cdd1e0;
  --front-color: #388ae5;
  --border-color: #e8e8eb;

}

  .image-tool__image {
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 10px;
  }

  .image-tool__image-picture {
      max-width: 100%;
      vertical-align: bottom;
      display: block;
    }

  .image-tool__image-preloader {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-size: cover;
      margin: auto;
      position: relative;
      background-color: var(--bg-color);
      background-position: center center;
    }

  .image-tool__image-preloader::after {
        content: "";
        position: absolute;
        z-index: 3;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        border: 2px solid var(--bg-color);
        border-top-color: var(--front-color);
        left: 50%;
        top: 50%;
        margin-top: -30px;
        margin-left: -30px;
        animation: image-preloader-spin 2s infinite linear;
        box-sizing: border-box;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]::before {
      position: absolute !important;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      display: none;
    }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty::before {
        display: block;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty:focus::before {
        display: none;
      }

  .image-tool--empty .image-tool__image {
      display: none;
    }

  .image-tool--empty .image-tool__caption, .image-tool--loading .image-tool__caption {
      display: none;
    }

  .image-tool .cdx-button {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .image-tool .cdx-button svg {
      height: auto;
      margin: 0 6px 0 0;
    }

  .image-tool--filled .cdx-button {
      display: none;
    }

  .image-tool--filled .image-tool__image-preloader {
        display: none;
      }

  .image-tool--loading .image-tool__image {
      min-height: 200px;
      display: flex;
      border: 1px solid var(--border-color);
      background-color: #fff;
    }

  .image-tool--loading .image-tool__image-picture {
        display: none;
      }

  .image-tool--loading .cdx-button {
      display: none;
    }

  /**
   * Tunes
   * ----------------
   */

  .image-tool--withBorder .image-tool__image {
      border: 1px solid var(--border-color);
    }

  .image-tool--withBackground .image-tool__image {
      padding: 15px;
      background: var(--bg-color);
    }

  .image-tool--withBackground .image-tool__image-picture {
        max-width: 60%;
        margin: 0 auto;
      }

  .image-tool--stretched .image-tool__image-picture {
        width: 100%;
      }

@keyframes image-preloader-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,""]),n.exports=o},function(n,o,i){n.exports=function(r){var s=[];return s.toString=function(){return this.map(function(a){var l=function(c,u){var d=c[1]||"",f=c[3];if(!f)return d;if(u&&typeof btoa=="function"){var h=(y=f,S=btoa(unescape(encodeURIComponent(JSON.stringify(y)))),C="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(S),"/*# ".concat(C," */")),p=f.sources.map(function(E){return"/*# sourceURL=".concat(f.sourceRoot||"").concat(E," */")});return[d].concat(p).concat([h]).join(`
`)}var y,S,C;return[d].join(`
`)}(a,r);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},s.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var u={};if(c)for(var d=0;d<this.length;d++){var f=this[d][0];f!=null&&(u[f]=!0)}for(var h=0;h<a.length;h++){var p=[].concat(a[h]);c&&u[p[0]]||(l&&(p[2]?p[2]="".concat(l," and ").concat(p[2]):p[2]=l),s.push(p))}},s}},function(n,o,i){var r=i(4);n.exports=function(s){if(Array.isArray(s))return r(s)}},function(n,o){n.exports=function(i){if(typeof Symbol<"u"&&Symbol.iterator in Object(i))return Array.from(i)}},function(n,o){n.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,o){n.exports=function(i){if(Array.isArray(i))return i}},function(n,o){n.exports=function(i,r){if(typeof Symbol<"u"&&Symbol.iterator in Object(i)){var s=[],a=!0,l=!1,c=void 0;try{for(var u,d=i[Symbol.iterator]();!(a=(u=d.next()).done)&&(s.push(u.value),!r||s.length!==r);a=!0);}catch(f){l=!0,c=f}finally{try{a||d.return==null||d.return()}finally{if(l)throw c}}return s}}},function(n,o){n.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,o,i){i.r(o),i.d(o,"default",function(){return x});var r=i(3),s=i.n(r),a=i(6),l=i.n(a),c=i(2),u=i.n(c),d=i(0),f=i.n(d);i(11);const h='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>';var p=i(7),y=i.n(p);function S(v){var O,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_=document.createElement(v);Array.isArray(w)?(O=_.classList).add.apply(O,y()(w)):w&&_.classList.add(w);for(var L in T)_[L]=T[L];return _}var C=function(){function v(O){var w=O.api,T=O.config,_=O.onSelectFile,L=O.readOnly;u()(this,v),this.api=w,this.config=T,this.onSelectFile=_,this.readOnly=L,this.nodes={wrapper:S("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:S("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:S("div",this.CSS.imagePreloader),caption:S("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}return f()(v,[{key:"render",value:function(O){return O.file&&Object.keys(O.file).length!==0?this.toggleStatus(v.status.UPLOADING):this.toggleStatus(v.status.EMPTY),this.nodes.wrapper}},{key:"createFileButton",value:function(){var O=this,w=S("div",[this.CSS.button]);return w.innerHTML=this.config.buttonContent||"".concat(h," ").concat(this.api.i18n.t("Select an Image")),w.addEventListener("click",function(){O.onSelectFile()}),w}},{key:"showPreloader",value:function(O){this.nodes.imagePreloader.style.backgroundImage="url(".concat(O,")"),this.toggleStatus(v.status.UPLOADING)}},{key:"hidePreloader",value:function(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus(v.status.EMPTY)}},{key:"fillImage",value:function(O){var w=this,T=/\.mp4$/.test(O)?"VIDEO":"IMG",_={src:O},L="load";T==="VIDEO"&&(_.autoplay=!0,_.loop=!0,_.muted=!0,_.playsinline=!0,L="loadeddata"),this.nodes.imageEl=S(T,this.CSS.imageEl,_),this.nodes.imageEl.addEventListener(L,function(){w.toggleStatus(v.status.FILLED),w.nodes.imagePreloader&&(w.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}},{key:"fillCaption",value:function(O){this.nodes.caption&&(this.nodes.caption.innerHTML=O)}},{key:"toggleStatus",value:function(O){for(var w in v.status)Object.prototype.hasOwnProperty.call(v.status,w)&&this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(v.status[w]),O===v.status[w])}},{key:"applyTune",value:function(O,w){this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(O),w)}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}}],[{key:"status",get:function(){return{EMPTY:"empty",UPLOADING:"loading",FILLED:"filled"}}}]),v}(),E=i(8),g=i.n(E),b=i(1),m=i.n(b);function k(v){return v&&typeof v.then=="function"}var M=function(){function v(O){var w=O.config,T=O.onUpload,_=O.onError;u()(this,v),this.config=w,this.onUpload=T,this.onError=_}return f()(v,[{key:"uploadSelectedFile",value:function(O){var w=this,T=O.onPreview,_=function(L){var B=new FileReader;B.readAsDataURL(L),B.onload=function(A){T(A.target.result)}};(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?m.a.selectFiles({accept:this.config.types}).then(function(L){_(L[0]);var B=w.config.uploader.uploadByFile(L[0]);return k(B)||console.warn("Custom uploader method uploadByFile should return a Promise"),B}):m.a.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:function(L){_(L[0])},fieldName:this.config.field}).then(function(L){return L.body})).then(function(L){w.onUpload(L)}).catch(function(L){w.onError(L)})}},{key:"uploadByUrl",value:function(O){var w,T=this;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?k(w=this.config.uploader.uploadByUrl(O))||console.warn("Custom uploader method uploadByUrl should return a Promise"):w=m.a.post({url:this.config.endpoints.byUrl,data:Object.assign({url:O},this.config.additionalRequestData),type:m.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(_){return _.body}),w.then(function(_){T.onUpload(_)}).catch(function(_){T.onError(_)})}},{key:"uploadByFile",value:function(O,w){var T,_=this,L=w.onPreview,B=new FileReader;if(B.readAsDataURL(O),B.onload=function(N){L(N.target.result)},this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")k(T=this.config.uploader.uploadByFile(O))||console.warn("Custom uploader method uploadByFile should return a Promise");else{var A=new FormData;A.append(this.config.field,O),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(function(N){var P=g()(N,2),D=P[0],G=P[1];A.append(D,G)}),T=m.a.post({url:this.config.endpoints.byFile,data:A,type:m.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(N){return N.body})}T.then(function(N){_.onUpload(N)}).catch(function(N){_.onError(N)})}}]),v}(),x=function(){function v(w){var T=this,_=w.data,L=w.config,B=w.api,A=w.readOnly;u()(this,v),this.api=B,this.readOnly=A,this.config={endpoints:L.endpoints||"",additionalRequestData:L.additionalRequestData||{},additionalRequestHeaders:L.additionalRequestHeaders||{},field:L.field||"image",types:L.types||"image/*",captionPlaceholder:this.api.i18n.t(L.captionPlaceholder||"Caption"),buttonContent:L.buttonContent||"",uploader:L.uploader||void 0,actions:L.actions||[]},this.uploader=new M({config:this.config,onUpload:function(N){return T.onUpload(N)},onError:function(N){return T.uploadingFailed(N)}}),this.ui=new C({api:B,config:this.config,onSelectFile:function(){T.uploader.uploadSelectedFile({onPreview:function(N){T.ui.showPreloader(N)}})},readOnly:A}),this._data={},this.data=_}var O;return f()(v,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:h,title:"Image"}}},{key:"tunes",get:function(){return[{name:"withBorder",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',title:"With border",toggle:!0},{name:"stretched",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>',title:"Stretch image",toggle:!0},{name:"withBackground",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',title:"With background",toggle:!0}]}}]),f()(v,[{key:"render",value:function(){return this.ui.render(this.data)}},{key:"validate",value:function(w){return w.file&&w.file.url}},{key:"save",value:function(){var w=this.ui.nodes.caption;return this._data.caption=w.innerHTML,this.data}},{key:"renderSettings",value:function(){var w=this;return v.tunes.concat(this.config.actions).map(function(T){return{icon:T.icon,label:w.api.i18n.t(T.title),name:T.name,toggle:T.toggle,isActive:w.data[T.name],onActivate:function(){typeof T.action!="function"?w.tuneToggled(T.name):T.action(T.name)}}})}},{key:"appendCallback",value:function(){this.ui.nodes.fileButton.click()}},{key:"onPaste",value:(O=l()(s.a.mark(function w(T){var _,L,B,A,N;return s.a.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:P.t0=T.type,P.next=P.t0==="tag"?3:P.t0==="pattern"?15:P.t0==="file"?18:21;break;case 3:if(_=T.detail.data,!/^blob:/.test(_.src)){P.next=13;break}return P.next=7,fetch(_.src);case 7:return L=P.sent,P.next=10,L.blob();case 10:return B=P.sent,this.uploadFile(B),P.abrupt("break",21);case 13:return this.uploadUrl(_.src),P.abrupt("break",21);case 15:return A=T.detail.data,this.uploadUrl(A),P.abrupt("break",21);case 18:return N=T.detail.file,this.uploadFile(N),P.abrupt("break",21);case 21:case"end":return P.stop()}},w,this)})),function(w){return O.apply(this,arguments)})},{key:"onUpload",value:function(w){w.success&&w.file?this.image=w.file:this.uploadingFailed("incorrect response: "+JSON.stringify(w))}},{key:"uploadingFailed",value:function(w){console.log("Image Tool: uploading failed because of",w),this.api.notifier.show({message:this.api.i18n.t("Couldn\u2019t upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}},{key:"tuneToggled",value:function(w){this.setTune(w,!this._data[w])}},{key:"setTune",value:function(w,T){var _=this;this._data[w]=T,this.ui.applyTune(w,T),w==="stretched"&&Promise.resolve().then(function(){var L=_.api.blocks.getCurrentBlockIndex();_.api.blocks.stretchBlock(L,T)}).catch(function(L){console.error(L)})}},{key:"uploadFile",value:function(w){var T=this;this.uploader.uploadByFile(w,{onPreview:function(_){T.ui.showPreloader(_)}})}},{key:"uploadUrl",value:function(w){this.ui.showPreloader(w),this.uploader.uploadByUrl(w)}},{key:"data",set:function(w){var T=this;this.image=w.file,this._data.caption=w.caption||"",this.ui.fillCaption(this._data.caption),v.tunes.forEach(function(_){var L=_.name,B=w[L]!==void 0&&(w[L]===!0||w[L]==="true");T.setTune(L,B)})},get:function(){return this._data}},{key:"image",set:function(w){this._data.file=w||{},w&&w.url&&this.ui.fillImage(w.url)}}],[{key:"pasteConfig",get:function(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}}]),v}();/**
 * Image Tool for the Editor.js
 *
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.js — main Tool's interface, public API and methods for working with data
 *  2) uploader.js — module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.js — module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js — working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */}]).default})})(Ga);const If=ht(Ga.exports);var Va={exports:{}};(function(t,e){(function(n,o){t.exports=o()})(window,function(){return function(n){var o={};function i(r){if(o[r])return o[r].exports;var s=o[r]={i:r,l:!1,exports:{}};return n[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=o,i.d=function(r,s,a){i.o(r,s)||Object.defineProperty(r,s,{enumerable:!0,get:a})},i.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},i.t=function(r,s){if(1&s&&(r=i(r)),8&s||4&s&&typeof r=="object"&&r&&r.__esModule)return r;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),2&s&&typeof r!="string")for(var l in r)i.d(a,l,function(c){return r[c]}.bind(null,l));return a},i.n=function(r){var s=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(s,"a",s),s},i.o=function(r,s){return Object.prototype.hasOwnProperty.call(r,s)},i.p="/",i(i.s=4)}([function(n,o,i){var r=i(1),s=i(2);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var a={insert:"head",singleton:!1};r(s,a),n.exports=s.locals||{}},function(n,o,i){var r,s=function(){return r===void 0&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},a=function(){var g={};return function(b){if(g[b]===void 0){var m=document.querySelector(b);if(window.HTMLIFrameElement&&m instanceof window.HTMLIFrameElement)try{m=m.contentDocument.head}catch{m=null}g[b]=m}return g[b]}}(),l=[];function c(g){for(var b=-1,m=0;m<l.length;m++)if(l[m].identifier===g){b=m;break}return b}function u(g,b){for(var m={},k=[],M=0;M<g.length;M++){var x=g[M],v=b.base?x[0]+b.base:x[0],O=m[v]||0,w="".concat(v," ").concat(O);m[v]=O+1;var T=c(w),_={css:x[1],media:x[2],sourceMap:x[3]};T!==-1?(l[T].references++,l[T].updater(_)):l.push({identifier:w,updater:E(_,b),references:1}),k.push(w)}return k}function d(g){var b=document.createElement("style"),m=g.attributes||{};if(m.nonce===void 0){var k=i.nc;k&&(m.nonce=k)}if(Object.keys(m).forEach(function(x){b.setAttribute(x,m[x])}),typeof g.insert=="function")g.insert(b);else{var M=a(g.insert||"head");if(!M)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");M.appendChild(b)}return b}var f,h=(f=[],function(g,b){return f[g]=b,f.filter(Boolean).join(`
`)});function p(g,b,m,k){var M=m?"":k.media?"@media ".concat(k.media," {").concat(k.css,"}"):k.css;if(g.styleSheet)g.styleSheet.cssText=h(b,M);else{var x=document.createTextNode(M),v=g.childNodes;v[b]&&g.removeChild(v[b]),v.length?g.insertBefore(x,v[b]):g.appendChild(x)}}function y(g,b,m){var k=m.css,M=m.media,x=m.sourceMap;if(M?g.setAttribute("media",M):g.removeAttribute("media"),x&&btoa&&(k+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(x))))," */")),g.styleSheet)g.styleSheet.cssText=k;else{for(;g.firstChild;)g.removeChild(g.firstChild);g.appendChild(document.createTextNode(k))}}var S=null,C=0;function E(g,b){var m,k,M;if(b.singleton){var x=C++;m=S||(S=d(b)),k=p.bind(null,m,x,!1),M=p.bind(null,m,x,!0)}else m=d(b),k=y.bind(null,m,b),M=function(){(function(v){if(v.parentNode===null)return!1;v.parentNode.removeChild(v)})(m)};return k(g),function(v){if(v){if(v.css===g.css&&v.media===g.media&&v.sourceMap===g.sourceMap)return;k(g=v)}else M()}}n.exports=function(g,b){(b=b||{}).singleton||typeof b.singleton=="boolean"||(b.singleton=s());var m=u(g=g||[],b);return function(k){if(k=k||[],Object.prototype.toString.call(k)==="[object Array]"){for(var M=0;M<m.length;M++){var x=c(m[M]);l[x].references--}for(var v=u(k,b),O=0;O<m.length;O++){var w=c(m[O]);l[w].references===0&&(l[w].updater(),l.splice(w,1))}m=v}}}},function(n,o,i){(o=i(3)(!1)).push([n.i,`.cdx-list {
    margin: 0;
    padding-left: 40px;
    outline: none;
}

    .cdx-list__item {
        padding: 5.5px 0 5.5px 3px;
        line-height: 1.6em;
    }

    .cdx-list--unordered {
        list-style: disc;
    }

    .cdx-list--ordered {
        list-style: decimal;
    }

    .cdx-list-settings {
        display: flex;
    }

    .cdx-list-settings .cdx-settings-button {
            width: 50%;
        }
`,""]),n.exports=o},function(n,o,i){n.exports=function(r){var s=[];return s.toString=function(){return this.map(function(a){var l=function(c,u){var d=c[1]||"",f=c[3];if(!f)return d;if(u&&typeof btoa=="function"){var h=(y=f,S=btoa(unescape(encodeURIComponent(JSON.stringify(y)))),C="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(S),"/*# ".concat(C," */")),p=f.sources.map(function(E){return"/*# sourceURL=".concat(f.sourceRoot||"").concat(E," */")});return[d].concat(p).concat([h]).join(`
`)}var y,S,C;return[d].join(`
`)}(a,r);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},s.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var u={};if(c)for(var d=0;d<this.length;d++){var f=this[d][0];f!=null&&(u[f]=!0)}for(var h=0;h<a.length;h++){var p=[].concat(a[h]);c&&u[p[0]]||(l&&(p[2]?p[2]="".concat(l," and ").concat(p[2]):p[2]=l),s.push(p))}},s}},function(n,o,i){i.r(o),i.d(o,"default",function(){return h}),i(0);const r='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>';function s(p){return function(y){if(Array.isArray(y))return a(y)}(p)||function(y){if(typeof Symbol<"u"&&Symbol.iterator in Object(y))return Array.from(y)}(p)||function(y,S){if(!!y){if(typeof y=="string")return a(y,S);var C=Object.prototype.toString.call(y).slice(8,-1);if(C==="Object"&&y.constructor&&(C=y.constructor.name),C==="Map"||C==="Set")return Array.from(y);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return a(y,S)}}(p)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function a(p,y){(y==null||y>p.length)&&(y=p.length);for(var S=0,C=new Array(y);S<y;S++)C[S]=p[S];return C}function l(p,y){var S=Object.keys(p);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(p);y&&(C=C.filter(function(E){return Object.getOwnPropertyDescriptor(p,E).enumerable})),S.push.apply(S,C)}return S}function c(p){for(var y=1;y<arguments.length;y++){var S=arguments[y]!=null?arguments[y]:{};y%2?l(Object(S),!0).forEach(function(C){u(p,C,S[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(S)):l(Object(S)).forEach(function(C){Object.defineProperty(p,C,Object.getOwnPropertyDescriptor(S,C))})}return p}function u(p,y,S){return y in p?Object.defineProperty(p,y,{value:S,enumerable:!0,configurable:!0,writable:!0}):p[y]=S,p}function d(p,y){for(var S=0;S<y.length;S++){var C=y[S];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}function f(p,y,S){return y&&d(p.prototype,y),S&&d(p,S),p}var h=function(){function p(y){var S=y.data,C=y.config,E=y.api,g=y.readOnly;(function(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")})(this,p),this._elements={wrapper:null},this.api=E,this.readOnly=g,this.settings=[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:r,default:C.defaultStyle==="unordered"||!1},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>',default:C.defaultStyle==="ordered"||!0}],this._data={style:this.settings.find(function(b){return b.default===!0}).name,items:[]},this.data=S}return f(p,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:r,title:"List"}}}]),f(p,[{key:"render",value:function(){var y=this;return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach(function(S){y._elements.wrapper.appendChild(y._make("li",y.CSS.item,{innerHTML:S}))}):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",function(S){switch(S.keyCode){case 13:y.getOutofList(S);break;case 8:y.backspace(S)}},!1),this._elements.wrapper}},{key:"save",value:function(){return this.data}},{key:"renderSettings",value:function(){var y=this;return this.settings.map(function(S){return c(c({},S),{},{isActive:y._data.style===S.name,closeOnActivate:!0,onActivate:function(){return y.toggleTune(S.name)}})})}},{key:"onPaste",value:function(y){var S=y.detail.data;this.data=this.pasteHandler(S)}},{key:"makeMainTag",value:function(y){var S=y==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered,C=y==="ordered"?"ol":"ul";return this._make(C,[this.CSS.baseBlock,this.CSS.wrapper,S],{contentEditable:!this.readOnly})}},{key:"toggleTune",value:function(y){for(var S=this.makeMainTag(y);this._elements.wrapper.hasChildNodes();)S.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(S),this._elements.wrapper=S,this._data.style=y}},{key:"_make",value:function(y){var S,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=document.createElement(y);Array.isArray(C)?(S=g.classList).add.apply(S,s(C)):C&&g.classList.add(C);for(var b in E)g[b]=E[b];return g}},{key:"getOutofList",value:function(y){var S=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(!(S.length<2)){var C=S[S.length-1],E=this.currentItem;E!==C||C.textContent.trim().length||(E.parentElement.removeChild(E),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),y.preventDefault(),y.stopPropagation())}}},{key:"backspace",value:function(y){var S=this._elements.wrapper.querySelectorAll("."+this.CSS.item),C=S[0];C&&S.length<2&&!C.innerHTML.replace("<br>"," ").trim()&&y.preventDefault()}},{key:"selectItem",value:function(y){y.preventDefault();var S=window.getSelection(),C=S.anchorNode.parentNode.closest("."+this.CSS.item),E=new Range;E.selectNodeContents(C),S.removeAllRanges(),S.addRange(E)}},{key:"pasteHandler",value:function(y){var S,C=y.tagName;switch(C){case"OL":S="ordered";break;case"UL":case"LI":S="unordered"}var E={style:S,items:[]};if(C==="LI")E.items=[y.innerHTML];else{var g=Array.from(y.querySelectorAll("LI"));E.items=g.map(function(b){return b.innerHTML}).filter(function(b){return!!b.trim()})}return E}},{key:"CSS",get:function(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item"}}},{key:"data",set:function(y){y||(y={}),this._data.style=y.style||this.settings.find(function(C){return C.default===!0}).name,this._data.items=y.items||[];var S=this._elements.wrapper;S&&S.parentNode.replaceChild(this.render(),S)},get:function(){this._data.items=[];for(var y=this._elements.wrapper.querySelectorAll(".".concat(this.CSS.item)),S=0;S<y.length;S++)y[S].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(y[S].innerHTML);return this._data}},{key:"currentItem",get:function(){var y=window.getSelection().anchorNode;return y.nodeType!==Node.ELEMENT_NODE&&(y=y.parentNode),y.closest(".".concat(this.CSS.item))}}],[{key:"conversionConfig",get:function(){return{export:function(y){return y.items.join(". ")},import:function(y){return{items:[y],style:"unordered"}}}}},{key:"sanitize",get:function(){return{style:{},items:{br:!0}}}},{key:"pasteConfig",get:function(){return{tags:["OL","UL","LI"]}}}]),p}()}]).default})})(Va);const Pf=ht(Va.exports);var qa={exports:{}};(function(t,e){(function(n,o){t.exports=o()})(window,function(){return function(n){var o={};function i(r){if(o[r])return o[r].exports;var s=o[r]={i:r,l:!1,exports:{}};return n[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=o,i.d=function(r,s,a){i.o(r,s)||Object.defineProperty(r,s,{enumerable:!0,get:a})},i.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},i.t=function(r,s){if(1&s&&(r=i(r)),8&s||4&s&&typeof r=="object"&&r&&r.__esModule)return r;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),2&s&&typeof r!="string")for(var l in r)i.d(a,l,function(c){return r[c]}.bind(null,l));return a},i.n=function(r){var s=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(s,"a",s),s},i.o=function(r,s){return Object.prototype.hasOwnProperty.call(r,s)},i.p="/",i(i.s=5)}([function(n,o,i){var r=i(1);typeof r=="string"&&(r=[[n.i,r,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(3)(r,s),r.locals&&(n.exports=r.locals)},function(n,o,i){(n.exports=i(2)(!1)).push([n.i,`/**
 * Plugin styles
 */
.ce-header {
  padding: 0.6em 0 3px;
  margin: 0;
  line-height: 1.25em;
  outline: none;
}

.ce-header p,
.ce-header div{
  padding: 0 !important;
  margin: 0 !important;
}

/**
 * Styles for Plugin icon in Toolbar
 */
.ce-header__icon {}

.ce-header[contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  display: none;
  cursor: text;
}

.ce-header[contentEditable=true][data-placeholder]:empty::before {
  display: block;
}

.ce-header[contentEditable=true][data-placeholder]:empty:focus::before {
  display: none;
}
`,""])},function(n,o){n.exports=function(i){var r=[];return r.toString=function(){return this.map(function(s){var a=function(l,c){var u=l[1]||"",d=l[3];if(!d)return u;if(c&&typeof btoa=="function"){var f=(p=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),h=d.sources.map(function(y){return"/*# sourceURL="+d.sourceRoot+y+" */"});return[u].concat(h).concat([f]).join(`
`)}var p;return[u].join(`
`)}(s,i);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},r.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<s.length;c++){var d=s[c];typeof d[0]=="number"&&l[d[0]]||(a&&!d[2]?d[2]=a:a&&(d[2]="("+d[2]+") and ("+a+")"),r.push(d))}},r}},function(n,o,i){var r,s,a={},l=(r=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=r.apply(this,arguments)),s}),c=function(w){return document.querySelector(w)},u=function(w){var T={};return function(_){if(typeof _=="function")return _();if(T[_]===void 0){var L=c.call(this,_);if(window.HTMLIFrameElement&&L instanceof window.HTMLIFrameElement)try{L=L.contentDocument.head}catch{L=null}T[_]=L}return T[_]}}(),d=null,f=0,h=[],p=i(4);function y(w,T){for(var _=0;_<w.length;_++){var L=w[_],B=a[L.id];if(B){B.refs++;for(var A=0;A<B.parts.length;A++)B.parts[A](L.parts[A]);for(;A<L.parts.length;A++)B.parts.push(m(L.parts[A],T))}else{var N=[];for(A=0;A<L.parts.length;A++)N.push(m(L.parts[A],T));a[L.id]={id:L.id,refs:1,parts:N}}}}function S(w,T){for(var _=[],L={},B=0;B<w.length;B++){var A=w[B],N=T.base?A[0]+T.base:A[0],P={css:A[1],media:A[2],sourceMap:A[3]};L[N]?L[N].parts.push(P):_.push(L[N]={id:N,parts:[P]})}return _}function C(w,T){var _=u(w.insertInto);if(!_)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var L=h[h.length-1];if(w.insertAt==="top")L?L.nextSibling?_.insertBefore(T,L.nextSibling):_.appendChild(T):_.insertBefore(T,_.firstChild),h.push(T);else if(w.insertAt==="bottom")_.appendChild(T);else{if(typeof w.insertAt!="object"||!w.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var B=u(w.insertInto+" "+w.insertAt.before);_.insertBefore(T,B)}}function E(w){if(w.parentNode===null)return!1;w.parentNode.removeChild(w);var T=h.indexOf(w);T>=0&&h.splice(T,1)}function g(w){var T=document.createElement("style");return w.attrs.type===void 0&&(w.attrs.type="text/css"),b(T,w.attrs),C(w,T),T}function b(w,T){Object.keys(T).forEach(function(_){w.setAttribute(_,T[_])})}function m(w,T){var _,L,B,A;if(T.transform&&w.css){if(!(A=T.transform(w.css)))return function(){};w.css=A}if(T.singleton){var N=f++;_=d||(d=g(T)),L=x.bind(null,_,N,!1),B=x.bind(null,_,N,!0)}else w.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(_=function(P){var D=document.createElement("link");return P.attrs.type===void 0&&(P.attrs.type="text/css"),P.attrs.rel="stylesheet",b(D,P.attrs),C(P,D),D}(T),L=O.bind(null,_,T),B=function(){E(_),_.href&&URL.revokeObjectURL(_.href)}):(_=g(T),L=v.bind(null,_),B=function(){E(_)});return L(w),function(P){if(P){if(P.css===w.css&&P.media===w.media&&P.sourceMap===w.sourceMap)return;L(w=P)}else B()}}n.exports=function(w,T){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(T=T||{}).attrs=typeof T.attrs=="object"?T.attrs:{},T.singleton||typeof T.singleton=="boolean"||(T.singleton=l()),T.insertInto||(T.insertInto="head"),T.insertAt||(T.insertAt="bottom");var _=S(w,T);return y(_,T),function(L){for(var B=[],A=0;A<_.length;A++){var N=_[A];(P=a[N.id]).refs--,B.push(P)}for(L&&y(S(L,T),T),A=0;A<B.length;A++){var P;if((P=B[A]).refs===0){for(var D=0;D<P.parts.length;D++)P.parts[D]();delete a[P.id]}}}};var k,M=(k=[],function(w,T){return k[w]=T,k.filter(Boolean).join(`
`)});function x(w,T,_,L){var B=_?"":L.css;if(w.styleSheet)w.styleSheet.cssText=M(T,B);else{var A=document.createTextNode(B),N=w.childNodes;N[T]&&w.removeChild(N[T]),N.length?w.insertBefore(A,N[T]):w.appendChild(A)}}function v(w,T){var _=T.css,L=T.media;if(L&&w.setAttribute("media",L),w.styleSheet)w.styleSheet.cssText=_;else{for(;w.firstChild;)w.removeChild(w.firstChild);w.appendChild(document.createTextNode(_))}}function O(w,T,_){var L=_.css,B=_.sourceMap,A=T.convertToAbsoluteUrls===void 0&&B;(T.convertToAbsoluteUrls||A)&&(L=p(L)),B&&(L+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(B))))+" */");var N=new Blob([L],{type:"text/css"}),P=w.href;w.href=URL.createObjectURL(N),P&&URL.revokeObjectURL(P)}},function(n,o){n.exports=function(i){var r=typeof window<"u"&&window.location;if(!r)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var s=r.protocol+"//"+r.host,a=s+r.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,d=c.trim().replace(/^"(.*)"$/,function(f,h){return h}).replace(/^'(.*)'$/,function(f,h){return h});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?l:(u=d.indexOf("//")===0?d:d.indexOf("/")===0?s+d:a+d.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,o,i){i.r(o),i.d(o,"default",function(){return a}),i(0);function r(l){return(r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(l)}function s(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */var a=function(){function l(f){var h=f.data,p=f.config,y=f.api,S=f.readOnly;(function(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=y,this.readOnly=S,this._CSS={block:this.api.styles.block,wrapper:"ce-header"},this._settings=p,this._data=this.normalizeData(h),this._element=this.getTag()}var c,u,d;return c=l,d=[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{level:!1,text:{}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["H1","H2","H3","H4","H5","H6"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>',title:"Heading"}}}],(u=[{key:"normalizeData",value:function(f){var h={};return r(f)!=="object"&&(f={}),h.text=f.text||"",h.level=parseInt(f.level)||this.defaultLevel.number,h}},{key:"render",value:function(){return this._element}},{key:"renderSettings",value:function(){var f=this;return this.levels.map(function(h){return{icon:h.svg,label:f.api.i18n.t("Heading ".concat(h.number)),onActivate:function(){return f.setLevel(h.number)},closeOnActivate:!0,isActive:f.currentLevel.number===h.number}})}},{key:"setLevel",value:function(f){this.data={level:f,text:this.data.text}}},{key:"merge",value:function(f){var h={text:this.data.text+f.text,level:this.data.level};this.data=h}},{key:"validate",value:function(f){return f.text.trim()!==""}},{key:"save",value:function(f){return{text:f.innerHTML,level:this.currentLevel.number}}},{key:"getTag",value:function(){var f=document.createElement(this.currentLevel.tag);return f.innerHTML=this._data.text||"",f.classList.add(this._CSS.wrapper),f.contentEditable=this.readOnly?"false":"true",f.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),f}},{key:"onPaste",value:function(f){var h=f.detail.data,p=this.defaultLevel.number;switch(h.tagName){case"H1":p=1;break;case"H2":p=2;break;case"H3":p=3;break;case"H4":p=4;break;case"H5":p=5;break;case"H6":p=6}this._settings.levels&&(p=this._settings.levels.reduce(function(y,S){return Math.abs(S-p)<Math.abs(y-p)?S:y})),this.data={level:p,text:h.innerHTML}}},{key:"data",get:function(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data},set:function(f){if(this._data=this.normalizeData(f),f.level!==void 0&&this._element.parentNode){var h=this.getTag();h.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(h,this._element),this._element=h}f.text!==void 0&&(this._element.innerHTML=this._data.text||"")}},{key:"currentLevel",get:function(){var f=this,h=this.levels.find(function(p){return p.number===f._data.level});return h||(h=this.defaultLevel),h}},{key:"defaultLevel",get:function(){var f=this;if(this._settings.defaultLevel){var h=this.levels.find(function(p){return p.number===f._settings.defaultLevel});if(h)return h;console.warn("(\u0E07'\u0300-'\u0301)\u0E07 Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}},{key:"levels",get:function(){var f=this,h=[{number:1,tag:"H1",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>'},{number:2,tag:"H2",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>'},{number:3,tag:"H3",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>'},{number:4,tag:"H4",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>'},{number:5,tag:"H5",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>'},{number:6,tag:"H6",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>'}];return this._settings.levels?h.filter(function(p){return f._settings.levels.includes(p.number)}):h}}])&&s(c.prototype,u),d&&s(c,d),l}()}]).default})})(qa);const Nf=ht(qa.exports);var Ka={exports:{}};(function(t,e){(function(n,o){t.exports=o()})(window,function(){return function(n){var o={};function i(r){if(o[r])return o[r].exports;var s=o[r]={i:r,l:!1,exports:{}};return n[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=o,i.d=function(r,s,a){i.o(r,s)||Object.defineProperty(r,s,{enumerable:!0,get:a})},i.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},i.t=function(r,s){if(1&s&&(r=i(r)),8&s||4&s&&typeof r=="object"&&r&&r.__esModule)return r;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),2&s&&typeof r!="string")for(var l in r)i.d(a,l,function(c){return r[c]}.bind(null,l));return a},i.n=function(r){var s=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(s,"a",s),s},i.o=function(r,s){return Object.prototype.hasOwnProperty.call(r,s)},i.p="/",i(i.s=4)}([function(n,o,i){var r=i(1),s=i(2);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var a={insert:"head",singleton:!1};r(s,a),n.exports=s.locals||{}},function(n,o,i){var r,s=function(){return r===void 0&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},a=function(){var g={};return function(b){if(g[b]===void 0){var m=document.querySelector(b);if(window.HTMLIFrameElement&&m instanceof window.HTMLIFrameElement)try{m=m.contentDocument.head}catch{m=null}g[b]=m}return g[b]}}(),l=[];function c(g){for(var b=-1,m=0;m<l.length;m++)if(l[m].identifier===g){b=m;break}return b}function u(g,b){for(var m={},k=[],M=0;M<g.length;M++){var x=g[M],v=b.base?x[0]+b.base:x[0],O=m[v]||0,w="".concat(v," ").concat(O);m[v]=O+1;var T=c(w),_={css:x[1],media:x[2],sourceMap:x[3]};T!==-1?(l[T].references++,l[T].updater(_)):l.push({identifier:w,updater:E(_,b),references:1}),k.push(w)}return k}function d(g){var b=document.createElement("style"),m=g.attributes||{};if(m.nonce===void 0){var k=i.nc;k&&(m.nonce=k)}if(Object.keys(m).forEach(function(x){b.setAttribute(x,m[x])}),typeof g.insert=="function")g.insert(b);else{var M=a(g.insert||"head");if(!M)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");M.appendChild(b)}return b}var f,h=(f=[],function(g,b){return f[g]=b,f.filter(Boolean).join(`
`)});function p(g,b,m,k){var M=m?"":k.media?"@media ".concat(k.media," {").concat(k.css,"}"):k.css;if(g.styleSheet)g.styleSheet.cssText=h(b,M);else{var x=document.createTextNode(M),v=g.childNodes;v[b]&&g.removeChild(v[b]),v.length?g.insertBefore(x,v[b]):g.appendChild(x)}}function y(g,b,m){var k=m.css,M=m.media,x=m.sourceMap;if(M?g.setAttribute("media",M):g.removeAttribute("media"),x&&typeof btoa<"u"&&(k+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(x))))," */")),g.styleSheet)g.styleSheet.cssText=k;else{for(;g.firstChild;)g.removeChild(g.firstChild);g.appendChild(document.createTextNode(k))}}var S=null,C=0;function E(g,b){var m,k,M;if(b.singleton){var x=C++;m=S||(S=d(b)),k=p.bind(null,m,x,!1),M=p.bind(null,m,x,!0)}else m=d(b),k=y.bind(null,m,b),M=function(){(function(v){if(v.parentNode===null)return!1;v.parentNode.removeChild(v)})(m)};return k(g),function(v){if(v){if(v.css===g.css&&v.media===g.media&&v.sourceMap===g.sourceMap)return;k(g=v)}else M()}}n.exports=function(g,b){(b=b||{}).singleton||typeof b.singleton=="boolean"||(b.singleton=s());var m=u(g=g||[],b);return function(k){if(k=k||[],Object.prototype.toString.call(k)==="[object Array]"){for(var M=0;M<m.length;M++){var x=c(m[M]);l[x].references--}for(var v=u(k,b),O=0;O<m.length;O++){var w=c(m[O]);l[w].references===0&&(l[w].updater(),l.splice(w,1))}m=v}}}},function(n,o,i){(o=i(3)(!1)).push([n.i,`.cdx-underline {
    text-decoration: underline;
}
`,""]),n.exports=o},function(n,o,i){n.exports=function(r){var s=[];return s.toString=function(){return this.map(function(a){var l=function(c,u){var d=c[1]||"",f=c[3];if(!f)return d;if(u&&typeof btoa=="function"){var h=(y=f,S=btoa(unescape(encodeURIComponent(JSON.stringify(y)))),C="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(S),"/*# ".concat(C," */")),p=f.sources.map(function(E){return"/*# sourceURL=".concat(f.sourceRoot||"").concat(E," */")});return[d].concat(p).concat([h]).join(`
`)}var y,S,C;return[d].join(`
`)}(a,r);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},s.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var u={};if(c)for(var d=0;d<this.length;d++){var f=this[d][0];f!=null&&(u[f]=!0)}for(var h=0;h<a.length;h++){var p=[].concat(a[h]);c&&u[p[0]]||(l&&(p[2]?p[2]="".concat(l," and ").concat(p[2]):p[2]=l),s.push(p))}},s}},function(n,o,i){i.r(o),i.d(o,"default",function(){return a}),i(0);function r(l){return(r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(l)}function s(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,(f=d.key,h=void 0,h=function(p,y){if(r(p)!=="object"||p===null)return p;var S=p[Symbol.toPrimitive];if(S!==void 0){var C=S.call(p,y||"default");if(r(C)!=="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(p)}(f,"string"),r(h)==="symbol"?h:String(h)),d)}var f,h}var a=function(){function l(f){var h=f.api;(function(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=h,this.button=null,this.tag="U",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}var c,u,d;return c=l,d=[{key:"CSS",get:function(){return"cdx-underline"}},{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{u:{class:l.CSS}}}}],(u=[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(f){if(f){var h=this.api.selection.findParentTag(this.tag,l.CSS);h?this.unwrap(h):this.wrap(f)}}},{key:"wrap",value:function(f){var h=document.createElement(this.tag);h.classList.add(l.CSS),h.appendChild(f.extractContents()),f.insertNode(h),this.api.selection.expandToTag(h)}},{key:"unwrap",value:function(f){this.api.selection.expandToTag(f);var h=window.getSelection(),p=h.getRangeAt(0),y=p.extractContents();f.parentNode.removeChild(f),p.insertNode(y),h.removeAllRanges(),h.addRange(p)}},{key:"checkState",value:function(){var f=this.api.selection.findParentTag(this.tag,l.CSS);this.button.classList.toggle(this.iconClasses.active,!!f)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7.5V11.5C9 12.2956 9.31607 13.0587 9.87868 13.6213C10.4413 14.1839 11.2044 14.5 12 14.5C12.7956 14.5 13.5587 14.1839 14.1213 13.6213C14.6839 13.0587 15 12.2956 15 11.5V7.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7.71429 18H16.2857"/></svg>'}}])&&s(c.prototype,u),d&&s(c,d),Object.defineProperty(c,"prototype",{writable:!1}),l}()}]).default})})(Ka);const Rf=ht(Ka.exports);var Ja={exports:{}};(function(t,e){(function(n,o){t.exports=o()})(window,function(){return function(n){var o={};function i(r){if(o[r])return o[r].exports;var s=o[r]={i:r,l:!1,exports:{}};return n[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=o,i.d=function(r,s,a){i.o(r,s)||Object.defineProperty(r,s,{enumerable:!0,get:a})},i.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},i.t=function(r,s){if(1&s&&(r=i(r)),8&s||4&s&&typeof r=="object"&&r&&r.__esModule)return r;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),2&s&&typeof r!="string")for(var l in r)i.d(a,l,function(c){return r[c]}.bind(null,l));return a},i.n=function(r){var s=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(s,"a",s),s},i.o=function(r,s){return Object.prototype.hasOwnProperty.call(r,s)},i.p="/",i(i.s=4)}([function(n,o,i){var r=i(1),s=i(2);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var a={insert:"head",singleton:!1};r(s,a),n.exports=s.locals||{}},function(n,o,i){var r,s=function(){return r===void 0&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},a=function(){var g={};return function(b){if(g[b]===void 0){var m=document.querySelector(b);if(window.HTMLIFrameElement&&m instanceof window.HTMLIFrameElement)try{m=m.contentDocument.head}catch{m=null}g[b]=m}return g[b]}}(),l=[];function c(g){for(var b=-1,m=0;m<l.length;m++)if(l[m].identifier===g){b=m;break}return b}function u(g,b){for(var m={},k=[],M=0;M<g.length;M++){var x=g[M],v=b.base?x[0]+b.base:x[0],O=m[v]||0,w="".concat(v," ").concat(O);m[v]=O+1;var T=c(w),_={css:x[1],media:x[2],sourceMap:x[3]};T!==-1?(l[T].references++,l[T].updater(_)):l.push({identifier:w,updater:E(_,b),references:1}),k.push(w)}return k}function d(g){var b=document.createElement("style"),m=g.attributes||{};if(m.nonce===void 0){var k=i.nc;k&&(m.nonce=k)}if(Object.keys(m).forEach(function(x){b.setAttribute(x,m[x])}),typeof g.insert=="function")g.insert(b);else{var M=a(g.insert||"head");if(!M)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");M.appendChild(b)}return b}var f,h=(f=[],function(g,b){return f[g]=b,f.filter(Boolean).join(`
`)});function p(g,b,m,k){var M=m?"":k.media?"@media ".concat(k.media," {").concat(k.css,"}"):k.css;if(g.styleSheet)g.styleSheet.cssText=h(b,M);else{var x=document.createTextNode(M),v=g.childNodes;v[b]&&g.removeChild(v[b]),v.length?g.insertBefore(x,v[b]):g.appendChild(x)}}function y(g,b,m){var k=m.css,M=m.media,x=m.sourceMap;if(M?g.setAttribute("media",M):g.removeAttribute("media"),x&&btoa&&(k+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(x))))," */")),g.styleSheet)g.styleSheet.cssText=k;else{for(;g.firstChild;)g.removeChild(g.firstChild);g.appendChild(document.createTextNode(k))}}var S=null,C=0;function E(g,b){var m,k,M;if(b.singleton){var x=C++;m=S||(S=d(b)),k=p.bind(null,m,x,!1),M=p.bind(null,m,x,!0)}else m=d(b),k=y.bind(null,m,b),M=function(){(function(v){if(v.parentNode===null)return!1;v.parentNode.removeChild(v)})(m)};return k(g),function(v){if(v){if(v.css===g.css&&v.media===g.media&&v.sourceMap===g.sourceMap)return;k(g=v)}else M()}}n.exports=function(g,b){(b=b||{}).singleton||typeof b.singleton=="boolean"||(b.singleton=s());var m=u(g=g||[],b);return function(k){if(k=k||[],Object.prototype.toString.call(k)==="[object Array]"){for(var M=0;M<m.length;M++){var x=c(m[M]);l[x].references--}for(var v=u(k,b),O=0;O<m.length;O++){var w=c(m[O]);l[w].references===0&&(l[w].updater(),l.splice(w,1))}m=v}}}},function(n,o,i){(o=i(3)(!1)).push([n.i,`.ce-code__textarea {
    min-height: 200px;
    font-family: Menlo, Monaco, Consolas, Courier New, monospace;
    color: #41314e;
    line-height: 1.6em;
    font-size: 12px;
    background: #f8f7fa;
    border: 1px solid #f1f1f4;
    box-shadow: none;
    white-space: pre;
    word-wrap: normal;
    overflow-x: auto;
    resize: vertical;
}
`,""]),n.exports=o},function(n,o,i){n.exports=function(r){var s=[];return s.toString=function(){return this.map(function(a){var l=function(c,u){var d=c[1]||"",f=c[3];if(!f)return d;if(u&&typeof btoa=="function"){var h=(y=f,S=btoa(unescape(encodeURIComponent(JSON.stringify(y)))),C="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(S),"/*# ".concat(C," */")),p=f.sources.map(function(E){return"/*# sourceURL=".concat(f.sourceRoot||"").concat(E," */")});return[d].concat(p).concat([h]).join(`
`)}var y,S,C;return[d].join(`
`)}(a,r);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},s.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var u={};if(c)for(var d=0;d<this.length;d++){var f=this[d][0];f!=null&&(u[f]=!0)}for(var h=0;h<a.length;h++){var p=[].concat(a[h]);c&&u[p[0]]||(l&&(p[2]?p[2]="".concat(l," and ").concat(p[2]):p[2]=l),s.push(p))}},s}},function(n,o,i){i.r(o),i.d(o,"default",function(){return a}),i(0);function r(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}function s(l,c,u){return c&&r(l.prototype,c),u&&r(l,u),l}/**
 * CodeTool for Editor.js
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */var a=function(){function l(c){var u=c.data,d=c.config,f=c.api,h=c.readOnly;(function(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=f,this.readOnly=h,this.placeholder=this.api.i18n.t(d.placeholder||l.DEFAULT_PLACEHOLDER),this.CSS={baseClass:this.api.styles.block,input:this.api.styles.input,wrapper:"ce-code",textarea:"ce-code__textarea"},this.nodes={holder:null,textarea:null},this.data={code:u.code||""},this.nodes.holder=this.drawView()}return s(l,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}}]),s(l,[{key:"drawView",value:function(){var c=this,u=document.createElement("div"),d=document.createElement("textarea");return u.classList.add(this.CSS.baseClass,this.CSS.wrapper),d.classList.add(this.CSS.textarea,this.CSS.input),d.textContent=this.data.code,d.placeholder=this.placeholder,this.readOnly&&(d.disabled=!0),u.appendChild(d),d.addEventListener("keydown",function(f){switch(f.code){case"Tab":c.tabHandler(f)}}),this.nodes.textarea=d,u}},{key:"render",value:function(){return this.nodes.holder}},{key:"save",value:function(c){return{code:c.querySelector("textarea").value}}},{key:"onPaste",value:function(c){var u=c.detail.data;this.data={code:u.textContent}}},{key:"tabHandler",value:function(c){c.stopPropagation(),c.preventDefault();var u,d=c.target,f=c.shiftKey,h=d.selectionStart,p=d.value;if(f){var y=function(S,C){for(var E="";E!==`
`&&C>0;)C-=1,E=S.substr(C,1);return E===`
`&&(C+=1),C}(p,h);if(p.substr(y,2)!=="  ")return;d.value=p.substring(0,y)+p.substring(y+2),u=h-2}else u=h+2,d.value=p.substring(0,h)+"  "+p.substring(h);d.setSelectionRange(u,u)}},{key:"data",get:function(){return this._data},set:function(c){this._data=c,this.nodes.textarea&&(this.nodes.textarea.textContent=c.code)}}],[{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8L5 12L9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8L19 12L15 16"/></svg>',title:"Code"}}},{key:"DEFAULT_PLACEHOLDER",get:function(){return"Enter a code"}},{key:"pasteConfig",get:function(){return{tags:["pre"]}}},{key:"sanitize",get:function(){return{code:!0}}}]),l}()}]).default})})(Ja);const Df=ht(Ja.exports);var Za={exports:{}};(function(t,e){(function(n,o){t.exports=o()})(window,function(){return function(n){var o={};function i(r){if(o[r])return o[r].exports;var s=o[r]={i:r,l:!1,exports:{}};return n[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=o,i.d=function(r,s,a){i.o(r,s)||Object.defineProperty(r,s,{enumerable:!0,get:a})},i.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},i.t=function(r,s){if(1&s&&(r=i(r)),8&s||4&s&&typeof r=="object"&&r&&r.__esModule)return r;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),2&s&&typeof r!="string")for(var l in r)i.d(a,l,function(c){return r[c]}.bind(null,l));return a},i.n=function(r){var s=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(s,"a",s),s},i.o=function(r,s){return Object.prototype.hasOwnProperty.call(r,s)},i.p="/",i(i.s=5)}([function(n,o,i){var r=i(1);typeof r=="string"&&(r=[[n.i,r,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(3)(r,s),r.locals&&(n.exports=r.locals)},function(n,o,i){(n.exports=i(2)(!1)).push([n.i,`.inline-code {
  background: rgba(250, 239, 240, 0.78);
  color: #b44437;
  padding: 3px 4px;
  border-radius: 5px;
  margin: 0 1px;
  font-family: inherit;
  font-size: 0.86em;
  font-weight: 500;
  letter-spacing: 0.3px;
}
`,""])},function(n,o){n.exports=function(i){var r=[];return r.toString=function(){return this.map(function(s){var a=function(l,c){var u=l[1]||"",d=l[3];if(!d)return u;if(c&&typeof btoa=="function"){var f=(p=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),h=d.sources.map(function(y){return"/*# sourceURL="+d.sourceRoot+y+" */"});return[u].concat(h).concat([f]).join(`
`)}var p;return[u].join(`
`)}(s,i);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},r.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<s.length;c++){var d=s[c];typeof d[0]=="number"&&l[d[0]]||(a&&!d[2]?d[2]=a:a&&(d[2]="("+d[2]+") and ("+a+")"),r.push(d))}},r}},function(n,o,i){var r,s,a={},l=(r=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=r.apply(this,arguments)),s}),c=function(x){var v={};return function(O){if(typeof O=="function")return O();if(v[O]===void 0){var w=function(T){return document.querySelector(T)}.call(this,O);if(window.HTMLIFrameElement&&w instanceof window.HTMLIFrameElement)try{w=w.contentDocument.head}catch{w=null}v[O]=w}return v[O]}}(),u=null,d=0,f=[],h=i(4);function p(x,v){for(var O=0;O<x.length;O++){var w=x[O],T=a[w.id];if(T){T.refs++;for(var _=0;_<T.parts.length;_++)T.parts[_](w.parts[_]);for(;_<w.parts.length;_++)T.parts.push(b(w.parts[_],v))}else{var L=[];for(_=0;_<w.parts.length;_++)L.push(b(w.parts[_],v));a[w.id]={id:w.id,refs:1,parts:L}}}}function y(x,v){for(var O=[],w={},T=0;T<x.length;T++){var _=x[T],L=v.base?_[0]+v.base:_[0],B={css:_[1],media:_[2],sourceMap:_[3]};w[L]?w[L].parts.push(B):O.push(w[L]={id:L,parts:[B]})}return O}function S(x,v){var O=c(x.insertInto);if(!O)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var w=f[f.length-1];if(x.insertAt==="top")w?w.nextSibling?O.insertBefore(v,w.nextSibling):O.appendChild(v):O.insertBefore(v,O.firstChild),f.push(v);else if(x.insertAt==="bottom")O.appendChild(v);else{if(typeof x.insertAt!="object"||!x.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var T=c(x.insertInto+" "+x.insertAt.before);O.insertBefore(v,T)}}function C(x){if(x.parentNode===null)return!1;x.parentNode.removeChild(x);var v=f.indexOf(x);v>=0&&f.splice(v,1)}function E(x){var v=document.createElement("style");return x.attrs.type===void 0&&(x.attrs.type="text/css"),g(v,x.attrs),S(x,v),v}function g(x,v){Object.keys(v).forEach(function(O){x.setAttribute(O,v[O])})}function b(x,v){var O,w,T,_;if(v.transform&&x.css){if(!(_=v.transform(x.css)))return function(){};x.css=_}if(v.singleton){var L=d++;O=u||(u=E(v)),w=M.bind(null,O,L,!1),T=M.bind(null,O,L,!0)}else x.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(O=function(B){var A=document.createElement("link");return B.attrs.type===void 0&&(B.attrs.type="text/css"),B.attrs.rel="stylesheet",g(A,B.attrs),S(B,A),A}(v),w=function(B,A,N){var P=N.css,D=N.sourceMap,G=A.convertToAbsoluteUrls===void 0&&D;(A.convertToAbsoluteUrls||G)&&(P=h(P)),D&&(P+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(D))))+" */");var te=new Blob([P],{type:"text/css"}),se=B.href;B.href=URL.createObjectURL(te),se&&URL.revokeObjectURL(se)}.bind(null,O,v),T=function(){C(O),O.href&&URL.revokeObjectURL(O.href)}):(O=E(v),w=function(B,A){var N=A.css,P=A.media;if(P&&B.setAttribute("media",P),B.styleSheet)B.styleSheet.cssText=N;else{for(;B.firstChild;)B.removeChild(B.firstChild);B.appendChild(document.createTextNode(N))}}.bind(null,O),T=function(){C(O)});return w(x),function(B){if(B){if(B.css===x.css&&B.media===x.media&&B.sourceMap===x.sourceMap)return;w(x=B)}else T()}}n.exports=function(x,v){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(v=v||{}).attrs=typeof v.attrs=="object"?v.attrs:{},v.singleton||typeof v.singleton=="boolean"||(v.singleton=l()),v.insertInto||(v.insertInto="head"),v.insertAt||(v.insertAt="bottom");var O=y(x,v);return p(O,v),function(w){for(var T=[],_=0;_<O.length;_++){var L=O[_];(B=a[L.id]).refs--,T.push(B)}for(w&&p(y(w,v),v),_=0;_<T.length;_++){var B;if((B=T[_]).refs===0){for(var A=0;A<B.parts.length;A++)B.parts[A]();delete a[B.id]}}}};var m,k=(m=[],function(x,v){return m[x]=v,m.filter(Boolean).join(`
`)});function M(x,v,O,w){var T=O?"":w.css;if(x.styleSheet)x.styleSheet.cssText=k(v,T);else{var _=document.createTextNode(T),L=x.childNodes;L[v]&&x.removeChild(L[v]),L.length?x.insertBefore(_,L[v]):x.appendChild(_)}}},function(n,o){n.exports=function(i){var r=typeof window<"u"&&window.location;if(!r)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var s=r.protocol+"//"+r.host,a=s+r.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,d=c.trim().replace(/^"(.*)"$/,function(f,h){return h}).replace(/^'(.*)'$/,function(f,h){return h});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?l:(u=d.indexOf("//")===0?d:d.indexOf("/")===0?s+d:a+d.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,o,i){i.r(o),i(0);function r(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}function s(l,c,u){return c&&r(l.prototype,c),u&&r(l,u),l}i.d(o,"default",function(){return a});var a=function(){function l(c){var u=c.api;(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=u,this.button=null,this.tag="CODE",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}return s(l,null,[{key:"CSS",get:function(){return"inline-code"}}]),s(l,[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(c){if(c){var u=this.api.selection.findParentTag(this.tag,l.CSS);u?this.unwrap(u):this.wrap(c)}}},{key:"wrap",value:function(c){var u=document.createElement(this.tag);u.classList.add(l.CSS),u.appendChild(c.extractContents()),c.insertNode(u),this.api.selection.expandToTag(u)}},{key:"unwrap",value:function(c){this.api.selection.expandToTag(c);var u=window.getSelection(),d=u.getRangeAt(0),f=d.extractContents();c.parentNode.removeChild(c),d.insertNode(f),u.removeAllRanges(),u.addRange(d)}},{key:"checkState",value:function(){var c=this.api.selection.findParentTag(this.tag,l.CSS);this.button.classList.toggle(this.iconClasses.active,!!c)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.5 8L6.11524 11.8683C6.04926 11.9437 6.04926 12.0563 6.11524 12.1317L9.5 16"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15 8L18.3848 11.8683C18.4507 11.9437 18.4507 12.0563 18.3848 12.1317L15 16"/></svg>'}}],[{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{code:{class:l.CSS}}}}]),l}()}]).default})})(Za);const Ff=ht(Za.exports);var Qa={exports:{}};(function(t,e){(function(n,o){t.exports=o()})(window,function(){return function(n){var o={};function i(r){if(o[r])return o[r].exports;var s=o[r]={i:r,l:!1,exports:{}};return n[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=o,i.d=function(r,s,a){i.o(r,s)||Object.defineProperty(r,s,{enumerable:!0,get:a})},i.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},i.t=function(r,s){if(1&s&&(r=i(r)),8&s||4&s&&typeof r=="object"&&r&&r.__esModule)return r;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),2&s&&typeof r!="string")for(var l in r)i.d(a,l,function(c){return r[c]}.bind(null,l));return a},i.n=function(r){var s=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(s,"a",s),s},i.o=function(r,s){return Object.prototype.hasOwnProperty.call(r,s)},i.p="/",i(i.s=5)}([function(n,o,i){var r=i(1);typeof r=="string"&&(r=[[n.i,r,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(3)(r,s),r.locals&&(n.exports=r.locals)},function(n,o,i){(n.exports=i(2)(!1)).push([n.i,`.cdx-quote-icon svg {
  transform: rotate(180deg);
}

.cdx-quote {
  margin: 0;
}

.cdx-quote__text {
  min-height: 158px;
  margin-bottom: 10px;
}

.cdx-quote__caption {}

.cdx-quote [contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty::before {
  opacity: 1;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty:focus::before {
  opacity: 0;
}


.cdx-quote-settings {
  display: flex;
}

.cdx-quote-settings .cdx-settings-button {
  width: 50%;
}
`,""])},function(n,o){n.exports=function(i){var r=[];return r.toString=function(){return this.map(function(s){var a=function(l,c){var u=l[1]||"",d=l[3];if(!d)return u;if(c&&typeof btoa=="function"){var f=(p=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),h=d.sources.map(function(y){return"/*# sourceURL="+d.sourceRoot+y+" */"});return[u].concat(h).concat([f]).join(`
`)}var p;return[u].join(`
`)}(s,i);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},r.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<s.length;c++){var d=s[c];typeof d[0]=="number"&&l[d[0]]||(a&&!d[2]?d[2]=a:a&&(d[2]="("+d[2]+") and ("+a+")"),r.push(d))}},r}},function(n,o,i){var r,s,a={},l=(r=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=r.apply(this,arguments)),s}),c=function(x){var v={};return function(O){if(typeof O=="function")return O();if(v[O]===void 0){var w=function(T){return document.querySelector(T)}.call(this,O);if(window.HTMLIFrameElement&&w instanceof window.HTMLIFrameElement)try{w=w.contentDocument.head}catch{w=null}v[O]=w}return v[O]}}(),u=null,d=0,f=[],h=i(4);function p(x,v){for(var O=0;O<x.length;O++){var w=x[O],T=a[w.id];if(T){T.refs++;for(var _=0;_<T.parts.length;_++)T.parts[_](w.parts[_]);for(;_<w.parts.length;_++)T.parts.push(b(w.parts[_],v))}else{var L=[];for(_=0;_<w.parts.length;_++)L.push(b(w.parts[_],v));a[w.id]={id:w.id,refs:1,parts:L}}}}function y(x,v){for(var O=[],w={},T=0;T<x.length;T++){var _=x[T],L=v.base?_[0]+v.base:_[0],B={css:_[1],media:_[2],sourceMap:_[3]};w[L]?w[L].parts.push(B):O.push(w[L]={id:L,parts:[B]})}return O}function S(x,v){var O=c(x.insertInto);if(!O)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var w=f[f.length-1];if(x.insertAt==="top")w?w.nextSibling?O.insertBefore(v,w.nextSibling):O.appendChild(v):O.insertBefore(v,O.firstChild),f.push(v);else if(x.insertAt==="bottom")O.appendChild(v);else{if(typeof x.insertAt!="object"||!x.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var T=c(x.insertInto+" "+x.insertAt.before);O.insertBefore(v,T)}}function C(x){if(x.parentNode===null)return!1;x.parentNode.removeChild(x);var v=f.indexOf(x);v>=0&&f.splice(v,1)}function E(x){var v=document.createElement("style");return x.attrs.type===void 0&&(x.attrs.type="text/css"),g(v,x.attrs),S(x,v),v}function g(x,v){Object.keys(v).forEach(function(O){x.setAttribute(O,v[O])})}function b(x,v){var O,w,T,_;if(v.transform&&x.css){if(!(_=v.transform(x.css)))return function(){};x.css=_}if(v.singleton){var L=d++;O=u||(u=E(v)),w=M.bind(null,O,L,!1),T=M.bind(null,O,L,!0)}else x.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(O=function(B){var A=document.createElement("link");return B.attrs.type===void 0&&(B.attrs.type="text/css"),B.attrs.rel="stylesheet",g(A,B.attrs),S(B,A),A}(v),w=function(B,A,N){var P=N.css,D=N.sourceMap,G=A.convertToAbsoluteUrls===void 0&&D;(A.convertToAbsoluteUrls||G)&&(P=h(P)),D&&(P+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(D))))+" */");var te=new Blob([P],{type:"text/css"}),se=B.href;B.href=URL.createObjectURL(te),se&&URL.revokeObjectURL(se)}.bind(null,O,v),T=function(){C(O),O.href&&URL.revokeObjectURL(O.href)}):(O=E(v),w=function(B,A){var N=A.css,P=A.media;if(P&&B.setAttribute("media",P),B.styleSheet)B.styleSheet.cssText=N;else{for(;B.firstChild;)B.removeChild(B.firstChild);B.appendChild(document.createTextNode(N))}}.bind(null,O),T=function(){C(O)});return w(x),function(B){if(B){if(B.css===x.css&&B.media===x.media&&B.sourceMap===x.sourceMap)return;w(x=B)}else T()}}n.exports=function(x,v){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(v=v||{}).attrs=typeof v.attrs=="object"?v.attrs:{},v.singleton||typeof v.singleton=="boolean"||(v.singleton=l()),v.insertInto||(v.insertInto="head"),v.insertAt||(v.insertAt="bottom");var O=y(x,v);return p(O,v),function(w){for(var T=[],_=0;_<O.length;_++){var L=O[_];(B=a[L.id]).refs--,T.push(B)}for(w&&p(y(w,v),v),_=0;_<T.length;_++){var B;if((B=T[_]).refs===0){for(var A=0;A<B.parts.length;A++)B.parts[A]();delete a[B.id]}}}};var m,k=(m=[],function(x,v){return m[x]=v,m.filter(Boolean).join(`
`)});function M(x,v,O,w){var T=O?"":w.css;if(x.styleSheet)x.styleSheet.cssText=k(v,T);else{var _=document.createTextNode(T),L=x.childNodes;L[v]&&x.removeChild(L[v]),L.length?x.insertBefore(_,L[v]):x.appendChild(_)}}},function(n,o){n.exports=function(i){var r=typeof window<"u"&&window.location;if(!r)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var s=r.protocol+"//"+r.host,a=s+r.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,d=c.trim().replace(/^"(.*)"$/,function(f,h){return h}).replace(/^'(.*)'$/,function(f,h){return h});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?l:(u=d.indexOf("//")===0?d:d.indexOf("/")===0?s+d:a+d.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,o,i){i.r(o),i(0);function r(c){return function(u){if(Array.isArray(u)){for(var d=0,f=new Array(u.length);d<u.length;d++)f[d]=u[d];return f}}(c)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(c,u){for(var d=0;d<u.length;d++){var f=u[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}function a(c,u,d){return u&&s(c.prototype,u),d&&s(c,d),c}i.d(o,"default",function(){return l});var l=function(){function c(u){var d=u.data,f=u.config,h=u.api,p=u.readOnly;(function(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")})(this,c);var y=c.ALIGNMENTS,S=c.DEFAULT_ALIGNMENT;this.api=h,this.readOnly=p,this.quotePlaceholder=f.quotePlaceholder||c.DEFAULT_QUOTE_PLACEHOLDER,this.captionPlaceholder=f.captionPlaceholder||c.DEFAULT_CAPTION_PLACEHOLDER,this.data={text:d.text||"",caption:d.caption||"",alignment:Object.values(y).includes(d.alignment)&&d.alignment||f.defaultAlignment||S}}return a(c,[{key:"CSS",get:function(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}},{key:"settings",get:function(){return[{name:"left",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>'},{name:"center",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>'}]}}],[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>',title:"Quote"}}},{key:"contentless",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"DEFAULT_QUOTE_PLACEHOLDER",get:function(){return"Enter a quote"}},{key:"DEFAULT_CAPTION_PLACEHOLDER",get:function(){return"Enter a caption"}},{key:"ALIGNMENTS",get:function(){return{left:"left",center:"center"}}},{key:"DEFAULT_ALIGNMENT",get:function(){return c.ALIGNMENTS.left}},{key:"conversionConfig",get:function(){return{import:"text",export:function(u){return u.caption?"".concat(u.text," \u2014 ").concat(u.caption):u.text}}}}]),a(c,[{key:"render",value:function(){var u=this._make("blockquote",[this.CSS.baseClass,this.CSS.wrapper]),d=this._make("div",[this.CSS.input,this.CSS.text],{contentEditable:!this.readOnly,innerHTML:this.data.text}),f=this._make("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption});return d.dataset.placeholder=this.quotePlaceholder,f.dataset.placeholder=this.captionPlaceholder,u.appendChild(d),u.appendChild(f),u}},{key:"save",value:function(u){var d=u.querySelector(".".concat(this.CSS.text)),f=u.querySelector(".".concat(this.CSS.caption));return Object.assign(this.data,{text:d.innerHTML,caption:f.innerHTML})}},{key:"renderSettings",value:function(){var u=this;return this.settings.map(function(d){return{icon:d.icon,label:u.api.i18n.t("Align ".concat((f=d.name,f[0].toUpperCase()+f.substr(1)))),onActivate:function(){return u._toggleTune(d.name)},isActive:u.data.alignment===d.name,closeOnActivate:!0};var f})}},{key:"_toggleTune",value:function(u){this.data.alignment=u}},{key:"_make",value:function(u){var d,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=document.createElement(u);Array.isArray(f)?(d=p.classList).add.apply(d,r(f)):f&&p.classList.add(f);for(var y in h)p[y]=h[y];return p}}],[{key:"sanitize",get:function(){return{text:{br:!0},caption:{br:!0},alignment:{}}}}]),c}()}]).default})})(Qa);const jf=ht(Qa.exports);window.editorInstance=function(t,e,n,o,i){return{instance:null,data:null,initEditor(){this.data=this.$wire.get(t),this.instance=new Lf({holder:e,readOnly:n,placeholder:o,logLevel:i,tools:{image:{class:If,config:{uploader:{uploadByFile:r=>new Promise(s=>{this.$wire.upload("uploads",r,a=>{const l=`fileupload:${a.substr(0,20)}`,c=u=>{s({success:1,file:{url:u.detail.url}}),window.removeEventListener(l,c)};window.addEventListener(l,c),this.$wire.call("completedImageUpload",a,l)})}),uploadByUrl:r=>this.$wire.loadImageFromUrl(r).then(s=>({success:1,file:{url:s}}))}}},list:Pf,header:Nf,underline:Rf,code:Df,"inline-code":Ff,quote:jf},data:this.data,onChange:()=>{this.instance.save().then(r=>{this.$wire.set(t,r),this.$wire.call("save")}).catch(r=>{console.log("Saving failed: ",r)})}})}}};function ks(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function ki(t={},e={}){Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:ks(e[n])&&ks(t[n])&&Object.keys(e[n]).length>0&&ki(t[n],e[n])})}const el={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Mt(){const t=typeof document<"u"?document:{};return ki(t,el),t}const Hf={document:el,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Be(){const t=typeof window<"u"?window:{};return ki(t,Hf),t}function Uf(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Ir(t,e=0){return setTimeout(t,e)}function ao(){return Date.now()}function zf(t){const e=Be();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function $f(t,e="x"){const n=Be();let o,i,r;const s=zf(t);return n.WebKitCSSMatrix?(i=s.transform||s.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),r=new n.WebKitCSSMatrix(i==="none"?"":i)):(r=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),o=r.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=r.m41:o.length===16?i=parseFloat(o[12]):i=parseFloat(o[4])),e==="y"&&(n.WebKitCSSMatrix?i=r.m42:o.length===16?i=parseFloat(o[13]):i=parseFloat(o[5])),i||0}function Fn(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Wf(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Ce(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let o=1;o<t.length;o+=1){const i=t[o];if(i!=null&&!Wf(i)){const r=Object.keys(Object(i)).filter(s=>n.indexOf(s)<0);for(let s=0,a=r.length;s<a;s+=1){const l=r[s],c=Object.getOwnPropertyDescriptor(i,l);c!==void 0&&c.enumerable&&(Fn(e[l])&&Fn(i[l])?i[l].__swiper__?e[l]=i[l]:Ce(e[l],i[l]):!Fn(e[l])&&Fn(i[l])?(e[l]={},i[l].__swiper__?e[l]=i[l]:Ce(e[l],i[l])):e[l]=i[l])}}}return e}function jn(t,e,n){t.style.setProperty(e,n)}function tl({swiper:t,targetPosition:e,side:n}){const o=Be(),i=-t.translate;let r=null,s;const a=t.params.speed;t.wrapperEl.style.scrollSnapType="none",o.cancelAnimationFrame(t.cssModeFrameID);const l=e>i?"next":"prev",c=(d,f)=>l==="next"&&d>=f||l==="prev"&&d<=f,u=()=>{s=new Date().getTime(),r===null&&(r=s);const d=Math.max(Math.min((s-r)/a,1),0),f=.5-Math.cos(d*Math.PI)/2;let h=i+f*(e-i);if(c(h,e)&&(h=e),t.wrapperEl.scrollTo({[n]:h}),c(h,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:h})}),o.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=o.requestAnimationFrame(u)};u()}function Ve(t,e=""){return[...t.children].filter(n=>n.matches(e))}function Yf(t,e=[]){const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:[e]),n}function Xf(t,e){const n=[];for(;t.previousElementSibling;){const o=t.previousElementSibling;e?o.matches(e)&&n.push(o):n.push(o),t=o}return n}function Gf(t,e){const n=[];for(;t.nextElementSibling;){const o=t.nextElementSibling;e?o.matches(e)&&n.push(o):n.push(o),t=o}return n}function rt(t,e){return Be().getComputedStyle(t,null).getPropertyValue(e)}function Ss(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function Vf(t,e){const n=[];let o=t.parentElement;for(;o;)e?o.matches(e)&&n.push(o):n.push(o),o=o.parentElement;return n}function Es(t,e,n){const o=Be();return n?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(o.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(o.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}let or;function qf(){const t=Be(),e=Mt();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function nl(){return or||(or=qf()),or}let rr;function Kf({userAgent:t}={}){const e=nl(),n=Be(),o=n.navigator.platform,i=t||n.navigator.userAgent,r={ios:!1,android:!1},s=n.screen.width,a=n.screen.height,l=i.match(/(Android);?[\s\/]+([\d.]+)?/);let c=i.match(/(iPad).*OS\s([\d_]+)/);const u=i.match(/(iPod)(.*OS\s([\d_]+))?/),d=!c&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f=o==="Win32";let h=o==="MacIntel";const p=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&h&&e.touch&&p.indexOf(`${s}x${a}`)>=0&&(c=i.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),h=!1),l&&!f&&(r.os="android",r.android=!0),(c||d||u)&&(r.os="ios",r.ios=!0),r}function Jf(t={}){return rr||(rr=Kf(t)),rr}let ir;function Zf(){const t=Be();let e=!1;function n(){const o=t.navigator.userAgent.toLowerCase();return o.indexOf("safari")>=0&&o.indexOf("chrome")<0&&o.indexOf("android")<0}if(n()){const o=String(t.navigator.userAgent);if(o.includes("Version/")){const[i,r]=o.split("Version/")[1].split(" ")[0].split(".").map(s=>Number(s));e=i<16||i===16&&r<2}}return{isSafari:e||n(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function Qf(){return ir||(ir=Zf()),ir}function eh({swiper:t,on:e,emit:n}){const o=Be();let i=null,r=null;const s=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},a=()=>{!t||t.destroyed||!t.initialized||(i=new ResizeObserver(u=>{r=o.requestAnimationFrame(()=>{const{width:d,height:f}=t;let h=d,p=f;u.forEach(({contentBoxSize:y,contentRect:S,target:C})=>{C&&C!==t.el||(h=S?S.width:(y[0]||y).inlineSize,p=S?S.height:(y[0]||y).blockSize)}),(h!==d||p!==f)&&s()})}),i.observe(t.el))},l=()=>{r&&o.cancelAnimationFrame(r),i&&i.unobserve&&t.el&&(i.unobserve(t.el),i=null)},c=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof o.ResizeObserver<"u"){a();return}o.addEventListener("resize",s),o.addEventListener("orientationchange",c)}),e("destroy",()=>{l(),o.removeEventListener("resize",s),o.removeEventListener("orientationchange",c)})}function th({swiper:t,extendParams:e,on:n,emit:o}){const i=[],r=Be(),s=(c,u={})=>{const d=r.MutationObserver||r.WebkitMutationObserver,f=new d(h=>{if(t.__preventObserver__)return;if(h.length===1){o("observerUpdate",h[0]);return}const p=function(){o("observerUpdate",h[0])};r.requestAnimationFrame?r.requestAnimationFrame(p):r.setTimeout(p,0)});f.observe(c,{attributes:typeof u.attributes>"u"?!0:u.attributes,childList:typeof u.childList>"u"?!0:u.childList,characterData:typeof u.characterData>"u"?!0:u.characterData}),i.push(f)},a=()=>{if(!!t.params.observer){if(t.params.observeParents){const c=Vf(t.el);for(let u=0;u<c.length;u+=1)s(c[u])}s(t.el,{childList:t.params.observeSlideChildren}),s(t.wrapperEl,{attributes:!1})}},l=()=>{i.forEach(c=>{c.disconnect()}),i.splice(0,i.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",a),n("destroy",l)}const nh={on(t,e,n){const o=this;if(!o.eventsListeners||o.destroyed||typeof e!="function")return o;const i=n?"unshift":"push";return t.split(" ").forEach(r=>{o.eventsListeners[r]||(o.eventsListeners[r]=[]),o.eventsListeners[r][i](e)}),o},once(t,e,n){const o=this;if(!o.eventsListeners||o.destroyed||typeof e!="function")return o;function i(...r){o.off(t,i),i.__emitterProxy&&delete i.__emitterProxy,e.apply(o,r)}return i.__emitterProxy=e,o.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const o=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[o](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(o=>{typeof e>"u"?n.eventsListeners[o]=[]:n.eventsListeners[o]&&n.eventsListeners[o].forEach((i,r)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[o].splice(r,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,o,i;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],o=t.slice(1,t.length),i=e):(n=t[0].events,o=t[0].data,i=t[0].context||e),o.unshift(i),(Array.isArray(n)?n:n.split(" ")).forEach(s=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(a=>{a.apply(i,[s,...o])}),e.eventsListeners&&e.eventsListeners[s]&&e.eventsListeners[s].forEach(a=>{a.apply(i,o)})}),e}};function oh(){const t=this;let e,n;const o=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=o.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=o.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(rt(o,"padding-left")||0,10)-parseInt(rt(o,"padding-right")||0,10),n=n-parseInt(rt(o,"padding-top")||0,10)-parseInt(rt(o,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function rh(){const t=this;function e(w){return t.isHorizontal()?w:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[w]}function n(w,T){return parseFloat(w.getPropertyValue(e(T))||0)}const o=t.params,{wrapperEl:i,slidesEl:r,size:s,rtlTranslate:a,wrongRTL:l}=t,c=t.virtual&&o.virtual.enabled,u=c?t.virtual.slides.length:t.slides.length,d=Ve(r,`.${t.params.slideClass}, swiper-slide`),f=c?t.virtual.slides.length:d.length;let h=[];const p=[],y=[];let S=o.slidesOffsetBefore;typeof S=="function"&&(S=o.slidesOffsetBefore.call(t));let C=o.slidesOffsetAfter;typeof C=="function"&&(C=o.slidesOffsetAfter.call(t));const E=t.snapGrid.length,g=t.slidesGrid.length;let b=o.spaceBetween,m=-S,k=0,M=0;if(typeof s>"u")return;typeof b=="string"&&b.indexOf("%")>=0?b=parseFloat(b.replace("%",""))/100*s:typeof b=="string"&&(b=parseFloat(b)),t.virtualSize=-b,d.forEach(w=>{a?w.style.marginLeft="":w.style.marginRight="",w.style.marginBottom="",w.style.marginTop=""}),o.centeredSlides&&o.cssMode&&(jn(i,"--swiper-centered-offset-before",""),jn(i,"--swiper-centered-offset-after",""));const x=o.grid&&o.grid.rows>1&&t.grid;x&&t.grid.initSlides(f);let v;const O=o.slidesPerView==="auto"&&o.breakpoints&&Object.keys(o.breakpoints).filter(w=>typeof o.breakpoints[w].slidesPerView<"u").length>0;for(let w=0;w<f;w+=1){v=0;let T;if(d[w]&&(T=d[w]),x&&t.grid.updateSlide(w,T,f,e),!(d[w]&&rt(T,"display")==="none")){if(o.slidesPerView==="auto"){O&&(d[w].style[e("width")]="");const _=getComputedStyle(T),L=T.style.transform,B=T.style.webkitTransform;if(L&&(T.style.transform="none"),B&&(T.style.webkitTransform="none"),o.roundLengths)v=t.isHorizontal()?Es(T,"width",!0):Es(T,"height",!0);else{const A=n(_,"width"),N=n(_,"padding-left"),P=n(_,"padding-right"),D=n(_,"margin-left"),G=n(_,"margin-right"),te=_.getPropertyValue("box-sizing");if(te&&te==="border-box")v=A+D+G;else{const{clientWidth:se,offsetWidth:Ye}=T;v=A+N+P+D+G+(Ye-se)}}L&&(T.style.transform=L),B&&(T.style.webkitTransform=B),o.roundLengths&&(v=Math.floor(v))}else v=(s-(o.slidesPerView-1)*b)/o.slidesPerView,o.roundLengths&&(v=Math.floor(v)),d[w]&&(d[w].style[e("width")]=`${v}px`);d[w]&&(d[w].swiperSlideSize=v),y.push(v),o.centeredSlides?(m=m+v/2+k/2+b,k===0&&w!==0&&(m=m-s/2-b),w===0&&(m=m-s/2-b),Math.abs(m)<1/1e3&&(m=0),o.roundLengths&&(m=Math.floor(m)),M%o.slidesPerGroup===0&&h.push(m),p.push(m)):(o.roundLengths&&(m=Math.floor(m)),(M-Math.min(t.params.slidesPerGroupSkip,M))%t.params.slidesPerGroup===0&&h.push(m),p.push(m),m=m+v+b),t.virtualSize+=v+b,k=v,M+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+C,a&&l&&(o.effect==="slide"||o.effect==="coverflow")&&(i.style.width=`${t.virtualSize+b}px`),o.setWrapperSize&&(i.style[e("width")]=`${t.virtualSize+b}px`),x&&t.grid.updateWrapperSize(v,h,e),!o.centeredSlides){const w=[];for(let T=0;T<h.length;T+=1){let _=h[T];o.roundLengths&&(_=Math.floor(_)),h[T]<=t.virtualSize-s&&w.push(_)}h=w,Math.floor(t.virtualSize-s)-Math.floor(h[h.length-1])>1&&h.push(t.virtualSize-s)}if(c&&o.loop){const w=y[0]+b;if(o.slidesPerGroup>1){const T=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/o.slidesPerGroup),_=w*o.slidesPerGroup;for(let L=0;L<T;L+=1)h.push(h[h.length-1]+_)}for(let T=0;T<t.virtual.slidesBefore+t.virtual.slidesAfter;T+=1)o.slidesPerGroup===1&&h.push(h[h.length-1]+w),p.push(p[p.length-1]+w),t.virtualSize+=w}if(h.length===0&&(h=[0]),b!==0){const w=t.isHorizontal()&&a?"marginLeft":e("marginRight");d.filter((T,_)=>!o.cssMode||o.loop?!0:_!==d.length-1).forEach(T=>{T.style[w]=`${b}px`})}if(o.centeredSlides&&o.centeredSlidesBounds){let w=0;y.forEach(_=>{w+=_+(b||0)}),w-=b;const T=w-s;h=h.map(_=>_<=0?-S:_>T?T+C:_)}if(o.centerInsufficientSlides){let w=0;if(y.forEach(T=>{w+=T+(b||0)}),w-=b,w<s){const T=(s-w)/2;h.forEach((_,L)=>{h[L]=_-T}),p.forEach((_,L)=>{p[L]=_+T})}}if(Object.assign(t,{slides:d,snapGrid:h,slidesGrid:p,slidesSizesGrid:y}),o.centeredSlides&&o.cssMode&&!o.centeredSlidesBounds){jn(i,"--swiper-centered-offset-before",`${-h[0]}px`),jn(i,"--swiper-centered-offset-after",`${t.size/2-y[y.length-1]/2}px`);const w=-t.snapGrid[0],T=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(_=>_+w),t.slidesGrid=t.slidesGrid.map(_=>_+T)}if(f!==u&&t.emit("slidesLengthChange"),h.length!==E&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==g&&t.emit("slidesGridLengthChange"),o.watchSlidesProgress&&t.updateSlidesOffset(),!c&&!o.cssMode&&(o.effect==="slide"||o.effect==="fade")){const w=`${o.containerModifierClass}backface-hidden`,T=t.el.classList.contains(w);f<=o.maxBackfaceHiddenSlides?T||t.el.classList.add(w):T&&t.el.classList.remove(w)}}function ih(t){const e=this,n=[],o=e.virtual&&e.params.virtual.enabled;let i=0,r;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const s=a=>o?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(r=0;r<Math.ceil(e.params.slidesPerView);r+=1){const a=e.activeIndex+r;if(a>e.slides.length&&!o)break;n.push(s(a))}else n.push(s(e.activeIndex));for(r=0;r<n.length;r+=1)if(typeof n[r]<"u"){const a=n[r].offsetHeight;i=a>i?a:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function sh(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let o=0;o<e.length;o+=1)e[o].swiperSlideOffset=(t.isHorizontal()?e[o].offsetLeft:e[o].offsetTop)-n-t.cssOverflowAdjustment()}function ah(t=this&&this.translate||0){const e=this,n=e.params,{slides:o,rtlTranslate:i,snapGrid:r}=e;if(o.length===0)return;typeof o[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let s=-t;i&&(s=t),o.forEach(l=>{l.classList.remove(n.slideVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<o.length;l+=1){const c=o[l];let u=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=o[0].swiperSlideOffset);const d=(s+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),f=(s-r[0]+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),h=-(s-u),p=h+e.slidesSizesGrid[l];(h>=0&&h<e.size-1||p>1&&p<=e.size||h<=0&&p>=e.size)&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l),o[l].classList.add(n.slideVisibleClass)),c.progress=i?-d:d,c.originalProgress=i?-f:f}}function lh(t){const e=this;if(typeof t>"u"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const n=e.params,o=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:r,isEnd:s,progressLoop:a}=e;const l=r,c=s;if(o===0)i=0,r=!0,s=!0;else{i=(t-e.minTranslate())/o;const u=Math.abs(t-e.minTranslate())<1,d=Math.abs(t-e.maxTranslate())<1;r=u||i<=0,s=d||i>=1,u&&(i=0),d&&(i=1)}if(n.loop){const u=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[u],h=e.slidesGrid[d],p=e.slidesGrid[e.slidesGrid.length-1],y=Math.abs(t);y>=f?a=(y-f)/p:a=(y+p-h)/p,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:r,isEnd:s}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),r&&!l&&e.emit("reachBeginning toEdge"),s&&!c&&e.emit("reachEnd toEdge"),(l&&!r||c&&!s)&&e.emit("fromEdge"),e.emit("progress",i)}function ch(){const t=this,{slides:e,params:n,slidesEl:o,activeIndex:i}=t,r=t.virtual&&n.virtual.enabled,s=l=>Ve(o,`.${n.slideClass}${l}, swiper-slide${l}`)[0];e.forEach(l=>{l.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let a;if(r)if(n.loop){let l=i-t.virtual.slidesBefore;l<0&&(l=t.virtual.slides.length+l),l>=t.virtual.slides.length&&(l-=t.virtual.slides.length),a=s(`[data-swiper-slide-index="${l}"]`)}else a=s(`[data-swiper-slide-index="${i}"]`);else a=e[i];if(a){a.classList.add(n.slideActiveClass);let l=Gf(a,`.${n.slideClass}, swiper-slide`)[0];n.loop&&!l&&(l=e[0]),l&&l.classList.add(n.slideNextClass);let c=Xf(a,`.${n.slideClass}, swiper-slide`)[0];n.loop&&!c===0&&(c=e[e.length-1]),c&&c.classList.add(n.slidePrevClass)}t.emitSlidesClasses()}const Jn=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,o=e.closest(n());if(o){const i=o.querySelector(`.${t.params.lazyPreloaderClass}`);i&&i.remove()}},sr=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Pr=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const o=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const s=i,a=[s-e];a.push(...Array.from({length:e}).map((l,c)=>s+o+c)),t.slides.forEach((l,c)=>{a.includes(l.column)&&sr(t,c)});return}const r=i+o-1;if(t.params.rewind||t.params.loop)for(let s=i-e;s<=r+e;s+=1){const a=(s%n+n)%n;(a<i||a>r)&&sr(t,a)}else for(let s=Math.max(i-e,0);s<=Math.min(r+e,n-1);s+=1)s!==i&&(s>r||s<i)&&sr(t,s)};function dh(t){const{slidesGrid:e,params:n}=t,o=t.rtlTranslate?t.translate:-t.translate;let i;for(let r=0;r<e.length;r+=1)typeof e[r+1]<"u"?o>=e[r]&&o<e[r+1]-(e[r+1]-e[r])/2?i=r:o>=e[r]&&o<e[r+1]&&(i=r+1):o>=e[r]&&(i=r);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function uh(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:o,params:i,activeIndex:r,realIndex:s,snapIndex:a}=e;let l=t,c;const u=f=>{let h=f-e.virtual.slidesBefore;return h<0&&(h=e.virtual.slides.length+h),h>=e.virtual.slides.length&&(h-=e.virtual.slides.length),h};if(typeof l>"u"&&(l=dh(e)),o.indexOf(n)>=0)c=o.indexOf(n);else{const f=Math.min(i.slidesPerGroupSkip,l);c=f+Math.floor((l-f)/i.slidesPerGroup)}if(c>=o.length&&(c=o.length-1),l===r){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange")),e.params.loop&&e.virtual&&e.params.virtual.enabled&&(e.realIndex=u(l));return}let d;e.virtual&&i.virtual.enabled&&i.loop?d=u(l):e.slides[l]?d=parseInt(e.slides[l].getAttribute("data-swiper-slide-index")||l,10):d=l,Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:s,realIndex:d,previousIndex:r,activeIndex:l}),e.initialized&&Pr(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),s!==d&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function fh(t){const e=this,n=e.params,o=t.closest(`.${n.slideClass}, swiper-slide`);let i=!1,r;if(o){for(let s=0;s<e.slides.length;s+=1)if(e.slides[s]===o){i=!0,r=s;break}}if(o&&i)e.clickedSlide=o,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(o.getAttribute("data-swiper-slide-index"),10):e.clickedIndex=r;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}n.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}const hh={updateSize:oh,updateSlides:rh,updateAutoHeight:ih,updateSlidesOffset:sh,updateSlidesProgress:ah,updateProgress:lh,updateSlidesClasses:ch,updateActiveIndex:uh,updateClickedSlide:fh};function ph(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:o,translate:i,wrapperEl:r}=e;if(n.virtualTranslate)return o?-i:i;if(n.cssMode)return i;let s=$f(r,t);return s+=e.cssOverflowAdjustment(),o&&(s=-s),s||0}function gh(t,e){const n=this,{rtlTranslate:o,params:i,wrapperEl:r,progress:s}=n;let a=0,l=0;const c=0;n.isHorizontal()?a=o?-t:t:l=t,i.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,i.cssMode?r[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:i.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),r.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let u;const d=n.maxTranslate()-n.minTranslate();d===0?u=0:u=(t-n.minTranslate())/d,u!==s&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function mh(){return-this.snapGrid[0]}function vh(){return-this.snapGrid[this.snapGrid.length-1]}function bh(t=0,e=this.params.speed,n=!0,o=!0,i){const r=this,{params:s,wrapperEl:a}=r;if(r.animating&&s.preventInteractionOnTransition)return!1;const l=r.minTranslate(),c=r.maxTranslate();let u;if(o&&t>l?u=l:o&&t<c?u=c:u=t,r.updateProgress(u),s.cssMode){const d=r.isHorizontal();if(e===0)a[d?"scrollLeft":"scrollTop"]=-u;else{if(!r.support.smoothScroll)return tl({swiper:r,targetPosition:-u,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(r.setTransition(0),r.setTranslate(u),n&&(r.emit("beforeTransitionStart",e,i),r.emit("transitionEnd"))):(r.setTransition(e),r.setTranslate(u),n&&(r.emit("beforeTransitionStart",e,i),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(f){!r||r.destroyed||f.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,n&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}const yh={getTranslate:ph,setTranslate:gh,minTranslate:mh,maxTranslate:vh,translateTo:bh};function wh(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`),n.emit("setTransition",t,e)}function ol({swiper:t,runCallbacks:e,direction:n,step:o}){const{activeIndex:i,previousIndex:r}=t;let s=n;if(s||(i>r?s="next":i<r?s="prev":s="reset"),t.emit(`transition${o}`),e&&i!==r){if(s==="reset"){t.emit(`slideResetTransition${o}`);return}t.emit(`slideChangeTransition${o}`),s==="next"?t.emit(`slideNextTransition${o}`):t.emit(`slidePrevTransition${o}`)}}function xh(t=!0,e){const n=this,{params:o}=n;o.cssMode||(o.autoHeight&&n.updateAutoHeight(),ol({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function kh(t=!0,e){const n=this,{params:o}=n;n.animating=!1,!o.cssMode&&(n.setTransition(0),ol({swiper:n,runCallbacks:t,direction:e,step:"End"}))}const Sh={setTransition:wh,transitionStart:xh,transitionEnd:kh};function Eh(t=0,e=this.params.speed,n=!0,o,i){typeof t=="string"&&(t=parseInt(t,10));const r=this;let s=t;s<0&&(s=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:f,wrapperEl:h,enabled:p}=r;if(r.animating&&a.preventInteractionOnTransition||!p&&!o&&!i)return!1;const y=Math.min(r.params.slidesPerGroupSkip,s);let S=y+Math.floor((s-y)/r.params.slidesPerGroup);S>=l.length&&(S=l.length-1);const C=-l[S];if(a.normalizeSlideIndex)for(let g=0;g<c.length;g+=1){const b=-Math.floor(C*100),m=Math.floor(c[g]*100),k=Math.floor(c[g+1]*100);typeof c[g+1]<"u"?b>=m&&b<k-(k-m)/2?s=g:b>=m&&b<k&&(s=g+1):b>=m&&(s=g)}if(r.initialized&&s!==d&&(!r.allowSlideNext&&(f?C>r.translate&&C>r.minTranslate():C<r.translate&&C<r.minTranslate())||!r.allowSlidePrev&&C>r.translate&&C>r.maxTranslate()&&(d||0)!==s))return!1;s!==(u||0)&&n&&r.emit("beforeSlideChangeStart"),r.updateProgress(C);let E;if(s>d?E="next":s<d?E="prev":E="reset",f&&-C===r.translate||!f&&C===r.translate)return r.updateActiveIndex(s),a.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),a.effect!=="slide"&&r.setTranslate(C),E!=="reset"&&(r.transitionStart(n,E),r.transitionEnd(n,E)),!1;if(a.cssMode){const g=r.isHorizontal(),b=f?C:-C;if(e===0){const m=r.virtual&&r.params.virtual.enabled;m&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),m&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{h[g?"scrollLeft":"scrollTop"]=b})):h[g?"scrollLeft":"scrollTop"]=b,m&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1})}else{if(!r.support.smoothScroll)return tl({swiper:r,targetPosition:b,side:g?"left":"top"}),!0;h.scrollTo({[g?"left":"top"]:b,behavior:"smooth"})}return!0}return r.setTransition(e),r.setTranslate(C),r.updateActiveIndex(s),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,o),r.transitionStart(n,E),e===0?r.transitionEnd(n,E):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(b){!r||r.destroyed||b.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(n,E))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0}function Th(t=0,e=this.params.speed,n=!0,o){typeof t=="string"&&(t=parseInt(t,10));const i=this;let r=t;return i.params.loop&&(i.virtual&&i.params.virtual.enabled?r=r+i.virtual.slidesBefore:r=i.getSlideIndexByData(r)),i.slideTo(r,e,n,o)}function Ch(t=this.params.speed,e=!0,n){const o=this,{enabled:i,params:r,animating:s}=o;if(!i)return o;let a=r.slidesPerGroup;r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(a=Math.max(o.slidesPerViewDynamic("current",!0),1));const l=o.activeIndex<r.slidesPerGroupSkip?1:a,c=o.virtual&&r.virtual.enabled;if(r.loop){if(s&&!c&&r.loopPreventsSliding)return!1;o.loopFix({direction:"next"}),o._clientLeft=o.wrapperEl.clientLeft}return r.rewind&&o.isEnd?o.slideTo(0,t,e,n):o.slideTo(o.activeIndex+l,t,e,n)}function _h(t=this.params.speed,e=!0,n){const o=this,{params:i,snapGrid:r,slidesGrid:s,rtlTranslate:a,enabled:l,animating:c}=o;if(!l)return o;const u=o.virtual&&i.virtual.enabled;if(i.loop){if(c&&!u&&i.loopPreventsSliding)return!1;o.loopFix({direction:"prev"}),o._clientLeft=o.wrapperEl.clientLeft}const d=a?o.translate:-o.translate;function f(C){return C<0?-Math.floor(Math.abs(C)):Math.floor(C)}const h=f(d),p=r.map(C=>f(C));let y=r[p.indexOf(h)-1];if(typeof y>"u"&&i.cssMode){let C;r.forEach((E,g)=>{h>=E&&(C=g)}),typeof C<"u"&&(y=r[C>0?C-1:C])}let S=0;if(typeof y<"u"&&(S=s.indexOf(y),S<0&&(S=o.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(S=S-o.slidesPerViewDynamic("previous",!0)+1,S=Math.max(S,0))),i.rewind&&o.isBeginning){const C=o.params.virtual&&o.params.virtual.enabled&&o.virtual?o.virtual.slides.length-1:o.slides.length-1;return o.slideTo(C,t,e,n)}return o.slideTo(S,t,e,n)}function Bh(t=this.params.speed,e=!0,n){const o=this;return o.slideTo(o.activeIndex,t,e,n)}function Oh(t=this.params.speed,e=!0,n,o=.5){const i=this;let r=i.activeIndex;const s=Math.min(i.params.slidesPerGroupSkip,r),a=s+Math.floor((r-s)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const c=i.snapGrid[a],u=i.snapGrid[a+1];l-c>(u-c)*o&&(r+=i.params.slidesPerGroup)}else{const c=i.snapGrid[a-1],u=i.snapGrid[a];l-c<=(u-c)*o&&(r-=i.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,i.slidesGrid.length-1),i.slideTo(r,t,e,n)}function Mh(){const t=this,{params:e,slidesEl:n}=t,o=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,r;const s=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;r=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-o/2||i>t.slides.length-t.loopedSlides+o/2?(t.loopFix(),i=t.getSlideIndex(Ve(n,`${s}[data-swiper-slide-index="${r}"]`)[0]),Ir(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-o?(t.loopFix(),i=t.getSlideIndex(Ve(n,`${s}[data-swiper-slide-index="${r}"]`)[0]),Ir(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}const Ah={slideTo:Eh,slideToLoop:Th,slideNext:Ch,slidePrev:_h,slideReset:Bh,slideToClosest:Oh,slideToClickedSlide:Mh};function Lh(t){const e=this,{params:n,slidesEl:o}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;Ve(o,`.${n.slideClass}, swiper-slide`).forEach((r,s)=>{r.setAttribute("data-swiper-slide-index",s)}),e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function Ih({slideRealIndex:t,slideTo:e=!0,direction:n,setTranslate:o,activeSlideIndex:i,byController:r,byMousewheel:s}={}){const a=this;if(!a.params.loop)return;a.emit("beforeLoopFix");const{slides:l,allowSlidePrev:c,allowSlideNext:u,slidesEl:d,params:f}=a;if(a.allowSlidePrev=!0,a.allowSlideNext=!0,a.virtual&&f.virtual.enabled){e&&(!f.centeredSlides&&a.snapIndex===0?a.slideTo(a.virtual.slides.length,0,!1,!0):f.centeredSlides&&a.snapIndex<f.slidesPerView?a.slideTo(a.virtual.slides.length+a.snapIndex,0,!1,!0):a.snapIndex===a.snapGrid.length-1&&a.slideTo(a.virtual.slidesBefore,0,!1,!0)),a.allowSlidePrev=c,a.allowSlideNext=u,a.emit("loopFix");return}const h=f.slidesPerView==="auto"?a.slidesPerViewDynamic():Math.ceil(parseFloat(f.slidesPerView,10));let p=f.loopedSlides||h;p%f.slidesPerGroup!==0&&(p+=f.slidesPerGroup-p%f.slidesPerGroup),a.loopedSlides=p;const y=[],S=[];let C=a.activeIndex;typeof i>"u"?i=a.getSlideIndex(a.slides.filter(k=>k.classList.contains(f.slideActiveClass))[0]):C=i;const E=n==="next"||!n,g=n==="prev"||!n;let b=0,m=0;if(i<p){b=Math.max(p-i,f.slidesPerGroup);for(let k=0;k<p-i;k+=1){const M=k-Math.floor(k/l.length)*l.length;y.push(l.length-M-1)}}else if(i>a.slides.length-p*2){m=Math.max(i-(a.slides.length-p*2),f.slidesPerGroup);for(let k=0;k<m;k+=1){const M=k-Math.floor(k/l.length)*l.length;S.push(M)}}if(g&&y.forEach(k=>{a.slides[k].swiperLoopMoveDOM=!0,d.prepend(a.slides[k]),a.slides[k].swiperLoopMoveDOM=!1}),E&&S.forEach(k=>{a.slides[k].swiperLoopMoveDOM=!0,d.append(a.slides[k]),a.slides[k].swiperLoopMoveDOM=!1}),a.recalcSlides(),f.slidesPerView==="auto"&&a.updateSlides(),f.watchSlidesProgress&&a.updateSlidesOffset(),e){if(y.length>0&&g)if(typeof t>"u"){const k=a.slidesGrid[C],x=a.slidesGrid[C+b]-k;s?a.setTranslate(a.translate-x):(a.slideTo(C+b,0,!1,!0),o&&(a.touches[a.isHorizontal()?"startX":"startY"]+=x))}else o&&a.slideToLoop(t,0,!1,!0);else if(S.length>0&&E)if(typeof t>"u"){const k=a.slidesGrid[C],x=a.slidesGrid[C-m]-k;s?a.setTranslate(a.translate-x):(a.slideTo(C-m,0,!1,!0),o&&(a.touches[a.isHorizontal()?"startX":"startY"]+=x))}else a.slideToLoop(t,0,!1,!0)}if(a.allowSlidePrev=c,a.allowSlideNext=u,a.controller&&a.controller.control&&!r){const k={slideRealIndex:t,slideTo:!1,direction:n,setTranslate:o,activeSlideIndex:i,byController:!0};Array.isArray(a.controller.control)?a.controller.control.forEach(M=>{!M.destroyed&&M.params.loop&&M.loopFix(k)}):a.controller.control instanceof a.constructor&&a.controller.control.params.loop&&a.controller.control.loopFix(k)}a.emit("loopFix")}function Ph(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const o=[];t.slides.forEach(i=>{const r=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;o[r]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),o.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}const Nh={loopCreate:Lh,loopFix:Ih,loopDestroy:Ph};function Rh(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Dh(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}const Fh={setGrabCursor:Rh,unsetGrabCursor:Dh};function jh(t,e=this){function n(o){if(!o||o===Mt()||o===Be())return null;o.assignedSlot&&(o=o.assignedSlot);const i=o.closest(t);return!i&&!o.getRootNode?null:i||n(o.getRootNode().host)}return n(e)}function Hh(t){const e=this,n=Mt(),o=Be(),i=e.touchEventsData;i.evCache.push(t);const{params:r,touches:s,enabled:a}=e;if(!a||!r.simulateTouch&&t.pointerType==="mouse"||e.animating&&r.preventInteractionOnTransition)return;!e.animating&&r.cssMode&&r.loop&&e.loopFix();let l=t;l.originalEvent&&(l=l.originalEvent);let c=l.target;if(r.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(c)||"which"in l&&l.which===3||"button"in l&&l.button>0||i.isTouched&&i.isMoved)return;const u=!!r.noSwipingClass&&r.noSwipingClass!=="",d=t.composedPath?t.composedPath():t.path;u&&l.target&&l.target.shadowRoot&&d&&(c=d[0]);const f=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,h=!!(l.target&&l.target.shadowRoot);if(r.noSwiping&&(h?jh(f,c):c.closest(f))){e.allowClick=!0;return}if(r.swipeHandler&&!c.closest(r.swipeHandler))return;s.currentX=l.pageX,s.currentY=l.pageY;const p=s.currentX,y=s.currentY,S=r.edgeSwipeDetection||r.iOSEdgeSwipeDetection,C=r.edgeSwipeThreshold||r.iOSEdgeSwipeThreshold;if(S&&(p<=C||p>=o.innerWidth-C))if(S==="prevent")t.preventDefault();else return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=p,s.startY=y,i.touchStartTime=ao(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,r.threshold>0&&(i.allowThresholdMove=!1);let E=!0;c.matches(i.focusableElements)&&(E=!1,c.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==c&&n.activeElement.blur();const g=E&&e.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||g)&&!c.isContentEditable&&l.preventDefault(),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.animating&&!r.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",l)}function Uh(t){const e=Mt(),n=this,o=n.touchEventsData,{params:i,touches:r,rtlTranslate:s,enabled:a}=n;if(!a||!i.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),!o.isTouched){o.startMoving&&o.isScrolling&&n.emit("touchMoveOpposite",l);return}const c=o.evCache.findIndex(k=>k.pointerId===l.pointerId);c>=0&&(o.evCache[c]=l);const u=o.evCache.length>1?o.evCache[0]:l,d=u.pageX,f=u.pageY;if(l.preventedByNestedSwiper){r.startX=d,r.startY=f;return}if(!n.allowTouchMove){l.target.matches(o.focusableElements)||(n.allowClick=!1),o.isTouched&&(Object.assign(r,{startX:d,startY:f,prevX:n.touches.currentX,prevY:n.touches.currentY,currentX:d,currentY:f}),o.touchStartTime=ao());return}if(i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(f<r.startY&&n.translate<=n.maxTranslate()||f>r.startY&&n.translate>=n.minTranslate()){o.isTouched=!1,o.isMoved=!1;return}}else if(d<r.startX&&n.translate<=n.maxTranslate()||d>r.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&l.target===e.activeElement&&l.target.matches(o.focusableElements)){o.isMoved=!0,n.allowClick=!1;return}if(o.allowTouchCallbacks&&n.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;r.currentX=d,r.currentY=f;const h=r.currentX-r.startX,p=r.currentY-r.startY;if(n.params.threshold&&Math.sqrt(h**2+p**2)<n.params.threshold)return;if(typeof o.isScrolling>"u"){let k;n.isHorizontal()&&r.currentY===r.startY||n.isVertical()&&r.currentX===r.startX?o.isScrolling=!1:h*h+p*p>=25&&(k=Math.atan2(Math.abs(p),Math.abs(h))*180/Math.PI,o.isScrolling=n.isHorizontal()?k>i.touchAngle:90-k>i.touchAngle)}if(o.isScrolling&&n.emit("touchMoveOpposite",l),typeof o.startMoving>"u"&&(r.currentX!==r.startX||r.currentY!==r.startY)&&(o.startMoving=!0),o.isScrolling||n.zoom&&n.params.zoom&&n.params.zoom.enabled&&o.evCache.length>1){o.isTouched=!1;return}if(!o.startMoving)return;n.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let y=n.isHorizontal()?h:p,S=n.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;i.oneWayMovement&&(y=Math.abs(y)*(s?1:-1),S=Math.abs(S)*(s?1:-1)),r.diff=y,y*=i.touchRatio,s&&(y=-y,S=-S);const C=n.touchesDirection;n.swipeDirection=y>0?"prev":"next",n.touchesDirection=S>0?"prev":"next";const E=n.params.loop&&!i.cssMode;if(!o.isMoved){if(E&&n.loopFix({direction:n.swipeDirection}),o.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const k=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(k)}o.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}let g;o.isMoved&&C!==n.touchesDirection&&E&&Math.abs(y)>=1&&(n.loopFix({direction:n.swipeDirection,setTranslate:!0}),g=!0),n.emit("sliderMove",l),o.isMoved=!0,o.currentTranslate=y+o.startTranslate;let b=!0,m=i.resistanceRatio;if(i.touchReleaseOnEdges&&(m=0),y>0?(E&&!g&&o.currentTranslate>(i.centeredSlides?n.minTranslate()-n.size/2:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),o.currentTranslate>n.minTranslate()&&(b=!1,i.resistance&&(o.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+o.startTranslate+y)**m))):y<0&&(E&&!g&&o.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.size/2:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),o.currentTranslate<n.maxTranslate()&&(b=!1,i.resistance&&(o.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-o.startTranslate-y)**m))),b&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&o.currentTranslate<o.startTranslate&&(o.currentTranslate=o.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&o.currentTranslate>o.startTranslate&&(o.currentTranslate=o.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(o.currentTranslate=o.startTranslate),i.threshold>0)if(Math.abs(y)>i.threshold||o.allowThresholdMove){if(!o.allowThresholdMove){o.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,o.currentTranslate=o.startTranslate,r.diff=n.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY;return}}else{o.currentTranslate=o.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(o.currentTranslate),n.setTranslate(o.currentTranslate))}function zh(t){const e=this,n=e.touchEventsData,o=n.evCache.findIndex(g=>g.pointerId===t.pointerId);if(o>=0&&n.evCache.splice(o,1),["pointercancel","pointerout","pointerleave"].includes(t.type)&&!(t.type==="pointercancel"&&(e.browser.isSafari||e.browser.isWebView)))return;const{params:i,touches:r,rtlTranslate:s,slidesGrid:a,enabled:l}=e;if(!l||!i.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",c),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&i.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}i.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const u=ao(),d=u-n.touchStartTime;if(e.allowClick){const g=c.path||c.composedPath&&c.composedPath();e.updateClickedSlide(g&&g[0]||c.target),e.emit("tap click",c),d<300&&u-n.lastClickTime<300&&e.emit("doubleTap doubleClick",c)}if(n.lastClickTime=ao(),Ir(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||r.diff===0||n.currentTranslate===n.startTranslate){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let f;if(i.followFinger?f=s?e.translate:-e.translate:f=-n.currentTranslate,i.cssMode)return;if(i.freeMode&&i.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:f});return}let h=0,p=e.slidesSizesGrid[0];for(let g=0;g<a.length;g+=g<i.slidesPerGroupSkip?1:i.slidesPerGroup){const b=g<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;typeof a[g+b]<"u"?f>=a[g]&&f<a[g+b]&&(h=g,p=a[g+b]-a[g]):f>=a[g]&&(h=g,p=a[a.length-1]-a[a.length-2])}let y=null,S=null;i.rewind&&(e.isBeginning?S=i.virtual&&i.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(y=0));const C=(f-a[h])/p,E=h<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(d>i.longSwipesMs){if(!i.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(C>=i.longSwipesRatio?e.slideTo(i.rewind&&e.isEnd?y:h+E):e.slideTo(h)),e.swipeDirection==="prev"&&(C>1-i.longSwipesRatio?e.slideTo(h+E):S!==null&&C<0&&Math.abs(C)>i.longSwipesRatio?e.slideTo(S):e.slideTo(h))}else{if(!i.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(c.target===e.navigation.nextEl||c.target===e.navigation.prevEl)?c.target===e.navigation.nextEl?e.slideTo(h+E):e.slideTo(h):(e.swipeDirection==="next"&&e.slideTo(y!==null?y:h+E),e.swipeDirection==="prev"&&e.slideTo(S!==null?S:h))}}function Ts(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:o,allowSlidePrev:i,snapGrid:r}=t,s=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=s&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!s?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=o,t.params.watchOverflow&&r!==t.snapGrid&&t.checkOverflow()}function $h(t){const e=this;!e.enabled||e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))}function Wh(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:o}=t;if(!o)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const r=t.maxTranslate()-t.minTranslate();r===0?i=0:i=(t.translate-t.minTranslate())/r,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Yh(t){const e=this;Jn(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}let Cs=!1;function Xh(){}const rl=(t,e)=>{const n=Mt(),{params:o,el:i,wrapperEl:r,device:s}=t,a=!!o.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;i[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),(o.preventClicks||o.preventClicksPropagation)&&i[l]("click",t.onClick,!0),o.cssMode&&r[l]("scroll",t.onScroll),o.updateOnWindowResize?t[c](s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",Ts,!0):t[c]("observerUpdate",Ts,!0),i[l]("load",t.onLoad,{capture:!0})};function Gh(){const t=this,e=Mt(),{params:n}=t;t.onTouchStart=Hh.bind(t),t.onTouchMove=Uh.bind(t),t.onTouchEnd=zh.bind(t),n.cssMode&&(t.onScroll=Wh.bind(t)),t.onClick=$h.bind(t),t.onLoad=Yh.bind(t),Cs||(e.addEventListener("touchstart",Xh),Cs=!0),rl(t,"on")}function Vh(){rl(this,"off")}const qh={attachEvents:Gh,detachEvents:Vh},_s=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function Kh(){const t=this,{realIndex:e,initialized:n,params:o,el:i}=t,r=o.breakpoints;if(!r||r&&Object.keys(r).length===0)return;const s=t.getBreakpoint(r,t.params.breakpointsBase,t.el);if(!s||t.currentBreakpoint===s)return;const l=(s in r?r[s]:void 0)||t.originalParams,c=_s(t,o),u=_s(t,l),d=o.enabled;c&&!u?(i.classList.remove(`${o.containerModifierClass}grid`,`${o.containerModifierClass}grid-column`),t.emitContainerClasses()):!c&&u&&(i.classList.add(`${o.containerModifierClass}grid`),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&o.grid.fill==="column")&&i.classList.add(`${o.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(y=>{if(typeof l[y]>"u")return;const S=o[y]&&o[y].enabled,C=l[y]&&l[y].enabled;S&&!C&&t[y].disable(),!S&&C&&t[y].enable()});const f=l.direction&&l.direction!==o.direction,h=o.loop&&(l.slidesPerView!==o.slidesPerView||f);f&&n&&t.changeDirection(),Ce(t.params,l);const p=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),d&&!p?t.disable():!d&&p&&t.enable(),t.currentBreakpoint=s,t.emit("_beforeBreakpoint",l),h&&n&&(t.loopDestroy(),t.loopCreate(e),t.updateSlides()),t.emit("breakpoint",l)}function Jh(t,e="window",n){if(!t||e==="container"&&!n)return;let o=!1;const i=Be(),r=e==="window"?i.innerHeight:n.clientHeight,s=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:r*l,point:a}}return{value:a,point:a}});s.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<s.length;a+=1){const{point:l,value:c}=s[a];e==="window"?i.matchMedia(`(min-width: ${c}px)`).matches&&(o=l):c<=n.clientWidth&&(o=l)}return o||"max"}const Zh={setBreakpoint:Kh,getBreakpoint:Jh};function Qh(t,e){const n=[];return t.forEach(o=>{typeof o=="object"?Object.keys(o).forEach(i=>{o[i]&&n.push(e+i)}):typeof o=="string"&&n.push(e+o)}),n}function ep(){const t=this,{classNames:e,params:n,rtl:o,el:i,device:r}=t,s=Qh(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:o},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:r.android},{ios:r.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...s),i.classList.add(...e),t.emitContainerClasses()}function tp(){const t=this,{el:e,classNames:n}=t;e.classList.remove(...n),t.emitContainerClasses()}const np={addClasses:ep,removeClasses:tp};function op(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:o}=n;if(o){const i=t.slides.length-1,r=t.slidesGrid[i]+t.slidesSizesGrid[i]+o*2;t.isLocked=t.size>r}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}const rp={checkOverflow:op},Bs={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function ip(t,e){return function(o={}){const i=Object.keys(o)[0],r=o[i];if(typeof r!="object"||r===null){Ce(e,o);return}if(["navigation","pagination","scrollbar"].indexOf(i)>=0&&t[i]===!0&&(t[i]={auto:!0}),!(i in t&&"enabled"in r)){Ce(e,o);return}t[i]===!0&&(t[i]={enabled:!0}),typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),Ce(e,o)}}const ar={eventsEmitter:nh,update:hh,translate:yh,transition:Sh,slide:Ah,loop:Nh,grabCursor:Fh,events:qh,breakpoints:Zh,checkOverflow:rp,classes:np},lr={};class Ae{constructor(...e){let n,o;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?o=e[0]:[n,o]=e,o||(o={}),o=Ce({},o),n&&!o.el&&(o.el=n);const i=Mt();if(o.el&&typeof o.el=="string"&&i.querySelectorAll(o.el).length>1){const l=[];return i.querySelectorAll(o.el).forEach(c=>{const u=Ce({},o,{el:c});l.push(new Ae(u))}),l}const r=this;r.__swiper__=!0,r.support=nl(),r.device=Jf({userAgent:o.userAgent}),r.browser=Qf(),r.eventsListeners={},r.eventsAnyListeners=[],r.modules=[...r.__modules__],o.modules&&Array.isArray(o.modules)&&r.modules.push(...o.modules);const s={};r.modules.forEach(l=>{l({params:o,swiper:r,extendParams:ip(o,s),on:r.on.bind(r),once:r.once.bind(r),off:r.off.bind(r),emit:r.emit.bind(r)})});const a=Ce({},Bs,s);return r.params=Ce({},a,lr,o),r.originalParams=Ce({},r.params),r.passedParams=Ce({},o),r.params&&r.params.on&&Object.keys(r.params.on).forEach(l=>{r.on(l,r.params.on[l])}),r.params&&r.params.onAny&&r.onAny(r.params.onAny),Object.assign(r,{enabled:r.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return r.params.direction==="horizontal"},isVertical(){return r.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:r.params.allowSlideNext,allowSlidePrev:r.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:r.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:r.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),r.emit("_swiper"),r.params.init&&r.init(),r}getSlideIndex(e){const{slidesEl:n,params:o}=this,i=Ve(n,`.${o.slideClass}, swiper-slide`),r=Ss(i[0]);return Ss(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:n,params:o}=e;e.slides=Ve(n,`.${o.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;!e.enabled||(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const o=this;e=Math.min(Math.max(e,0),1);const i=o.minTranslate(),s=(o.maxTranslate()-i)*e+i;o.translateTo(s,typeof n>"u"?0:n),o.updateActiveIndex(),o.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(o=>o.indexOf("swiper")===0||o.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(o=>o.indexOf("swiper-slide")===0||o.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(o=>{const i=e.getSlideClasses(o);n.push({slideEl:o,classNames:i}),e.emit("_slideClass",o,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const o=this,{params:i,slides:r,slidesGrid:s,slidesSizesGrid:a,size:l,activeIndex:c}=o;let u=1;if(i.centeredSlides){let d=r[c]?r[c].swiperSlideSize:0,f;for(let h=c+1;h<r.length;h+=1)r[h]&&!f&&(d+=r[h].swiperSlideSize,u+=1,d>l&&(f=!0));for(let h=c-1;h>=0;h-=1)r[h]&&!f&&(d+=r[h].swiperSlideSize,u+=1,d>l&&(f=!0))}else if(e==="current")for(let d=c+1;d<r.length;d+=1)(n?s[d]+a[d]-s[c]<l:s[d]-s[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)s[c]-s[d]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:o}=e;o.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(s=>{s.complete&&Jn(e,s)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const s=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(s,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let r;if(o.freeMode&&o.freeMode.enabled&&!o.cssMode)i(),o.autoHeight&&e.updateAutoHeight();else{if((o.slidesPerView==="auto"||o.slidesPerView>1)&&e.isEnd&&!o.centeredSlides){const s=e.virtual&&o.virtual.enabled?e.virtual.slides:e.slides;r=e.slideTo(s.length-1,0,!1,!0)}else r=e.slideTo(e.activeIndex,0,!1,!0);r||i()}o.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const o=this,i=o.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(o.el.classList.remove(`${o.params.containerModifierClass}${i}`),o.el.classList.add(`${o.params.containerModifierClass}${e}`),o.emitContainerClasses(),o.params.direction=e,o.slides.forEach(r=>{e==="vertical"?r.style.width="":r.style.height=""}),o.emit("changeDirection"),n&&o.update()),o}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let o=e||n.params.el;if(typeof o=="string"&&(o=document.querySelector(o)),!o)return!1;o.swiper=n,o.shadowEl&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let s=(()=>o&&o.shadowRoot&&o.shadowRoot.querySelector?o.shadowRoot.querySelector(i()):Ve(o,i())[0])();return!s&&n.params.createElements&&(s=Yf("div",n.params.wrapperClass),o.append(s),Ve(o,`.${n.params.slideClass}`).forEach(a=>{s.append(a)})),Object.assign(n,{el:o,wrapperEl:s,slidesEl:n.isElement?o:s,mounted:!0,rtl:o.dir.toLowerCase()==="rtl"||rt(o,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(o.dir.toLowerCase()==="rtl"||rt(o,"direction")==="rtl"),wrongRTL:rt(s,"display")==="-webkit-box"}),!0}init(e){const n=this;return n.initialized||n.mount(e)===!1||(n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents(),[...n.el.querySelectorAll('[loading="lazy"]')].forEach(i=>{i.complete?Jn(n,i):i.addEventListener("load",r=>{Jn(n,r.target)})}),Pr(n),n.initialized=!0,Pr(n),n.emit("init"),n.emit("afterInit")),n}destroy(e=!0,n=!0){const o=this,{params:i,el:r,wrapperEl:s,slides:a}=o;return typeof o.params>"u"||o.destroyed||(o.emit("beforeDestroy"),o.initialized=!1,o.detachEvents(),i.loop&&o.loopDestroy(),n&&(o.removeClasses(),r.removeAttribute("style"),s.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),o.emit("destroy"),Object.keys(o.eventsListeners).forEach(l=>{o.off(l)}),e!==!1&&(o.el.swiper=null,Uf(o)),o.destroyed=!0),null}static extendDefaults(e){Ce(lr,e)}static get extendedDefaults(){return lr}static get defaults(){return Bs}static installModule(e){Ae.prototype.__modules__||(Ae.prototype.__modules__=[]);const n=Ae.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Ae.installModule(n)),Ae):(Ae.installModule(e),Ae)}}Object.keys(ar).forEach(t=>{Object.keys(ar[t]).forEach(e=>{Ae.prototype[e]=ar[t][e]})});Ae.use([eh,th]);var Nr=!1,Rr=!1,Et=[],Dr=-1;function sp(t){ap(t)}function ap(t){Et.includes(t)||Et.push(t),lp()}function il(t){let e=Et.indexOf(t);e!==-1&&e>Dr&&Et.splice(e,1)}function lp(){!Rr&&!Nr&&(Nr=!0,queueMicrotask(cp))}function cp(){Nr=!1,Rr=!0;for(let t=0;t<Et.length;t++)Et[t](),Dr=t;Et.length=0,Dr=-1,Rr=!1}var Qt,en,On,sl,Fr=!0;function dp(t){Fr=!1,t(),Fr=!0}function up(t){Qt=t.reactive,On=t.release,en=e=>t.effect(e,{scheduler:n=>{Fr?sp(n):n()}}),sl=t.raw}function Os(t){en=t}function fp(t){let e=()=>{};return[o=>{let i=en(o);return t._x_effects||(t._x_effects=new Set,t._x_runEffects=()=>{t._x_effects.forEach(r=>r())}),t._x_effects.add(i),e=()=>{i!==void 0&&(t._x_effects.delete(i),On(i))},i},()=>{e()}]}var al=[],ll=[],cl=[];function hp(t){cl.push(t)}function dl(t,e){typeof e=="function"?(t._x_cleanups||(t._x_cleanups=[]),t._x_cleanups.push(e)):(e=t,ll.push(e))}function pp(t){al.push(t)}function gp(t,e,n){t._x_attributeCleanups||(t._x_attributeCleanups={}),t._x_attributeCleanups[e]||(t._x_attributeCleanups[e]=[]),t._x_attributeCleanups[e].push(n)}function ul(t,e){!t._x_attributeCleanups||Object.entries(t._x_attributeCleanups).forEach(([n,o])=>{(e===void 0||e.includes(n))&&(o.forEach(i=>i()),delete t._x_attributeCleanups[n])})}var Si=new MutationObserver(_i),Ei=!1;function Ti(){Si.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),Ei=!0}function fl(){mp(),Si.disconnect(),Ei=!1}var vn=[],cr=!1;function mp(){vn=vn.concat(Si.takeRecords()),vn.length&&!cr&&(cr=!0,queueMicrotask(()=>{vp(),cr=!1}))}function vp(){_i(vn),vn.length=0}function de(t){if(!Ei)return t();fl();let e=t();return Ti(),e}var Ci=!1,lo=[];function bp(){Ci=!0}function yp(){Ci=!1,_i(lo),lo=[]}function _i(t){if(Ci){lo=lo.concat(t);return}let e=[],n=[],o=new Map,i=new Map;for(let r=0;r<t.length;r++)if(!t[r].target._x_ignoreMutationObserver&&(t[r].type==="childList"&&(t[r].addedNodes.forEach(s=>s.nodeType===1&&e.push(s)),t[r].removedNodes.forEach(s=>s.nodeType===1&&n.push(s))),t[r].type==="attributes")){let s=t[r].target,a=t[r].attributeName,l=t[r].oldValue,c=()=>{o.has(s)||o.set(s,[]),o.get(s).push({name:a,value:s.getAttribute(a)})},u=()=>{i.has(s)||i.set(s,[]),i.get(s).push(a)};s.hasAttribute(a)&&l===null?c():s.hasAttribute(a)?(u(),c()):u()}i.forEach((r,s)=>{ul(s,r)}),o.forEach((r,s)=>{al.forEach(a=>a(s,r))});for(let r of n)if(!e.includes(r)&&(ll.forEach(s=>s(r)),r._x_cleanups))for(;r._x_cleanups.length;)r._x_cleanups.pop()();e.forEach(r=>{r._x_ignoreSelf=!0,r._x_ignore=!0});for(let r of e)n.includes(r)||!r.isConnected||(delete r._x_ignoreSelf,delete r._x_ignore,cl.forEach(s=>s(r)),r._x_ignore=!0,r._x_ignoreSelf=!0);e.forEach(r=>{delete r._x_ignoreSelf,delete r._x_ignore}),e=null,n=null,o=null,i=null}function hl(t){return An(Vt(t))}function Mn(t,e,n){return t._x_dataStack=[e,...Vt(n||t)],()=>{t._x_dataStack=t._x_dataStack.filter(o=>o!==e)}}function Vt(t){return t._x_dataStack?t._x_dataStack:typeof ShadowRoot=="function"&&t instanceof ShadowRoot?Vt(t.host):t.parentNode?Vt(t.parentNode):[]}function An(t){let e=new Proxy({},{ownKeys:()=>Array.from(new Set(t.flatMap(n=>Object.keys(n)))),has:(n,o)=>t.some(i=>i.hasOwnProperty(o)),get:(n,o)=>(t.find(i=>{if(i.hasOwnProperty(o)){let r=Object.getOwnPropertyDescriptor(i,o);if(r.get&&r.get._x_alreadyBound||r.set&&r.set._x_alreadyBound)return!0;if((r.get||r.set)&&r.enumerable){let s=r.get,a=r.set,l=r;s=s&&s.bind(e),a=a&&a.bind(e),s&&(s._x_alreadyBound=!0),a&&(a._x_alreadyBound=!0),Object.defineProperty(i,o,{...l,get:s,set:a})}return!0}return!1})||{})[o],set:(n,o,i)=>{let r=t.find(s=>s.hasOwnProperty(o));return r?r[o]=i:t[t.length-1][o]=i,!0}});return e}function pl(t){let e=o=>typeof o=="object"&&!Array.isArray(o)&&o!==null,n=(o,i="")=>{Object.entries(Object.getOwnPropertyDescriptors(o)).forEach(([r,{value:s,enumerable:a}])=>{if(a===!1||s===void 0)return;let l=i===""?r:`${i}.${r}`;typeof s=="object"&&s!==null&&s._x_interceptor?o[r]=s.initialize(t,l,r):e(s)&&s!==o&&!(s instanceof Element)&&n(s,l)})};return n(t)}function gl(t,e=()=>{}){let n={initialValue:void 0,_x_interceptor:!0,initialize(o,i,r){return t(this.initialValue,()=>wp(o,i),s=>jr(o,i,s),i,r)}};return e(n),o=>{if(typeof o=="object"&&o!==null&&o._x_interceptor){let i=n.initialize.bind(n);n.initialize=(r,s,a)=>{let l=o.initialize(r,s,a);return n.initialValue=l,i(r,s,a)}}else n.initialValue=o;return n}}function wp(t,e){return e.split(".").reduce((n,o)=>n[o],t)}function jr(t,e,n){if(typeof e=="string"&&(e=e.split(".")),e.length===1)t[e[0]]=n;else{if(e.length===0)throw error;return t[e[0]]||(t[e[0]]={}),jr(t[e[0]],e.slice(1),n)}}var ml={};function je(t,e){ml[t]=e}function Hr(t,e){return Object.entries(ml).forEach(([n,o])=>{let i=null;function r(){if(i)return i;{let[s,a]=xl(e);return i={interceptor:gl,...s},dl(e,a),i}}Object.defineProperty(t,`$${n}`,{get(){return o(e,r())},enumerable:!1})}),t}function xp(t,e,n,...o){try{return n(...o)}catch(i){Cn(i,t,e)}}function Cn(t,e,n=void 0){Object.assign(t,{el:e,expression:n}),console.warn(`Alpine Expression Error: ${t.message}

${n?'Expression: "'+n+`"

`:""}`,e),setTimeout(()=>{throw t},0)}var Zn=!0;function kp(t){let e=Zn;Zn=!1,t(),Zn=e}function $t(t,e,n={}){let o;return be(t,e)(i=>o=i,n),o}function be(...t){return vl(...t)}var vl=bl;function Sp(t){vl=t}function bl(t,e){let n={};Hr(n,t);let o=[n,...Vt(t)],i=typeof e=="function"?Ep(o,e):Cp(o,e,t);return xp.bind(null,t,e,i)}function Ep(t,e){return(n=()=>{},{scope:o={},params:i=[]}={})=>{let r=e.apply(An([o,...t]),i);co(n,r)}}var dr={};function Tp(t,e){if(dr[t])return dr[t];let n=Object.getPrototypeOf(async function(){}).constructor,o=/^[\n\s]*if.*\(.*\)/.test(t)||/^(let|const)\s/.test(t)?`(async()=>{ ${t} })()`:t,r=(()=>{try{return new n(["__self","scope"],`with (scope) { __self.result = ${o} }; __self.finished = true; return __self.result;`)}catch(s){return Cn(s,e,t),Promise.resolve()}})();return dr[t]=r,r}function Cp(t,e,n){let o=Tp(e,n);return(i=()=>{},{scope:r={},params:s=[]}={})=>{o.result=void 0,o.finished=!1;let a=An([r,...t]);if(typeof o=="function"){let l=o(o,a).catch(c=>Cn(c,n,e));o.finished?(co(i,o.result,a,s,n),o.result=void 0):l.then(c=>{co(i,c,a,s,n)}).catch(c=>Cn(c,n,e)).finally(()=>o.result=void 0)}}}function co(t,e,n,o,i){if(Zn&&typeof e=="function"){let r=e.apply(n,o);r instanceof Promise?r.then(s=>co(t,s,n,o)).catch(s=>Cn(s,i,e)):t(r)}else typeof e=="object"&&e instanceof Promise?e.then(r=>t(r)):t(e)}var Bi="x-";function tn(t=""){return Bi+t}function _p(t){Bi=t}var Ur={};function ie(t,e){return Ur[t]=e,{before(n){if(!Ur[n]){console.warn("Cannot find directive `${directive}`. `${name}` will use the default order of execution");return}const o=kt.indexOf(n);kt.splice(o>=0?o:kt.indexOf("DEFAULT"),0,t)}}}function Oi(t,e,n){if(e=Array.from(e),t._x_virtualDirectives){let r=Object.entries(t._x_virtualDirectives).map(([a,l])=>({name:a,value:l})),s=yl(r);r=r.map(a=>s.find(l=>l.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),e=e.concat(r)}let o={};return e.map(El((r,s)=>o[r]=s)).filter(Cl).map(Mp(o,n)).sort(Ap).map(r=>Op(t,r))}function yl(t){return Array.from(t).map(El()).filter(e=>!Cl(e))}var zr=!1,dn=new Map,wl=Symbol();function Bp(t){zr=!0;let e=Symbol();wl=e,dn.set(e,[]);let n=()=>{for(;dn.get(e).length;)dn.get(e).shift()();dn.delete(e)},o=()=>{zr=!1,n()};t(n),o()}function xl(t){let e=[],n=a=>e.push(a),[o,i]=fp(t);return e.push(i),[{Alpine:In,effect:o,cleanup:n,evaluateLater:be.bind(be,t),evaluate:$t.bind($t,t)},()=>e.forEach(a=>a())]}function Op(t,e){let n=()=>{},o=Ur[e.type]||n,[i,r]=xl(t);gp(t,e.original,r);let s=()=>{t._x_ignore||t._x_ignoreSelf||(o.inline&&o.inline(t,e,i),o=o.bind(o,t,e,i),zr?dn.get(wl).push(o):o())};return s.runCleanups=r,s}var kl=(t,e)=>({name:n,value:o})=>(n.startsWith(t)&&(n=n.replace(t,e)),{name:n,value:o}),Sl=t=>t;function El(t=()=>{}){return({name:e,value:n})=>{let{name:o,value:i}=Tl.reduce((r,s)=>s(r),{name:e,value:n});return o!==e&&t(o,e),{name:o,value:i}}}var Tl=[];function Mi(t){Tl.push(t)}function Cl({name:t}){return _l().test(t)}var _l=()=>new RegExp(`^${Bi}([^:^.]+)\\b`);function Mp(t,e){return({name:n,value:o})=>{let i=n.match(_l()),r=n.match(/:([a-zA-Z0-9\-:]+)/),s=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=e||t[n]||n;return{type:i?i[1]:null,value:r?r[1]:null,modifiers:s.map(l=>l.replace(".","")),expression:o,original:a}}}var $r="DEFAULT",kt=["ignore","ref","data","id","bind","init","for","model","modelable","transition","show","if",$r,"teleport"];function Ap(t,e){let n=kt.indexOf(t.type)===-1?$r:t.type,o=kt.indexOf(e.type)===-1?$r:e.type;return kt.indexOf(n)-kt.indexOf(o)}function bn(t,e,n={}){t.dispatchEvent(new CustomEvent(e,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}function ct(t,e){if(typeof ShadowRoot=="function"&&t instanceof ShadowRoot){Array.from(t.children).forEach(i=>ct(i,e));return}let n=!1;if(e(t,()=>n=!0),n)return;let o=t.firstElementChild;for(;o;)ct(o,e),o=o.nextElementSibling}function dt(t,...e){console.warn(`Alpine Warning: ${t}`,...e)}var Ms=!1;function Lp(){Ms&&dt("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),Ms=!0,document.body||dt("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),bn(document,"alpine:init"),bn(document,"alpine:initializing"),Ti(),hp(e=>ut(e,ct)),dl(e=>Pl(e)),pp((e,n)=>{Oi(e,n).forEach(o=>o())});let t=e=>!_o(e.parentElement,!0);Array.from(document.querySelectorAll(Ml())).filter(t).forEach(e=>{ut(e)}),bn(document,"alpine:initialized")}var Ai=[],Bl=[];function Ol(){return Ai.map(t=>t())}function Ml(){return Ai.concat(Bl).map(t=>t())}function Al(t){Ai.push(t)}function Ll(t){Bl.push(t)}function _o(t,e=!1){return Bo(t,n=>{if((e?Ml():Ol()).some(i=>n.matches(i)))return!0})}function Bo(t,e){if(!!t){if(e(t))return t;if(t._x_teleportBack&&(t=t._x_teleportBack),!!t.parentElement)return Bo(t.parentElement,e)}}function Ip(t){return Ol().some(e=>t.matches(e))}var Il=[];function Pp(t){Il.push(t)}function ut(t,e=ct,n=()=>{}){Bp(()=>{e(t,(o,i)=>{n(o,i),Il.forEach(r=>r(o,i)),Oi(o,o.attributes).forEach(r=>r()),o._x_ignore&&i()})})}function Pl(t){ct(t,e=>ul(e))}var Wr=[],Li=!1;function Ii(t=()=>{}){return queueMicrotask(()=>{Li||setTimeout(()=>{Yr()})}),new Promise(e=>{Wr.push(()=>{t(),e()})})}function Yr(){for(Li=!1;Wr.length;)Wr.shift()()}function Np(){Li=!0}function Pi(t,e){return Array.isArray(e)?As(t,e.join(" ")):typeof e=="object"&&e!==null?Rp(t,e):typeof e=="function"?Pi(t,e()):As(t,e)}function As(t,e){let n=i=>i.split(" ").filter(r=>!t.classList.contains(r)).filter(Boolean),o=i=>(t.classList.add(...i),()=>{t.classList.remove(...i)});return e=e===!0?e="":e||"",o(n(e))}function Rp(t,e){let n=a=>a.split(" ").filter(Boolean),o=Object.entries(e).flatMap(([a,l])=>l?n(a):!1).filter(Boolean),i=Object.entries(e).flatMap(([a,l])=>l?!1:n(a)).filter(Boolean),r=[],s=[];return i.forEach(a=>{t.classList.contains(a)&&(t.classList.remove(a),s.push(a))}),o.forEach(a=>{t.classList.contains(a)||(t.classList.add(a),r.push(a))}),()=>{s.forEach(a=>t.classList.add(a)),r.forEach(a=>t.classList.remove(a))}}function Oo(t,e){return typeof e=="object"&&e!==null?Dp(t,e):Fp(t,e)}function Dp(t,e){let n={};return Object.entries(e).forEach(([o,i])=>{n[o]=t.style[o],o.startsWith("--")||(o=jp(o)),t.style.setProperty(o,i)}),setTimeout(()=>{t.style.length===0&&t.removeAttribute("style")}),()=>{Oo(t,n)}}function Fp(t,e){let n=t.getAttribute("style",e);return t.setAttribute("style",e),()=>{t.setAttribute("style",n||"")}}function jp(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Xr(t,e=()=>{}){let n=!1;return function(){n?e.apply(this,arguments):(n=!0,t.apply(this,arguments))}}ie("transition",(t,{value:e,modifiers:n,expression:o},{evaluate:i})=>{typeof o=="function"&&(o=i(o)),o!==!1&&(!o||typeof o=="boolean"?Up(t,n,e):Hp(t,o,e))});function Hp(t,e,n){Nl(t,Pi,""),{enter:i=>{t._x_transition.enter.during=i},"enter-start":i=>{t._x_transition.enter.start=i},"enter-end":i=>{t._x_transition.enter.end=i},leave:i=>{t._x_transition.leave.during=i},"leave-start":i=>{t._x_transition.leave.start=i},"leave-end":i=>{t._x_transition.leave.end=i}}[n](e)}function Up(t,e,n){Nl(t,Oo);let o=!e.includes("in")&&!e.includes("out")&&!n,i=o||e.includes("in")||["enter"].includes(n),r=o||e.includes("out")||["leave"].includes(n);e.includes("in")&&!o&&(e=e.filter((C,E)=>E<e.indexOf("out"))),e.includes("out")&&!o&&(e=e.filter((C,E)=>E>e.indexOf("out")));let s=!e.includes("opacity")&&!e.includes("scale"),a=s||e.includes("opacity"),l=s||e.includes("scale"),c=a?0:1,u=l?rn(e,"scale",95)/100:1,d=rn(e,"delay",0)/1e3,f=rn(e,"origin","center"),h="opacity, transform",p=rn(e,"duration",150)/1e3,y=rn(e,"duration",75)/1e3,S="cubic-bezier(0.4, 0.0, 0.2, 1)";i&&(t._x_transition.enter.during={transformOrigin:f,transitionDelay:`${d}s`,transitionProperty:h,transitionDuration:`${p}s`,transitionTimingFunction:S},t._x_transition.enter.start={opacity:c,transform:`scale(${u})`},t._x_transition.enter.end={opacity:1,transform:"scale(1)"}),r&&(t._x_transition.leave.during={transformOrigin:f,transitionDelay:`${d}s`,transitionProperty:h,transitionDuration:`${y}s`,transitionTimingFunction:S},t._x_transition.leave.start={opacity:1,transform:"scale(1)"},t._x_transition.leave.end={opacity:c,transform:`scale(${u})`})}function Nl(t,e,n={}){t._x_transition||(t._x_transition={enter:{during:n,start:n,end:n},leave:{during:n,start:n,end:n},in(o=()=>{},i=()=>{}){Gr(t,e,{during:this.enter.during,start:this.enter.start,end:this.enter.end},o,i)},out(o=()=>{},i=()=>{}){Gr(t,e,{during:this.leave.during,start:this.leave.start,end:this.leave.end},o,i)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(t,e,n,o){const i=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let r=()=>i(n);if(e){t._x_transition&&(t._x_transition.enter||t._x_transition.leave)?t._x_transition.enter&&(Object.entries(t._x_transition.enter.during).length||Object.entries(t._x_transition.enter.start).length||Object.entries(t._x_transition.enter.end).length)?t._x_transition.in(n):r():t._x_transition?t._x_transition.in(n):r();return}t._x_hidePromise=t._x_transition?new Promise((s,a)=>{t._x_transition.out(()=>{},()=>s(o)),t._x_transitioning.beforeCancel(()=>a({isFromCancelledTransition:!0}))}):Promise.resolve(o),queueMicrotask(()=>{let s=Rl(t);s?(s._x_hideChildren||(s._x_hideChildren=[]),s._x_hideChildren.push(t)):i(()=>{let a=l=>{let c=Promise.all([l._x_hidePromise,...(l._x_hideChildren||[]).map(a)]).then(([u])=>u());return delete l._x_hidePromise,delete l._x_hideChildren,c};a(t).catch(l=>{if(!l.isFromCancelledTransition)throw l})})})};function Rl(t){let e=t.parentNode;if(!!e)return e._x_hidePromise?e:Rl(e)}function Gr(t,e,{during:n,start:o,end:i}={},r=()=>{},s=()=>{}){if(t._x_transitioning&&t._x_transitioning.cancel(),Object.keys(n).length===0&&Object.keys(o).length===0&&Object.keys(i).length===0){r(),s();return}let a,l,c;zp(t,{start(){a=e(t,o)},during(){l=e(t,n)},before:r,end(){a(),c=e(t,i)},after:s,cleanup(){l(),c()}})}function zp(t,e){let n,o,i,r=Xr(()=>{de(()=>{n=!0,o||e.before(),i||(e.end(),Yr()),e.after(),t.isConnected&&e.cleanup(),delete t._x_transitioning})});t._x_transitioning={beforeCancels:[],beforeCancel(s){this.beforeCancels.push(s)},cancel:Xr(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();r()}),finish:r},de(()=>{e.start(),e.during()}),Np(),requestAnimationFrame(()=>{if(n)return;let s=Number(getComputedStyle(t).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,a=Number(getComputedStyle(t).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;s===0&&(s=Number(getComputedStyle(t).animationDuration.replace("s",""))*1e3),de(()=>{e.before()}),o=!0,requestAnimationFrame(()=>{n||(de(()=>{e.end()}),Yr(),setTimeout(t._x_transitioning.finish,s+a),i=!0)})})}function rn(t,e,n){if(t.indexOf(e)===-1)return n;const o=t[t.indexOf(e)+1];if(!o||e==="scale"&&isNaN(o))return n;if(e==="duration"||e==="delay"){let i=o.match(/([0-9]+)ms/);if(i)return i[1]}return e==="origin"&&["top","right","left","center","bottom"].includes(t[t.indexOf(e)+2])?[o,t[t.indexOf(e)+2]].join(" "):o}var _n=!1;function Ln(t,e=()=>{}){return(...n)=>_n?e(...n):t(...n)}function $p(t){return(...e)=>_n&&t(...e)}function Wp(t,e){e._x_dataStack||(e._x_dataStack=t._x_dataStack),_n=!0,Xp(()=>{Yp(e)}),_n=!1}function Yp(t){let e=!1;ut(t,(o,i)=>{ct(o,(r,s)=>{if(e&&Ip(r))return s();e=!0,i(r,s)})})}function Xp(t){let e=en;Os((n,o)=>{let i=e(n);return On(i),()=>{}}),t(),Os(e)}function Dl(t,e,n,o=[]){switch(t._x_bindings||(t._x_bindings=Qt({})),t._x_bindings[e]=n,e=o.includes("camel")?eg(e):e,e){case"value":Gp(t,n);break;case"style":qp(t,n);break;case"class":Vp(t,n);break;case"selected":case"checked":Kp(t,e,n);break;default:Fl(t,e,n);break}}function Gp(t,e){if(t.type==="radio")t.attributes.value===void 0&&(t.value=e),window.fromModel&&(t.checked=Ls(t.value,e));else if(t.type==="checkbox")Number.isInteger(e)?t.value=e:!Number.isInteger(e)&&!Array.isArray(e)&&typeof e!="boolean"&&![null,void 0].includes(e)?t.value=String(e):Array.isArray(e)?t.checked=e.some(n=>Ls(n,t.value)):t.checked=!!e;else if(t.tagName==="SELECT")Qp(t,e);else{if(t.value===e)return;t.value=e}}function Vp(t,e){t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedClasses=Pi(t,e)}function qp(t,e){t._x_undoAddedStyles&&t._x_undoAddedStyles(),t._x_undoAddedStyles=Oo(t,e)}function Kp(t,e,n){Fl(t,e,n),Zp(t,e,n)}function Fl(t,e,n){[null,void 0,!1].includes(n)&&tg(e)?t.removeAttribute(e):(jl(e)&&(n=e),Jp(t,e,n))}function Jp(t,e,n){t.getAttribute(e)!=n&&t.setAttribute(e,n)}function Zp(t,e,n){t[e]!==n&&(t[e]=n)}function Qp(t,e){const n=[].concat(e).map(o=>o+"");Array.from(t.options).forEach(o=>{o.selected=n.includes(o.value)})}function eg(t){return t.toLowerCase().replace(/-(\w)/g,(e,n)=>n.toUpperCase())}function Ls(t,e){return t==e}function jl(t){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(t)}function tg(t){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(t)}function ng(t,e,n){if(t._x_bindings&&t._x_bindings[e]!==void 0)return t._x_bindings[e];let o=t.getAttribute(e);return o===null?typeof n=="function"?n():n:o===""?!0:jl(e)?!![e,"true"].includes(o):o}function Hl(t,e){var n;return function(){var o=this,i=arguments,r=function(){n=null,t.apply(o,i)};clearTimeout(n),n=setTimeout(r,e)}}function Ul(t,e){let n;return function(){let o=this,i=arguments;n||(t.apply(o,i),n=!0,setTimeout(()=>n=!1,e))}}function og(t){(Array.isArray(t)?t:[t]).forEach(n=>n(In))}var wt={},Is=!1;function rg(t,e){if(Is||(wt=Qt(wt),Is=!0),e===void 0)return wt[t];wt[t]=e,typeof e=="object"&&e!==null&&e.hasOwnProperty("init")&&typeof e.init=="function"&&wt[t].init(),pl(wt[t])}function ig(){return wt}var zl={};function sg(t,e){let n=typeof e!="function"?()=>e:e;t instanceof Element?$l(t,n()):zl[t]=n}function ag(t){return Object.entries(zl).forEach(([e,n])=>{Object.defineProperty(t,e,{get(){return(...o)=>n(...o)}})}),t}function $l(t,e,n){let o=[];for(;o.length;)o.pop()();let i=Object.entries(e).map(([s,a])=>({name:s,value:a})),r=yl(i);i=i.map(s=>r.find(a=>a.name===s.name)?{name:`x-bind:${s.name}`,value:`"${s.value}"`}:s),Oi(t,i,n).map(s=>{o.push(s.runCleanups),s()})}var Wl={};function lg(t,e){Wl[t]=e}function cg(t,e){return Object.entries(Wl).forEach(([n,o])=>{Object.defineProperty(t,n,{get(){return(...i)=>o.bind(e)(...i)},enumerable:!1})}),t}var dg={get reactive(){return Qt},get release(){return On},get effect(){return en},get raw(){return sl},version:"3.12.2",flushAndStopDeferringMutations:yp,dontAutoEvaluateFunctions:kp,disableEffectScheduling:dp,startObservingMutations:Ti,stopObservingMutations:fl,setReactivityEngine:up,closestDataStack:Vt,skipDuringClone:Ln,onlyDuringClone:$p,addRootSelector:Al,addInitSelector:Ll,addScopeToNode:Mn,deferMutations:bp,mapAttributes:Mi,evaluateLater:be,interceptInit:Pp,setEvaluator:Sp,mergeProxies:An,findClosest:Bo,closestRoot:_o,destroyTree:Pl,interceptor:gl,transition:Gr,setStyles:Oo,mutateDom:de,directive:ie,throttle:Ul,debounce:Hl,evaluate:$t,initTree:ut,nextTick:Ii,prefixed:tn,prefix:_p,plugin:og,magic:je,store:rg,start:Lp,clone:Wp,bound:ng,$data:hl,walk:ct,data:lg,bind:sg},In=dg;function ug(t,e){const n=Object.create(null),o=t.split(",");for(let i=0;i<o.length;i++)n[o[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}var fg=Object.freeze({});Object.freeze([]);var Yl=Object.assign,hg=Object.prototype.hasOwnProperty,Mo=(t,e)=>hg.call(t,e),Tt=Array.isArray,yn=t=>Xl(t)==="[object Map]",pg=t=>typeof t=="string",Ni=t=>typeof t=="symbol",Ao=t=>t!==null&&typeof t=="object",gg=Object.prototype.toString,Xl=t=>gg.call(t),Gl=t=>Xl(t).slice(8,-1),Ri=t=>pg(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,mg=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},vg=mg(t=>t.charAt(0).toUpperCase()+t.slice(1)),Vl=(t,e)=>t!==e&&(t===t||e===e),Vr=new WeakMap,sn=[],He,Ct=Symbol("iterate"),qr=Symbol("Map key iterate");function bg(t){return t&&t._isEffect===!0}function yg(t,e=fg){bg(t)&&(t=t.raw);const n=kg(t,e);return e.lazy||n(),n}function wg(t){t.active&&(ql(t),t.options.onStop&&t.options.onStop(),t.active=!1)}var xg=0;function kg(t,e){const n=function(){if(!n.active)return t();if(!sn.includes(n)){ql(n);try{return Eg(),sn.push(n),He=n,t()}finally{sn.pop(),Kl(),He=sn[sn.length-1]}}};return n.id=xg++,n.allowRecurse=!!e.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=t,n.deps=[],n.options=e,n}function ql(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}var qt=!0,Di=[];function Sg(){Di.push(qt),qt=!1}function Eg(){Di.push(qt),qt=!0}function Kl(){const t=Di.pop();qt=t===void 0?!0:t}function Fe(t,e,n){if(!qt||He===void 0)return;let o=Vr.get(t);o||Vr.set(t,o=new Map);let i=o.get(n);i||o.set(n,i=new Set),i.has(He)||(i.add(He),He.deps.push(i),He.options.onTrack&&He.options.onTrack({effect:He,target:t,type:e,key:n}))}function ft(t,e,n,o,i,r){const s=Vr.get(t);if(!s)return;const a=new Set,l=u=>{u&&u.forEach(d=>{(d!==He||d.allowRecurse)&&a.add(d)})};if(e==="clear")s.forEach(l);else if(n==="length"&&Tt(t))s.forEach((u,d)=>{(d==="length"||d>=o)&&l(u)});else switch(n!==void 0&&l(s.get(n)),e){case"add":Tt(t)?Ri(n)&&l(s.get("length")):(l(s.get(Ct)),yn(t)&&l(s.get(qr)));break;case"delete":Tt(t)||(l(s.get(Ct)),yn(t)&&l(s.get(qr)));break;case"set":yn(t)&&l(s.get(Ct));break}const c=u=>{u.options.onTrigger&&u.options.onTrigger({effect:u,target:t,key:n,type:e,newValue:o,oldValue:i,oldTarget:r}),u.options.scheduler?u.options.scheduler(u):u()};a.forEach(c)}var Tg=ug("__proto__,__v_isRef,__isVue"),Jl=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(Ni)),Cg=Lo(),_g=Lo(!1,!0),Bg=Lo(!0),Og=Lo(!0,!0),uo={};["includes","indexOf","lastIndexOf"].forEach(t=>{const e=Array.prototype[t];uo[t]=function(...n){const o=J(this);for(let r=0,s=this.length;r<s;r++)Fe(o,"get",r+"");const i=e.apply(o,n);return i===-1||i===!1?e.apply(o,n.map(J)):i}});["push","pop","shift","unshift","splice"].forEach(t=>{const e=Array.prototype[t];uo[t]=function(...n){Sg();const o=e.apply(this,n);return Kl(),o}});function Lo(t=!1,e=!1){return function(o,i,r){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_raw"&&r===(t?e?jg:fc:e?Fg:uc).get(o))return o;const s=Tt(o);if(!t&&s&&Mo(uo,i))return Reflect.get(uo,i,r);const a=Reflect.get(o,i,r);return(Ni(i)?Jl.has(i):Tg(i))||(t||Fe(o,"get",i),e)?a:Kr(a)?!s||!Ri(i)?a.value:a:Ao(a)?t?hc(a):Ui(a):a}}var Mg=Zl(),Ag=Zl(!0);function Zl(t=!1){return function(n,o,i,r){let s=n[o];if(!t&&(i=J(i),s=J(s),!Tt(n)&&Kr(s)&&!Kr(i)))return s.value=i,!0;const a=Tt(n)&&Ri(o)?Number(o)<n.length:Mo(n,o),l=Reflect.set(n,o,i,r);return n===J(r)&&(a?Vl(i,s)&&ft(n,"set",o,i,s):ft(n,"add",o,i)),l}}function Lg(t,e){const n=Mo(t,e),o=t[e],i=Reflect.deleteProperty(t,e);return i&&n&&ft(t,"delete",e,void 0,o),i}function Ig(t,e){const n=Reflect.has(t,e);return(!Ni(e)||!Jl.has(e))&&Fe(t,"has",e),n}function Pg(t){return Fe(t,"iterate",Tt(t)?"length":Ct),Reflect.ownKeys(t)}var Ql={get:Cg,set:Mg,deleteProperty:Lg,has:Ig,ownKeys:Pg},ec={get:Bg,set(t,e){return console.warn(`Set operation on key "${String(e)}" failed: target is readonly.`,t),!0},deleteProperty(t,e){return console.warn(`Delete operation on key "${String(e)}" failed: target is readonly.`,t),!0}};Yl({},Ql,{get:_g,set:Ag});Yl({},ec,{get:Og});var Fi=t=>Ao(t)?Ui(t):t,ji=t=>Ao(t)?hc(t):t,Hi=t=>t,Io=t=>Reflect.getPrototypeOf(t);function Po(t,e,n=!1,o=!1){t=t.__v_raw;const i=J(t),r=J(e);e!==r&&!n&&Fe(i,"get",e),!n&&Fe(i,"get",r);const{has:s}=Io(i),a=o?Hi:n?ji:Fi;if(s.call(i,e))return a(t.get(e));if(s.call(i,r))return a(t.get(r));t!==i&&t.get(e)}function No(t,e=!1){const n=this.__v_raw,o=J(n),i=J(t);return t!==i&&!e&&Fe(o,"has",t),!e&&Fe(o,"has",i),t===i?n.has(t):n.has(t)||n.has(i)}function Ro(t,e=!1){return t=t.__v_raw,!e&&Fe(J(t),"iterate",Ct),Reflect.get(t,"size",t)}function tc(t){t=J(t);const e=J(this);return Io(e).has.call(e,t)||(e.add(t),ft(e,"add",t,t)),this}function nc(t,e){e=J(e);const n=J(this),{has:o,get:i}=Io(n);let r=o.call(n,t);r?dc(n,o,t):(t=J(t),r=o.call(n,t));const s=i.call(n,t);return n.set(t,e),r?Vl(e,s)&&ft(n,"set",t,e,s):ft(n,"add",t,e),this}function oc(t){const e=J(this),{has:n,get:o}=Io(e);let i=n.call(e,t);i?dc(e,n,t):(t=J(t),i=n.call(e,t));const r=o?o.call(e,t):void 0,s=e.delete(t);return i&&ft(e,"delete",t,void 0,r),s}function rc(){const t=J(this),e=t.size!==0,n=yn(t)?new Map(t):new Set(t),o=t.clear();return e&&ft(t,"clear",void 0,void 0,n),o}function Do(t,e){return function(o,i){const r=this,s=r.__v_raw,a=J(s),l=e?Hi:t?ji:Fi;return!t&&Fe(a,"iterate",Ct),s.forEach((c,u)=>o.call(i,l(c),l(u),r))}}function Hn(t,e,n){return function(...o){const i=this.__v_raw,r=J(i),s=yn(r),a=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,c=i[t](...o),u=n?Hi:e?ji:Fi;return!e&&Fe(r,"iterate",l?qr:Ct),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function it(t){return function(...e){{const n=e[0]?`on key "${e[0]}" `:"";console.warn(`${vg(t)} operation ${n}failed: target is readonly.`,J(this))}return t==="delete"?!1:this}}var ic={get(t){return Po(this,t)},get size(){return Ro(this)},has:No,add:tc,set:nc,delete:oc,clear:rc,forEach:Do(!1,!1)},sc={get(t){return Po(this,t,!1,!0)},get size(){return Ro(this)},has:No,add:tc,set:nc,delete:oc,clear:rc,forEach:Do(!1,!0)},ac={get(t){return Po(this,t,!0)},get size(){return Ro(this,!0)},has(t){return No.call(this,t,!0)},add:it("add"),set:it("set"),delete:it("delete"),clear:it("clear"),forEach:Do(!0,!1)},lc={get(t){return Po(this,t,!0,!0)},get size(){return Ro(this,!0)},has(t){return No.call(this,t,!0)},add:it("add"),set:it("set"),delete:it("delete"),clear:it("clear"),forEach:Do(!0,!0)},Ng=["keys","values","entries",Symbol.iterator];Ng.forEach(t=>{ic[t]=Hn(t,!1,!1),ac[t]=Hn(t,!0,!1),sc[t]=Hn(t,!1,!0),lc[t]=Hn(t,!0,!0)});function cc(t,e){const n=e?t?lc:sc:t?ac:ic;return(o,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?o:Reflect.get(Mo(n,i)&&i in o?n:o,i,r)}var Rg={get:cc(!1,!1)},Dg={get:cc(!0,!1)};function dc(t,e,n){const o=J(n);if(o!==n&&e.call(t,o)){const i=Gl(t);console.warn(`Reactive ${i} contains both the raw and reactive versions of the same object${i==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var uc=new WeakMap,Fg=new WeakMap,fc=new WeakMap,jg=new WeakMap;function Hg(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ug(t){return t.__v_skip||!Object.isExtensible(t)?0:Hg(Gl(t))}function Ui(t){return t&&t.__v_isReadonly?t:pc(t,!1,Ql,Rg,uc)}function hc(t){return pc(t,!0,ec,Dg,fc)}function pc(t,e,n,o,i){if(!Ao(t))return console.warn(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const s=Ug(t);if(s===0)return t;const a=new Proxy(t,s===2?o:n);return i.set(t,a),a}function J(t){return t&&J(t.__v_raw)||t}function Kr(t){return Boolean(t&&t.__v_isRef===!0)}je("nextTick",()=>Ii);je("dispatch",t=>bn.bind(bn,t));je("watch",(t,{evaluateLater:e,effect:n})=>(o,i)=>{let r=e(o),s=!0,a,l=n(()=>r(c=>{JSON.stringify(c),s?a=c:queueMicrotask(()=>{i(c,a),a=c}),s=!1}));t._x_effects.delete(l)});je("store",ig);je("data",t=>hl(t));je("root",t=>_o(t));je("refs",t=>(t._x_refs_proxy||(t._x_refs_proxy=An(zg(t))),t._x_refs_proxy));function zg(t){let e=[],n=t;for(;n;)n._x_refs&&e.push(n._x_refs),n=n.parentNode;return e}var ur={};function gc(t){return ur[t]||(ur[t]=0),++ur[t]}function $g(t,e){return Bo(t,n=>{if(n._x_ids&&n._x_ids[e])return!0})}function Wg(t,e){t._x_ids||(t._x_ids={}),t._x_ids[e]||(t._x_ids[e]=gc(e))}je("id",t=>(e,n=null)=>{let o=$g(t,e),i=o?o._x_ids[e]:gc(e);return n?`${e}-${i}-${n}`:`${e}-${i}`});je("el",t=>t);mc("Focus","focus","focus");mc("Persist","persist","persist");function mc(t,e,n){je(e,o=>dt(`You can't use [$${directiveName}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${n}`,o))}function Yg({get:t,set:e},{get:n,set:o}){let i=!0,r,s,a=en(()=>{let l,c;i?(l=t(),o(l),c=n(),i=!1):(l=t(),c=n(),s=JSON.stringify(l),JSON.stringify(c),s!==r?(c=n(),o(l),c=l):(e(c),l=c)),r=JSON.stringify(l),JSON.stringify(c)});return()=>{On(a)}}ie("modelable",(t,{expression:e},{effect:n,evaluateLater:o,cleanup:i})=>{let r=o(e),s=()=>{let u;return r(d=>u=d),u},a=o(`${e} = __placeholder`),l=u=>a(()=>{},{scope:{__placeholder:u}}),c=s();l(c),queueMicrotask(()=>{if(!t._x_model)return;t._x_removeModelListeners.default();let u=t._x_model.get,d=t._x_model.set,f=Yg({get(){return u()},set(h){d(h)}},{get(){return s()},set(h){l(h)}});i(f)})});var Xg=document.createElement("div");ie("teleport",(t,{modifiers:e,expression:n},{cleanup:o})=>{t.tagName.toLowerCase()!=="template"&&dt("x-teleport can only be used on a <template> tag",t);let i=Ln(()=>document.querySelector(n),()=>Xg)();i||dt(`Cannot find x-teleport element for selector: "${n}"`);let r=t.content.cloneNode(!0).firstElementChild;t._x_teleport=r,r._x_teleportBack=t,t._x_forwardEvents&&t._x_forwardEvents.forEach(s=>{r.addEventListener(s,a=>{a.stopPropagation(),t.dispatchEvent(new a.constructor(a.type,a))})}),Mn(r,{},t),de(()=>{e.includes("prepend")?i.parentNode.insertBefore(r,i):e.includes("append")?i.parentNode.insertBefore(r,i.nextSibling):i.appendChild(r),ut(r),r._x_ignore=!0}),o(()=>r.remove())});var vc=()=>{};vc.inline=(t,{modifiers:e},{cleanup:n})=>{e.includes("self")?t._x_ignoreSelf=!0:t._x_ignore=!0,n(()=>{e.includes("self")?delete t._x_ignoreSelf:delete t._x_ignore})};ie("ignore",vc);ie("effect",(t,{expression:e},{effect:n})=>n(be(t,e)));function Jr(t,e,n,o){let i=t,r=l=>o(l),s={},a=(l,c)=>u=>c(l,u);if(n.includes("dot")&&(e=Gg(e)),n.includes("camel")&&(e=Vg(e)),n.includes("passive")&&(s.passive=!0),n.includes("capture")&&(s.capture=!0),n.includes("window")&&(i=window),n.includes("document")&&(i=document),n.includes("debounce")){let l=n[n.indexOf("debounce")+1]||"invalid-wait",c=fo(l.split("ms")[0])?Number(l.split("ms")[0]):250;r=Hl(r,c)}if(n.includes("throttle")){let l=n[n.indexOf("throttle")+1]||"invalid-wait",c=fo(l.split("ms")[0])?Number(l.split("ms")[0]):250;r=Ul(r,c)}return n.includes("prevent")&&(r=a(r,(l,c)=>{c.preventDefault(),l(c)})),n.includes("stop")&&(r=a(r,(l,c)=>{c.stopPropagation(),l(c)})),n.includes("self")&&(r=a(r,(l,c)=>{c.target===t&&l(c)})),(n.includes("away")||n.includes("outside"))&&(i=document,r=a(r,(l,c)=>{t.contains(c.target)||c.target.isConnected!==!1&&(t.offsetWidth<1&&t.offsetHeight<1||t._x_isShown!==!1&&l(c))})),n.includes("once")&&(r=a(r,(l,c)=>{l(c),i.removeEventListener(e,r,s)})),r=a(r,(l,c)=>{Kg(e)&&Jg(c,n)||l(c)}),i.addEventListener(e,r,s),()=>{i.removeEventListener(e,r,s)}}function Gg(t){return t.replace(/-/g,".")}function Vg(t){return t.toLowerCase().replace(/-(\w)/g,(e,n)=>n.toUpperCase())}function fo(t){return!Array.isArray(t)&&!isNaN(t)}function qg(t){return[" ","_"].includes(t)?t:t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function Kg(t){return["keydown","keyup"].includes(t)}function Jg(t,e){let n=e.filter(r=>!["window","document","prevent","stop","once","capture"].includes(r));if(n.includes("debounce")){let r=n.indexOf("debounce");n.splice(r,fo((n[r+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.includes("throttle")){let r=n.indexOf("throttle");n.splice(r,fo((n[r+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.length===0||n.length===1&&Ps(t.key).includes(n[0]))return!1;const i=["ctrl","shift","alt","meta","cmd","super"].filter(r=>n.includes(r));return n=n.filter(r=>!i.includes(r)),!(i.length>0&&i.filter(s=>((s==="cmd"||s==="super")&&(s="meta"),t[`${s}Key`])).length===i.length&&Ps(t.key).includes(n[0]))}function Ps(t){if(!t)return[];t=qg(t);let e={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return e[t]=t,Object.keys(e).map(n=>{if(e[n]===t)return n}).filter(n=>n)}ie("model",(t,{modifiers:e,expression:n},{effect:o,cleanup:i})=>{let r=t;e.includes("parent")&&(r=t.parentNode);let s=be(r,n),a;typeof n=="string"?a=be(r,`${n} = __placeholder`):typeof n=="function"&&typeof n()=="string"?a=be(r,`${n()} = __placeholder`):a=()=>{};let l=()=>{let f;return s(h=>f=h),Ns(f)?f.get():f},c=f=>{let h;s(p=>h=p),Ns(h)?h.set(f):a(()=>{},{scope:{__placeholder:f}})};typeof n=="string"&&t.type==="radio"&&de(()=>{t.hasAttribute("name")||t.setAttribute("name",n)});var u=t.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(t.type)||e.includes("lazy")?"change":"input";let d=_n?()=>{}:Jr(t,u,e,f=>{c(Zg(t,e,f,l()))});if(e.includes("fill")&&[null,""].includes(l())&&t.dispatchEvent(new Event(u,{})),t._x_removeModelListeners||(t._x_removeModelListeners={}),t._x_removeModelListeners.default=d,i(()=>t._x_removeModelListeners.default()),t.form){let f=Jr(t.form,"reset",[],h=>{Ii(()=>t._x_model&&t._x_model.set(t.value))});i(()=>f())}t._x_model={get(){return l()},set(f){c(f)}},t._x_forceModelUpdate=f=>{f=f===void 0?l():f,f===void 0&&typeof n=="string"&&n.match(/\./)&&(f=""),window.fromModel=!0,de(()=>Dl(t,"value",f)),delete window.fromModel},o(()=>{let f=l();e.includes("unintrusive")&&document.activeElement.isSameNode(t)||t._x_forceModelUpdate(f)})});function Zg(t,e,n,o){return de(()=>{var i;if(n instanceof CustomEvent&&n.detail!==void 0)return(i=n.detail)!=null?i:n.target.value;if(t.type==="checkbox")if(Array.isArray(o)){let r=e.includes("number")?fr(n.target.value):n.target.value;return n.target.checked?o.concat([r]):o.filter(s=>!Qg(s,r))}else return n.target.checked;else{if(t.tagName.toLowerCase()==="select"&&t.multiple)return e.includes("number")?Array.from(n.target.selectedOptions).map(r=>{let s=r.value||r.text;return fr(s)}):Array.from(n.target.selectedOptions).map(r=>r.value||r.text);{let r=n.target.value;return e.includes("number")?fr(r):e.includes("trim")?r.trim():r}}})}function fr(t){let e=t?parseFloat(t):null;return em(e)?e:t}function Qg(t,e){return t==e}function em(t){return!Array.isArray(t)&&!isNaN(t)}function Ns(t){return t!==null&&typeof t=="object"&&typeof t.get=="function"&&typeof t.set=="function"}ie("cloak",t=>queueMicrotask(()=>de(()=>t.removeAttribute(tn("cloak")))));Ll(()=>`[${tn("init")}]`);ie("init",Ln((t,{expression:e},{evaluate:n})=>typeof e=="string"?!!e.trim()&&n(e,{},!1):n(e,{},!1)));ie("text",(t,{expression:e},{effect:n,evaluateLater:o})=>{let i=o(e);n(()=>{i(r=>{de(()=>{t.textContent=r})})})});ie("html",(t,{expression:e},{effect:n,evaluateLater:o})=>{let i=o(e);n(()=>{i(r=>{de(()=>{t.innerHTML=r,t._x_ignoreSelf=!0,ut(t),delete t._x_ignoreSelf})})})});Mi(kl(":",Sl(tn("bind:"))));ie("bind",(t,{value:e,modifiers:n,expression:o,original:i},{effect:r})=>{if(!e){let a={};ag(a),be(t,o)(c=>{$l(t,c,i)},{scope:a});return}if(e==="key")return tm(t,o);let s=be(t,o);r(()=>s(a=>{a===void 0&&typeof o=="string"&&o.match(/\./)&&(a=""),de(()=>Dl(t,e,a,n))}))});function tm(t,e){t._x_keyExpression=e}Al(()=>`[${tn("data")}]`);ie("data",Ln((t,{expression:e},{cleanup:n})=>{e=e===""?"{}":e;let o={};Hr(o,t);let i={};cg(i,o);let r=$t(t,e,{scope:i});(r===void 0||r===!0)&&(r={}),Hr(r,t);let s=Qt(r);pl(s);let a=Mn(t,s);s.init&&$t(t,s.init),n(()=>{s.destroy&&$t(t,s.destroy),a()})}));ie("show",(t,{modifiers:e,expression:n},{effect:o})=>{let i=be(t,n);t._x_doHide||(t._x_doHide=()=>{de(()=>{t.style.setProperty("display","none",e.includes("important")?"important":void 0)})}),t._x_doShow||(t._x_doShow=()=>{de(()=>{t.style.length===1&&t.style.display==="none"?t.removeAttribute("style"):t.style.removeProperty("display")})});let r=()=>{t._x_doHide(),t._x_isShown=!1},s=()=>{t._x_doShow(),t._x_isShown=!0},a=()=>setTimeout(s),l=Xr(d=>d?s():r(),d=>{typeof t._x_toggleAndCascadeWithTransitions=="function"?t._x_toggleAndCascadeWithTransitions(t,d,s,r):d?a():r()}),c,u=!0;o(()=>i(d=>{!u&&d===c||(e.includes("immediate")&&(d?a():r()),l(d),c=d,u=!1)}))});ie("for",(t,{expression:e},{effect:n,cleanup:o})=>{let i=om(e),r=be(t,i.items),s=be(t,t._x_keyExpression||"index");t._x_prevKeys=[],t._x_lookup={},n(()=>nm(t,i,r,s)),o(()=>{Object.values(t._x_lookup).forEach(a=>a.remove()),delete t._x_prevKeys,delete t._x_lookup})});function nm(t,e,n,o){let i=s=>typeof s=="object"&&!Array.isArray(s),r=t;n(s=>{rm(s)&&s>=0&&(s=Array.from(Array(s).keys(),S=>S+1)),s===void 0&&(s=[]);let a=t._x_lookup,l=t._x_prevKeys,c=[],u=[];if(i(s))s=Object.entries(s).map(([S,C])=>{let E=Rs(e,C,S,s);o(g=>u.push(g),{scope:{index:S,...E}}),c.push(E)});else for(let S=0;S<s.length;S++){let C=Rs(e,s[S],S,s);o(E=>u.push(E),{scope:{index:S,...C}}),c.push(C)}let d=[],f=[],h=[],p=[];for(let S=0;S<l.length;S++){let C=l[S];u.indexOf(C)===-1&&h.push(C)}l=l.filter(S=>!h.includes(S));let y="template";for(let S=0;S<u.length;S++){let C=u[S],E=l.indexOf(C);if(E===-1)l.splice(S,0,C),d.push([y,S]);else if(E!==S){let g=l.splice(S,1)[0],b=l.splice(E-1,1)[0];l.splice(S,0,b),l.splice(E,0,g),f.push([g,b])}else p.push(C);y=C}for(let S=0;S<h.length;S++){let C=h[S];a[C]._x_effects&&a[C]._x_effects.forEach(il),a[C].remove(),a[C]=null,delete a[C]}for(let S=0;S<f.length;S++){let[C,E]=f[S],g=a[C],b=a[E],m=document.createElement("div");de(()=>{b||dt('x-for ":key" is undefined or invalid',r),b.after(m),g.after(b),b._x_currentIfEl&&b.after(b._x_currentIfEl),m.before(g),g._x_currentIfEl&&g.after(g._x_currentIfEl),m.remove()}),b._x_refreshXForScope(c[u.indexOf(E)])}for(let S=0;S<d.length;S++){let[C,E]=d[S],g=C==="template"?r:a[C];g._x_currentIfEl&&(g=g._x_currentIfEl);let b=c[E],m=u[E],k=document.importNode(r.content,!0).firstElementChild,M=Qt(b);Mn(k,M,r),k._x_refreshXForScope=x=>{Object.entries(x).forEach(([v,O])=>{M[v]=O})},de(()=>{g.after(k),ut(k)}),typeof m=="object"&&dt("x-for key cannot be an object, it must be a string or an integer",r),a[m]=k}for(let S=0;S<p.length;S++)a[p[S]]._x_refreshXForScope(c[u.indexOf(p[S])]);r._x_prevKeys=u})}function om(t){let e=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=/^\s*\(|\)\s*$/g,o=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,i=t.match(o);if(!i)return;let r={};r.items=i[2].trim();let s=i[1].replace(n,"").trim(),a=s.match(e);return a?(r.item=s.replace(e,"").trim(),r.index=a[1].trim(),a[2]&&(r.collection=a[2].trim())):r.item=s,r}function Rs(t,e,n,o){let i={};return/^\[.*\]$/.test(t.item)&&Array.isArray(e)?t.item.replace("[","").replace("]","").split(",").map(s=>s.trim()).forEach((s,a)=>{i[s]=e[a]}):/^\{.*\}$/.test(t.item)&&!Array.isArray(e)&&typeof e=="object"?t.item.replace("{","").replace("}","").split(",").map(s=>s.trim()).forEach(s=>{i[s]=e[s]}):i[t.item]=e,t.index&&(i[t.index]=n),t.collection&&(i[t.collection]=o),i}function rm(t){return!Array.isArray(t)&&!isNaN(t)}function bc(){}bc.inline=(t,{expression:e},{cleanup:n})=>{let o=_o(t);o._x_refs||(o._x_refs={}),o._x_refs[e]=t,n(()=>delete o._x_refs[e])};ie("ref",bc);ie("if",(t,{expression:e},{effect:n,cleanup:o})=>{let i=be(t,e),r=()=>{if(t._x_currentIfEl)return t._x_currentIfEl;let a=t.content.cloneNode(!0).firstElementChild;return Mn(a,{},t),de(()=>{t.after(a),ut(a)}),t._x_currentIfEl=a,t._x_undoIf=()=>{ct(a,l=>{l._x_effects&&l._x_effects.forEach(il)}),a.remove(),delete t._x_currentIfEl},a},s=()=>{!t._x_undoIf||(t._x_undoIf(),delete t._x_undoIf)};n(()=>i(a=>{a?r():s()})),o(()=>t._x_undoIf&&t._x_undoIf())});ie("id",(t,{expression:e},{evaluate:n})=>{n(e).forEach(i=>Wg(t,i))});Mi(kl("@",Sl(tn("on:"))));ie("on",Ln((t,{value:e,modifiers:n,expression:o},{cleanup:i})=>{let r=o?be(t,o):()=>{};t.tagName.toLowerCase()==="template"&&(t._x_forwardEvents||(t._x_forwardEvents=[]),t._x_forwardEvents.includes(e)||t._x_forwardEvents.push(e));let s=Jr(t,e,n,a=>{r(()=>{},{scope:{$event:a},params:[a]})});i(()=>s())}));Fo("Collapse","collapse","collapse");Fo("Intersect","intersect","intersect");Fo("Focus","trap","focus");Fo("Mask","mask","mask");function Fo(t,e,n){ie(e,o=>dt(`You can't use [x-${e}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${n}`,o))}In.setEvaluator(bl);In.setReactivityEngine({reactive:Ui,effect:yg,release:wg,raw:J});var im=In,nn=im;function sm(t){t.directive("collapse",e),e.inline=(n,{modifiers:o})=>{!o.includes("min")||(n._x_doShow=()=>{},n._x_doHide=()=>{})};function e(n,{modifiers:o}){let i=Ds(o,"duration",250)/1e3,r=Ds(o,"min",0),s=!o.includes("min");n._x_isShown||(n.style.height=`${r}px`),!n._x_isShown&&s&&(n.hidden=!0),n._x_isShown||(n.style.overflow="hidden");let a=(c,u)=>{let d=t.setStyles(c,u);return u.height?()=>{}:d},l={transitionProperty:"height",transitionDuration:`${i}s`,transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)"};n._x_transition={in(c=()=>{},u=()=>{}){s&&(n.hidden=!1),s&&(n.style.display=null);let d=n.getBoundingClientRect().height;n.style.height="auto";let f=n.getBoundingClientRect().height;d===f&&(d=r),t.transition(n,t.setStyles,{during:l,start:{height:d+"px"},end:{height:f+"px"}},()=>n._x_isShown=!0,()=>{n.getBoundingClientRect().height==f&&(n.style.overflow=null)})},out(c=()=>{},u=()=>{}){let d=n.getBoundingClientRect().height;t.transition(n,a,{during:l,start:{height:d+"px"},end:{height:r+"px"}},()=>n.style.overflow="hidden",()=>{n._x_isShown=!1,n.style.height==`${r}px`&&s&&(n.style.display="none",n.hidden=!0)})}}}}function Ds(t,e,n){if(t.indexOf(e)===-1)return n;const o=t[t.indexOf(e)+1];if(!o)return n;if(e==="duration"){let i=o.match(/([0-9]+)ms/);if(i)return i[1]}if(e==="min"){let i=o.match(/([0-9]+)px/);if(i)return i[1]}return o}var am=sm;/*!
* tabbable 5.2.1
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var yc=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],Fs=yc.join(","),ho=typeof Element>"u"?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,wc=function(e,n,o){var i=Array.prototype.slice.apply(e.querySelectorAll(Fs));return n&&ho.call(e,Fs)&&i.unshift(e),i=i.filter(o),i},lm=function(e){return e.contentEditable==="true"},xc=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return isNaN(n)?lm(e)||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:n},cm=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},zi=function(e){return e.tagName==="INPUT"},dm=function(e){return zi(e)&&e.type==="hidden"},um=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},fm=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},hm=function(e){if(!e.name)return!0;var n=e.form||e.ownerDocument,o=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=o(window.CSS.escape(e.name));else try{i=o(e.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var r=fm(i,e.form);return!r||r===e},pm=function(e){return zi(e)&&e.type==="radio"},gm=function(e){return pm(e)&&!hm(e)},mm=function(e,n){if(getComputedStyle(e).visibility==="hidden")return!0;var o=ho.call(e,"details>summary:first-of-type"),i=o?e.parentElement:e;if(ho.call(i,"details:not([open]) *"))return!0;if(!n||n==="full")for(;e;){if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}else if(n==="non-zero-area"){var r=e.getBoundingClientRect(),s=r.width,a=r.height;return s===0&&a===0}return!1},vm=function(e){if(zi(e)||e.tagName==="SELECT"||e.tagName==="TEXTAREA"||e.tagName==="BUTTON")for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var i=n.children.item(o);if(i.tagName==="LEGEND")return!i.contains(e)}return!0}n=n.parentElement}return!1},$i=function(e,n){return!(n.disabled||dm(n)||mm(n,e.displayCheck)||um(n)||vm(n))},bm=function(e,n){return!(!$i(e,n)||gm(n)||xc(n)<0)},ym=function(e,n){n=n||{};var o=[],i=[],r=wc(e,n.includeContainer,bm.bind(null,n));r.forEach(function(a,l){var c=xc(a);c===0?o.push(a):i.push({documentOrder:l,tabIndex:c,node:a})});var s=i.sort(cm).map(function(a){return a.node}).concat(o);return s},wm=function(e,n){n=n||{};var o=wc(e,n.includeContainer,$i.bind(null,n));return o},xm=yc.concat("iframe").join(","),kc=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return ho.call(e,xm)===!1?!1:$i(n,e)};/*!
* focus-trap 6.6.1
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function js(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function km(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?js(Object(n),!0).forEach(function(o){Sm(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):js(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function Sm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Hs=function(){var t=[];return{activateTrap:function(n){if(t.length>0){var o=t[t.length-1];o!==n&&o.pause()}var i=t.indexOf(n);i===-1||t.splice(i,1),t.push(n)},deactivateTrap:function(n){var o=t.indexOf(n);o!==-1&&t.splice(o,1),t.length>0&&t[t.length-1].unpause()}}}(),Em=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Tm=function(e){return e.key==="Escape"||e.key==="Esc"||e.keyCode===27},Cm=function(e){return e.key==="Tab"||e.keyCode===9},Us=function(e){return setTimeout(e,0)},hr=function(e,n){var o=-1;return e.every(function(i,r){return n(i)?(o=r,!1):!0}),o},an=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,o):e},_m=function(e,n){var o=document,i=km({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},n),r={containers:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},s,a=function(k,M,x){return k&&k[M]!==void 0?k[M]:i[x||M]},l=function(k){return r.containers.some(function(M){return M.contains(k)})},c=function(k){var M=i[k];if(!M)return null;var x=M;if(typeof M=="string"&&(x=o.querySelector(M),!x))throw new Error("`".concat(k,"` refers to no known node"));if(typeof M=="function"&&(x=M(),!x))throw new Error("`".concat(k,"` did not return a node"));return x},u=function(){var k;if(a({},"initialFocus")===!1)return!1;if(c("initialFocus")!==null)k=c("initialFocus");else if(l(o.activeElement))k=o.activeElement;else{var M=r.tabbableGroups[0],x=M&&M.firstTabbableNode;k=x||c("fallbackFocus")}if(!k)throw new Error("Your focus-trap needs to have at least one focusable element");return k},d=function(){if(r.tabbableGroups=r.containers.map(function(k){var M=ym(k);if(M.length>0)return{container:k,firstTabbableNode:M[0],lastTabbableNode:M[M.length-1]}}).filter(function(k){return!!k}),r.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},f=function m(k){if(k!==!1&&k!==o.activeElement){if(!k||!k.focus){m(u());return}k.focus({preventScroll:!!i.preventScroll}),r.mostRecentlyFocusedNode=k,Em(k)&&k.select()}},h=function(k){var M=c("setReturnFocus");return M||k},p=function(k){if(!l(k.target)){if(an(i.clickOutsideDeactivates,k)){s.deactivate({returnFocus:i.returnFocusOnDeactivate&&!kc(k.target)});return}an(i.allowOutsideClick,k)||k.preventDefault()}},y=function(k){var M=l(k.target);M||k.target instanceof Document?M&&(r.mostRecentlyFocusedNode=k.target):(k.stopImmediatePropagation(),f(r.mostRecentlyFocusedNode||u()))},S=function(k){d();var M=null;if(r.tabbableGroups.length>0){var x=hr(r.tabbableGroups,function(B){var A=B.container;return A.contains(k.target)});if(x<0)k.shiftKey?M=r.tabbableGroups[r.tabbableGroups.length-1].lastTabbableNode:M=r.tabbableGroups[0].firstTabbableNode;else if(k.shiftKey){var v=hr(r.tabbableGroups,function(B){var A=B.firstTabbableNode;return k.target===A});if(v<0&&r.tabbableGroups[x].container===k.target&&(v=x),v>=0){var O=v===0?r.tabbableGroups.length-1:v-1,w=r.tabbableGroups[O];M=w.lastTabbableNode}}else{var T=hr(r.tabbableGroups,function(B){var A=B.lastTabbableNode;return k.target===A});if(T<0&&r.tabbableGroups[x].container===k.target&&(T=x),T>=0){var _=T===r.tabbableGroups.length-1?0:T+1,L=r.tabbableGroups[_];M=L.firstTabbableNode}}}else M=c("fallbackFocus");M&&(k.preventDefault(),f(M))},C=function(k){if(Tm(k)&&an(i.escapeDeactivates)!==!1){k.preventDefault(),s.deactivate();return}if(Cm(k)){S(k);return}},E=function(k){an(i.clickOutsideDeactivates,k)||l(k.target)||an(i.allowOutsideClick,k)||(k.preventDefault(),k.stopImmediatePropagation())},g=function(){if(!!r.active)return Hs.activateTrap(s),r.delayInitialFocusTimer=i.delayInitialFocus?Us(function(){f(u())}):f(u()),o.addEventListener("focusin",y,!0),o.addEventListener("mousedown",p,{capture:!0,passive:!1}),o.addEventListener("touchstart",p,{capture:!0,passive:!1}),o.addEventListener("click",E,{capture:!0,passive:!1}),o.addEventListener("keydown",C,{capture:!0,passive:!1}),s},b=function(){if(!!r.active)return o.removeEventListener("focusin",y,!0),o.removeEventListener("mousedown",p,!0),o.removeEventListener("touchstart",p,!0),o.removeEventListener("click",E,!0),o.removeEventListener("keydown",C,!0),s};return s={activate:function(k){if(r.active)return this;var M=a(k,"onActivate"),x=a(k,"onPostActivate"),v=a(k,"checkCanFocusTrap");v||d(),r.active=!0,r.paused=!1,r.nodeFocusedBeforeActivation=o.activeElement,M&&M();var O=function(){v&&d(),g(),x&&x()};return v?(v(r.containers.concat()).then(O,O),this):(O(),this)},deactivate:function(k){if(!r.active)return this;clearTimeout(r.delayInitialFocusTimer),r.delayInitialFocusTimer=void 0,b(),r.active=!1,r.paused=!1,Hs.deactivateTrap(s);var M=a(k,"onDeactivate"),x=a(k,"onPostDeactivate"),v=a(k,"checkCanReturnFocus");M&&M();var O=a(k,"returnFocus","returnFocusOnDeactivate"),w=function(){Us(function(){O&&f(h(r.nodeFocusedBeforeActivation)),x&&x()})};return O&&v?(v(h(r.nodeFocusedBeforeActivation)).then(w,w),this):(w(),this)},pause:function(){return r.paused||!r.active?this:(r.paused=!0,b(),this)},unpause:function(){return!r.paused||!r.active?this:(r.paused=!1,d(),g(),this)},updateContainerElements:function(k){var M=[].concat(k).filter(Boolean);return r.containers=M.map(function(x){return typeof x=="string"?o.querySelector(x):x}),r.active&&d(),this}},s.updateContainerElements(e),s};function Bm(t){let e,n;window.addEventListener("focusin",()=>{e=n,n=document.activeElement}),t.magic("focus",o=>{let i=o;return{__noscroll:!1,__wrapAround:!1,within(r){return i=r,this},withoutScrolling(){return this.__noscroll=!0,this},noscroll(){return this.__noscroll=!0,this},withWrapAround(){return this.__wrapAround=!0,this},wrap(){return this.withWrapAround()},focusable(r){return kc(r)},previouslyFocused(){return e},lastFocused(){return e},focused(){return n},focusables(){return Array.isArray(i)?i:wm(i,{displayCheck:"none"})},all(){return this.focusables()},isFirst(r){let s=this.all();return s[0]&&s[0].isSameNode(r)},isLast(r){let s=this.all();return s.length&&s.slice(-1)[0].isSameNode(r)},getFirst(){return this.all()[0]},getLast(){return this.all().slice(-1)[0]},getNext(){let r=this.all(),s=document.activeElement;if(r.indexOf(s)!==-1)return this.__wrapAround&&r.indexOf(s)===r.length-1?r[0]:r[r.indexOf(s)+1]},getPrevious(){let r=this.all(),s=document.activeElement;if(r.indexOf(s)!==-1)return this.__wrapAround&&r.indexOf(s)===0?r.slice(-1)[0]:r[r.indexOf(s)-1]},first(){this.focus(this.getFirst())},last(){this.focus(this.getLast())},next(){this.focus(this.getNext())},previous(){this.focus(this.getPrevious())},prev(){return this.previous()},focus(r){!r||setTimeout(()=>{r.hasAttribute("tabindex")||r.setAttribute("tabindex","0"),r.focus({preventScroll:this._noscroll})})}}}),t.directive("trap",t.skipDuringClone((o,{expression:i,modifiers:r},{effect:s,evaluateLater:a,cleanup:l})=>{let c=a(i),u=!1,d={escapeDeactivates:!1,allowOutsideClick:!0,fallbackFocus:()=>o},f=o.querySelector("[autofocus]");f&&(d.initialFocus=f);let h=_m(o,d),p=()=>{},y=()=>{};const S=()=>{p(),p=()=>{},y(),y=()=>{},h.deactivate({returnFocus:!r.includes("noreturn")})};s(()=>c(C=>{u!==C&&(C&&!u&&setTimeout(()=>{r.includes("inert")&&(p=zs(o)),r.includes("noscroll")&&(y=Om()),h.activate()}),!C&&u&&S(),u=!!C)})),l(S)},(o,{expression:i,modifiers:r},{evaluate:s})=>{r.includes("inert")&&s(i)&&zs(o)}))}function zs(t){let e=[];return Sc(t,n=>{let o=n.hasAttribute("aria-hidden");n.setAttribute("aria-hidden","true"),e.push(()=>o||n.removeAttribute("aria-hidden"))}),()=>{for(;e.length;)e.pop()()}}function Sc(t,e){t.isSameNode(document.body)||!t.parentNode||Array.from(t.parentNode.children).forEach(n=>{n.isSameNode(t)?Sc(t.parentNode,e):e(n)})}function Om(){let t=document.documentElement.style.overflow,e=document.documentElement.style.paddingRight,n=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${n}px`,()=>{document.documentElement.style.overflow=t,document.documentElement.style.paddingRight=e}}var Mm=Bm;function Am(t){t.directive("intersect",(e,{value:n,expression:o,modifiers:i},{evaluateLater:r,cleanup:s})=>{let a=r(o),l={rootMargin:Pm(i),threshold:Lm(i)},c=new IntersectionObserver(u=>{u.forEach(d=>{d.isIntersecting!==(n==="leave")&&(a(),i.includes("once")&&c.disconnect())})},l);c.observe(e),s(()=>{c.disconnect()})})}function Lm(t){if(t.includes("full"))return .99;if(t.includes("half"))return .5;if(!t.includes("threshold"))return 0;let e=t[t.indexOf("threshold")+1];return e==="100"?1:e==="0"?0:Number(`.${e}`)}function Im(t){let e=t.match(/^(-?[0-9]+)(px|%)?$/);return e?e[1]+(e[2]||"px"):void 0}function Pm(t){const e="margin",n="0px 0px 0px 0px",o=t.indexOf(e);if(o===-1)return n;let i=[];for(let r=1;r<5;r++)i.push(Im(t[o+r]||""));return i=i.filter(r=>r!==void 0),i.length?i.join(" ").trim():n}var Nm=Am;/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function $s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function We(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$s(Object(n),!0).forEach(function(o){Rm(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$s(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function Qn(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qn=function(e){return typeof e}:Qn=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qn(t)}function Rm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Je(){return Je=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Je.apply(this,arguments)}function Dm(t,e){if(t==null)return{};var n={},o=Object.keys(t),i,r;for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Fm(t,e){if(t==null)return{};var n=Dm(t,e),o,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,o)||(n[o]=t[o]))}return n}var jm="1.15.0";function qe(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Qe=qe(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Pn=qe(/Edge/i),Ws=qe(/firefox/i),wn=qe(/safari/i)&&!qe(/chrome/i)&&!qe(/android/i),Ec=qe(/iP(ad|od|hone)/i),Tc=qe(/chrome/i)&&qe(/android/i),Cc={capture:!1,passive:!1};function X(t,e,n){t.addEventListener(e,n,!Qe&&Cc)}function Y(t,e,n){t.removeEventListener(e,n,!Qe&&Cc)}function po(t,e){if(!!e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function Hm(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Ue(t,e,n,o){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&po(t,e):po(t,e))||o&&t===n)return t;if(t===n)break}while(t=Hm(t))}return null}var Ys=/\s+/g;function Ee(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var o=(" "+t.className+" ").replace(Ys," ").replace(" "+e+" "," ");t.className=(o+(n?" "+e:"")).replace(Ys," ")}}function j(t,e,n){var o=t&&t.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in o)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),o[e]=n+(typeof n=="string"?"":"px")}}function Wt(t,e){var n="";if(typeof t=="string")n=t;else do{var o=j(t,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function _c(t,e,n){if(t){var o=t.getElementsByTagName(e),i=0,r=o.length;if(n)for(;i<r;i++)n(o[i],i);return o}return[]}function $e(){var t=document.scrollingElement;return t||document.documentElement}function le(t,e,n,o,i){if(!(!t.getBoundingClientRect&&t!==window)){var r,s,a,l,c,u,d;if(t!==window&&t.parentNode&&t!==$e()?(r=t.getBoundingClientRect(),s=r.top,a=r.left,l=r.bottom,c=r.right,u=r.height,d=r.width):(s=0,a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!Qe))do if(i&&i.getBoundingClientRect&&(j(i,"transform")!=="none"||n&&j(i,"position")!=="static")){var f=i.getBoundingClientRect();s-=f.top+parseInt(j(i,"border-top-width")),a-=f.left+parseInt(j(i,"border-left-width")),l=s+r.height,c=a+r.width;break}while(i=i.parentNode);if(o&&t!==window){var h=Wt(i||t),p=h&&h.a,y=h&&h.d;h&&(s/=y,a/=p,d/=p,u/=y,l=s+u,c=a+d)}return{top:s,left:a,bottom:l,right:c,width:d,height:u}}}function Xs(t,e,n){for(var o=st(t,!0),i=le(t)[e];o;){var r=le(o)[n],s=void 0;if(n==="top"||n==="left"?s=i>=r:s=i<=r,!s)return o;if(o===$e())break;o=st(o,!1)}return!1}function Kt(t,e,n,o){for(var i=0,r=0,s=t.children;r<s.length;){if(s[r].style.display!=="none"&&s[r]!==H.ghost&&(o||s[r]!==H.dragged)&&Ue(s[r],n.draggable,t,!1)){if(i===e)return s[r];i++}r++}return null}function Wi(t,e){for(var n=t.lastElementChild;n&&(n===H.ghost||j(n,"display")==="none"||e&&!po(n,e));)n=n.previousElementSibling;return n||null}function Me(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==H.clone&&(!e||po(t,e))&&n++;return n}function Gs(t){var e=0,n=0,o=$e();if(t)do{var i=Wt(t),r=i.a,s=i.d;e+=t.scrollLeft*r,n+=t.scrollTop*s}while(t!==o&&(t=t.parentNode));return[e,n]}function Um(t,e){for(var n in t)if(!!t.hasOwnProperty(n)){for(var o in e)if(e.hasOwnProperty(o)&&e[o]===t[n][o])return Number(n)}return-1}function st(t,e){if(!t||!t.getBoundingClientRect)return $e();var n=t,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=j(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return $e();if(o||e)return n;o=!0}}while(n=n.parentNode);return $e()}function zm(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function pr(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var xn;function Bc(t,e){return function(){if(!xn){var n=arguments,o=this;n.length===1?t.call(o,n[0]):t.apply(o,n),xn=setTimeout(function(){xn=void 0},e)}}}function $m(){clearTimeout(xn),xn=void 0}function Oc(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function Mc(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}var _e="Sortable"+new Date().getTime();function Wm(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(i){if(!(j(i,"display")==="none"||i===H.ghost)){t.push({target:i,rect:le(i)});var r=We({},t[t.length-1].rect);if(i.thisAnimationDuration){var s=Wt(i,!0);s&&(r.top-=s.f,r.left-=s.e)}i.fromRect=r}})}},addAnimationState:function(o){t.push(o)},removeAnimationState:function(o){t.splice(Um(t,{target:o}),1)},animateAll:function(o){var i=this;if(!this.options.animation){clearTimeout(e),typeof o=="function"&&o();return}var r=!1,s=0;t.forEach(function(a){var l=0,c=a.target,u=c.fromRect,d=le(c),f=c.prevFromRect,h=c.prevToRect,p=a.rect,y=Wt(c,!0);y&&(d.top-=y.f,d.left-=y.e),c.toRect=d,c.thisAnimationDuration&&pr(f,d)&&!pr(u,d)&&(p.top-d.top)/(p.left-d.left)===(u.top-d.top)/(u.left-d.left)&&(l=Xm(p,f,h,i.options)),pr(d,u)||(c.prevFromRect=u,c.prevToRect=d,l||(l=i.options.animation),i.animate(c,p,d,l)),l&&(r=!0,s=Math.max(s,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(e),r?e=setTimeout(function(){typeof o=="function"&&o()},s):typeof o=="function"&&o(),t=[]},animate:function(o,i,r,s){if(s){j(o,"transition",""),j(o,"transform","");var a=Wt(this.el),l=a&&a.a,c=a&&a.d,u=(i.left-r.left)/(l||1),d=(i.top-r.top)/(c||1);o.animatingX=!!u,o.animatingY=!!d,j(o,"transform","translate3d("+u+"px,"+d+"px,0)"),this.forRepaintDummy=Ym(o),j(o,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),j(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){j(o,"transition",""),j(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},s)}}}}function Ym(t){return t.offsetWidth}function Xm(t,e,n,o){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*o.animation}var Pt=[],gr={initializeByDefault:!0},Nn={mount:function(e){for(var n in gr)gr.hasOwnProperty(n)&&!(n in e)&&(e[n]=gr[n]);Pt.forEach(function(o){if(o.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Pt.push(e)},pluginEvent:function(e,n,o){var i=this;this.eventCanceled=!1,o.cancel=function(){i.eventCanceled=!0};var r=e+"Global";Pt.forEach(function(s){!n[s.pluginName]||(n[s.pluginName][r]&&n[s.pluginName][r](We({sortable:n},o)),n.options[s.pluginName]&&n[s.pluginName][e]&&n[s.pluginName][e](We({sortable:n},o)))})},initializePlugins:function(e,n,o,i){Pt.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var c=new a(e,n,e.options);c.sortable=e,c.options=e.options,e[l]=c,Je(o,c.defaults)}});for(var r in e.options)if(!!e.options.hasOwnProperty(r)){var s=this.modifyOption(e,r,e.options[r]);typeof s<"u"&&(e.options[r]=s)}},getEventProperties:function(e,n){var o={};return Pt.forEach(function(i){typeof i.eventProperties=="function"&&Je(o,i.eventProperties.call(n[i.pluginName],e))}),o},modifyOption:function(e,n,o){var i;return Pt.forEach(function(r){!e[r.pluginName]||r.optionListeners&&typeof r.optionListeners[n]=="function"&&(i=r.optionListeners[n].call(e[r.pluginName],o))}),i}};function Gm(t){var e=t.sortable,n=t.rootEl,o=t.name,i=t.targetEl,r=t.cloneEl,s=t.toEl,a=t.fromEl,l=t.oldIndex,c=t.newIndex,u=t.oldDraggableIndex,d=t.newDraggableIndex,f=t.originalEvent,h=t.putSortable,p=t.extraEventProperties;if(e=e||n&&n[_e],!!e){var y,S=e.options,C="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!Qe&&!Pn?y=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent(o,!0,!0)),y.to=s||n,y.from=a||n,y.item=i||n,y.clone=r,y.oldIndex=l,y.newIndex=c,y.oldDraggableIndex=u,y.newDraggableIndex=d,y.originalEvent=f,y.pullMode=h?h.lastPutMode:void 0;var E=We(We({},p),Nn.getEventProperties(o,e));for(var g in E)y[g]=E[g];n&&n.dispatchEvent(y),S[C]&&S[C].call(e,y)}}var Vm=["evt"],ye=function(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=o.evt,r=Fm(o,Vm);Nn.pluginEvent.bind(H)(e,n,We({dragEl:R,parentEl:ee,ghostEl:z,rootEl:K,nextEl:xt,lastDownEl:eo,cloneEl:Z,cloneHidden:ot,dragStarted:un,putSortable:fe,activeSortable:H.active,originalEvent:i,oldIndex:Ut,oldDraggableIndex:kn,newIndex:Te,newDraggableIndex:tt,hideGhostForTarget:Pc,unhideGhostForTarget:Nc,cloneNowHidden:function(){ot=!0},cloneNowShown:function(){ot=!1},dispatchSortableEvent:function(a){ve({sortable:n,name:a,originalEvent:i})}},r))};function ve(t){Gm(We({putSortable:fe,cloneEl:Z,targetEl:R,rootEl:K,oldIndex:Ut,oldDraggableIndex:kn,newIndex:Te,newDraggableIndex:tt},t))}var R,ee,z,K,xt,eo,Z,ot,Ut,Te,kn,tt,Un,fe,jt=!1,go=!1,mo=[],bt,Pe,mr,vr,Vs,qs,un,Nt,Sn,En=!1,zn=!1,to,ge,br=[],Zr=!1,vo=[],jo=typeof document<"u",$n=Ec,Ks=Pn||Qe?"cssFloat":"float",qm=jo&&!Tc&&!Ec&&"draggable"in document.createElement("div"),Ac=function(){if(!!jo){if(Qe)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),Lc=function(e,n){var o=j(e),i=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),r=Kt(e,0,n),s=Kt(e,1,n),a=r&&j(r),l=s&&j(s),c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+le(r).width,u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+le(s).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return s&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return r&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||c>=i&&o[Ks]==="none"||s&&o[Ks]==="none"&&c+u>i)?"vertical":"horizontal"},Km=function(e,n,o){var i=o?e.left:e.top,r=o?e.right:e.bottom,s=o?e.width:e.height,a=o?n.left:n.top,l=o?n.right:n.bottom,c=o?n.width:n.height;return i===a||r===l||i+s/2===a+c/2},Jm=function(e,n){var o;return mo.some(function(i){var r=i[_e].options.emptyInsertThreshold;if(!(!r||Wi(i))){var s=le(i),a=e>=s.left-r&&e<=s.right+r,l=n>=s.top-r&&n<=s.bottom+r;if(a&&l)return o=i}}),o},Ic=function(e){function n(r,s){return function(a,l,c,u){var d=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(r==null&&(s||d))return!0;if(r==null||r===!1)return!1;if(s&&r==="clone")return r;if(typeof r=="function")return n(r(a,l,c,u),s)(a,l,c,u);var f=(s?a:l).options.group.name;return r===!0||typeof r=="string"&&r===f||r.join&&r.indexOf(f)>-1}}var o={},i=e.group;(!i||Qn(i)!="object")&&(i={name:i}),o.name=i.name,o.checkPull=n(i.pull,!0),o.checkPut=n(i.put),o.revertClone=i.revertClone,e.group=o},Pc=function(){!Ac&&z&&j(z,"display","none")},Nc=function(){!Ac&&z&&j(z,"display","")};jo&&!Tc&&document.addEventListener("click",function(t){if(go)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),go=!1,!1},!0);var yt=function(e){if(R){e=e.touches?e.touches[0]:e;var n=Jm(e.clientX,e.clientY);if(n){var o={};for(var i in e)e.hasOwnProperty(i)&&(o[i]=e[i]);o.target=o.rootEl=n,o.preventDefault=void 0,o.stopPropagation=void 0,n[_e]._onDragOver(o)}}},Zm=function(e){R&&R.parentNode[_e]._isOutsideThisEl(e.target)};function H(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Je({},e),t[_e]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Lc(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,a){s.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:H.supportPointer!==!1&&"PointerEvent"in window&&!wn,emptyInsertThreshold:5};Nn.initializePlugins(this,t,n);for(var o in n)!(o in e)&&(e[o]=n[o]);Ic(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:qm,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?X(t,"pointerdown",this._onTapStart):(X(t,"mousedown",this._onTapStart),X(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(X(t,"dragover",this),X(t,"dragenter",this)),mo.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Je(this,Wm())}H.prototype={constructor:H,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Nt=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,R):this.options.direction},_onTapStart:function(e){if(!!e.cancelable){var n=this,o=this.el,i=this.options,r=i.preventOnFilter,s=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,u=i.filter;if(sv(o),!R&&!(/mousedown|pointerdown/.test(s)&&e.button!==0||i.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&wn&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Ue(l,i.draggable,o,!1),!(l&&l.animated)&&eo!==l)){if(Ut=Me(l),kn=Me(l,i.draggable),typeof u=="function"){if(u.call(this,e,l,this)){ve({sortable:n,rootEl:c,name:"filter",targetEl:l,toEl:o,fromEl:o}),ye("filter",n,{evt:e}),r&&e.cancelable&&e.preventDefault();return}}else if(u&&(u=u.split(",").some(function(d){if(d=Ue(c,d.trim(),o,!1),d)return ve({sortable:n,rootEl:d,name:"filter",targetEl:l,fromEl:o,toEl:o}),ye("filter",n,{evt:e}),!0}),u)){r&&e.cancelable&&e.preventDefault();return}i.handle&&!Ue(c,i.handle,o,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,n,o){var i=this,r=i.el,s=i.options,a=r.ownerDocument,l;if(o&&!R&&o.parentNode===r){var c=le(o);if(K=r,R=o,ee=R.parentNode,xt=R.nextSibling,eo=o,Un=s.group,H.dragged=R,bt={target:R,clientX:(n||e).clientX,clientY:(n||e).clientY},Vs=bt.clientX-c.left,qs=bt.clientY-c.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,R.style["will-change"]="all",l=function(){if(ye("delayEnded",i,{evt:e}),H.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Ws&&i.nativeDraggable&&(R.draggable=!0),i._triggerDragStart(e,n),ve({sortable:i,name:"choose",originalEvent:e}),Ee(R,s.chosenClass,!0)},s.ignore.split(",").forEach(function(u){_c(R,u.trim(),yr)}),X(a,"dragover",yt),X(a,"mousemove",yt),X(a,"touchmove",yt),X(a,"mouseup",i._onDrop),X(a,"touchend",i._onDrop),X(a,"touchcancel",i._onDrop),Ws&&this.nativeDraggable&&(this.options.touchStartThreshold=4,R.draggable=!0),ye("delayStart",this,{evt:e}),s.delay&&(!s.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Pn||Qe))){if(H.eventCanceled){this._onDrop();return}X(a,"mouseup",i._disableDelayedDrag),X(a,"touchend",i._disableDelayedDrag),X(a,"touchcancel",i._disableDelayedDrag),X(a,"mousemove",i._delayedDragTouchMoveHandler),X(a,"touchmove",i._delayedDragTouchMoveHandler),s.supportPointer&&X(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,s.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){R&&yr(R),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Y(e,"mouseup",this._disableDelayedDrag),Y(e,"touchend",this._disableDelayedDrag),Y(e,"touchcancel",this._disableDelayedDrag),Y(e,"mousemove",this._delayedDragTouchMoveHandler),Y(e,"touchmove",this._delayedDragTouchMoveHandler),Y(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?X(document,"pointermove",this._onTouchMove):n?X(document,"touchmove",this._onTouchMove):X(document,"mousemove",this._onTouchMove):(X(R,"dragend",this),X(K,"dragstart",this._onDragStart));try{document.selection?no(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(jt=!1,K&&R){ye("dragStarted",this,{evt:n}),this.nativeDraggable&&X(document,"dragover",Zm);var o=this.options;!e&&Ee(R,o.dragClass,!1),Ee(R,o.ghostClass,!0),H.active=this,e&&this._appendGhost(),ve({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Pe){this._lastX=Pe.clientX,this._lastY=Pe.clientY,Pc();for(var e=document.elementFromPoint(Pe.clientX,Pe.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Pe.clientX,Pe.clientY),e!==n);)n=e;if(R.parentNode[_e]._isOutsideThisEl(e),n)do{if(n[_e]){var o=void 0;if(o=n[_e]._onDragOver({clientX:Pe.clientX,clientY:Pe.clientY,target:e,rootEl:n}),o&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);Nc()}},_onTouchMove:function(e){if(bt){var n=this.options,o=n.fallbackTolerance,i=n.fallbackOffset,r=e.touches?e.touches[0]:e,s=z&&Wt(z,!0),a=z&&s&&s.a,l=z&&s&&s.d,c=$n&&ge&&Gs(ge),u=(r.clientX-bt.clientX+i.x)/(a||1)+(c?c[0]-br[0]:0)/(a||1),d=(r.clientY-bt.clientY+i.y)/(l||1)+(c?c[1]-br[1]:0)/(l||1);if(!H.active&&!jt){if(o&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<o)return;this._onDragStart(e,!0)}if(z){s?(s.e+=u-(mr||0),s.f+=d-(vr||0)):s={a:1,b:0,c:0,d:1,e:u,f:d};var f="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");j(z,"webkitTransform",f),j(z,"mozTransform",f),j(z,"msTransform",f),j(z,"transform",f),mr=u,vr=d,Pe=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!z){var e=this.options.fallbackOnBody?document.body:K,n=le(R,!0,$n,!0,e),o=this.options;if($n){for(ge=e;j(ge,"position")==="static"&&j(ge,"transform")==="none"&&ge!==document;)ge=ge.parentNode;ge!==document.body&&ge!==document.documentElement?(ge===document&&(ge=$e()),n.top+=ge.scrollTop,n.left+=ge.scrollLeft):ge=$e(),br=Gs(ge)}z=R.cloneNode(!0),Ee(z,o.ghostClass,!1),Ee(z,o.fallbackClass,!0),Ee(z,o.dragClass,!0),j(z,"transition",""),j(z,"transform",""),j(z,"box-sizing","border-box"),j(z,"margin",0),j(z,"top",n.top),j(z,"left",n.left),j(z,"width",n.width),j(z,"height",n.height),j(z,"opacity","0.8"),j(z,"position",$n?"absolute":"fixed"),j(z,"zIndex","100000"),j(z,"pointerEvents","none"),H.ghost=z,e.appendChild(z),j(z,"transform-origin",Vs/parseInt(z.style.width)*100+"% "+qs/parseInt(z.style.height)*100+"%")}},_onDragStart:function(e,n){var o=this,i=e.dataTransfer,r=o.options;if(ye("dragStart",this,{evt:e}),H.eventCanceled){this._onDrop();return}ye("setupClone",this),H.eventCanceled||(Z=Mc(R),Z.removeAttribute("id"),Z.draggable=!1,Z.style["will-change"]="",this._hideClone(),Ee(Z,this.options.chosenClass,!1),H.clone=Z),o.cloneId=no(function(){ye("clone",o),!H.eventCanceled&&(o.options.removeCloneOnHide||K.insertBefore(Z,R),o._hideClone(),ve({sortable:o,name:"clone"}))}),!n&&Ee(R,r.dragClass,!0),n?(go=!0,o._loopId=setInterval(o._emulateDragOver,50)):(Y(document,"mouseup",o._onDrop),Y(document,"touchend",o._onDrop),Y(document,"touchcancel",o._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(o,i,R)),X(document,"drop",o),j(R,"transform","translateZ(0)")),jt=!0,o._dragStartId=no(o._dragStarted.bind(o,n,e)),X(document,"selectstart",o),un=!0,wn&&j(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,o=e.target,i,r,s,a=this.options,l=a.group,c=H.active,u=Un===l,d=a.sort,f=fe||c,h,p=this,y=!1;if(Zr)return;function S(P,D){ye(P,p,We({evt:e,isOwner:u,axis:h?"vertical":"horizontal",revert:s,dragRect:i,targetRect:r,canSort:d,fromSortable:f,target:o,completed:E,onMove:function(te,se){return Wn(K,n,R,i,te,le(te),e,se)},changed:g},D))}function C(){S("dragOverAnimationCapture"),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function E(P){return S("dragOverCompleted",{insertion:P}),P&&(u?c._hideClone():c._showClone(p),p!==f&&(Ee(R,fe?fe.options.ghostClass:c.options.ghostClass,!1),Ee(R,a.ghostClass,!0)),fe!==p&&p!==H.active?fe=p:p===H.active&&fe&&(fe=null),f===p&&(p._ignoreWhileAnimating=o),p.animateAll(function(){S("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(o===R&&!R.animated||o===n&&!o.animated)&&(Nt=null),!a.dragoverBubble&&!e.rootEl&&o!==document&&(R.parentNode[_e]._isOutsideThisEl(e.target),!P&&yt(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),y=!0}function g(){Te=Me(R),tt=Me(R,a.draggable),ve({sortable:p,name:"change",toEl:n,newIndex:Te,newDraggableIndex:tt,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),o=Ue(o,a.draggable,n,!0),S("dragOver"),H.eventCanceled)return y;if(R.contains(e.target)||o.animated&&o.animatingX&&o.animatingY||p._ignoreWhileAnimating===o)return E(!1);if(go=!1,c&&!a.disabled&&(u?d||(s=ee!==K):fe===this||(this.lastPutMode=Un.checkPull(this,c,R,e))&&l.checkPut(this,c,R,e))){if(h=this._getDirection(e,o)==="vertical",i=le(R),S("dragOverValid"),H.eventCanceled)return y;if(s)return ee=K,C(),this._hideClone(),S("revert"),H.eventCanceled||(xt?K.insertBefore(R,xt):K.appendChild(R)),E(!0);var b=Wi(n,a.draggable);if(!b||nv(e,h,this)&&!b.animated){if(b===R)return E(!1);if(b&&n===e.target&&(o=b),o&&(r=le(o)),Wn(K,n,R,i,o,r,e,!!o)!==!1)return C(),b&&b.nextSibling?n.insertBefore(R,b.nextSibling):n.appendChild(R),ee=n,g(),E(!0)}else if(b&&tv(e,h,this)){var m=Kt(n,0,a,!0);if(m===R)return E(!1);if(o=m,r=le(o),Wn(K,n,R,i,o,r,e,!1)!==!1)return C(),n.insertBefore(R,m),ee=n,g(),E(!0)}else if(o.parentNode===n){r=le(o);var k=0,M,x=R.parentNode!==n,v=!Km(R.animated&&R.toRect||i,o.animated&&o.toRect||r,h),O=h?"top":"left",w=Xs(o,"top","top")||Xs(R,"top","top"),T=w?w.scrollTop:void 0;Nt!==o&&(M=r[O],En=!1,zn=!v&&a.invertSwap||x),k=ov(e,o,r,h,v?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,zn,Nt===o);var _;if(k!==0){var L=Me(R);do L-=k,_=ee.children[L];while(_&&(j(_,"display")==="none"||_===z))}if(k===0||_===o)return E(!1);Nt=o,Sn=k;var B=o.nextElementSibling,A=!1;A=k===1;var N=Wn(K,n,R,i,o,r,e,A);if(N!==!1)return(N===1||N===-1)&&(A=N===1),Zr=!0,setTimeout(ev,30),C(),A&&!B?n.appendChild(R):o.parentNode.insertBefore(R,A?B:o),w&&Oc(w,0,T-w.scrollTop),ee=R.parentNode,M!==void 0&&!zn&&(to=Math.abs(M-le(o)[O])),g(),E(!0)}if(n.contains(R))return E(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Y(document,"mousemove",this._onTouchMove),Y(document,"touchmove",this._onTouchMove),Y(document,"pointermove",this._onTouchMove),Y(document,"dragover",yt),Y(document,"mousemove",yt),Y(document,"touchmove",yt)},_offUpEvents:function(){var e=this.el.ownerDocument;Y(e,"mouseup",this._onDrop),Y(e,"touchend",this._onDrop),Y(e,"pointerup",this._onDrop),Y(e,"touchcancel",this._onDrop),Y(document,"selectstart",this)},_onDrop:function(e){var n=this.el,o=this.options;if(Te=Me(R),tt=Me(R,o.draggable),ye("drop",this,{evt:e}),ee=R&&R.parentNode,Te=Me(R),tt=Me(R,o.draggable),H.eventCanceled){this._nulling();return}jt=!1,zn=!1,En=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Qr(this.cloneId),Qr(this._dragStartId),this.nativeDraggable&&(Y(document,"drop",this),Y(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),wn&&j(document.body,"user-select",""),j(R,"transform",""),e&&(un&&(e.cancelable&&e.preventDefault(),!o.dropBubble&&e.stopPropagation()),z&&z.parentNode&&z.parentNode.removeChild(z),(K===ee||fe&&fe.lastPutMode!=="clone")&&Z&&Z.parentNode&&Z.parentNode.removeChild(Z),R&&(this.nativeDraggable&&Y(R,"dragend",this),yr(R),R.style["will-change"]="",un&&!jt&&Ee(R,fe?fe.options.ghostClass:this.options.ghostClass,!1),Ee(R,this.options.chosenClass,!1),ve({sortable:this,name:"unchoose",toEl:ee,newIndex:null,newDraggableIndex:null,originalEvent:e}),K!==ee?(Te>=0&&(ve({rootEl:ee,name:"add",toEl:ee,fromEl:K,originalEvent:e}),ve({sortable:this,name:"remove",toEl:ee,originalEvent:e}),ve({rootEl:ee,name:"sort",toEl:ee,fromEl:K,originalEvent:e}),ve({sortable:this,name:"sort",toEl:ee,originalEvent:e})),fe&&fe.save()):Te!==Ut&&Te>=0&&(ve({sortable:this,name:"update",toEl:ee,originalEvent:e}),ve({sortable:this,name:"sort",toEl:ee,originalEvent:e})),H.active&&((Te==null||Te===-1)&&(Te=Ut,tt=kn),ve({sortable:this,name:"end",toEl:ee,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){ye("nulling",this),K=R=ee=z=xt=Z=eo=ot=bt=Pe=un=Te=tt=Ut=kn=Nt=Sn=fe=Un=H.dragged=H.ghost=H.clone=H.active=null,vo.forEach(function(e){e.checked=!0}),vo.length=mr=vr=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":R&&(this._onDragOver(e),Qm(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,o=this.el.children,i=0,r=o.length,s=this.options;i<r;i++)n=o[i],Ue(n,s.draggable,this.el,!1)&&e.push(n.getAttribute(s.dataIdAttr)||iv(n));return e},sort:function(e,n){var o={},i=this.el;this.toArray().forEach(function(r,s){var a=i.children[s];Ue(a,this.options.draggable,i,!1)&&(o[r]=a)},this),n&&this.captureAnimationState(),e.forEach(function(r){o[r]&&(i.removeChild(o[r]),i.appendChild(o[r]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return Ue(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var o=this.options;if(n===void 0)return o[e];var i=Nn.modifyOption(this,e,n);typeof i<"u"?o[e]=i:o[e]=n,e==="group"&&Ic(o)},destroy:function(){ye("destroy",this);var e=this.el;e[_e]=null,Y(e,"mousedown",this._onTapStart),Y(e,"touchstart",this._onTapStart),Y(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Y(e,"dragover",this),Y(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),mo.splice(mo.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ot){if(ye("hideClone",this),H.eventCanceled)return;j(Z,"display","none"),this.options.removeCloneOnHide&&Z.parentNode&&Z.parentNode.removeChild(Z),ot=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(ot){if(ye("showClone",this),H.eventCanceled)return;R.parentNode==K&&!this.options.group.revertClone?K.insertBefore(Z,R):xt?K.insertBefore(Z,xt):K.appendChild(Z),this.options.group.revertClone&&this.animate(R,Z),j(Z,"display",""),ot=!1}}};function Qm(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Wn(t,e,n,o,i,r,s,a){var l,c=t[_e],u=c.options.onMove,d;return window.CustomEvent&&!Qe&&!Pn?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=o,l.related=i||e,l.relatedRect=r||le(e),l.willInsertAfter=a,l.originalEvent=s,t.dispatchEvent(l),u&&(d=u.call(c,l,s)),d}function yr(t){t.draggable=!1}function ev(){Zr=!1}function tv(t,e,n){var o=le(Kt(n.el,0,n.options,!0)),i=10;return e?t.clientX<o.left-i||t.clientY<o.top&&t.clientX<o.right:t.clientY<o.top-i||t.clientY<o.bottom&&t.clientX<o.left}function nv(t,e,n){var o=le(Wi(n.el,n.options.draggable)),i=10;return e?t.clientX>o.right+i||t.clientX<=o.right&&t.clientY>o.bottom&&t.clientX>=o.left:t.clientX>o.right&&t.clientY>o.top||t.clientX<=o.right&&t.clientY>o.bottom+i}function ov(t,e,n,o,i,r,s,a){var l=o?t.clientY:t.clientX,c=o?n.height:n.width,u=o?n.top:n.left,d=o?n.bottom:n.right,f=!1;if(!s){if(a&&to<c*i){if(!En&&(Sn===1?l>u+c*r/2:l<d-c*r/2)&&(En=!0),En)f=!0;else if(Sn===1?l<u+to:l>d-to)return-Sn}else if(l>u+c*(1-i)/2&&l<d-c*(1-i)/2)return rv(e)}return f=f||s,f&&(l<u+c*r/2||l>d-c*r/2)?l>u+c/2?1:-1:0}function rv(t){return Me(R)<Me(t)?1:-1}function iv(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;n--;)o+=e.charCodeAt(n);return o.toString(36)}function sv(t){vo.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var o=e[n];o.checked&&vo.push(o)}}function no(t){return setTimeout(t,0)}function Qr(t){return clearTimeout(t)}jo&&X(document,"touchmove",function(t){(H.active||jt)&&t.cancelable&&t.preventDefault()});H.utils={on:X,off:Y,css:j,find:_c,is:function(e,n){return!!Ue(e,n,e,!1)},extend:zm,throttle:Bc,closest:Ue,toggleClass:Ee,clone:Mc,index:Me,nextTick:no,cancelNextTick:Qr,detectDirection:Lc,getChild:Kt};H.get=function(t){return t[_e]};H.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(H.utils=We(We({},H.utils),o.utils)),Nn.mount(o)})};H.create=function(t,e){return new H(t,e)};H.version=jm;var oe=[],fn,ei,ti=!1,wr,xr,bo,hn;function av(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var o=n.originalEvent;this.sortable.nativeDraggable?X(document,"dragover",this._handleAutoScroll):this.options.supportPointer?X(document,"pointermove",this._handleFallbackAutoScroll):o.touches?X(document,"touchmove",this._handleFallbackAutoScroll):X(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var o=n.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?Y(document,"dragover",this._handleAutoScroll):(Y(document,"pointermove",this._handleFallbackAutoScroll),Y(document,"touchmove",this._handleFallbackAutoScroll),Y(document,"mousemove",this._handleFallbackAutoScroll)),Js(),oo(),$m()},nulling:function(){bo=ei=fn=ti=hn=wr=xr=null,oe.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,o){var i=this,r=(n.touches?n.touches[0]:n).clientX,s=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(r,s);if(bo=n,o||this.options.forceAutoScrollFallback||Pn||Qe||wn){kr(n,this.options,a,o);var l=st(a,!0);ti&&(!hn||r!==wr||s!==xr)&&(hn&&Js(),hn=setInterval(function(){var c=st(document.elementFromPoint(r,s),!0);c!==l&&(l=c,oo()),kr(n,i.options,c,o)},10),wr=r,xr=s)}else{if(!this.options.bubbleScroll||st(a,!0)===$e()){oo();return}kr(n,this.options,st(a,!1),!1)}}},Je(t,{pluginName:"scroll",initializeByDefault:!0})}function oo(){oe.forEach(function(t){clearInterval(t.pid)}),oe=[]}function Js(){clearInterval(hn)}var kr=Bc(function(t,e,n,o){if(!!e.scroll){var i=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,s=e.scrollSensitivity,a=e.scrollSpeed,l=$e(),c=!1,u;ei!==n&&(ei=n,oo(),fn=e.scroll,u=e.scrollFn,fn===!0&&(fn=st(n,!0)));var d=0,f=fn;do{var h=f,p=le(h),y=p.top,S=p.bottom,C=p.left,E=p.right,g=p.width,b=p.height,m=void 0,k=void 0,M=h.scrollWidth,x=h.scrollHeight,v=j(h),O=h.scrollLeft,w=h.scrollTop;h===l?(m=g<M&&(v.overflowX==="auto"||v.overflowX==="scroll"||v.overflowX==="visible"),k=b<x&&(v.overflowY==="auto"||v.overflowY==="scroll"||v.overflowY==="visible")):(m=g<M&&(v.overflowX==="auto"||v.overflowX==="scroll"),k=b<x&&(v.overflowY==="auto"||v.overflowY==="scroll"));var T=m&&(Math.abs(E-i)<=s&&O+g<M)-(Math.abs(C-i)<=s&&!!O),_=k&&(Math.abs(S-r)<=s&&w+b<x)-(Math.abs(y-r)<=s&&!!w);if(!oe[d])for(var L=0;L<=d;L++)oe[L]||(oe[L]={});(oe[d].vx!=T||oe[d].vy!=_||oe[d].el!==h)&&(oe[d].el=h,oe[d].vx=T,oe[d].vy=_,clearInterval(oe[d].pid),(T!=0||_!=0)&&(c=!0,oe[d].pid=setInterval(function(){o&&this.layer===0&&H.active._onTouchMove(bo);var B=oe[this.layer].vy?oe[this.layer].vy*a:0,A=oe[this.layer].vx?oe[this.layer].vx*a:0;typeof u=="function"&&u.call(H.dragged.parentNode[_e],A,B,t,bo,oe[this.layer].el)!=="continue"||Oc(oe[this.layer].el,A,B)}.bind({layer:d}),24))),d++}while(e.bubbleScroll&&f!==l&&(f=st(f,!1)));ti=c}},30),Rc=function(e){var n=e.originalEvent,o=e.putSortable,i=e.dragEl,r=e.activeSortable,s=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(!!n){var c=o||r;a();var u=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(u.clientX,u.clientY);l(),c&&!c.el.contains(d)&&(s("spill"),this.onSpill({dragEl:i,putSortable:o}))}};function Yi(){}Yi.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,o=e.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var i=Kt(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),o&&o.animateAll()},drop:Rc};Je(Yi,{pluginName:"revertOnSpill"});function Xi(){}Xi.prototype={onSpill:function(e){var n=e.dragEl,o=e.putSortable,i=o||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:Rc};Je(Xi,{pluginName:"removeOnSpill"});H.mount(new av);H.mount(Xi,Yi);/*!
 * perfect-scrollbar v1.5.3
 * Copyright 2021 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */function ze(t){return getComputedStyle(t)}function we(t,e){for(var n in e){var o=e[n];typeof o=="number"&&(o=o+"px"),t.style[n]=o}return t}function Yn(t){var e=document.createElement("div");return e.className=t,e}var Zs=typeof Element<"u"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function at(t,e){if(!Zs)throw new Error("No element matching method supported");return Zs.call(t,e)}function zt(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function Qs(t,e){return Array.prototype.filter.call(t.children,function(n){return at(n,e)})}var re={main:"ps",rtl:"ps__rtl",element:{thumb:function(t){return"ps__thumb-"+t},rail:function(t){return"ps__rail-"+t},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(t){return"ps--active-"+t},scrolling:function(t){return"ps--scrolling-"+t}}},Dc={x:null,y:null};function Fc(t,e){var n=t.element.classList,o=re.state.scrolling(e);n.contains(o)?clearTimeout(Dc[e]):n.add(o)}function jc(t,e){Dc[e]=setTimeout(function(){return t.isAlive&&t.element.classList.remove(re.state.scrolling(e))},t.settings.scrollingThreshold)}function lv(t,e){Fc(t,e),jc(t,e)}var Rn=function(e){this.element=e,this.handlers={}},Hc={isEmpty:{configurable:!0}};Rn.prototype.bind=function(e,n){typeof this.handlers[e]>"u"&&(this.handlers[e]=[]),this.handlers[e].push(n),this.element.addEventListener(e,n,!1)};Rn.prototype.unbind=function(e,n){var o=this;this.handlers[e]=this.handlers[e].filter(function(i){return n&&i!==n?!0:(o.element.removeEventListener(e,i,!1),!1)})};Rn.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)};Hc.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every(function(e){return t.handlers[e].length===0})};Object.defineProperties(Rn.prototype,Hc);var on=function(){this.eventElements=[]};on.prototype.eventElement=function(e){var n=this.eventElements.filter(function(o){return o.element===e})[0];return n||(n=new Rn(e),this.eventElements.push(n)),n};on.prototype.bind=function(e,n,o){this.eventElement(e).bind(n,o)};on.prototype.unbind=function(e,n,o){var i=this.eventElement(e);i.unbind(n,o),i.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(i),1)};on.prototype.unbindAll=function(){this.eventElements.forEach(function(e){return e.unbindAll()}),this.eventElements=[]};on.prototype.once=function(e,n,o){var i=this.eventElement(e),r=function(s){i.unbind(n,r),o(s)};i.bind(n,r)};function Xn(t){if(typeof window.CustomEvent=="function")return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}function yo(t,e,n,o,i){o===void 0&&(o=!0),i===void 0&&(i=!1);var r;if(e==="top")r=["contentHeight","containerHeight","scrollTop","y","up","down"];else if(e==="left")r=["contentWidth","containerWidth","scrollLeft","x","left","right"];else throw new Error("A proper axis should be provided");cv(t,n,r,o,i)}function cv(t,e,n,o,i){var r=n[0],s=n[1],a=n[2],l=n[3],c=n[4],u=n[5];o===void 0&&(o=!0),i===void 0&&(i=!1);var d=t.element;t.reach[l]=null,d[a]<1&&(t.reach[l]="start"),d[a]>t[r]-t[s]-1&&(t.reach[l]="end"),e&&(d.dispatchEvent(Xn("ps-scroll-"+l)),e<0?d.dispatchEvent(Xn("ps-scroll-"+c)):e>0&&d.dispatchEvent(Xn("ps-scroll-"+u)),o&&lv(t,l)),t.reach[l]&&(e||i)&&d.dispatchEvent(Xn("ps-"+l+"-reach-"+t.reach[l]))}function Q(t){return parseInt(t,10)||0}function dv(t){return at(t,"input,[contenteditable]")||at(t,"select,[contenteditable]")||at(t,"textarea,[contenteditable]")||at(t,"button,[contenteditable]")}function uv(t){var e=ze(t);return Q(e.width)+Q(e.paddingLeft)+Q(e.paddingRight)+Q(e.borderLeftWidth)+Q(e.borderRightWidth)}var Ht={isWebKit:typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,supportsTouch:typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:typeof navigator<"u"&&navigator.msMaxTouchPoints,isChrome:typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent)};function Ze(t){var e=t.element,n=Math.floor(e.scrollTop),o=e.getBoundingClientRect();t.containerWidth=Math.round(o.width),t.containerHeight=Math.round(o.height),t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(Qs(e,re.element.rail("x")).forEach(function(i){return zt(i)}),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(Qs(e,re.element.rail("y")).forEach(function(i){return zt(i)}),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=ea(t,Q(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=Q((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=ea(t,Q(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=Q(n*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),fv(e,t),t.scrollbarXActive?e.classList.add(re.state.active("x")):(e.classList.remove(re.state.active("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=t.isRtl===!0?t.contentWidth:0),t.scrollbarYActive?e.classList.add(re.state.active("y")):(e.classList.remove(re.state.active("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)}function ea(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function fv(t,e){var n={width:e.railXWidth},o=Math.floor(t.scrollTop);e.isRtl?n.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:n.left=t.scrollLeft,e.isScrollbarXUsingBottom?n.bottom=e.scrollbarXBottom-o:n.top=e.scrollbarXTop+o,we(e.scrollbarXRail,n);var i={top:o,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?i.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth-9:i.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?i.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth*2-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:i.left=e.scrollbarYLeft+t.scrollLeft,we(e.scrollbarYRail,i),we(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),we(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}function hv(t){t.element,t.event.bind(t.scrollbarY,"mousedown",function(e){return e.stopPropagation()}),t.event.bind(t.scrollbarYRail,"mousedown",function(e){var n=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top,o=n>t.scrollbarYTop?1:-1;t.element.scrollTop+=o*t.containerHeight,Ze(t),e.stopPropagation()}),t.event.bind(t.scrollbarX,"mousedown",function(e){return e.stopPropagation()}),t.event.bind(t.scrollbarXRail,"mousedown",function(e){var n=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left,o=n>t.scrollbarXLeft?1:-1;t.element.scrollLeft+=o*t.containerWidth,Ze(t),e.stopPropagation()})}function pv(t){ta(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),ta(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])}function ta(t,e){var n=e[0],o=e[1],i=e[2],r=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=t.element,f=null,h=null,p=null;function y(E){E.touches&&E.touches[0]&&(E[i]=E.touches[0].pageY),d[l]=f+p*(E[i]-h),Fc(t,c),Ze(t),E.stopPropagation(),E.type.startsWith("touch")&&E.changedTouches.length>1&&E.preventDefault()}function S(){jc(t,c),t[u].classList.remove(re.state.clicking),t.event.unbind(t.ownerDocument,"mousemove",y)}function C(E,g){f=d[l],g&&E.touches&&(E[i]=E.touches[0].pageY),h=E[i],p=(t[o]-t[n])/(t[r]-t[a]),g?t.event.bind(t.ownerDocument,"touchmove",y):(t.event.bind(t.ownerDocument,"mousemove",y),t.event.once(t.ownerDocument,"mouseup",S),E.preventDefault()),t[u].classList.add(re.state.clicking),E.stopPropagation()}t.event.bind(t[s],"mousedown",function(E){C(E)}),t.event.bind(t[s],"touchstart",function(E){C(E,!0)})}function gv(t){var e=t.element,n=function(){return at(e,":hover")},o=function(){return at(t.scrollbarX,":focus")||at(t.scrollbarY,":focus")};function i(r,s){var a=Math.floor(e.scrollTop);if(r===0){if(!t.scrollbarYActive)return!1;if(a===0&&s>0||a>=t.contentHeight-t.containerHeight&&s<0)return!t.settings.wheelPropagation}var l=e.scrollLeft;if(s===0){if(!t.scrollbarXActive)return!1;if(l===0&&r<0||l>=t.contentWidth-t.containerWidth&&r>0)return!t.settings.wheelPropagation}return!0}t.event.bind(t.ownerDocument,"keydown",function(r){if(!(r.isDefaultPrevented&&r.isDefaultPrevented()||r.defaultPrevented)&&!(!n()&&!o())){var s=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(s){if(s.tagName==="IFRAME")s=s.contentDocument.activeElement;else for(;s.shadowRoot;)s=s.shadowRoot.activeElement;if(dv(s))return}var a=0,l=0;switch(r.which){case 37:r.metaKey?a=-t.contentWidth:r.altKey?a=-t.containerWidth:a=-30;break;case 38:r.metaKey?l=t.contentHeight:r.altKey?l=t.containerHeight:l=30;break;case 39:r.metaKey?a=t.contentWidth:r.altKey?a=t.containerWidth:a=30;break;case 40:r.metaKey?l=-t.contentHeight:r.altKey?l=-t.containerHeight:l=-30;break;case 32:r.shiftKey?l=t.containerHeight:l=-t.containerHeight;break;case 33:l=t.containerHeight;break;case 34:l=-t.containerHeight;break;case 36:l=t.contentHeight;break;case 35:l=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&a!==0||t.settings.suppressScrollY&&l!==0||(e.scrollTop-=l,e.scrollLeft+=a,Ze(t),i(a,l)&&r.preventDefault())}})}function mv(t){var e=t.element;function n(s,a){var l=Math.floor(e.scrollTop),c=e.scrollTop===0,u=l+e.offsetHeight===e.scrollHeight,d=e.scrollLeft===0,f=e.scrollLeft+e.offsetWidth===e.scrollWidth,h;return Math.abs(a)>Math.abs(s)?h=c||u:h=d||f,h?!t.settings.wheelPropagation:!0}function o(s){var a=s.deltaX,l=-1*s.deltaY;return(typeof a>"u"||typeof l>"u")&&(a=-1*s.wheelDeltaX/6,l=s.wheelDeltaY/6),s.deltaMode&&s.deltaMode===1&&(a*=10,l*=10),a!==a&&l!==l&&(a=0,l=s.wheelDelta),s.shiftKey?[-l,-a]:[a,l]}function i(s,a,l){if(!Ht.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(s))return!1;for(var c=s;c&&c!==e;){if(c.classList.contains(re.element.consuming))return!0;var u=ze(c);if(l&&u.overflowY.match(/(scroll|auto)/)){var d=c.scrollHeight-c.clientHeight;if(d>0&&(c.scrollTop>0&&l<0||c.scrollTop<d&&l>0))return!0}if(a&&u.overflowX.match(/(scroll|auto)/)){var f=c.scrollWidth-c.clientWidth;if(f>0&&(c.scrollLeft>0&&a<0||c.scrollLeft<f&&a>0))return!0}c=c.parentNode}return!1}function r(s){var a=o(s),l=a[0],c=a[1];if(!i(s.target,l,c)){var u=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(c?e.scrollTop-=c*t.settings.wheelSpeed:e.scrollTop+=l*t.settings.wheelSpeed,u=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(l?e.scrollLeft+=l*t.settings.wheelSpeed:e.scrollLeft-=c*t.settings.wheelSpeed,u=!0):(e.scrollTop-=c*t.settings.wheelSpeed,e.scrollLeft+=l*t.settings.wheelSpeed),Ze(t),u=u||n(l,c),u&&!s.ctrlKey&&(s.stopPropagation(),s.preventDefault())}}typeof window.onwheel<"u"?t.event.bind(e,"wheel",r):typeof window.onmousewheel<"u"&&t.event.bind(e,"mousewheel",r)}function vv(t){if(!Ht.supportsTouch&&!Ht.supportsIePointer)return;var e=t.element;function n(p,y){var S=Math.floor(e.scrollTop),C=e.scrollLeft,E=Math.abs(p),g=Math.abs(y);if(g>E){if(y<0&&S===t.contentHeight-t.containerHeight||y>0&&S===0)return window.scrollY===0&&y>0&&Ht.isChrome}else if(E>g&&(p<0&&C===t.contentWidth-t.containerWidth||p>0&&C===0))return!0;return!0}function o(p,y){e.scrollTop-=y,e.scrollLeft-=p,Ze(t)}var i={},r=0,s={},a=null;function l(p){return p.targetTouches?p.targetTouches[0]:p}function c(p){return p.pointerType&&p.pointerType==="pen"&&p.buttons===0?!1:!!(p.targetTouches&&p.targetTouches.length===1||p.pointerType&&p.pointerType!=="mouse"&&p.pointerType!==p.MSPOINTER_TYPE_MOUSE)}function u(p){if(!!c(p)){var y=l(p);i.pageX=y.pageX,i.pageY=y.pageY,r=new Date().getTime(),a!==null&&clearInterval(a)}}function d(p,y,S){if(!e.contains(p))return!1;for(var C=p;C&&C!==e;){if(C.classList.contains(re.element.consuming))return!0;var E=ze(C);if(S&&E.overflowY.match(/(scroll|auto)/)){var g=C.scrollHeight-C.clientHeight;if(g>0&&(C.scrollTop>0&&S<0||C.scrollTop<g&&S>0))return!0}if(y&&E.overflowX.match(/(scroll|auto)/)){var b=C.scrollWidth-C.clientWidth;if(b>0&&(C.scrollLeft>0&&y<0||C.scrollLeft<b&&y>0))return!0}C=C.parentNode}return!1}function f(p){if(c(p)){var y=l(p),S={pageX:y.pageX,pageY:y.pageY},C=S.pageX-i.pageX,E=S.pageY-i.pageY;if(d(p.target,C,E))return;o(C,E),i=S;var g=new Date().getTime(),b=g-r;b>0&&(s.x=C/b,s.y=E/b,r=g),n(C,E)&&p.preventDefault()}}function h(){t.settings.swipeEasing&&(clearInterval(a),a=setInterval(function(){if(t.isInitialized){clearInterval(a);return}if(!s.x&&!s.y){clearInterval(a);return}if(Math.abs(s.x)<.01&&Math.abs(s.y)<.01){clearInterval(a);return}if(!t.element){clearInterval(a);return}o(s.x*30,s.y*30),s.x*=.8,s.y*=.8},10))}Ht.supportsTouch?(t.event.bind(e,"touchstart",u),t.event.bind(e,"touchmove",f),t.event.bind(e,"touchend",h)):Ht.supportsIePointer&&(window.PointerEvent?(t.event.bind(e,"pointerdown",u),t.event.bind(e,"pointermove",f),t.event.bind(e,"pointerup",h)):window.MSPointerEvent&&(t.event.bind(e,"MSPointerDown",u),t.event.bind(e,"MSPointerMove",f),t.event.bind(e,"MSPointerUp",h)))}var bv=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},yv={"click-rail":hv,"drag-thumb":pv,keyboard:gv,wheel:mv,touch:vv},Dn=function(e,n){var o=this;if(n===void 0&&(n={}),typeof e=="string"&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");this.element=e,e.classList.add(re.main),this.settings=bv();for(var i in n)this.settings[i]=n[i];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var r=function(){return e.classList.add(re.state.focus)},s=function(){return e.classList.remove(re.state.focus)};this.isRtl=ze(e).direction==="rtl",this.isRtl===!0&&e.classList.add(re.rtl),this.isNegativeScroll=function(){var c=e.scrollLeft,u=null;return e.scrollLeft=-1,u=e.scrollLeft<0,e.scrollLeft=c,u}(),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new on,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=Yn(re.element.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=Yn(re.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",r),this.event.bind(this.scrollbarX,"blur",s),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var a=ze(this.scrollbarXRail);this.scrollbarXBottom=parseInt(a.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=Q(a.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=Q(a.borderLeftWidth)+Q(a.borderRightWidth),we(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=Q(a.marginLeft)+Q(a.marginRight),we(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=Yn(re.element.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=Yn(re.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",r),this.event.bind(this.scrollbarY,"blur",s),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var l=ze(this.scrollbarYRail);this.scrollbarYRight=parseInt(l.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=Q(l.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?uv(this.scrollbarY):null,this.railBorderYWidth=Q(l.borderTopWidth)+Q(l.borderBottomWidth),we(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=Q(l.marginTop)+Q(l.marginBottom),we(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(c){return yv[c](o)}),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",function(c){return o.onScroll(c)}),Ze(this)};Dn.prototype.update=function(){!this.isAlive||(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,we(this.scrollbarXRail,{display:"block"}),we(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=Q(ze(this.scrollbarXRail).marginLeft)+Q(ze(this.scrollbarXRail).marginRight),this.railYMarginHeight=Q(ze(this.scrollbarYRail).marginTop)+Q(ze(this.scrollbarYRail).marginBottom),we(this.scrollbarXRail,{display:"none"}),we(this.scrollbarYRail,{display:"none"}),Ze(this),yo(this,"top",0,!1,!0),yo(this,"left",0,!1,!0),we(this.scrollbarXRail,{display:""}),we(this.scrollbarYRail,{display:""}))};Dn.prototype.onScroll=function(e){!this.isAlive||(Ze(this),yo(this,"top",this.element.scrollTop-this.lastScrollTop),yo(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)};Dn.prototype.destroy=function(){!this.isAlive||(this.event.unbindAll(),zt(this.scrollbarX),zt(this.scrollbarY),zt(this.scrollbarXRail),zt(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)};Dn.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(e){return!e.match(/^ps([-_].+|)$/)}).join(" ")};window.Swiper=Ae;window.Sortable=H;nn.plugin(Mm);nn.plugin(Nm);window.PerfectScrollbar=Dn;nn.data("mainState",()=>{const t={pageLoaded:!1,init(){window.onload=o=>{this.pageLoaded=!0}}},e=()=>window.localStorage.getItem("dark")?JSON.parse(window.localStorage.getItem("dark")):!!window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,n=o=>{window.localStorage.setItem("dark",o)};return{loadingMask:t,isDarkMode:e(),toggleTheme(){this.isDarkMode=!this.isDarkMode,n(this.isDarkMode)},isSidebarOpen:sessionStorage.getItem("sidebarOpen")==="true",handleSidebarToggle(){this.isSidebarOpen=!this.isSidebarOpen,sessionStorage.setItem("sidebarOpen",this.isSidebarOpen.toString())},isSidebarHovered:!1,handleSidebarHover(o){window.innerWidth<1024||(this.isSidebarHovered=o)},handleWindowResize(){window.innerWidth<=1024?this.isSidebarOpen=!1:this.isSidebarOpen=!0},scrollingDown:!1,scrollingUp:!1}});nn.plugin(am);window.Alpine=nn;nn.start();
