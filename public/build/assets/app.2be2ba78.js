var ud=(i,t)=>()=>(t||i((t={exports:{}}).exports,t),t.exports);/* empty css            */var L0=ud((qh,Ms)=>{function hd(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ac={exports:{}},Ls={exports:{}},lc=function(t,e){return function(){for(var r=new Array(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];return t.apply(e,r)}},dd=lc,ks=Object.prototype.toString,Os=function(i){return function(t){var e=ks.call(t);return i[e]||(i[e]=e.slice(8,-1).toLowerCase())}}(Object.create(null));function hi(i){return i=i.toLowerCase(),function(e){return Os(e)===i}}function _s(i){return Array.isArray(i)}function ur(i){return typeof i>"u"}function fd(i){return i!==null&&!ur(i)&&i.constructor!==null&&!ur(i.constructor)&&typeof i.constructor.isBuffer=="function"&&i.constructor.isBuffer(i)}var cc=hi("ArrayBuffer");function pd(i){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(i):t=i&&i.buffer&&cc(i.buffer),t}function gd(i){return typeof i=="string"}function md(i){return typeof i=="number"}function uc(i){return i!==null&&typeof i=="object"}function Zn(i){if(Os(i)!=="object")return!1;var t=Object.getPrototypeOf(i);return t===null||t===Object.prototype}var vd=hi("Date"),bd=hi("File"),yd=hi("Blob"),wd=hi("FileList");function Ps(i){return ks.call(i)==="[object Function]"}function xd(i){return uc(i)&&Ps(i.pipe)}function Ad(i){var t="[object FormData]";return i&&(typeof FormData=="function"&&i instanceof FormData||ks.call(i)===t||Ps(i.toString)&&i.toString()===t)}var Sd=hi("URLSearchParams");function Ed(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function Cd(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Is(i,t){if(!(i===null||typeof i>"u"))if(typeof i!="object"&&(i=[i]),_s(i))for(var e=0,n=i.length;e<n;e++)t.call(null,i[e],e,i);else for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&t.call(null,i[r],r,i)}function Jo(){var i={};function t(r,o){Zn(i[o])&&Zn(r)?i[o]=Jo(i[o],r):Zn(r)?i[o]=Jo({},r):_s(r)?i[o]=r.slice():i[o]=r}for(var e=0,n=arguments.length;e<n;e++)Is(arguments[e],t);return i}function Td(i,t,e){return Is(t,function(r,o){e&&typeof r=="function"?i[o]=dd(r,e):i[o]=r}),i}function Dd(i){return i.charCodeAt(0)===65279&&(i=i.slice(1)),i}function Rd(i,t,e,n){i.prototype=Object.create(t.prototype,n),i.prototype.constructor=i,e&&Object.assign(i.prototype,e)}function Md(i,t,e){var n,r,o,s={};t=t||{};do{for(n=Object.getOwnPropertyNames(i),r=n.length;r-- >0;)o=n[r],s[o]||(t[o]=i[o],s[o]=!0);i=Object.getPrototypeOf(i)}while(i&&(!e||e(i,t))&&i!==Object.prototype);return t}function Ld(i,t,e){i=String(i),(e===void 0||e>i.length)&&(e=i.length),e-=t.length;var n=i.indexOf(t,e);return n!==-1&&n===e}function kd(i){if(!i)return null;var t=i.length;if(ur(t))return null;for(var e=new Array(t);t-- >0;)e[t]=i[t];return e}var Od=function(i){return function(t){return i&&t instanceof i}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),_t={isArray:_s,isArrayBuffer:cc,isBuffer:fd,isFormData:Ad,isArrayBufferView:pd,isString:gd,isNumber:md,isObject:uc,isPlainObject:Zn,isUndefined:ur,isDate:vd,isFile:bd,isBlob:yd,isFunction:Ps,isStream:xd,isURLSearchParams:Sd,isStandardBrowserEnv:Cd,forEach:Is,merge:Jo,extend:Td,trim:Ed,stripBOM:Dd,inherits:Rd,toFlatObject:Md,kindOf:Os,kindOfTest:hi,endsWith:Ld,toArray:kd,isTypedArray:Od,isFileList:wd},Si=_t;function ka(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var hc=function(t,e,n){if(!e)return t;var r;if(n)r=n(e);else if(Si.isURLSearchParams(e))r=e.toString();else{var o=[];Si.forEach(e,function(l,c){l===null||typeof l>"u"||(Si.isArray(l)?c=c+"[]":l=[l],Si.forEach(l,function(p){Si.isDate(p)?p=p.toISOString():Si.isObject(p)&&(p=JSON.stringify(p)),o.push(ka(c)+"="+ka(p))}))}),r=o.join("&")}if(r){var s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t},_d=_t;function Dr(){this.handlers=[]}Dr.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Dr.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Dr.prototype.forEach=function(t){_d.forEach(this.handlers,function(n){n!==null&&t(n)})};var Pd=Dr,Id=_t,Nd=function(t,e){Id.forEach(t,function(r,o){o!==e&&o.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[o])})},dc=_t;function Bi(i,t,e,n,r){Error.call(this),this.message=i,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),n&&(this.request=n),r&&(this.response=r)}dc.inherits(Bi,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var fc=Bi.prototype,pc={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(i){pc[i]={value:i}});Object.defineProperties(Bi,pc);Object.defineProperty(fc,"isAxiosError",{value:!0});Bi.from=function(i,t,e,n,r,o){var s=Object.create(fc);return dc.toFlatObject(i,s,function(l){return l!==Error.prototype}),Bi.call(s,i.message,t,e,n,r),s.name=i.name,o&&Object.assign(s,o),s};var Yi=Bi,gc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},oe=_t;function Bd(i,t){t=t||new FormData;var e=[];function n(o){return o===null?"":oe.isDate(o)?o.toISOString():oe.isArrayBuffer(o)||oe.isTypedArray(o)?typeof Blob=="function"?new Blob([o]):Buffer.from(o):o}function r(o,s){if(oe.isPlainObject(o)||oe.isArray(o)){if(e.indexOf(o)!==-1)throw Error("Circular reference detected in "+s);e.push(o),oe.forEach(o,function(l,c){if(!oe.isUndefined(l)){var d=s?s+"."+c:c,p;if(l&&!s&&typeof l=="object"){if(oe.endsWith(c,"{}"))l=JSON.stringify(l);else if(oe.endsWith(c,"[]")&&(p=oe.toArray(l))){p.forEach(function(g){!oe.isUndefined(g)&&t.append(d,n(g))});return}}r(l,d)}}),e.pop()}else t.append(s,n(o))}return r(i),t}var mc=Bd,Qr,Oa;function Fd(){if(Oa)return Qr;Oa=1;var i=Yi;return Qr=function(e,n,r){var o=r.config.validateStatus;!r.status||!o||o(r.status)?e(r):n(new i("Request failed with status code "+r.status,[i.ERR_BAD_REQUEST,i.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))},Qr}var Zr,_a;function Wd(){if(_a)return Zr;_a=1;var i=_t;return Zr=i.isStandardBrowserEnv()?function(){return{write:function(n,r,o,s,a,l){var c=[];c.push(n+"="+encodeURIComponent(r)),i.isNumber(o)&&c.push("expires="+new Date(o).toGMTString()),i.isString(s)&&c.push("path="+s),i.isString(a)&&c.push("domain="+a),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(n){var r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Zr}var jd=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},Hd=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t},zd=jd,Yd=Hd,vc=function(t,e){return t&&!zd(e)?Yd(t,e):e},to,Pa;function Xd(){if(Pa)return to;Pa=1;var i=_t,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return to=function(n){var r={},o,s,a;return n&&i.forEach(n.split(`
`),function(c){if(a=c.indexOf(":"),o=i.trim(c.substr(0,a)).toLowerCase(),s=i.trim(c.substr(a+1)),o){if(r[o]&&t.indexOf(o)>=0)return;o==="set-cookie"?r[o]=(r[o]?r[o]:[]).concat([s]):r[o]=r[o]?r[o]+", "+s:s}}),r},to}var eo,Ia;function Ud(){if(Ia)return eo;Ia=1;var i=_t;return eo=i.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),r;function o(s){var a=s;return e&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=o(window.location.href),function(a){var l=i.isString(a)?o(a):a;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}(),eo}var io,Na;function Rr(){if(Na)return io;Na=1;var i=Yi,t=_t;function e(n){i.call(this,n==null?"canceled":n,i.ERR_CANCELED),this.name="CanceledError"}return t.inherits(e,i,{__CANCEL__:!0}),io=e,io}var no,Ba;function qd(){return Ba||(Ba=1,no=function(t){var e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}),no}var ro,Fa;function Wa(){if(Fa)return ro;Fa=1;var i=_t,t=Fd(),e=Wd(),n=hc,r=vc,o=Xd(),s=Ud(),a=gc,l=Yi,c=Rr(),d=qd();return ro=function(g){return new Promise(function(x,S){var C=g.data,E=g.headers,R=g.responseType,L;function k(){g.cancelToken&&g.cancelToken.unsubscribe(L),g.signal&&g.signal.removeEventListener("abort",L)}i.isFormData(C)&&i.isStandardBrowserEnv()&&delete E["Content-Type"];var D=new XMLHttpRequest;if(g.auth){var A=g.auth.username||"",I=g.auth.password?unescape(encodeURIComponent(g.auth.password)):"";E.Authorization="Basic "+btoa(A+":"+I)}var U=r(g.baseURL,g.url);D.open(g.method.toUpperCase(),n(U,g.params,g.paramsSerializer),!0),D.timeout=g.timeout;function X(){if(!!D){var B="getAllResponseHeaders"in D?o(D.getAllResponseHeaders()):null,q=!R||R==="text"||R==="json"?D.responseText:D.response,it={data:q,status:D.status,statusText:D.statusText,headers:B,config:g,request:D};t(function(at){x(at),k()},function(at){S(at),k()},it),D=null}}if("onloadend"in D?D.onloadend=X:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(X)},D.onabort=function(){!D||(S(new l("Request aborted",l.ECONNABORTED,g,D)),D=null)},D.onerror=function(){S(new l("Network Error",l.ERR_NETWORK,g,D,D)),D=null},D.ontimeout=function(){var q=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded",it=g.transitional||a;g.timeoutErrorMessage&&(q=g.timeoutErrorMessage),S(new l(q,it.clarifyTimeoutError?l.ETIMEDOUT:l.ECONNABORTED,g,D)),D=null},i.isStandardBrowserEnv()){var st=(g.withCredentials||s(U))&&g.xsrfCookieName?e.read(g.xsrfCookieName):void 0;st&&(E[g.xsrfHeaderName]=st)}"setRequestHeader"in D&&i.forEach(E,function(q,it){typeof C>"u"&&it.toLowerCase()==="content-type"?delete E[it]:D.setRequestHeader(it,q)}),i.isUndefined(g.withCredentials)||(D.withCredentials=!!g.withCredentials),R&&R!=="json"&&(D.responseType=g.responseType),typeof g.onDownloadProgress=="function"&&D.addEventListener("progress",g.onDownloadProgress),typeof g.onUploadProgress=="function"&&D.upload&&D.upload.addEventListener("progress",g.onUploadProgress),(g.cancelToken||g.signal)&&(L=function(B){!D||(S(!B||B&&B.type?new c:B),D.abort(),D=null)},g.cancelToken&&g.cancelToken.subscribe(L),g.signal&&(g.signal.aborted?L():g.signal.addEventListener("abort",L))),C||(C=null);var N=d(U);if(N&&["http","https","file"].indexOf(N)===-1){S(new l("Unsupported protocol "+N+":",l.ERR_BAD_REQUEST,g));return}D.send(C)})},ro}var oo,ja;function $d(){return ja||(ja=1,oo=null),oo}var Rt=_t,Ha=Nd,za=Yi,Vd=gc,Gd=mc,Kd={"Content-Type":"application/x-www-form-urlencoded"};function Ya(i,t){!Rt.isUndefined(i)&&Rt.isUndefined(i["Content-Type"])&&(i["Content-Type"]=t)}function Jd(){var i;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(i=Wa()),i}function Qd(i,t,e){if(Rt.isString(i))try{return(t||JSON.parse)(i),Rt.trim(i)}catch(n){if(n.name!=="SyntaxError")throw n}return(e||JSON.stringify)(i)}var Mr={transitional:Vd,adapter:Jd(),transformRequest:[function(t,e){if(Ha(e,"Accept"),Ha(e,"Content-Type"),Rt.isFormData(t)||Rt.isArrayBuffer(t)||Rt.isBuffer(t)||Rt.isStream(t)||Rt.isFile(t)||Rt.isBlob(t))return t;if(Rt.isArrayBufferView(t))return t.buffer;if(Rt.isURLSearchParams(t))return Ya(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var n=Rt.isObject(t),r=e&&e["Content-Type"],o;if((o=Rt.isFileList(t))||n&&r==="multipart/form-data"){var s=this.env&&this.env.FormData;return Gd(o?{"files[]":t}:t,s&&new s)}else if(n||r==="application/json")return Ya(e,"application/json"),Qd(t);return t}],transformResponse:[function(t){var e=this.transitional||Mr.transitional,n=e&&e.silentJSONParsing,r=e&&e.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||r&&Rt.isString(t)&&t.length)try{return JSON.parse(t)}catch(s){if(o)throw s.name==="SyntaxError"?za.from(s,za.ERR_BAD_RESPONSE,this,null,this.response):s}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$d()},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Rt.forEach(["delete","get","head"],function(t){Mr.headers[t]={}});Rt.forEach(["post","put","patch"],function(t){Mr.headers[t]=Rt.merge(Kd)});var Ns=Mr,Zd=_t,tf=Ns,ef=function(t,e,n){var r=this||tf;return Zd.forEach(n,function(s){t=s.call(r,t,e)}),t},so,Xa;function bc(){return Xa||(Xa=1,so=function(t){return!!(t&&t.__CANCEL__)}),so}var Ua=_t,ao=ef,nf=bc(),rf=Ns,of=Rr();function lo(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new of}var sf=function(t){lo(t),t.headers=t.headers||{},t.data=ao.call(t,t.data,t.headers,t.transformRequest),t.headers=Ua.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Ua.forEach(["delete","get","head","post","put","patch","common"],function(r){delete t.headers[r]});var e=t.adapter||rf.adapter;return e(t).then(function(r){return lo(t),r.data=ao.call(t,r.data,r.headers,t.transformResponse),r},function(r){return nf(r)||(lo(t),r&&r.response&&(r.response.data=ao.call(t,r.response.data,r.response.headers,t.transformResponse))),Promise.reject(r)})},Xt=_t,yc=function(t,e){e=e||{};var n={};function r(d,p){return Xt.isPlainObject(d)&&Xt.isPlainObject(p)?Xt.merge(d,p):Xt.isPlainObject(p)?Xt.merge({},p):Xt.isArray(p)?p.slice():p}function o(d){if(Xt.isUndefined(e[d])){if(!Xt.isUndefined(t[d]))return r(void 0,t[d])}else return r(t[d],e[d])}function s(d){if(!Xt.isUndefined(e[d]))return r(void 0,e[d])}function a(d){if(Xt.isUndefined(e[d])){if(!Xt.isUndefined(t[d]))return r(void 0,t[d])}else return r(void 0,e[d])}function l(d){if(d in e)return r(t[d],e[d]);if(d in t)return r(void 0,t[d])}var c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return Xt.forEach(Object.keys(t).concat(Object.keys(e)),function(p){var g=c[p]||o,y=g(p);Xt.isUndefined(y)&&g!==l||(n[p]=y)}),n},co,qa;function wc(){return qa||(qa=1,co={version:"0.27.2"}),co}var af=wc().version,Pe=Yi,Bs={};["object","boolean","number","function","string","symbol"].forEach(function(i,t){Bs[i]=function(n){return typeof n===i||"a"+(t<1?"n ":" ")+i}});var $a={};Bs.transitional=function(t,e,n){function r(o,s){return"[Axios v"+af+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return function(o,s,a){if(t===!1)throw new Pe(r(s," has been removed"+(e?" in "+e:"")),Pe.ERR_DEPRECATED);return e&&!$a[s]&&($a[s]=!0,console.warn(r(s," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(o,s,a):!0}};function lf(i,t,e){if(typeof i!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(i),r=n.length;r-- >0;){var o=n[r],s=t[o];if(s){var a=i[o],l=a===void 0||s(a,o,i);if(l!==!0)throw new Pe("option "+o+" must be "+l,Pe.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new Pe("Unknown option "+o,Pe.ERR_BAD_OPTION)}}var cf={assertOptions:lf,validators:Bs},xc=_t,uf=hc,Va=Pd,Ga=sf,Lr=yc,hf=vc,Ac=cf,Ei=Ac.validators;function Fi(i){this.defaults=i,this.interceptors={request:new Va,response:new Va}}Fi.prototype.request=function(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=Lr(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=e.transitional;n!==void 0&&Ac.assertOptions(n,{silentJSONParsing:Ei.transitional(Ei.boolean),forcedJSONParsing:Ei.transitional(Ei.boolean),clarifyTimeoutError:Ei.transitional(Ei.boolean)},!1);var r=[],o=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(e)===!1||(o=o&&y.synchronous,r.unshift(y.fulfilled,y.rejected))});var s=[];this.interceptors.response.forEach(function(y){s.push(y.fulfilled,y.rejected)});var a;if(!o){var l=[Ga,void 0];for(Array.prototype.unshift.apply(l,r),l=l.concat(s),a=Promise.resolve(e);l.length;)a=a.then(l.shift(),l.shift());return a}for(var c=e;r.length;){var d=r.shift(),p=r.shift();try{c=d(c)}catch(g){p(g);break}}try{a=Ga(c)}catch(g){return Promise.reject(g)}for(;s.length;)a=a.then(s.shift(),s.shift());return a};Fi.prototype.getUri=function(t){t=Lr(this.defaults,t);var e=hf(t.baseURL,t.url);return uf(e,t.params,t.paramsSerializer)};xc.forEach(["delete","get","head","options"],function(t){Fi.prototype[t]=function(e,n){return this.request(Lr(n||{},{method:t,url:e,data:(n||{}).data}))}});xc.forEach(["post","put","patch"],function(t){function e(n){return function(o,s,a){return this.request(Lr(a||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Fi.prototype[t]=e(),Fi.prototype[t+"Form"]=e(!0)});var df=Fi,uo,Ka;function ff(){if(Ka)return uo;Ka=1;var i=Rr();function t(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(s){n=s});var r=this;this.promise.then(function(o){if(!!r._listeners){var s,a=r._listeners.length;for(s=0;s<a;s++)r._listeners[s](o);r._listeners=null}}),this.promise.then=function(o){var s,a=new Promise(function(l){r.subscribe(l),s=l}).then(o);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s){r.reason||(r.reason=new i(s),n(r.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},t.prototype.unsubscribe=function(n){if(!!this._listeners){var r=this._listeners.indexOf(n);r!==-1&&this._listeners.splice(r,1)}},t.source=function(){var n,r=new t(function(s){n=s});return{token:r,cancel:n}},uo=t,uo}var ho,Ja;function pf(){return Ja||(Ja=1,ho=function(t){return function(n){return t.apply(null,n)}}),ho}var fo,Qa;function gf(){if(Qa)return fo;Qa=1;var i=_t;return fo=function(e){return i.isObject(e)&&e.isAxiosError===!0},fo}var Za=_t,mf=lc,tr=df,vf=yc,bf=Ns;function Sc(i){var t=new tr(i),e=mf(tr.prototype.request,t);return Za.extend(e,tr.prototype,t),Za.extend(e,t),e.create=function(r){return Sc(vf(i,r))},e}var Yt=Sc(bf);Yt.Axios=tr;Yt.CanceledError=Rr();Yt.CancelToken=ff();Yt.isCancel=bc();Yt.VERSION=wc().version;Yt.toFormData=mc;Yt.AxiosError=Yi;Yt.Cancel=Yt.CanceledError;Yt.all=function(t){return Promise.all(t)};Yt.spread=pf();Yt.isAxiosError=gf();Ls.exports=Yt;Ls.exports.default=Yt;(function(i){i.exports=Ls.exports})(ac);const yf=hd(ac.exports);window.axios=yf;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";function tl(i){return i!==null&&typeof i=="object"&&"constructor"in i&&i.constructor===Object}function Fs(i={},t={}){Object.keys(t).forEach(e=>{typeof i[e]>"u"?i[e]=t[e]:tl(t[e])&&tl(i[e])&&Object.keys(t[e]).length>0&&Fs(i[e],t[e])})}const Ec={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function di(){const i=typeof document<"u"?document:{};return Fs(i,Ec),i}const wf={document:Ec,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(i){return typeof setTimeout>"u"?(i(),null):setTimeout(i,0)},cancelAnimationFrame(i){typeof setTimeout>"u"||clearTimeout(i)}};function Jt(){const i=typeof window<"u"?window:{};return Fs(i,wf),i}function xf(i){const t=i;Object.keys(t).forEach(e=>{try{t[e]=null}catch{}try{delete t[e]}catch{}})}function Qo(i,t=0){return setTimeout(i,t)}function hr(){return Date.now()}function Af(i){const t=Jt();let e;return t.getComputedStyle&&(e=t.getComputedStyle(i,null)),!e&&i.currentStyle&&(e=i.currentStyle),e||(e=i.style),e}function Sf(i,t="x"){const e=Jt();let n,r,o;const s=Af(i);return e.WebKitCSSMatrix?(r=s.transform||s.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(a=>a.replace(",",".")).join(", ")),o=new e.WebKitCSSMatrix(r==="none"?"":r)):(o=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=o.toString().split(",")),t==="x"&&(e.WebKitCSSMatrix?r=o.m41:n.length===16?r=parseFloat(n[12]):r=parseFloat(n[4])),t==="y"&&(e.WebKitCSSMatrix?r=o.m42:n.length===16?r=parseFloat(n[13]):r=parseFloat(n[5])),r||0}function Yn(i){return typeof i=="object"&&i!==null&&i.constructor&&Object.prototype.toString.call(i).slice(8,-1)==="Object"}function Ef(i){return typeof window<"u"&&typeof window.HTMLElement<"u"?i instanceof HTMLElement:i&&(i.nodeType===1||i.nodeType===11)}function $t(...i){const t=Object(i[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<i.length;n+=1){const r=i[n];if(r!=null&&!Ef(r)){const o=Object.keys(Object(r)).filter(s=>e.indexOf(s)<0);for(let s=0,a=o.length;s<a;s+=1){const l=o[s],c=Object.getOwnPropertyDescriptor(r,l);c!==void 0&&c.enumerable&&(Yn(t[l])&&Yn(r[l])?r[l].__swiper__?t[l]=r[l]:$t(t[l],r[l]):!Yn(t[l])&&Yn(r[l])?(t[l]={},r[l].__swiper__?t[l]=r[l]:$t(t[l],r[l])):t[l]=r[l])}}}return t}function Xn(i,t,e){i.style.setProperty(t,e)}function Cc({swiper:i,targetPosition:t,side:e}){const n=Jt(),r=-i.translate;let o=null,s;const a=i.params.speed;i.wrapperEl.style.scrollSnapType="none",n.cancelAnimationFrame(i.cssModeFrameID);const l=t>r?"next":"prev",c=(p,g)=>l==="next"&&p>=g||l==="prev"&&p<=g,d=()=>{s=new Date().getTime(),o===null&&(o=s);const p=Math.max(Math.min((s-o)/a,1),0),g=.5-Math.cos(p*Math.PI)/2;let y=r+g*(t-r);if(c(y,t)&&(y=t),i.wrapperEl.scrollTo({[e]:y}),c(y,t)){i.wrapperEl.style.overflow="hidden",i.wrapperEl.style.scrollSnapType="",setTimeout(()=>{i.wrapperEl.style.overflow="",i.wrapperEl.scrollTo({[e]:y})}),n.cancelAnimationFrame(i.cssModeFrameID);return}i.cssModeFrameID=n.requestAnimationFrame(d)};d()}function ye(i,t=""){return[...i.children].filter(e=>e.matches(t))}function Cf(i,t=[]){const e=document.createElement(i);return e.classList.add(...Array.isArray(t)?t:[t]),e}function Tf(i,t){const e=[];for(;i.previousElementSibling;){const n=i.previousElementSibling;t?n.matches(t)&&e.push(n):e.push(n),i=n}return e}function Df(i,t){const e=[];for(;i.nextElementSibling;){const n=i.nextElementSibling;t?n.matches(t)&&e.push(n):e.push(n),i=n}return e}function Fe(i,t){return Jt().getComputedStyle(i,null).getPropertyValue(t)}function el(i){let t=i,e;if(t){for(e=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(e+=1);return e}}function Rf(i,t){const e=[];let n=i.parentElement;for(;n;)t?n.matches(t)&&e.push(n):e.push(n),n=n.parentElement;return e}function il(i,t,e){const n=Jt();return e?i[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(n.getComputedStyle(i,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(n.getComputedStyle(i,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom")):i.offsetWidth}let po;function Mf(){const i=Jt(),t=di();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in i||i.DocumentTouch&&t instanceof i.DocumentTouch)}}function Tc(){return po||(po=Mf()),po}let go;function Lf({userAgent:i}={}){const t=Tc(),e=Jt(),n=e.navigator.platform,r=i||e.navigator.userAgent,o={ios:!1,android:!1},s=e.screen.width,a=e.screen.height,l=r.match(/(Android);?[\s\/]+([\d.]+)?/);let c=r.match(/(iPad).*OS\s([\d_]+)/);const d=r.match(/(iPod)(.*OS\s([\d_]+))?/),p=!c&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),g=n==="Win32";let y=n==="MacIntel";const x=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&y&&t.touch&&x.indexOf(`${s}x${a}`)>=0&&(c=r.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),y=!1),l&&!g&&(o.os="android",o.android=!0),(c||p||d)&&(o.os="ios",o.ios=!0),o}function kf(i={}){return go||(go=Lf(i)),go}let mo;function Of(){const i=Jt();let t=!1;function e(){const n=i.navigator.userAgent.toLowerCase();return n.indexOf("safari")>=0&&n.indexOf("chrome")<0&&n.indexOf("android")<0}if(e()){const n=String(i.navigator.userAgent);if(n.includes("Version/")){const[r,o]=n.split("Version/")[1].split(" ")[0].split(".").map(s=>Number(s));t=r<16||r===16&&o<2}}return{isSafari:t||e(),needPerspectiveFix:t,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(i.navigator.userAgent)}}function _f(){return mo||(mo=Of()),mo}function Pf({swiper:i,on:t,emit:e}){const n=Jt();let r=null,o=null;const s=()=>{!i||i.destroyed||!i.initialized||(e("beforeResize"),e("resize"))},a=()=>{!i||i.destroyed||!i.initialized||(r=new ResizeObserver(d=>{o=n.requestAnimationFrame(()=>{const{width:p,height:g}=i;let y=p,x=g;d.forEach(({contentBoxSize:S,contentRect:C,target:E})=>{E&&E!==i.el||(y=C?C.width:(S[0]||S).inlineSize,x=C?C.height:(S[0]||S).blockSize)}),(y!==p||x!==g)&&s()})}),r.observe(i.el))},l=()=>{o&&n.cancelAnimationFrame(o),r&&r.unobserve&&i.el&&(r.unobserve(i.el),r=null)},c=()=>{!i||i.destroyed||!i.initialized||e("orientationchange")};t("init",()=>{if(i.params.resizeObserver&&typeof n.ResizeObserver<"u"){a();return}n.addEventListener("resize",s),n.addEventListener("orientationchange",c)}),t("destroy",()=>{l(),n.removeEventListener("resize",s),n.removeEventListener("orientationchange",c)})}function If({swiper:i,extendParams:t,on:e,emit:n}){const r=[],o=Jt(),s=(c,d={})=>{const p=o.MutationObserver||o.WebkitMutationObserver,g=new p(y=>{if(i.__preventObserver__)return;if(y.length===1){n("observerUpdate",y[0]);return}const x=function(){n("observerUpdate",y[0])};o.requestAnimationFrame?o.requestAnimationFrame(x):o.setTimeout(x,0)});g.observe(c,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:typeof d.childList>"u"?!0:d.childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),r.push(g)},a=()=>{if(!!i.params.observer){if(i.params.observeParents){const c=Rf(i.el);for(let d=0;d<c.length;d+=1)s(c[d])}s(i.el,{childList:i.params.observeSlideChildren}),s(i.wrapperEl,{attributes:!1})}},l=()=>{r.forEach(c=>{c.disconnect()}),r.splice(0,r.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),e("init",a),e("destroy",l)}const Nf={on(i,t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return i.split(" ").forEach(o=>{n.eventsListeners[o]||(n.eventsListeners[o]=[]),n.eventsListeners[o][r](t)}),n},once(i,t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;function r(...o){n.off(i,r),r.__emitterProxy&&delete r.__emitterProxy,t.apply(n,o)}return r.__emitterProxy=t,n.on(i,r,e)},onAny(i,t){const e=this;if(!e.eventsListeners||e.destroyed||typeof i!="function")return e;const n=t?"unshift":"push";return e.eventsAnyListeners.indexOf(i)<0&&e.eventsAnyListeners[n](i),e},offAny(i){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const e=t.eventsAnyListeners.indexOf(i);return e>=0&&t.eventsAnyListeners.splice(e,1),t},off(i,t){const e=this;return!e.eventsListeners||e.destroyed||!e.eventsListeners||i.split(" ").forEach(n=>{typeof t>"u"?e.eventsListeners[n]=[]:e.eventsListeners[n]&&e.eventsListeners[n].forEach((r,o)=>{(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&e.eventsListeners[n].splice(o,1)})}),e},emit(...i){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;return typeof i[0]=="string"||Array.isArray(i[0])?(e=i[0],n=i.slice(1,i.length),r=t):(e=i[0].events,n=i[0].data,r=i[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(s=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(a=>{a.apply(r,[s,...n])}),t.eventsListeners&&t.eventsListeners[s]&&t.eventsListeners[s].forEach(a=>{a.apply(r,n)})}),t}};function Bf(){const i=this;let t,e;const n=i.el;typeof i.params.width<"u"&&i.params.width!==null?t=i.params.width:t=n.clientWidth,typeof i.params.height<"u"&&i.params.height!==null?e=i.params.height:e=n.clientHeight,!(t===0&&i.isHorizontal()||e===0&&i.isVertical())&&(t=t-parseInt(Fe(n,"padding-left")||0,10)-parseInt(Fe(n,"padding-right")||0,10),e=e-parseInt(Fe(n,"padding-top")||0,10)-parseInt(Fe(n,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(e)&&(e=0),Object.assign(i,{width:t,height:e,size:i.isHorizontal()?t:e}))}function Ff(){const i=this;function t(N){return i.isHorizontal()?N:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[N]}function e(N,B){return parseFloat(N.getPropertyValue(t(B))||0)}const n=i.params,{wrapperEl:r,slidesEl:o,size:s,rtlTranslate:a,wrongRTL:l}=i,c=i.virtual&&n.virtual.enabled,d=c?i.virtual.slides.length:i.slides.length,p=ye(o,`.${i.params.slideClass}, swiper-slide`),g=c?i.virtual.slides.length:p.length;let y=[];const x=[],S=[];let C=n.slidesOffsetBefore;typeof C=="function"&&(C=n.slidesOffsetBefore.call(i));let E=n.slidesOffsetAfter;typeof E=="function"&&(E=n.slidesOffsetAfter.call(i));const R=i.snapGrid.length,L=i.slidesGrid.length;let k=n.spaceBetween,D=-C,A=0,I=0;if(typeof s>"u")return;typeof k=="string"&&k.indexOf("%")>=0?k=parseFloat(k.replace("%",""))/100*s:typeof k=="string"&&(k=parseFloat(k)),i.virtualSize=-k,p.forEach(N=>{a?N.style.marginLeft="":N.style.marginRight="",N.style.marginBottom="",N.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Xn(r,"--swiper-centered-offset-before",""),Xn(r,"--swiper-centered-offset-after",""));const U=n.grid&&n.grid.rows>1&&i.grid;U&&i.grid.initSlides(g);let X;const st=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(N=>typeof n.breakpoints[N].slidesPerView<"u").length>0;for(let N=0;N<g;N+=1){X=0;let B;if(p[N]&&(B=p[N]),U&&i.grid.updateSlide(N,B,g,t),!(p[N]&&Fe(B,"display")==="none")){if(n.slidesPerView==="auto"){st&&(p[N].style[t("width")]="");const q=getComputedStyle(B),it=B.style.transform,vt=B.style.webkitTransform;if(it&&(B.style.transform="none"),vt&&(B.style.webkitTransform="none"),n.roundLengths)X=i.isHorizontal()?il(B,"width",!0):il(B,"height",!0);else{const at=e(q,"width"),ue=e(q,"padding-left"),ne=e(q,"padding-right"),Te=e(q,"margin-left"),gi=e(q,"margin-right"),De=q.getPropertyValue("box-sizing");if(De&&De==="border-box")X=at+Te+gi;else{const{clientWidth:mi,offsetWidth:Hn}=B;X=at+ue+ne+Te+gi+(Hn-mi)}}it&&(B.style.transform=it),vt&&(B.style.webkitTransform=vt),n.roundLengths&&(X=Math.floor(X))}else X=(s-(n.slidesPerView-1)*k)/n.slidesPerView,n.roundLengths&&(X=Math.floor(X)),p[N]&&(p[N].style[t("width")]=`${X}px`);p[N]&&(p[N].swiperSlideSize=X),S.push(X),n.centeredSlides?(D=D+X/2+A/2+k,A===0&&N!==0&&(D=D-s/2-k),N===0&&(D=D-s/2-k),Math.abs(D)<1/1e3&&(D=0),n.roundLengths&&(D=Math.floor(D)),I%n.slidesPerGroup===0&&y.push(D),x.push(D)):(n.roundLengths&&(D=Math.floor(D)),(I-Math.min(i.params.slidesPerGroupSkip,I))%i.params.slidesPerGroup===0&&y.push(D),x.push(D),D=D+X+k),i.virtualSize+=X+k,A=X,I+=1}}if(i.virtualSize=Math.max(i.virtualSize,s)+E,a&&l&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${i.virtualSize+k}px`),n.setWrapperSize&&(r.style[t("width")]=`${i.virtualSize+k}px`),U&&i.grid.updateWrapperSize(X,y,t),!n.centeredSlides){const N=[];for(let B=0;B<y.length;B+=1){let q=y[B];n.roundLengths&&(q=Math.floor(q)),y[B]<=i.virtualSize-s&&N.push(q)}y=N,Math.floor(i.virtualSize-s)-Math.floor(y[y.length-1])>1&&y.push(i.virtualSize-s)}if(c&&n.loop){const N=S[0]+k;if(n.slidesPerGroup>1){const B=Math.ceil((i.virtual.slidesBefore+i.virtual.slidesAfter)/n.slidesPerGroup),q=N*n.slidesPerGroup;for(let it=0;it<B;it+=1)y.push(y[y.length-1]+q)}for(let B=0;B<i.virtual.slidesBefore+i.virtual.slidesAfter;B+=1)n.slidesPerGroup===1&&y.push(y[y.length-1]+N),x.push(x[x.length-1]+N),i.virtualSize+=N}if(y.length===0&&(y=[0]),k!==0){const N=i.isHorizontal()&&a?"marginLeft":t("marginRight");p.filter((B,q)=>!n.cssMode||n.loop?!0:q!==p.length-1).forEach(B=>{B.style[N]=`${k}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let N=0;S.forEach(q=>{N+=q+(k||0)}),N-=k;const B=N-s;y=y.map(q=>q<=0?-C:q>B?B+E:q)}if(n.centerInsufficientSlides){let N=0;if(S.forEach(B=>{N+=B+(k||0)}),N-=k,N<s){const B=(s-N)/2;y.forEach((q,it)=>{y[it]=q-B}),x.forEach((q,it)=>{x[it]=q+B})}}if(Object.assign(i,{slides:p,snapGrid:y,slidesGrid:x,slidesSizesGrid:S}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Xn(r,"--swiper-centered-offset-before",`${-y[0]}px`),Xn(r,"--swiper-centered-offset-after",`${i.size/2-S[S.length-1]/2}px`);const N=-i.snapGrid[0],B=-i.slidesGrid[0];i.snapGrid=i.snapGrid.map(q=>q+N),i.slidesGrid=i.slidesGrid.map(q=>q+B)}if(g!==d&&i.emit("slidesLengthChange"),y.length!==R&&(i.params.watchOverflow&&i.checkOverflow(),i.emit("snapGridLengthChange")),x.length!==L&&i.emit("slidesGridLengthChange"),n.watchSlidesProgress&&i.updateSlidesOffset(),!c&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const N=`${n.containerModifierClass}backface-hidden`,B=i.el.classList.contains(N);g<=n.maxBackfaceHiddenSlides?B||i.el.classList.add(N):B&&i.el.classList.remove(N)}}function Wf(i){const t=this,e=[],n=t.virtual&&t.params.virtual.enabled;let r=0,o;typeof i=="number"?t.setTransition(i):i===!0&&t.setTransition(t.params.speed);const s=a=>n?t.slides[t.getSlideIndexByData(a)]:t.slides[a];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(a=>{e.push(a)});else for(o=0;o<Math.ceil(t.params.slidesPerView);o+=1){const a=t.activeIndex+o;if(a>t.slides.length&&!n)break;e.push(s(a))}else e.push(s(t.activeIndex));for(o=0;o<e.length;o+=1)if(typeof e[o]<"u"){const a=e[o].offsetHeight;r=a>r?a:r}(r||r===0)&&(t.wrapperEl.style.height=`${r}px`)}function jf(){const i=this,t=i.slides,e=i.isElement?i.isHorizontal()?i.wrapperEl.offsetLeft:i.wrapperEl.offsetTop:0;for(let n=0;n<t.length;n+=1)t[n].swiperSlideOffset=(i.isHorizontal()?t[n].offsetLeft:t[n].offsetTop)-e-i.cssOverflowAdjustment()}function Hf(i=this&&this.translate||0){const t=this,e=t.params,{slides:n,rtlTranslate:r,snapGrid:o}=t;if(n.length===0)return;typeof n[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let s=-i;r&&(s=i),n.forEach(l=>{l.classList.remove(e.slideVisibleClass)}),t.visibleSlidesIndexes=[],t.visibleSlides=[];let a=e.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*t.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<n.length;l+=1){const c=n[l];let d=c.swiperSlideOffset;e.cssMode&&e.centeredSlides&&(d-=n[0].swiperSlideOffset);const p=(s+(e.centeredSlides?t.minTranslate():0)-d)/(c.swiperSlideSize+a),g=(s-o[0]+(e.centeredSlides?t.minTranslate():0)-d)/(c.swiperSlideSize+a),y=-(s-d),x=y+t.slidesSizesGrid[l];(y>=0&&y<t.size-1||x>1&&x<=t.size||y<=0&&x>=t.size)&&(t.visibleSlides.push(c),t.visibleSlidesIndexes.push(l),n[l].classList.add(e.slideVisibleClass)),c.progress=r?-p:p,c.originalProgress=r?-g:g}}function zf(i){const t=this;if(typeof i>"u"){const d=t.rtlTranslate?-1:1;i=t&&t.translate&&t.translate*d||0}const e=t.params,n=t.maxTranslate()-t.minTranslate();let{progress:r,isBeginning:o,isEnd:s,progressLoop:a}=t;const l=o,c=s;if(n===0)r=0,o=!0,s=!0;else{r=(i-t.minTranslate())/n;const d=Math.abs(i-t.minTranslate())<1,p=Math.abs(i-t.maxTranslate())<1;o=d||r<=0,s=p||r>=1,d&&(r=0),p&&(r=1)}if(e.loop){const d=t.getSlideIndexByData(0),p=t.getSlideIndexByData(t.slides.length-1),g=t.slidesGrid[d],y=t.slidesGrid[p],x=t.slidesGrid[t.slidesGrid.length-1],S=Math.abs(i);S>=g?a=(S-g)/x:a=(S+x-y)/x,a>1&&(a-=1)}Object.assign(t,{progress:r,progressLoop:a,isBeginning:o,isEnd:s}),(e.watchSlidesProgress||e.centeredSlides&&e.autoHeight)&&t.updateSlidesProgress(i),o&&!l&&t.emit("reachBeginning toEdge"),s&&!c&&t.emit("reachEnd toEdge"),(l&&!o||c&&!s)&&t.emit("fromEdge"),t.emit("progress",r)}function Yf(){const i=this,{slides:t,params:e,slidesEl:n,activeIndex:r}=i,o=i.virtual&&e.virtual.enabled,s=l=>ye(n,`.${e.slideClass}${l}, swiper-slide${l}`)[0];t.forEach(l=>{l.classList.remove(e.slideActiveClass,e.slideNextClass,e.slidePrevClass)});let a;if(o)if(e.loop){let l=r-i.virtual.slidesBefore;l<0&&(l=i.virtual.slides.length+l),l>=i.virtual.slides.length&&(l-=i.virtual.slides.length),a=s(`[data-swiper-slide-index="${l}"]`)}else a=s(`[data-swiper-slide-index="${r}"]`);else a=t[r];if(a){a.classList.add(e.slideActiveClass);let l=Df(a,`.${e.slideClass}, swiper-slide`)[0];e.loop&&!l&&(l=t[0]),l&&l.classList.add(e.slideNextClass);let c=Tf(a,`.${e.slideClass}, swiper-slide`)[0];e.loop&&!c===0&&(c=t[t.length-1]),c&&c.classList.add(e.slidePrevClass)}i.emitSlidesClasses()}const er=(i,t)=>{if(!i||i.destroyed||!i.params)return;const e=()=>i.isElement?"swiper-slide":`.${i.params.slideClass}`,n=t.closest(e());if(n){const r=n.querySelector(`.${i.params.lazyPreloaderClass}`);r&&r.remove()}},vo=(i,t)=>{if(!i.slides[t])return;const e=i.slides[t].querySelector('[loading="lazy"]');e&&e.removeAttribute("loading")},Zo=i=>{if(!i||i.destroyed||!i.params)return;let t=i.params.lazyPreloadPrevNext;const e=i.slides.length;if(!e||!t||t<0)return;t=Math.min(t,e);const n=i.params.slidesPerView==="auto"?i.slidesPerViewDynamic():Math.ceil(i.params.slidesPerView),r=i.activeIndex;if(i.params.grid&&i.params.grid.rows>1){const s=r,a=[s-t];a.push(...Array.from({length:t}).map((l,c)=>s+n+c)),i.slides.forEach((l,c)=>{a.includes(l.column)&&vo(i,c)});return}const o=r+n-1;if(i.params.rewind||i.params.loop)for(let s=r-t;s<=o+t;s+=1){const a=(s%e+e)%e;(a<r||a>o)&&vo(i,a)}else for(let s=Math.max(r-t,0);s<=Math.min(o+t,e-1);s+=1)s!==r&&(s>o||s<r)&&vo(i,s)};function Xf(i){const{slidesGrid:t,params:e}=i,n=i.rtlTranslate?i.translate:-i.translate;let r;for(let o=0;o<t.length;o+=1)typeof t[o+1]<"u"?n>=t[o]&&n<t[o+1]-(t[o+1]-t[o])/2?r=o:n>=t[o]&&n<t[o+1]&&(r=o+1):n>=t[o]&&(r=o);return e.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function Uf(i){const t=this,e=t.rtlTranslate?t.translate:-t.translate,{snapGrid:n,params:r,activeIndex:o,realIndex:s,snapIndex:a}=t;let l=i,c;const d=g=>{let y=g-t.virtual.slidesBefore;return y<0&&(y=t.virtual.slides.length+y),y>=t.virtual.slides.length&&(y-=t.virtual.slides.length),y};if(typeof l>"u"&&(l=Xf(t)),n.indexOf(e)>=0)c=n.indexOf(e);else{const g=Math.min(r.slidesPerGroupSkip,l);c=g+Math.floor((l-g)/r.slidesPerGroup)}if(c>=n.length&&(c=n.length-1),l===o){c!==a&&(t.snapIndex=c,t.emit("snapIndexChange")),t.params.loop&&t.virtual&&t.params.virtual.enabled&&(t.realIndex=d(l));return}let p;t.virtual&&r.virtual.enabled&&r.loop?p=d(l):t.slides[l]?p=parseInt(t.slides[l].getAttribute("data-swiper-slide-index")||l,10):p=l,Object.assign(t,{previousSnapIndex:a,snapIndex:c,previousRealIndex:s,realIndex:p,previousIndex:o,activeIndex:l}),t.initialized&&Zo(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),s!==p&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")}function qf(i){const t=this,e=t.params,n=i.closest(`.${e.slideClass}, swiper-slide`);let r=!1,o;if(n){for(let s=0;s<t.slides.length;s+=1)if(t.slides[s]===n){r=!0,o=s;break}}if(n&&r)t.clickedSlide=n,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(n.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=o;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}e.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}const $f={updateSize:Bf,updateSlides:Ff,updateAutoHeight:Wf,updateSlidesOffset:jf,updateSlidesProgress:Hf,updateProgress:zf,updateSlidesClasses:Yf,updateActiveIndex:Uf,updateClickedSlide:qf};function Vf(i=this.isHorizontal()?"x":"y"){const t=this,{params:e,rtlTranslate:n,translate:r,wrapperEl:o}=t;if(e.virtualTranslate)return n?-r:r;if(e.cssMode)return r;let s=Sf(o,i);return s+=t.cssOverflowAdjustment(),n&&(s=-s),s||0}function Gf(i,t){const e=this,{rtlTranslate:n,params:r,wrapperEl:o,progress:s}=e;let a=0,l=0;const c=0;e.isHorizontal()?a=n?-i:i:l=i,r.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),e.previousTranslate=e.translate,e.translate=e.isHorizontal()?a:l,r.cssMode?o[e.isHorizontal()?"scrollLeft":"scrollTop"]=e.isHorizontal()?-a:-l:r.virtualTranslate||(e.isHorizontal()?a-=e.cssOverflowAdjustment():l-=e.cssOverflowAdjustment(),o.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let d;const p=e.maxTranslate()-e.minTranslate();p===0?d=0:d=(i-e.minTranslate())/p,d!==s&&e.updateProgress(i),e.emit("setTranslate",e.translate,t)}function Kf(){return-this.snapGrid[0]}function Jf(){return-this.snapGrid[this.snapGrid.length-1]}function Qf(i=0,t=this.params.speed,e=!0,n=!0,r){const o=this,{params:s,wrapperEl:a}=o;if(o.animating&&s.preventInteractionOnTransition)return!1;const l=o.minTranslate(),c=o.maxTranslate();let d;if(n&&i>l?d=l:n&&i<c?d=c:d=i,o.updateProgress(d),s.cssMode){const p=o.isHorizontal();if(t===0)a[p?"scrollLeft":"scrollTop"]=-d;else{if(!o.support.smoothScroll)return Cc({swiper:o,targetPosition:-d,side:p?"left":"top"}),!0;a.scrollTo({[p?"left":"top"]:-d,behavior:"smooth"})}return!0}return t===0?(o.setTransition(0),o.setTranslate(d),e&&(o.emit("beforeTransitionStart",t,r),o.emit("transitionEnd"))):(o.setTransition(t),o.setTranslate(d),e&&(o.emit("beforeTransitionStart",t,r),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(g){!o||o.destroyed||g.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,e&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}const Zf={getTranslate:Vf,setTranslate:Gf,minTranslate:Kf,maxTranslate:Jf,translateTo:Qf};function tp(i,t){const e=this;e.params.cssMode||(e.wrapperEl.style.transitionDuration=`${i}ms`),e.emit("setTransition",i,t)}function Dc({swiper:i,runCallbacks:t,direction:e,step:n}){const{activeIndex:r,previousIndex:o}=i;let s=e;if(s||(r>o?s="next":r<o?s="prev":s="reset"),i.emit(`transition${n}`),t&&r!==o){if(s==="reset"){i.emit(`slideResetTransition${n}`);return}i.emit(`slideChangeTransition${n}`),s==="next"?i.emit(`slideNextTransition${n}`):i.emit(`slidePrevTransition${n}`)}}function ep(i=!0,t){const e=this,{params:n}=e;n.cssMode||(n.autoHeight&&e.updateAutoHeight(),Dc({swiper:e,runCallbacks:i,direction:t,step:"Start"}))}function ip(i=!0,t){const e=this,{params:n}=e;e.animating=!1,!n.cssMode&&(e.setTransition(0),Dc({swiper:e,runCallbacks:i,direction:t,step:"End"}))}const np={setTransition:tp,transitionStart:ep,transitionEnd:ip};function rp(i=0,t=this.params.speed,e=!0,n,r){typeof i=="string"&&(i=parseInt(i,10));const o=this;let s=i;s<0&&(s=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:d,activeIndex:p,rtlTranslate:g,wrapperEl:y,enabled:x}=o;if(o.animating&&a.preventInteractionOnTransition||!x&&!n&&!r)return!1;const S=Math.min(o.params.slidesPerGroupSkip,s);let C=S+Math.floor((s-S)/o.params.slidesPerGroup);C>=l.length&&(C=l.length-1);const E=-l[C];if(a.normalizeSlideIndex)for(let L=0;L<c.length;L+=1){const k=-Math.floor(E*100),D=Math.floor(c[L]*100),A=Math.floor(c[L+1]*100);typeof c[L+1]<"u"?k>=D&&k<A-(A-D)/2?s=L:k>=D&&k<A&&(s=L+1):k>=D&&(s=L)}if(o.initialized&&s!==p&&(!o.allowSlideNext&&(g?E>o.translate&&E>o.minTranslate():E<o.translate&&E<o.minTranslate())||!o.allowSlidePrev&&E>o.translate&&E>o.maxTranslate()&&(p||0)!==s))return!1;s!==(d||0)&&e&&o.emit("beforeSlideChangeStart"),o.updateProgress(E);let R;if(s>p?R="next":s<p?R="prev":R="reset",g&&-E===o.translate||!g&&E===o.translate)return o.updateActiveIndex(s),a.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),a.effect!=="slide"&&o.setTranslate(E),R!=="reset"&&(o.transitionStart(e,R),o.transitionEnd(e,R)),!1;if(a.cssMode){const L=o.isHorizontal(),k=g?E:-E;if(t===0){const D=o.virtual&&o.params.virtual.enabled;D&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),D&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{y[L?"scrollLeft":"scrollTop"]=k})):y[L?"scrollLeft":"scrollTop"]=k,D&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1})}else{if(!o.support.smoothScroll)return Cc({swiper:o,targetPosition:k,side:L?"left":"top"}),!0;y.scrollTo({[L?"left":"top"]:k,behavior:"smooth"})}return!0}return o.setTransition(t),o.setTranslate(E),o.updateActiveIndex(s),o.updateSlidesClasses(),o.emit("beforeTransitionStart",t,n),o.transitionStart(e,R),t===0?o.transitionEnd(e,R):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(k){!o||o.destroyed||k.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(e,R))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function op(i=0,t=this.params.speed,e=!0,n){typeof i=="string"&&(i=parseInt(i,10));const r=this;let o=i;return r.params.loop&&(r.virtual&&r.params.virtual.enabled?o=o+r.virtual.slidesBefore:o=r.getSlideIndexByData(o)),r.slideTo(o,t,e,n)}function sp(i=this.params.speed,t=!0,e){const n=this,{enabled:r,params:o,animating:s}=n;if(!r)return n;let a=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(a=Math.max(n.slidesPerViewDynamic("current",!0),1));const l=n.activeIndex<o.slidesPerGroupSkip?1:a,c=n.virtual&&o.virtual.enabled;if(o.loop){if(s&&!c&&o.loopPreventsSliding)return!1;n.loopFix({direction:"next"}),n._clientLeft=n.wrapperEl.clientLeft}return o.rewind&&n.isEnd?n.slideTo(0,i,t,e):n.slideTo(n.activeIndex+l,i,t,e)}function ap(i=this.params.speed,t=!0,e){const n=this,{params:r,snapGrid:o,slidesGrid:s,rtlTranslate:a,enabled:l,animating:c}=n;if(!l)return n;const d=n.virtual&&r.virtual.enabled;if(r.loop){if(c&&!d&&r.loopPreventsSliding)return!1;n.loopFix({direction:"prev"}),n._clientLeft=n.wrapperEl.clientLeft}const p=a?n.translate:-n.translate;function g(E){return E<0?-Math.floor(Math.abs(E)):Math.floor(E)}const y=g(p),x=o.map(E=>g(E));let S=o[x.indexOf(y)-1];if(typeof S>"u"&&r.cssMode){let E;o.forEach((R,L)=>{y>=R&&(E=L)}),typeof E<"u"&&(S=o[E>0?E-1:E])}let C=0;if(typeof S<"u"&&(C=s.indexOf(S),C<0&&(C=n.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(C=C-n.slidesPerViewDynamic("previous",!0)+1,C=Math.max(C,0))),r.rewind&&n.isBeginning){const E=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(E,i,t,e)}return n.slideTo(C,i,t,e)}function lp(i=this.params.speed,t=!0,e){const n=this;return n.slideTo(n.activeIndex,i,t,e)}function cp(i=this.params.speed,t=!0,e,n=.5){const r=this;let o=r.activeIndex;const s=Math.min(r.params.slidesPerGroupSkip,o),a=s+Math.floor((o-s)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[a]){const c=r.snapGrid[a],d=r.snapGrid[a+1];l-c>(d-c)*n&&(o+=r.params.slidesPerGroup)}else{const c=r.snapGrid[a-1],d=r.snapGrid[a];l-c<=(d-c)*n&&(o-=r.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,r.slidesGrid.length-1),r.slideTo(o,i,t,e)}function up(){const i=this,{params:t,slidesEl:e}=i,n=t.slidesPerView==="auto"?i.slidesPerViewDynamic():t.slidesPerView;let r=i.clickedIndex,o;const s=i.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(i.animating)return;o=parseInt(i.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?r<i.loopedSlides-n/2||r>i.slides.length-i.loopedSlides+n/2?(i.loopFix(),r=i.getSlideIndex(ye(e,`${s}[data-swiper-slide-index="${o}"]`)[0]),Qo(()=>{i.slideTo(r)})):i.slideTo(r):r>i.slides.length-n?(i.loopFix(),r=i.getSlideIndex(ye(e,`${s}[data-swiper-slide-index="${o}"]`)[0]),Qo(()=>{i.slideTo(r)})):i.slideTo(r)}else i.slideTo(r)}const hp={slideTo:rp,slideToLoop:op,slideNext:sp,slidePrev:ap,slideReset:lp,slideToClosest:cp,slideToClickedSlide:up};function dp(i){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;ye(n,`.${e.slideClass}, swiper-slide`).forEach((o,s)=>{o.setAttribute("data-swiper-slide-index",s)}),t.loopFix({slideRealIndex:i,direction:e.centeredSlides?void 0:"next"})}function fp({slideRealIndex:i,slideTo:t=!0,direction:e,setTranslate:n,activeSlideIndex:r,byController:o,byMousewheel:s}={}){const a=this;if(!a.params.loop)return;a.emit("beforeLoopFix");const{slides:l,allowSlidePrev:c,allowSlideNext:d,slidesEl:p,params:g}=a;if(a.allowSlidePrev=!0,a.allowSlideNext=!0,a.virtual&&g.virtual.enabled){t&&(!g.centeredSlides&&a.snapIndex===0?a.slideTo(a.virtual.slides.length,0,!1,!0):g.centeredSlides&&a.snapIndex<g.slidesPerView?a.slideTo(a.virtual.slides.length+a.snapIndex,0,!1,!0):a.snapIndex===a.snapGrid.length-1&&a.slideTo(a.virtual.slidesBefore,0,!1,!0)),a.allowSlidePrev=c,a.allowSlideNext=d,a.emit("loopFix");return}const y=g.slidesPerView==="auto"?a.slidesPerViewDynamic():Math.ceil(parseFloat(g.slidesPerView,10));let x=g.loopedSlides||y;x%g.slidesPerGroup!==0&&(x+=g.slidesPerGroup-x%g.slidesPerGroup),a.loopedSlides=x;const S=[],C=[];let E=a.activeIndex;typeof r>"u"?r=a.getSlideIndex(a.slides.filter(A=>A.classList.contains(g.slideActiveClass))[0]):E=r;const R=e==="next"||!e,L=e==="prev"||!e;let k=0,D=0;if(r<x){k=Math.max(x-r,g.slidesPerGroup);for(let A=0;A<x-r;A+=1){const I=A-Math.floor(A/l.length)*l.length;S.push(l.length-I-1)}}else if(r>a.slides.length-x*2){D=Math.max(r-(a.slides.length-x*2),g.slidesPerGroup);for(let A=0;A<D;A+=1){const I=A-Math.floor(A/l.length)*l.length;C.push(I)}}if(L&&S.forEach(A=>{a.slides[A].swiperLoopMoveDOM=!0,p.prepend(a.slides[A]),a.slides[A].swiperLoopMoveDOM=!1}),R&&C.forEach(A=>{a.slides[A].swiperLoopMoveDOM=!0,p.append(a.slides[A]),a.slides[A].swiperLoopMoveDOM=!1}),a.recalcSlides(),g.slidesPerView==="auto"&&a.updateSlides(),g.watchSlidesProgress&&a.updateSlidesOffset(),t){if(S.length>0&&L)if(typeof i>"u"){const A=a.slidesGrid[E],U=a.slidesGrid[E+k]-A;s?a.setTranslate(a.translate-U):(a.slideTo(E+k,0,!1,!0),n&&(a.touches[a.isHorizontal()?"startX":"startY"]+=U))}else n&&a.slideToLoop(i,0,!1,!0);else if(C.length>0&&R)if(typeof i>"u"){const A=a.slidesGrid[E],U=a.slidesGrid[E-D]-A;s?a.setTranslate(a.translate-U):(a.slideTo(E-D,0,!1,!0),n&&(a.touches[a.isHorizontal()?"startX":"startY"]+=U))}else a.slideToLoop(i,0,!1,!0)}if(a.allowSlidePrev=c,a.allowSlideNext=d,a.controller&&a.controller.control&&!o){const A={slideRealIndex:i,slideTo:!1,direction:e,setTranslate:n,activeSlideIndex:r,byController:!0};Array.isArray(a.controller.control)?a.controller.control.forEach(I=>{!I.destroyed&&I.params.loop&&I.loopFix(A)}):a.controller.control instanceof a.constructor&&a.controller.control.params.loop&&a.controller.control.loopFix(A)}a.emit("loopFix")}function pp(){const i=this,{params:t,slidesEl:e}=i;if(!t.loop||i.virtual&&i.params.virtual.enabled)return;i.recalcSlides();const n=[];i.slides.forEach(r=>{const o=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;n[o]=r}),i.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),n.forEach(r=>{e.append(r)}),i.recalcSlides(),i.slideTo(i.realIndex,0)}const gp={loopCreate:dp,loopFix:fp,loopDestroy:pp};function mp(i){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const e=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),e.style.cursor="move",e.style.cursor=i?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function vp(){const i=this;i.params.watchOverflow&&i.isLocked||i.params.cssMode||(i.isElement&&(i.__preventObserver__=!0),i[i.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",i.isElement&&requestAnimationFrame(()=>{i.__preventObserver__=!1}))}const bp={setGrabCursor:mp,unsetGrabCursor:vp};function yp(i,t=this){function e(n){if(!n||n===di()||n===Jt())return null;n.assignedSlot&&(n=n.assignedSlot);const r=n.closest(i);return!r&&!n.getRootNode?null:r||e(n.getRootNode().host)}return e(t)}function wp(i){const t=this,e=di(),n=Jt(),r=t.touchEventsData;r.evCache.push(i);const{params:o,touches:s,enabled:a}=t;if(!a||!o.simulateTouch&&i.pointerType==="mouse"||t.animating&&o.preventInteractionOnTransition)return;!t.animating&&o.cssMode&&o.loop&&t.loopFix();let l=i;l.originalEvent&&(l=l.originalEvent);let c=l.target;if(o.touchEventsTarget==="wrapper"&&!t.wrapperEl.contains(c)||"which"in l&&l.which===3||"button"in l&&l.button>0||r.isTouched&&r.isMoved)return;const d=!!o.noSwipingClass&&o.noSwipingClass!=="",p=i.composedPath?i.composedPath():i.path;d&&l.target&&l.target.shadowRoot&&p&&(c=p[0]);const g=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,y=!!(l.target&&l.target.shadowRoot);if(o.noSwiping&&(y?yp(g,c):c.closest(g))){t.allowClick=!0;return}if(o.swipeHandler&&!c.closest(o.swipeHandler))return;s.currentX=l.pageX,s.currentY=l.pageY;const x=s.currentX,S=s.currentY,C=o.edgeSwipeDetection||o.iOSEdgeSwipeDetection,E=o.edgeSwipeThreshold||o.iOSEdgeSwipeThreshold;if(C&&(x<=E||x>=n.innerWidth-E))if(C==="prevent")i.preventDefault();else return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=x,s.startY=S,r.touchStartTime=hr(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,o.threshold>0&&(r.allowThresholdMove=!1);let R=!0;c.matches(r.focusableElements)&&(R=!1,c.nodeName==="SELECT"&&(r.isTouched=!1)),e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==c&&e.activeElement.blur();const L=R&&t.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||L)&&!c.isContentEditable&&l.preventDefault(),o.freeMode&&o.freeMode.enabled&&t.freeMode&&t.animating&&!o.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",l)}function xp(i){const t=di(),e=this,n=e.touchEventsData,{params:r,touches:o,rtlTranslate:s,enabled:a}=e;if(!a||!r.simulateTouch&&i.pointerType==="mouse")return;let l=i;if(l.originalEvent&&(l=l.originalEvent),!n.isTouched){n.startMoving&&n.isScrolling&&e.emit("touchMoveOpposite",l);return}const c=n.evCache.findIndex(A=>A.pointerId===l.pointerId);c>=0&&(n.evCache[c]=l);const d=n.evCache.length>1?n.evCache[0]:l,p=d.pageX,g=d.pageY;if(l.preventedByNestedSwiper){o.startX=p,o.startY=g;return}if(!e.allowTouchMove){l.target.matches(n.focusableElements)||(e.allowClick=!1),n.isTouched&&(Object.assign(o,{startX:p,startY:g,prevX:e.touches.currentX,prevY:e.touches.currentY,currentX:p,currentY:g}),n.touchStartTime=hr());return}if(r.touchReleaseOnEdges&&!r.loop){if(e.isVertical()){if(g<o.startY&&e.translate<=e.maxTranslate()||g>o.startY&&e.translate>=e.minTranslate()){n.isTouched=!1,n.isMoved=!1;return}}else if(p<o.startX&&e.translate<=e.maxTranslate()||p>o.startX&&e.translate>=e.minTranslate())return}if(t.activeElement&&l.target===t.activeElement&&l.target.matches(n.focusableElements)){n.isMoved=!0,e.allowClick=!1;return}if(n.allowTouchCallbacks&&e.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;o.currentX=p,o.currentY=g;const y=o.currentX-o.startX,x=o.currentY-o.startY;if(e.params.threshold&&Math.sqrt(y**2+x**2)<e.params.threshold)return;if(typeof n.isScrolling>"u"){let A;e.isHorizontal()&&o.currentY===o.startY||e.isVertical()&&o.currentX===o.startX?n.isScrolling=!1:y*y+x*x>=25&&(A=Math.atan2(Math.abs(x),Math.abs(y))*180/Math.PI,n.isScrolling=e.isHorizontal()?A>r.touchAngle:90-A>r.touchAngle)}if(n.isScrolling&&e.emit("touchMoveOpposite",l),typeof n.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(n.startMoving=!0),n.isScrolling||e.zoom&&e.params.zoom&&e.params.zoom.enabled&&n.evCache.length>1){n.isTouched=!1;return}if(!n.startMoving)return;e.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation();let S=e.isHorizontal()?y:x,C=e.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;r.oneWayMovement&&(S=Math.abs(S)*(s?1:-1),C=Math.abs(C)*(s?1:-1)),o.diff=S,S*=r.touchRatio,s&&(S=-S,C=-C);const E=e.touchesDirection;e.swipeDirection=S>0?"prev":"next",e.touchesDirection=C>0?"prev":"next";const R=e.params.loop&&!r.cssMode;if(!n.isMoved){if(R&&e.loopFix({direction:e.swipeDirection}),n.startTranslate=e.getTranslate(),e.setTransition(0),e.animating){const A=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(A)}n.allowMomentumBounce=!1,r.grabCursor&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!0),e.emit("sliderFirstMove",l)}let L;n.isMoved&&E!==e.touchesDirection&&R&&Math.abs(S)>=1&&(e.loopFix({direction:e.swipeDirection,setTranslate:!0}),L=!0),e.emit("sliderMove",l),n.isMoved=!0,n.currentTranslate=S+n.startTranslate;let k=!0,D=r.resistanceRatio;if(r.touchReleaseOnEdges&&(D=0),S>0?(R&&!L&&n.currentTranslate>(r.centeredSlides?e.minTranslate()-e.size/2:e.minTranslate())&&e.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),n.currentTranslate>e.minTranslate()&&(k=!1,r.resistance&&(n.currentTranslate=e.minTranslate()-1+(-e.minTranslate()+n.startTranslate+S)**D))):S<0&&(R&&!L&&n.currentTranslate<(r.centeredSlides?e.maxTranslate()+e.size/2:e.maxTranslate())&&e.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:e.slides.length-(r.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),n.currentTranslate<e.maxTranslate()&&(k=!1,r.resistance&&(n.currentTranslate=e.maxTranslate()+1-(e.maxTranslate()-n.startTranslate-S)**D))),k&&(l.preventedByNestedSwiper=!0),!e.allowSlideNext&&e.swipeDirection==="next"&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!e.allowSlidePrev&&e.swipeDirection==="prev"&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),!e.allowSlidePrev&&!e.allowSlideNext&&(n.currentTranslate=n.startTranslate),r.threshold>0)if(Math.abs(S)>r.threshold||n.allowThresholdMove){if(!n.allowThresholdMove){n.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,n.currentTranslate=n.startTranslate,o.diff=e.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{n.currentTranslate=n.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&e.freeMode||r.watchSlidesProgress)&&(e.updateActiveIndex(),e.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.freeMode.onTouchMove(),e.updateProgress(n.currentTranslate),e.setTranslate(n.currentTranslate))}function Ap(i){const t=this,e=t.touchEventsData,n=e.evCache.findIndex(L=>L.pointerId===i.pointerId);if(n>=0&&e.evCache.splice(n,1),["pointercancel","pointerout","pointerleave"].includes(i.type)&&!(i.type==="pointercancel"&&(t.browser.isSafari||t.browser.isWebView)))return;const{params:r,touches:o,rtlTranslate:s,slidesGrid:a,enabled:l}=t;if(!l||!r.simulateTouch&&i.pointerType==="mouse")return;let c=i;if(c.originalEvent&&(c=c.originalEvent),e.allowTouchCallbacks&&t.emit("touchEnd",c),e.allowTouchCallbacks=!1,!e.isTouched){e.isMoved&&r.grabCursor&&t.setGrabCursor(!1),e.isMoved=!1,e.startMoving=!1;return}r.grabCursor&&e.isMoved&&e.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const d=hr(),p=d-e.touchStartTime;if(t.allowClick){const L=c.path||c.composedPath&&c.composedPath();t.updateClickedSlide(L&&L[0]||c.target),t.emit("tap click",c),p<300&&d-e.lastClickTime<300&&t.emit("doubleTap doubleClick",c)}if(e.lastClickTime=hr(),Qo(()=>{t.destroyed||(t.allowClick=!0)}),!e.isTouched||!e.isMoved||!t.swipeDirection||o.diff===0||e.currentTranslate===e.startTranslate){e.isTouched=!1,e.isMoved=!1,e.startMoving=!1;return}e.isTouched=!1,e.isMoved=!1,e.startMoving=!1;let g;if(r.followFinger?g=s?t.translate:-t.translate:g=-e.currentTranslate,r.cssMode)return;if(r.freeMode&&r.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:g});return}let y=0,x=t.slidesSizesGrid[0];for(let L=0;L<a.length;L+=L<r.slidesPerGroupSkip?1:r.slidesPerGroup){const k=L<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof a[L+k]<"u"?g>=a[L]&&g<a[L+k]&&(y=L,x=a[L+k]-a[L]):g>=a[L]&&(y=L,x=a[a.length-1]-a[a.length-2])}let S=null,C=null;r.rewind&&(t.isBeginning?C=r.virtual&&r.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(S=0));const E=(g-a[y])/x,R=y<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(p>r.longSwipesMs){if(!r.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(E>=r.longSwipesRatio?t.slideTo(r.rewind&&t.isEnd?S:y+R):t.slideTo(y)),t.swipeDirection==="prev"&&(E>1-r.longSwipesRatio?t.slideTo(y+R):C!==null&&E<0&&Math.abs(E)>r.longSwipesRatio?t.slideTo(C):t.slideTo(y))}else{if(!r.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(c.target===t.navigation.nextEl||c.target===t.navigation.prevEl)?c.target===t.navigation.nextEl?t.slideTo(y+R):t.slideTo(y):(t.swipeDirection==="next"&&t.slideTo(S!==null?S:y+R),t.swipeDirection==="prev"&&t.slideTo(C!==null?C:y))}}function nl(){const i=this,{params:t,el:e}=i;if(e&&e.offsetWidth===0)return;t.breakpoints&&i.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:r,snapGrid:o}=i,s=i.virtual&&i.params.virtual.enabled;i.allowSlideNext=!0,i.allowSlidePrev=!0,i.updateSize(),i.updateSlides(),i.updateSlidesClasses();const a=s&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&i.isEnd&&!i.isBeginning&&!i.params.centeredSlides&&!a?i.slideTo(i.slides.length-1,0,!1,!0):i.params.loop&&!s?i.slideToLoop(i.realIndex,0,!1,!0):i.slideTo(i.activeIndex,0,!1,!0),i.autoplay&&i.autoplay.running&&i.autoplay.paused&&(clearTimeout(i.autoplay.resizeTimeout),i.autoplay.resizeTimeout=setTimeout(()=>{i.autoplay&&i.autoplay.running&&i.autoplay.paused&&i.autoplay.resume()},500)),i.allowSlidePrev=r,i.allowSlideNext=n,i.params.watchOverflow&&o!==i.snapGrid&&i.checkOverflow()}function Sp(i){const t=this;!t.enabled||t.allowClick||(t.params.preventClicks&&i.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(i.stopPropagation(),i.stopImmediatePropagation()))}function Ep(){const i=this,{wrapperEl:t,rtlTranslate:e,enabled:n}=i;if(!n)return;i.previousTranslate=i.translate,i.isHorizontal()?i.translate=-t.scrollLeft:i.translate=-t.scrollTop,i.translate===0&&(i.translate=0),i.updateActiveIndex(),i.updateSlidesClasses();let r;const o=i.maxTranslate()-i.minTranslate();o===0?r=0:r=(i.translate-i.minTranslate())/o,r!==i.progress&&i.updateProgress(e?-i.translate:i.translate),i.emit("setTranslate",i.translate,!1)}function Cp(i){const t=this;er(t,i.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}let rl=!1;function Tp(){}const Rc=(i,t)=>{const e=di(),{params:n,el:r,wrapperEl:o,device:s}=i,a=!!n.nested,l=t==="on"?"addEventListener":"removeEventListener",c=t;r[l]("pointerdown",i.onTouchStart,{passive:!1}),e[l]("pointermove",i.onTouchMove,{passive:!1,capture:a}),e[l]("pointerup",i.onTouchEnd,{passive:!0}),e[l]("pointercancel",i.onTouchEnd,{passive:!0}),e[l]("pointerout",i.onTouchEnd,{passive:!0}),e[l]("pointerleave",i.onTouchEnd,{passive:!0}),(n.preventClicks||n.preventClicksPropagation)&&r[l]("click",i.onClick,!0),n.cssMode&&o[l]("scroll",i.onScroll),n.updateOnWindowResize?i[c](s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",nl,!0):i[c]("observerUpdate",nl,!0),r[l]("load",i.onLoad,{capture:!0})};function Dp(){const i=this,t=di(),{params:e}=i;i.onTouchStart=wp.bind(i),i.onTouchMove=xp.bind(i),i.onTouchEnd=Ap.bind(i),e.cssMode&&(i.onScroll=Ep.bind(i)),i.onClick=Sp.bind(i),i.onLoad=Cp.bind(i),rl||(t.addEventListener("touchstart",Tp),rl=!0),Rc(i,"on")}function Rp(){Rc(this,"off")}const Mp={attachEvents:Dp,detachEvents:Rp},ol=(i,t)=>i.grid&&t.grid&&t.grid.rows>1;function Lp(){const i=this,{realIndex:t,initialized:e,params:n,el:r}=i,o=n.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const s=i.getBreakpoint(o,i.params.breakpointsBase,i.el);if(!s||i.currentBreakpoint===s)return;const l=(s in o?o[s]:void 0)||i.originalParams,c=ol(i,n),d=ol(i,l),p=n.enabled;c&&!d?(r.classList.remove(`${n.containerModifierClass}grid`,`${n.containerModifierClass}grid-column`),i.emitContainerClasses()):!c&&d&&(r.classList.add(`${n.containerModifierClass}grid`),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&n.grid.fill==="column")&&r.classList.add(`${n.containerModifierClass}grid-column`),i.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(S=>{if(typeof l[S]>"u")return;const C=n[S]&&n[S].enabled,E=l[S]&&l[S].enabled;C&&!E&&i[S].disable(),!C&&E&&i[S].enable()});const g=l.direction&&l.direction!==n.direction,y=n.loop&&(l.slidesPerView!==n.slidesPerView||g);g&&e&&i.changeDirection(),$t(i.params,l);const x=i.params.enabled;Object.assign(i,{allowTouchMove:i.params.allowTouchMove,allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev}),p&&!x?i.disable():!p&&x&&i.enable(),i.currentBreakpoint=s,i.emit("_beforeBreakpoint",l),y&&e&&(i.loopDestroy(),i.loopCreate(t),i.updateSlides()),i.emit("breakpoint",l)}function kp(i,t="window",e){if(!i||t==="container"&&!e)return;let n=!1;const r=Jt(),o=t==="window"?r.innerHeight:e.clientHeight,s=Object.keys(i).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:o*l,point:a}}return{value:a,point:a}});s.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<s.length;a+=1){const{point:l,value:c}=s[a];t==="window"?r.matchMedia(`(min-width: ${c}px)`).matches&&(n=l):c<=e.clientWidth&&(n=l)}return n||"max"}const Op={setBreakpoint:Lp,getBreakpoint:kp};function _p(i,t){const e=[];return i.forEach(n=>{typeof n=="object"?Object.keys(n).forEach(r=>{n[r]&&e.push(t+r)}):typeof n=="string"&&e.push(t+n)}),e}function Pp(){const i=this,{classNames:t,params:e,rtl:n,el:r,device:o}=i,s=_p(["initialized",e.direction,{"free-mode":i.params.freeMode&&e.freeMode.enabled},{autoheight:e.autoHeight},{rtl:n},{grid:e.grid&&e.grid.rows>1},{"grid-column":e.grid&&e.grid.rows>1&&e.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":e.cssMode},{centered:e.cssMode&&e.centeredSlides},{"watch-progress":e.watchSlidesProgress}],e.containerModifierClass);t.push(...s),r.classList.add(...t),i.emitContainerClasses()}function Ip(){const i=this,{el:t,classNames:e}=i;t.classList.remove(...e),i.emitContainerClasses()}const Np={addClasses:Pp,removeClasses:Ip};function Bp(){const i=this,{isLocked:t,params:e}=i,{slidesOffsetBefore:n}=e;if(n){const r=i.slides.length-1,o=i.slidesGrid[r]+i.slidesSizesGrid[r]+n*2;i.isLocked=i.size>o}else i.isLocked=i.snapGrid.length===1;e.allowSlideNext===!0&&(i.allowSlideNext=!i.isLocked),e.allowSlidePrev===!0&&(i.allowSlidePrev=!i.isLocked),t&&t!==i.isLocked&&(i.isEnd=!1),t!==i.isLocked&&i.emit(i.isLocked?"lock":"unlock")}const Fp={checkOverflow:Bp},sl={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Wp(i,t){return function(n={}){const r=Object.keys(n)[0],o=n[r];if(typeof o!="object"||o===null){$t(t,n);return}if(["navigation","pagination","scrollbar"].indexOf(r)>=0&&i[r]===!0&&(i[r]={auto:!0}),!(r in i&&"enabled"in o)){$t(t,n);return}i[r]===!0&&(i[r]={enabled:!0}),typeof i[r]=="object"&&!("enabled"in i[r])&&(i[r].enabled=!0),i[r]||(i[r]={enabled:!1}),$t(t,n)}}const bo={eventsEmitter:Nf,update:$f,translate:Zf,transition:np,slide:hp,loop:gp,grabCursor:bp,events:Mp,breakpoints:Op,checkOverflow:Fp,classes:Np},yo={};class ee{constructor(...t){let e,n;t.length===1&&t[0].constructor&&Object.prototype.toString.call(t[0]).slice(8,-1)==="Object"?n=t[0]:[e,n]=t,n||(n={}),n=$t({},n),e&&!n.el&&(n.el=e);const r=di();if(n.el&&typeof n.el=="string"&&r.querySelectorAll(n.el).length>1){const l=[];return r.querySelectorAll(n.el).forEach(c=>{const d=$t({},n,{el:c});l.push(new ee(d))}),l}const o=this;o.__swiper__=!0,o.support=Tc(),o.device=kf({userAgent:n.userAgent}),o.browser=_f(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],n.modules&&Array.isArray(n.modules)&&o.modules.push(...n.modules);const s={};o.modules.forEach(l=>{l({params:n,swiper:o,extendParams:Wp(n,s),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const a=$t({},sl,s);return o.params=$t({},a,yo,n),o.originalParams=$t({},o.params),o.passedParams=$t({},n),o.params&&o.params.on&&Object.keys(o.params.on).forEach(l=>{o.on(l,o.params.on[l])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getSlideIndex(t){const{slidesEl:e,params:n}=this,r=ye(e,`.${n.slideClass}, swiper-slide`),o=el(r[0]);return el(t)-o}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter(e=>e.getAttribute("data-swiper-slide-index")*1===t)[0])}recalcSlides(){const t=this,{slidesEl:e,params:n}=t;t.slides=ye(e,`.${n.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;!t.enabled||(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,e){const n=this;t=Math.min(Math.max(t,0),1);const r=n.minTranslate(),s=(n.maxTranslate()-r)*t+r;n.translateTo(s,typeof e>"u"?0:e),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=t.el.className.split(" ").filter(n=>n.indexOf("swiper")===0||n.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",e.join(" "))}getSlideClasses(t){const e=this;return e.destroyed?"":t.className.split(" ").filter(n=>n.indexOf("swiper-slide")===0||n.indexOf(e.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=[];t.slides.forEach(n=>{const r=t.getSlideClasses(n);e.push({slideEl:n,classNames:r}),t.emit("_slideClass",n,r)}),t.emit("_slideClasses",e)}slidesPerViewDynamic(t="current",e=!1){const n=this,{params:r,slides:o,slidesGrid:s,slidesSizesGrid:a,size:l,activeIndex:c}=n;let d=1;if(r.centeredSlides){let p=o[c]?o[c].swiperSlideSize:0,g;for(let y=c+1;y<o.length;y+=1)o[y]&&!g&&(p+=o[y].swiperSlideSize,d+=1,p>l&&(g=!0));for(let y=c-1;y>=0;y-=1)o[y]&&!g&&(p+=o[y].swiperSlideSize,d+=1,p>l&&(g=!0))}else if(t==="current")for(let p=c+1;p<o.length;p+=1)(e?s[p]+a[p]-s[c]<l:s[p]-s[c]<l)&&(d+=1);else for(let p=c-1;p>=0;p-=1)s[c]-s[p]<l&&(d+=1);return d}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:e,params:n}=t;n.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(s=>{s.complete&&er(t,s)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function r(){const s=t.rtlTranslate?t.translate*-1:t.translate,a=Math.min(Math.max(s,t.maxTranslate()),t.minTranslate());t.setTranslate(a),t.updateActiveIndex(),t.updateSlidesClasses()}let o;if(n.freeMode&&n.freeMode.enabled&&!n.cssMode)r(),n.autoHeight&&t.updateAutoHeight();else{if((n.slidesPerView==="auto"||n.slidesPerView>1)&&t.isEnd&&!n.centeredSlides){const s=t.virtual&&n.virtual.enabled?t.virtual.slides:t.slides;o=t.slideTo(s.length-1,0,!1,!0)}else o=t.slideTo(t.activeIndex,0,!1,!0);o||r()}n.watchOverflow&&e!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,e=!0){const n=this,r=n.params.direction;return t||(t=r==="horizontal"?"vertical":"horizontal"),t===r||t!=="horizontal"&&t!=="vertical"||(n.el.classList.remove(`${n.params.containerModifierClass}${r}`),n.el.classList.add(`${n.params.containerModifierClass}${t}`),n.emitContainerClasses(),n.params.direction=t,n.slides.forEach(o=>{t==="vertical"?o.style.width="":o.style.height=""}),n.emit("changeDirection"),e&&n.update()),n}changeLanguageDirection(t){const e=this;e.rtl&&t==="rtl"||!e.rtl&&t==="ltr"||(e.rtl=t==="rtl",e.rtlTranslate=e.params.direction==="horizontal"&&e.rtl,e.rtl?(e.el.classList.add(`${e.params.containerModifierClass}rtl`),e.el.dir="rtl"):(e.el.classList.remove(`${e.params.containerModifierClass}rtl`),e.el.dir="ltr"),e.update())}mount(t){const e=this;if(e.mounted)return!0;let n=t||e.params.el;if(typeof n=="string"&&(n=document.querySelector(n)),!n)return!1;n.swiper=e,n.shadowEl&&(e.isElement=!0);const r=()=>`.${(e.params.wrapperClass||"").trim().split(" ").join(".")}`;let s=(()=>n&&n.shadowRoot&&n.shadowRoot.querySelector?n.shadowRoot.querySelector(r()):ye(n,r())[0])();return!s&&e.params.createElements&&(s=Cf("div",e.params.wrapperClass),n.append(s),ye(n,`.${e.params.slideClass}`).forEach(a=>{s.append(a)})),Object.assign(e,{el:n,wrapperEl:s,slidesEl:e.isElement?n:s,mounted:!0,rtl:n.dir.toLowerCase()==="rtl"||Fe(n,"direction")==="rtl",rtlTranslate:e.params.direction==="horizontal"&&(n.dir.toLowerCase()==="rtl"||Fe(n,"direction")==="rtl"),wrongRTL:Fe(s,"display")==="-webkit-box"}),!0}init(t){const e=this;return e.initialized||e.mount(t)===!1||(e.emit("beforeInit"),e.params.breakpoints&&e.setBreakpoint(),e.addClasses(),e.updateSize(),e.updateSlides(),e.params.watchOverflow&&e.checkOverflow(),e.params.grabCursor&&e.enabled&&e.setGrabCursor(),e.params.loop&&e.virtual&&e.params.virtual.enabled?e.slideTo(e.params.initialSlide+e.virtual.slidesBefore,0,e.params.runCallbacksOnInit,!1,!0):e.slideTo(e.params.initialSlide,0,e.params.runCallbacksOnInit,!1,!0),e.params.loop&&e.loopCreate(),e.attachEvents(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(r=>{r.complete?er(e,r):r.addEventListener("load",o=>{er(e,o.target)})}),Zo(e),e.initialized=!0,Zo(e),e.emit("init"),e.emit("afterInit")),e}destroy(t=!0,e=!0){const n=this,{params:r,el:o,wrapperEl:s,slides:a}=n;return typeof n.params>"u"||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),e&&(n.removeClasses(),o.removeAttribute("style"),s.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(l=>{n.off(l)}),t!==!1&&(n.el.swiper=null,xf(n)),n.destroyed=!0),null}static extendDefaults(t){$t(yo,t)}static get extendedDefaults(){return yo}static get defaults(){return sl}static installModule(t){ee.prototype.__modules__||(ee.prototype.__modules__=[]);const e=ee.prototype.__modules__;typeof t=="function"&&e.indexOf(t)<0&&e.push(t)}static use(t){return Array.isArray(t)?(t.forEach(e=>ee.installModule(e)),ee):(ee.installModule(t),ee)}}Object.keys(bo).forEach(i=>{Object.keys(bo[i]).forEach(t=>{ee.prototype[t]=bo[i][t]})});ee.use([Pf,If]);/*!
 * Cropper.js v1.5.13
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2022-11-20T05:30:46.114Z
 */(function(i,t){typeof qh=="object"&&typeof Ms!=`/*!
 * Cropper.js v1.5.13
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2022-11-20T05:30:46.114Z
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Cropper=e()}(this,function(){"use strict";function C(e,t){var i,a=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,i)),a}function S(a){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){var e,i;e=a,i=n[t=t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(n,t))})}return a}function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function j(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){var i;if(t)return"string"==typeof t?a(t,e):"Map"===(i="Object"===(i=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(t,e):void 0}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}var t="undefined"!=typeof window&&void 0!==window.document,h=t?window:{},e=!(!t||!h.document.documentElement)&&"ontouchstart"in h.document.documentElement,i=t&&"PointerEvent"in h,c="cropper",P="all",I="crop",U="move",q="zoom",B="e",k="w",O="s",T="n",E="ne",W="nw",H="se",N="sw",$="".concat(c,"-crop"),Q="".concat(c,"-disabled"),L="".concat(c,"-hidden"),K="".concat(c,"-hide"),Z="".concat(c,"-invisible"),n="".concat(c,"-modal"),G="".concat(c,"-move"),d="".concat(c,"Action"),m="".concat(c,"Preview"),V="crop",F="move",J="none",_="crop",tt="cropend",et="cropmove",it="cropstart",at="dblclick",nt=i?"pointerdown":e?"touchstart":"mousedown",ot=i?"pointermove":e?"touchmove":"mousemove",ht=i?"pointerup pointercancel":e?"touchend touchcancel":"mouseup",rt="zoom",st="image/jpeg",ct=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,dt=/^data:/,lt=/^data:image\\/jpeg;base64,/,pt=/^img|canvas$/i,mt={viewMode:0,dragMode:V,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},ut=Number.isNaN||h.isNaN;function p(t){return"number"==typeof t&&!ut(t)}function gt(t){return 0<t&&t<1/0}function ft(t){return void 0===t}function o(t){return"object"===D(t)&&null!==t}var vt=Object.prototype.hasOwnProperty;function u(t){if(!o(t))return!1;try{var e=t.constructor,i=e.prototype;return e&&i&&vt.call(i,"isPrototypeOf")}catch(t){return!1}}function l(t){return"function"==typeof t}var wt=Array.prototype.slice;function bt(t){return Array.from?Array.from(t):wt.call(t)}function z(i,a){return i&&l(a)&&(Array.isArray(i)||p(i.length)?bt(i).forEach(function(t,e){a.call(i,t,e,i)}):o(i)&&Object.keys(i).forEach(function(t){a.call(i,i[t],t,i)})),i}var g=Object.assign||function(i){for(var t=arguments.length,e=new Array(1<t?t-1:0),a=1;a<t;a++)e[a-1]=arguments[a];return o(i)&&0<e.length&&e.forEach(function(e){o(e)&&Object.keys(e).forEach(function(t){i[t]=e[t]})}),i},yt=/\\.\\d*(?:0|9){12}\\d*$/;function Y(t,e){e=1<arguments.length&&void 0!==e?e:1e11;return yt.test(t)?Math.round(t*e)/e:t}var xt=/^width|height|left|top|marginLeft|marginTop$/;function f(t,e){var i=t.style;z(e,function(t,e){xt.test(e)&&p(t)&&(t="".concat(t,"px")),i[e]=t})}function v(t,e){var i;e&&(p(t.length)?z(t,function(t){v(t,e)}):t.classList?t.classList.add(e):(i=t.className.trim())?i.indexOf(e)<0&&(t.className="".concat(i," ").concat(e)):t.className=e)}function X(t,e){e&&(p(t.length)?z(t,function(t){X(t,e)}):t.classList?t.classList.remove(e):0<=t.className.indexOf(e)&&(t.className=t.className.replace(e,"")))}function r(t,e,i){e&&(p(t.length)?z(t,function(t){r(t,e,i)}):(i?v:X)(t,e))}var Mt=/([a-z\\d])([A-Z])/g;function Ct(t){return t.replace(Mt,"$1-$2").toLowerCase()}function Dt(t,e){return o(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(Ct(e)))}function w(t,e,i){o(i)?t[e]=i:t.dataset?t.dataset[e]=i:t.setAttribute("data-".concat(Ct(e)),i)}var Bt,kt,Ot=/\\s\\s*/,Tt=(kt=!1,t&&(Bt=!1,i=function(){},e=Object.defineProperty({},"once",{get:function(){return kt=!0,Bt},set:function(t){Bt=t}}),h.addEventListener("test",i,e),h.removeEventListener("test",i,e)),kt);function s(i,t,a,e){var n=3<arguments.length&&void 0!==e?e:{},o=a;t.trim().split(Ot).forEach(function(t){var e;Tt||(e=i.listeners)&&e[t]&&e[t][a]&&(o=e[t][a],delete e[t][a],0===Object.keys(e[t]).length&&delete e[t],0===Object.keys(e).length)&&delete i.listeners,i.removeEventListener(t,o,n)})}function b(o,t,h,e){var r=3<arguments.length&&void 0!==e?e:{},s=h;t.trim().split(Ot).forEach(function(a){var t,n;r.once&&!Tt&&(t=o.listeners,s=function(){delete n[a][h],o.removeEventListener(a,s,r);for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];h.apply(o,e)},(n=void 0===t?{}:t)[a]||(n[a]={}),n[a][h]&&o.removeEventListener(a,n[a][h],r),n[a][h]=s,o.listeners=n),o.addEventListener(a,s,r)})}function y(t,e,i){var a;return l(Event)&&l(CustomEvent)?a=new CustomEvent(e,{detail:i,bubbles:!0,cancelable:!0}):(a=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,i),t.dispatchEvent(a)}function Et(t){t=t.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var Wt=h.location,Ht=/^(\\w+:)\\/\\/([^:/?#]*):?(\\d*)/i;function Nt(t){t=t.match(Ht);return null!==t&&(t[1]!==Wt.protocol||t[2]!==Wt.hostname||t[3]!==Wt.port)}function Lt(t){var e="timestamp=".concat((new Date).getTime());return t+(-1===t.indexOf("?")?"?":"&")+e}function x(t){var e=t.rotate,i=t.scaleX,a=t.scaleY,n=t.translateX,t=t.translateY,o=[],n=(p(n)&&0!==n&&o.push("translateX(".concat(n,"px)")),p(t)&&0!==t&&o.push("translateY(".concat(t,"px)")),p(e)&&0!==e&&o.push("rotate(".concat(e,"deg)")),p(i)&&1!==i&&o.push("scaleX(".concat(i,")")),p(a)&&1!==a&&o.push("scaleY(".concat(a,")")),o.length?o.join(" "):"none");return{WebkitTransform:n,msTransform:n,transform:n}}function M(t,e){var i=t.pageX,t=t.pageY,a={endX:i,endY:t};return e?a:S({startX:i,startY:t},a)}function R(t,e){var i,a=t.aspectRatio,n=t.height,t=t.width,e=1<arguments.length&&void 0!==e?e:"contain",o=gt(t),h=gt(n);return o&&h?(i=n*a,"contain"===e&&t<i||"cover"===e&&i<t?n=t/a:t=n*a):o?n=t/a:h&&(t=n*a),{width:t,height:n}}var zt=String.fromCharCode;var Yt=/^data:.*,/;function Xt(t){var e,i,a,n,o,h,r,s=new DataView(t);try{if(255===s.getUint8(0)&&216===s.getUint8(1))for(var c=s.byteLength,d=2;d+1<c;){if(255===s.getUint8(d)&&225===s.getUint8(d+1)){i=d;break}d+=1}if(a=i&&(n=i+10,"Exif"===function(t,e,i){var a="";i+=e;for(var n=e;n<i;n+=1)a+=zt(t.getUint8(n));return a}(s,i+4,4))&&((r=18761===(o=s.getUint16(n)))||19789===o)&&42===s.getUint16(n+2,r)&&8<=(h=s.getUint32(n+4,r))?n+h:a)for(var l,p=s.getUint16(a,r),m=0;m<p;m+=1)if(l=a+12*m+2,274===s.getUint16(l,r)){l+=8,e=s.getUint16(l,r),s.setUint16(l,1,r);break}}catch(t){e=1}return e}var t={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,e=this.options,i=this.container,a=this.cropper,n=Number(e.minContainerWidth),e=Number(e.minContainerHeight),n=(v(a,L),X(t,L),{width:Math.max(i.offsetWidth,0<=n?n:200),height:Math.max(i.offsetHeight,0<=e?e:100)});f(a,{width:(this.containerData=n).width,height:n.height}),v(t,L),X(a,L)},initCanvas:function(){var t=this.containerData,e=this.imageData,i=this.options.viewMode,a=Math.abs(e.rotate)%180==90,n=a?e.naturalHeight:e.naturalWidth,a=a?e.naturalWidth:e.naturalHeight,e=n/a,o=t.width,h=t.height,e=(t.height*e>t.width?3===i?o=t.height*e:h=t.width/e:3===i?h=t.width/e:o=t.height*e,{aspectRatio:e,naturalWidth:n,naturalHeight:a,width:o,height:h});this.canvasData=e,this.limited=1===i||2===i,this.limitCanvas(!0,!0),e.width=Math.min(Math.max(e.width,e.minWidth),e.maxWidth),e.height=Math.min(Math.max(e.height,e.minHeight),e.maxHeight),e.left=(t.width-e.width)/2,e.top=(t.height-e.height)/2,e.oldLeft=e.left,e.oldTop=e.top,this.initialCanvasData=g({},e)},limitCanvas:function(t,e){var i=this.options,a=this.containerData,n=this.canvasData,o=this.cropBoxData,h=i.viewMode,r=n.aspectRatio,s=this.cropped&&o;t&&(t=Number(i.minCanvasWidth)||0,i=Number(i.minCanvasHeight)||0,1<h?(t=Math.max(t,a.width),i=Math.max(i,a.height),3===h&&(t<i*r?t=i*r:i=t/r)):0<h&&(t?t=Math.max(t,s?o.width:0):i?i=Math.max(i,s?o.height:0):s&&((t=o.width)<(i=o.height)*r?t=i*r:i=t/r)),t=(r=R({aspectRatio:r,width:t,height:i})).width,i=r.height,n.minWidth=t,n.minHeight=i,n.maxWidth=1/0,n.maxHeight=1/0),e&&((s?0:1)<h?(r=a.width-n.width,t=a.height-n.height,n.minLeft=Math.min(0,r),n.minTop=Math.min(0,t),n.maxLeft=Math.max(0,r),n.maxTop=Math.max(0,t),s&&this.limited&&(n.minLeft=Math.min(o.left,o.left+(o.width-n.width)),n.minTop=Math.min(o.top,o.top+(o.height-n.height)),n.maxLeft=o.left,n.maxTop=o.top,2===h)&&(n.width>=a.width&&(n.minLeft=Math.min(0,r),n.maxLeft=Math.max(0,r)),n.height>=a.height)&&(n.minTop=Math.min(0,t),n.maxTop=Math.max(0,t))):(n.minLeft=-n.width,n.minTop=-n.height,n.maxLeft=a.width,n.maxTop=a.height))},renderCanvas:function(t,e){var i,a,n,o,h=this.canvasData,r=this.imageData;e&&(e={width:r.naturalWidth*Math.abs(r.scaleX||1),height:r.naturalHeight*Math.abs(r.scaleY||1),degree:r.rotate||0},r=e.width,o=e.height,e=e.degree,i=90==(e=Math.abs(e)%180)?{width:o,height:r}:(a=e%90*Math.PI/180,i=Math.sin(a),n=r*(a=Math.cos(a))+o*i,r=r*i+o*a,90<e?{width:r,height:n}:{width:n,height:r}),a=h.width*((o=i.width)/h.naturalWidth),n=h.height*((e=i.height)/h.naturalHeight),h.left-=(a-h.width)/2,h.top-=(n-h.height)/2,h.width=a,h.height=n,h.aspectRatio=o/e,h.naturalWidth=o,h.naturalHeight=e,this.limitCanvas(!0,!1)),(h.width>h.maxWidth||h.width<h.minWidth)&&(h.left=h.oldLeft),(h.height>h.maxHeight||h.height<h.minHeight)&&(h.top=h.oldTop),h.width=Math.min(Math.max(h.width,h.minWidth),h.maxWidth),h.height=Math.min(Math.max(h.height,h.minHeight),h.maxHeight),this.limitCanvas(!1,!0),h.left=Math.min(Math.max(h.left,h.minLeft),h.maxLeft),h.top=Math.min(Math.max(h.top,h.minTop),h.maxTop),h.oldLeft=h.left,h.oldTop=h.top,f(this.canvas,g({width:h.width,height:h.height},x({translateX:h.left,translateY:h.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvasData,i=this.imageData,a=i.naturalWidth*(e.width/e.naturalWidth),n=i.naturalHeight*(e.height/e.naturalHeight);g(i,{width:a,height:n,left:(e.width-a)/2,top:(e.height-n)/2}),f(this.image,g({width:i.width,height:i.height},x(g({translateX:i.left,translateY:i.top},i)))),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvasData,i=t.aspectRatio||t.initialAspectRatio,t=Number(t.autoCropArea)||.8,a={width:e.width,height:e.height};i&&(e.height*i>e.width?a.height=a.width/i:a.width=a.height*i),this.cropBoxData=a,this.limitCropBox(!0,!0),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),a.width=Math.max(a.minWidth,a.width*t),a.height=Math.max(a.minHeight,a.height*t),a.left=e.left+(e.width-a.width)/2,a.top=e.top+(e.height-a.height)/2,a.oldLeft=a.left,a.oldTop=a.top,this.initialCropBoxData=g({},a)},limitCropBox:function(t,e){var i,a,n=this.options,o=this.containerData,h=this.canvasData,r=this.cropBoxData,s=this.limited,c=n.aspectRatio;t&&(t=Number(n.minCropBoxWidth)||0,n=Number(n.minCropBoxHeight)||0,i=s?Math.min(o.width,h.width,h.width+h.left,o.width-h.left):o.width,a=s?Math.min(o.height,h.height,h.height+h.top,o.height-h.top):o.height,t=Math.min(t,o.width),n=Math.min(n,o.height),c&&(t&&n?t<n*c?n=t/c:t=n*c:t?n=t/c:n&&(t=n*c),i<a*c?a=i/c:i=a*c),r.minWidth=Math.min(t,i),r.minHeight=Math.min(n,a),r.maxWidth=i,r.maxHeight=a),e&&(s?(r.minLeft=Math.max(0,h.left),r.minTop=Math.max(0,h.top),r.maxLeft=Math.min(o.width,h.left+h.width)-r.width,r.maxTop=Math.min(o.height,h.top+h.height)-r.height):(r.minLeft=0,r.minTop=0,r.maxLeft=o.width-r.width,r.maxTop=o.height-r.height))},renderCropBox:function(){var t=this.options,e=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,t.movable&&t.cropBoxMovable&&w(this.face,d,i.width>=e.width&&i.height>=e.height?U:P),f(this.cropBox,g({width:i.width,height:i.height},x({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),y(this.element,_,this.getData())}},i={initPreview:function(){var t=this.element,i=this.crossOrigin,e=this.options.preview,a=i?this.crossOriginUrl:this.url,n=t.alt||"The image to preview",o=document.createElement("img");i&&(o.crossOrigin=i),o.src=a,o.alt=n,this.viewBox.appendChild(o),this.viewBoxImage=o,e&&("string"==typeof(o=e)?o=t.ownerDocument.querySelectorAll(e):e.querySelector&&(o=[e]),z(this.previews=o,function(t){var e=document.createElement("img");w(t,m,{width:t.offsetWidth,height:t.offsetHeight,html:t.innerHTML}),i&&(e.crossOrigin=i),e.src=a,e.alt=n,e.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',t.innerHTML="",t.appendChild(e)}))},resetPreview:function(){z(this.previews,function(e){var i=Dt(e,m),i=(f(e,{width:i.width,height:i.height}),e.innerHTML=i.html,e),e=m;if(o(i[e]))try{delete i[e]}catch(t){i[e]=void 0}else if(i.dataset)try{delete i.dataset[e]}catch(t){i.dataset[e]=void 0}else i.removeAttribute("data-".concat(Ct(e)))})},preview:function(){var h=this.imageData,t=this.canvasData,e=this.cropBoxData,r=e.width,s=e.height,c=h.width,d=h.height,l=e.left-t.left-h.left,p=e.top-t.top-h.top;this.cropped&&!this.disabled&&(f(this.viewBoxImage,g({width:c,height:d},x(g({translateX:-l,translateY:-p},h)))),z(this.previews,function(t){var e=Dt(t,m),i=e.width,e=e.height,a=i,n=e,o=1;r&&(n=s*(o=i/r)),s&&e<n&&(a=r*(o=e/s),n=e),f(t,{width:a,height:n}),f(t.getElementsByTagName("img")[0],g({width:c*o,height:d*o},x(g({translateX:-l*o,translateY:-p*o},h))))}))}},e={bind:function(){var t=this.element,e=this.options,i=this.cropper;l(e.cropstart)&&b(t,it,e.cropstart),l(e.cropmove)&&b(t,et,e.cropmove),l(e.cropend)&&b(t,tt,e.cropend),l(e.crop)&&b(t,_,e.crop),l(e.zoom)&&b(t,rt,e.zoom),b(i,nt,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&b(i,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&b(i,at,this.onDblclick=this.dblclick.bind(this)),b(t.ownerDocument,ot,this.onCropMove=this.cropMove.bind(this)),b(t.ownerDocument,ht,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&b(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,e=this.options,i=this.cropper;l(e.cropstart)&&s(t,it,e.cropstart),l(e.cropmove)&&s(t,et,e.cropmove),l(e.cropend)&&s(t,tt,e.cropend),l(e.crop)&&s(t,_,e.crop),l(e.zoom)&&s(t,rt,e.zoom),s(i,nt,this.onCropStart),e.zoomable&&e.zoomOnWheel&&s(i,"wheel",this.onWheel,{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&s(i,at,this.onDblclick),s(t.ownerDocument,ot,this.onCropMove),s(t.ownerDocument,ht,this.onCropEnd),e.responsive&&s(window,"resize",this.onResize)}},Rt={resize:function(){var t,e,i,a,n,o,h;this.disabled||(t=this.options,a=this.container,e=this.containerData,i=a.offsetWidth/e.width,a=a.offsetHeight/e.height,1!=(n=Math.abs(i-1)>Math.abs(a-1)?i:a)&&(t.restore&&(o=this.getCanvasData(),h=this.getCropBoxData()),this.render(),t.restore)&&(this.setCanvasData(z(o,function(t,e){o[e]=t*n})),this.setCropBoxData(z(h,function(t,e){h[e]=t*n}))))},dblclick:function(){var t,e;this.disabled||this.options.dragMode===J||this.setDragMode((t=this.dragBox,e=$,(t.classList?t.classList.contains(e):-1<t.className.indexOf(e))?F:V))},wheel:function(t){var e=this,i=Number(this.options.wheelZoomRatio)||.1,a=1;this.disabled||(t.preventDefault(),this.wheeling)||(this.wheeling=!0,setTimeout(function(){e.wheeling=!1},50),t.deltaY?a=0<t.deltaY?1:-1:t.wheelDelta?a=-t.wheelDelta/120:t.detail&&(a=0<t.detail?1:-1),this.zoom(-a*i,t))},cropStart:function(t){var e,i=t.buttons,a=t.button;this.disabled||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(p(i)&&1!==i||p(a)&&0!==a||t.ctrlKey)||(i=this.options,e=this.pointers,t.changedTouches?z(t.changedTouches,function(t){e[t.identifier]=M(t)}):e[t.pointerId||0]=M(t),a=1<Object.keys(e).length&&i.zoomable&&i.zoomOnTouch?q:Dt(t.target,d),ct.test(a)&&!1!==y(this.element,it,{originalEvent:t,action:a})&&(t.preventDefault(),this.action=a,this.cropping=!1,a===I)&&(this.cropping=!0,v(this.dragBox,n)))},cropMove:function(t){var e,i=this.action;!this.disabled&&i&&(e=this.pointers,t.preventDefault(),!1!==y(this.element,et,{originalEvent:t,action:i}))&&(t.changedTouches?z(t.changedTouches,function(t){g(e[t.identifier]||{},M(t,!0))}):g(e[t.pointerId||0]||{},M(t,!0)),this.change(t))},cropEnd:function(t){var e,i;this.disabled||(e=this.action,i=this.pointers,t.changedTouches?z(t.changedTouches,function(t){delete i[t.identifier]}):delete i[t.pointerId||0],e&&(t.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,r(this.dragBox,n,this.cropped&&this.options.modal)),y(this.element,tt,{originalEvent:t,action:e})))}},St={change:function(t){function e(t){switch(t){case B:f+D.x>y&&(D.x=y-f);break;case k:p+D.x<w&&(D.x=w-p);break;case T:m+D.y<b&&(D.y=b-m);break;case O:v+D.y>x&&(D.y=x-v)}}var i,a,o,n=this.options,h=this.canvasData,r=this.containerData,s=this.cropBoxData,c=this.pointers,d=this.action,l=n.aspectRatio,p=s.left,m=s.top,u=s.width,g=s.height,f=p+u,v=m+g,w=0,b=0,y=r.width,x=r.height,M=!0,C=(!l&&t.shiftKey&&(l=u&&g?u/g:1),this.limited&&(w=s.minLeft,b=s.minTop,y=w+Math.min(r.width,h.width,h.left+h.width),x=b+Math.min(r.height,h.height,h.top+h.height)),c[Object.keys(c)[0]]),D={x:C.endX-C.startX,y:C.endY-C.startY};switch(d){case P:p+=D.x,m+=D.y;break;case B:0<=D.x&&(y<=f||l&&(m<=b||x<=v))?M=!1:(e(B),(u+=D.x)<0&&(d=k,p-=u=-u),l&&(m+=(s.height-(g=u/l))/2));break;case T:D.y<=0&&(m<=b||l&&(p<=w||y<=f))?M=!1:(e(T),g-=D.y,m+=D.y,g<0&&(d=O,m-=g=-g),l&&(p+=(s.width-(u=g*l))/2));break;case k:D.x<=0&&(p<=w||l&&(m<=b||x<=v))?M=!1:(e(k),u-=D.x,p+=D.x,u<0&&(d=B,p-=u=-u),l&&(m+=(s.height-(g=u/l))/2));break;case O:0<=D.y&&(x<=v||l&&(p<=w||y<=f))?M=!1:(e(O),(g+=D.y)<0&&(d=T,m-=g=-g),l&&(p+=(s.width-(u=g*l))/2));break;case E:if(l){if(D.y<=0&&(m<=b||y<=f)){M=!1;break}e(T),g-=D.y,m+=D.y,u=g*l}else e(T),e(B),!(0<=D.x)||f<y?u+=D.x:D.y<=0&&m<=b&&(M=!1),(!(D.y<=0)||b<m)&&(g-=D.y,m+=D.y);u<0&&g<0?(d=N,m-=g=-g,p-=u=-u):u<0?(d=W,p-=u=-u):g<0&&(d=H,m-=g=-g);break;case W:if(l){if(D.y<=0&&(m<=b||p<=w)){M=!1;break}e(T),g-=D.y,m+=D.y,p+=s.width-(u=g*l)}else e(T),e(k),!(D.x<=0)||w<p?(u-=D.x,p+=D.x):D.y<=0&&m<=b&&(M=!1),(!(D.y<=0)||b<m)&&(g-=D.y,m+=D.y);u<0&&g<0?(d=H,m-=g=-g,p-=u=-u):u<0?(d=E,p-=u=-u):g<0&&(d=N,m-=g=-g);break;case N:if(l){if(D.x<=0&&(p<=w||x<=v)){M=!1;break}e(k),u-=D.x,p+=D.x,g=u/l}else e(O),e(k),!(D.x<=0)||w<p?(u-=D.x,p+=D.x):0<=D.y&&x<=v&&(M=!1),(!(0<=D.y)||v<x)&&(g+=D.y);u<0&&g<0?(d=E,m-=g=-g,p-=u=-u):u<0?(d=H,p-=u=-u):g<0&&(d=W,m-=g=-g);break;case H:if(l){if(0<=D.x&&(y<=f||x<=v)){M=!1;break}e(B),g=(u+=D.x)/l}else e(O),e(B),!(0<=D.x)||f<y?u+=D.x:0<=D.y&&x<=v&&(M=!1),(!(0<=D.y)||v<x)&&(g+=D.y);u<0&&g<0?(d=W,m-=g=-g,p-=u=-u):u<0?(d=N,p-=u=-u):g<0&&(d=E,m-=g=-g);break;case U:this.move(D.x,D.y),M=!1;break;case q:this.zoom((a=S({},i=c),o=0,z(i,function(n,t){delete a[t],z(a,function(t){var e=Math.abs(n.startX-t.startX),i=Math.abs(n.startY-t.startY),a=Math.abs(n.endX-t.endX),t=Math.abs(n.endY-t.endY),e=Math.sqrt(e*e+i*i),i=(Math.sqrt(a*a+t*t)-e)/e;Math.abs(i)>Math.abs(o)&&(o=i)})}),o),t),M=!1;break;case I:D.x&&D.y?(i=Et(this.cropper),p=C.startX-i.left,m=C.startY-i.top,u=s.minWidth,g=s.minHeight,0<D.x?d=0<D.y?H:E:D.x<0&&(p-=u,d=0<D.y?N:W),D.y<0&&(m-=g),this.cropped||(X(this.cropBox,L),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))):M=!1}M&&(s.width=u,s.height=g,s.left=p,s.top=m,this.action=d,this.renderCropBox()),z(c,function(t){t.startX=t.endX,t.startY=t.endY})}},At={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&v(this.dragBox,n),X(this.cropBox,L),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=g({},this.initialImageData),this.canvasData=g({},this.initialCanvasData),this.cropBoxData=g({},this.initialCropBoxData),this.renderCanvas(),this.cropped)&&this.renderCropBox(),this},clear:function(){return this.cropped&&!this.disabled&&(g(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),X(this.dragBox,n),v(this.cropBox,L)),this},replace:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,z(this.previews,function(t){t.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,X(this.cropper,Q)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,v(this.cropper,Q)),this},destroy:function(){var t=this.element;return t[c]&&(t[c]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate()),this},move:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,a=i.left,i=i.top;return this.moveTo(ft(t)?t:a+Number(t),ft(e)?e:i+Number(e))},moveTo:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,a=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(p(t)&&(i.left=t,a=!0),p(e)&&(i.top=e,a=!0),a)&&this.renderCanvas(!0),this},zoom:function(t,e){var i=this.canvasData;return t=Number(t),this.zoomTo(i.width*(t=t<0?1/(1-t):1+t)/i.naturalWidth,null,e)},zoomTo:function(t,e,i){var a,n,o,h=this.options,r=this.canvasData,s=r.width,c=r.height,d=r.naturalWidth,l=r.naturalHeight;if(0<=(t=Number(t))&&this.ready&&!this.disabled&&h.zoomable){h=d*t,l=l*t;if(!1===y(this.element,rt,{ratio:t,oldRatio:s/d,originalEvent:i}))return this;i?(t=this.pointers,d=Et(this.cropper),t=t&&Object.keys(t).length?(o=n=a=0,z(t,function(t){var e=t.startX,t=t.startY;a+=e,n+=t,o+=1}),{pageX:a/=o,pageY:n/=o}):{pageX:i.pageX,pageY:i.pageY},r.left-=(h-s)*((t.pageX-d.left-r.left)/s),r.top-=(l-c)*((t.pageY-d.top-r.top)/c)):u(e)&&p(e.x)&&p(e.y)?(r.left-=(h-s)*((e.x-r.left)/s),r.top-=(l-c)*((e.y-r.top)/c)):(r.left-=(h-s)/2,r.top-=(l-c)/2),r.width=h,r.height=l,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return p(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var e=this.imageData.scaleY;return this.scale(t,p(e)?e:1)},scaleY:function(t){var e=this.imageData.scaleX;return this.scale(p(e)?e:1,t)},scale:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t,i=this.imageData,a=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(p(t)&&(i.scaleX=t,a=!0),p(e)&&(i.scaleY=e,a=!0),a)&&this.renderCanvas(!0,!0),this},getData:function(){var i,a,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=this.options,n=this.imageData,o=this.canvasData,h=this.cropBoxData;return this.ready&&this.cropped?(i={x:h.left-o.left,y:h.top-o.top,width:h.width,height:h.height},a=n.width/n.naturalWidth,z(i,function(t,e){i[e]=t/a}),t&&(o=Math.round(i.y+i.height),h=Math.round(i.x+i.width),i.x=Math.round(i.x),i.y=Math.round(i.y),i.width=h-i.x,i.height=o-i.y)):i={x:0,y:0,width:0,height:0},e.rotatable&&(i.rotate=n.rotate||0),e.scalable&&(i.scaleX=n.scaleX||1,i.scaleY=n.scaleY||1),i},setData:function(t){var e,i=this.options,a=this.imageData,n=this.canvasData,o={};return this.ready&&!this.disabled&&u(t)&&(e=!1,i.rotatable&&p(t.rotate)&&t.rotate!==a.rotate&&(a.rotate=t.rotate,e=!0),i.scalable&&(p(t.scaleX)&&t.scaleX!==a.scaleX&&(a.scaleX=t.scaleX,e=!0),p(t.scaleY))&&t.scaleY!==a.scaleY&&(a.scaleY=t.scaleY,e=!0),e&&this.renderCanvas(!0,!0),i=a.width/a.naturalWidth,p(t.x)&&(o.left=t.x*i+n.left),p(t.y)&&(o.top=t.y*i+n.top),p(t.width)&&(o.width=t.width*i),p(t.height)&&(o.height=t.height*i),this.setCropBoxData(o)),this},getContainerData:function(){return this.ready?g({},this.containerData):{}},getImageData:function(){return this.sized?g({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,i={};return this.ready&&z(["left","top","width","height","naturalWidth","naturalHeight"],function(t){i[t]=e[t]}),i},setCanvasData:function(t){var e=this.canvasData,i=e.aspectRatio;return this.ready&&!this.disabled&&u(t)&&(p(t.left)&&(e.left=t.left),p(t.top)&&(e.top=t.top),p(t.width)?(e.width=t.width,e.height=t.width/i):p(t.height)&&(e.height=t.height,e.width=t.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var t,e=this.cropBoxData;return(t=this.ready&&this.cropped?{left:e.left,top:e.top,width:e.width,height:e.height}:t)||{}},setCropBoxData:function(t){var e,i,a=this.cropBoxData,n=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&u(t)&&(p(t.left)&&(a.left=t.left),p(t.top)&&(a.top=t.top),p(t.width)&&t.width!==a.width&&(e=!0,a.width=t.width),p(t.height)&&t.height!==a.height&&(i=!0,a.height=t.height),n&&(e?a.height=a.width/n:i&&(a.width=a.height*n)),this.renderCropBox()),this},getCroppedCanvas:function(){var t,e,i,a,n,o,h,r,s,c,d,l,p,m,u,g,f,v,w,b,y,x,M,C,D,B,k,O=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.ready&&window.HTMLCanvasElement?(B=this.canvasData,u=this.image,l=this.imageData,a=B,v=O,g=l.aspectRatio,e=l.naturalWidth,n=l.naturalHeight,c=void 0===(c=l.rotate)?0:c,d=void 0===(d=l.scaleX)?1:d,l=void 0===(l=l.scaleY)?1:l,i=a.aspectRatio,r=a.naturalWidth,a=a.naturalHeight,h=void 0===(h=v.fillColor)?"transparent":h,p=void 0===(p=v.imageSmoothingEnabled)||p,m=void 0===(m=v.imageSmoothingQuality)?"low":m,o=void 0===(o=v.maxWidth)?1/0:o,k=void 0===(k=v.maxHeight)?1/0:k,t=void 0===(t=v.minWidth)?0:t,v=void 0===(v=v.minHeight)?0:v,w=document.createElement("canvas"),f=w.getContext("2d"),s=R({aspectRatio:i,width:o,height:k}),i=R({aspectRatio:i,width:t,height:v},"cover"),r=Math.min(s.width,Math.max(i.width,r)),s=Math.min(s.height,Math.max(i.height,a)),i=R({aspectRatio:g,width:o,height:k}),a=R({aspectRatio:g,width:t,height:v},"cover"),o=Math.min(i.width,Math.max(a.width,e)),k=Math.min(i.height,Math.max(a.height,n)),g=[-o/2,-k/2,o,k],w.width=Y(r),w.height=Y(s),f.fillStyle=h,f.fillRect(0,0,r,s),f.save(),f.translate(r/2,s/2),f.rotate(c*Math.PI/180),f.scale(d,l),f.imageSmoothingEnabled=p,f.imageSmoothingQuality=m,f.drawImage.apply(f,[u].concat(j(g.map(function(t){return Math.floor(Y(t))})))),f.restore(),t=w,this.cropped?(e=(v=this.getData()).x,i=v.y,a=v.width,n=v.height,1!=(o=t.width/Math.floor(B.naturalWidth))&&(e*=o,i*=o,a*=o,n*=o),h=R({aspectRatio:k=a/n,width:O.maxWidth||1/0,height:O.maxHeight||1/0}),r=R({aspectRatio:k,width:O.minWidth||0,height:O.minHeight||0},"cover"),c=(s=R({aspectRatio:k,width:O.width||(1!=o?t.width:a),height:O.height||(1!=o?t.height:n)})).width,d=s.height,c=Math.min(h.width,Math.max(r.width,c)),d=Math.min(h.height,Math.max(r.height,d)),p=(l=document.createElement("canvas")).getContext("2d"),l.width=Y(c),l.height=Y(d),p.fillStyle=O.fillColor||"transparent",p.fillRect(0,0,c,d),m=O.imageSmoothingEnabled,u=O.imageSmoothingQuality,p.imageSmoothingEnabled=void 0===m||m,u&&(p.imageSmoothingQuality=u),g=t.width,f=t.height,w=i,(v=e)<=-a||g<v?C=x=b=v=0:v<=0?(x=-v,v=0,C=b=Math.min(g,a+v)):v<=g&&(x=0,C=b=Math.min(a,g-v)),b<=0||w<=-n||f<w?D=M=y=w=0:w<=0?(M=-w,w=0,D=y=Math.min(f,n+w)):w<=f&&(M=0,D=y=Math.min(n,f-w)),B=[v,w,b,y],0<C&&0<D&&B.push(x*(k=c/a),M*k,C*k,D*k),p.drawImage.apply(p,[t].concat(j(B.map(function(t){return Math.floor(Y(t))})))),l):t):null},setAspectRatio:function(t){var e=this.options;return this.disabled||ft(t)||(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped)&&this.renderCropBox()),this},setDragMode:function(t){var e,i,a=this.options,n=this.dragBox,o=this.face;return this.ready&&!this.disabled&&(i=a.movable&&t===F,a.dragMode=t=(e=t===V)||i?t:J,w(n,d,t),r(n,$,e),r(n,G,i),a.cropBoxMovable||(w(o,d,t),r(o,$,e),r(o,G,i))),this}},jt=h.Cropper,Pt=function(){function n(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=this,a=n;if(!(i instanceof a))throw new TypeError("Cannot call a class as a function");if(!t||!pt.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=g({},mt,u(e)&&e),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}var t,e,i;return t=n,i=[{key:"noConflict",value:function(){return window.Cropper=jt,n}},{key:"setDefaults",value:function(t){g(mt,u(t)&&t)}}],(e=[{key:"init",value:function(){var t,e=this.element,i=e.tagName.toLowerCase();if(!e[c]){if(e[c]=this,"img"===i){if(this.isImg=!0,t=e.getAttribute("src")||"",!(this.originalUrl=t))return;t=e.src}else"canvas"===i&&window.HTMLCanvasElement&&(t=e.toDataURL());this.load(t)}}},{key:"load",value:function(t){var e,i,a,n,o,h,r=this;t&&(this.url=t,this.imageData={},e=this.element,(i=this.options).rotatable||i.scalable||(i.checkOrientation=!1),i.checkOrientation&&window.ArrayBuffer?dt.test(t)?lt.test(t)?this.read((h=(h=t).replace(Yt,""),a=atob(h),h=new ArrayBuffer(a.length),z(n=new Uint8Array(h),function(t,e){n[e]=a.charCodeAt(e)}),h)):this.clone():(o=new XMLHttpRequest,h=this.clone.bind(this),this.reloading=!0,(this.xhr=o).onabort=h,o.onerror=h,o.ontimeout=h,o.onprogress=function(){o.getResponseHeader("content-type")!==st&&o.abort()},o.onload=function(){r.read(o.response)},o.onloadend=function(){r.reloading=!1,r.xhr=null},i.checkCrossOrigin&&Nt(t)&&e.crossOrigin&&(t=Lt(t)),o.open("GET",t,!0),o.responseType="arraybuffer",o.withCredentials="use-credentials"===e.crossOrigin,o.send()):this.clone())}},{key:"read",value:function(t){var e=this.options,i=this.imageData,a=Xt(t),n=0,o=1,h=1;1<a&&(this.url=function(t,e){for(var i=[],a=new Uint8Array(t);0<a.length;)i.push(zt.apply(null,bt(a.subarray(0,8192)))),a=a.subarray(8192);return"data:".concat(e,";base64,").concat(btoa(i.join("")))}(t,st),n=(t=function(t){var e=0,i=1,a=1;switch(t){case 2:i=-1;break;case 3:e=-180;break;case 4:a=-1;break;case 5:e=90,a=-1;break;case 6:e=90;break;case 7:e=90,i=-1;break;case 8:e=-90}return{rotate:e,scaleX:i,scaleY:a}}(a)).rotate,o=t.scaleX,h=t.scaleY),e.rotatable&&(i.rotate=n),e.scalable&&(i.scaleX=o,i.scaleY=h),this.clone()}},{key:"clone",value:function(){var t=this.element,e=this.url,i=t.crossOrigin,a=e,n=(this.options.checkCrossOrigin&&Nt(e)&&(i=i||"anonymous",a=Lt(e)),this.crossOrigin=i,this.crossOriginUrl=a,document.createElement("img"));i&&(n.crossOrigin=i),n.src=a||e,n.alt=t.alt||"The image to crop",(this.image=n).onload=this.start.bind(this),n.onerror=this.stop.bind(this),v(n,K),t.parentNode.insertBefore(n,t.nextSibling)}},{key:"start",value:function(){function t(t,e){g(a.imageData,{naturalWidth:t,naturalHeight:e,aspectRatio:t/e}),a.initialImageData=g({},a.imageData),a.sizing=!1,a.sized=!0,a.build()}var e,i,a=this,n=this.image,o=(n.onload=null,n.onerror=null,this.sizing=!0,h.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(h.navigator.userAgent));n.naturalWidth&&!o?t(n.naturalWidth,n.naturalHeight):(e=document.createElement("img"),i=document.body||document.documentElement,(this.sizingImage=e).onload=function(){t(e.width,e.height),o||i.removeChild(e)},e.src=n.src,o||(e.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",i.appendChild(e)))}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){var t,e,i,a,n,o,h,r,s;this.sized&&!this.ready&&(t=this.element,e=this.options,i=this.image,a=t.parentNode,(n=document.createElement("div")).innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',o=(n=n.querySelector(".".concat(c,"-container"))).querySelector(".".concat(c,"-canvas")),h=n.querySelector(".".concat(c,"-drag-box")),s=(r=n.querySelector(".".concat(c,"-crop-box"))).querySelector(".".concat(c,"-face")),this.container=a,this.cropper=n,this.canvas=o,this.dragBox=h,this.cropBox=r,this.viewBox=n.querySelector(".".concat(c,"-view-box")),this.face=s,o.appendChild(i),v(t,L),a.insertBefore(n,t.nextSibling),X(i,K),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,v(r,L),e.guides||v(r.getElementsByClassName("".concat(c,"-dashed")),L),e.center||v(r.getElementsByClassName("".concat(c,"-center")),L),e.background&&v(n,"".concat(c,"-bg")),e.highlight||v(s,Z),e.cropBoxMovable&&(v(s,G),w(s,d,P)),e.cropBoxResizable||(v(r.getElementsByClassName("".concat(c,"-line")),L),v(r.getElementsByClassName("".concat(c,"-point")),L)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),l(e.ready)&&b(t,"ready",e.ready,{once:!0}),y(t,"ready"))}},{key:"unbuild",value:function(){var t;this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),(t=this.cropper.parentNode)&&t.removeChild(this.cropper),X(this.element,L))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&A(t.prototype,e),i&&A(t,i),Object.defineProperty(t,"prototype",{writable:!1}),n}();return g(Pt.prototype,t,i,e,Rt,St,At),Pt});undefined`?Ms.exports=t():typeof define=="function"&&define.amd?define(t):(i=typeof globalThis<"u"?globalThis:i||self).Cropper=t()})(globalThis,function(){function i(u,h){var f,m=Object.keys(u);return Object.getOwnPropertySymbols&&(f=Object.getOwnPropertySymbols(u),h&&(f=f.filter(function(v){return Object.getOwnPropertyDescriptor(u,v).enumerable})),m.push.apply(m,f)),m}function t(u){for(var h=1;h<arguments.length;h++){var f=arguments[h]!=null?arguments[h]:{};h%2?i(Object(f),!0).forEach(function(m){var v,w;v=u,w=f[m=m],m in v?Object.defineProperty(v,m,{value:w,enumerable:!0,configurable:!0,writable:!0}):v[m]=w}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(f)):i(Object(f)).forEach(function(m){Object.defineProperty(u,m,Object.getOwnPropertyDescriptor(f,m))})}return u}function e(u){return(e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(u)}function n(u,h){for(var f=0;f<h.length;f++){var m=h[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(u,m.key,m)}}function r(u){return function(h){if(Array.isArray(h))return o(h)}(u)||function(h){if(typeof Symbol<"u"&&h[Symbol.iterator]!=null||h["@@iterator"]!=null)return Array.from(h)}(u)||function(h,f){var m;if(h)return typeof h=="string"?o(h,f):(m=(m=Object.prototype.toString.call(h).slice(8,-1))==="Object"&&h.constructor?h.constructor.name:m)==="Map"||m==="Set"?Array.from(h):m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m)?o(h,f):void 0}(u)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function o(u,h){(h==null||h>u.length)&&(h=u.length);for(var f=0,m=new Array(h);f<h;f++)m[f]=u[f];return m}var xi=typeof window<"u"&&window.document!==void 0,s=xi?window:{},ke=!(!xi||!s.document.documentElement)&&"ontouchstart"in s.document.documentElement,Le=xi&&"PointerEvent"in s,a="cropper",l="all",c="crop",d="move",p="zoom",g="e",y="w",x="s",S="n",C="ne",E="nw",R="se",L="sw",k="".concat(a,"-crop"),D="".concat(a,"-disabled"),A="".concat(a,"-hidden"),I="".concat(a,"-hide"),U="".concat(a,"-invisible"),X="".concat(a,"-modal"),st="".concat(a,"-move"),N="".concat(a,"Action"),B="".concat(a,"Preview"),q="crop",it="move",vt="none",at="crop",ue="cropend",ne="cropmove",Te="cropstart",gi="dblclick",De=Le?"pointerdown":ke?"touchstart":"mousedown",mi=Le?"pointermove":ke?"touchmove":"mousemove",Hn=Le?"pointerup pointercancel":ke?"touchend touchcancel":"mouseup",Ur="zoom",wa="image/jpeg",$h=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Vh=/^data:/,Gh=/^data:image\/jpeg;base64,/,Kh=/^img|canvas$/i,xa={viewMode:0,dragMode:q,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Jh=Number.isNaN||s.isNaN;function Z(u){return typeof u=="number"&&!Jh(u)}function Aa(u){return 0<u&&u<1/0}function qr(u){return u===void 0}function Ve(u){return e(u)==="object"&&u!==null}var Qh=Object.prototype.hasOwnProperty;function vi(u){if(!Ve(u))return!1;try{var h=u.constructor,f=h.prototype;return h&&f&&Qh.call(f,"isPrototypeOf")}catch{return!1}}function Ft(u){return typeof u=="function"}var Zh=Array.prototype.slice;function Sa(u){return Array.from?Array.from(u):Zh.call(u)}function bt(u,h){return u&&Ft(h)&&(Array.isArray(u)||Z(u.length)?Sa(u).forEach(function(f,m){h.call(u,f,m,u)}):Ve(u)&&Object.keys(u).forEach(function(f){h.call(u,u[f],f,u)})),u}var lt=Object.assign||function(u){for(var h=arguments.length,f=new Array(1<h?h-1:0),m=1;m<h;m++)f[m-1]=arguments[m];return Ve(u)&&0<f.length&&f.forEach(function(v){Ve(v)&&Object.keys(v).forEach(function(w){u[w]=v[w]})}),u},td=/\.\d*(?:0|9){12}\d*$/;function bi(u,h){return h=1<arguments.length&&h!==void 0?h:1e11,td.test(u)?Math.round(u*h)/h:u}var ed=/^width|height|left|top|marginLeft|marginTop$/;function Re(u,h){var f=u.style;bt(h,function(m,v){ed.test(v)&&Z(m)&&(m="".concat(m,"px")),f[v]=m})}function Tt(u,h){var f;h&&(Z(u.length)?bt(u,function(m){Tt(m,h)}):u.classList?u.classList.add(h):(f=u.className.trim())?f.indexOf(h)<0&&(u.className="".concat(f," ").concat(h)):u.className=h)}function he(u,h){h&&(Z(u.length)?bt(u,function(f){he(f,h)}):u.classList?u.classList.remove(h):0<=u.className.indexOf(h)&&(u.className=u.className.replace(h,"")))}function yi(u,h,f){h&&(Z(u.length)?bt(u,function(m){yi(m,h,f)}):(f?Tt:he)(u,h))}var id=/([a-z\d])([A-Z])/g;function $r(u){return u.replace(id,"$1-$2").toLowerCase()}function Vr(u,h){return Ve(u[h])?u[h]:u.dataset?u.dataset[h]:u.getAttribute("data-".concat($r(h)))}function Ji(u,h,f){Ve(f)?u[h]=f:u.dataset?u.dataset[h]=f:u.setAttribute("data-".concat($r(h)),f)}var Gr,Kr,Ea=/\s\s*/,Ca=(Kr=!1,xi&&(Gr=!1,Le=function(){},ke=Object.defineProperty({},"once",{get:function(){return Kr=!0,Gr},set:function(u){Gr=u}}),s.addEventListener("test",Le,ke),s.removeEventListener("test",Le,ke)),Kr);function re(u,h,f,m){var v=3<arguments.length&&m!==void 0?m:{},w=f;h.trim().split(Ea).forEach(function(b){var T;Ca||(T=u.listeners)&&T[b]&&T[b][f]&&(w=T[b][f],delete T[b][f],Object.keys(T[b]).length===0&&delete T[b],Object.keys(T).length===0)&&delete u.listeners,u.removeEventListener(b,w,v)})}function Qt(u,h,f,m){var v=3<arguments.length&&m!==void 0?m:{},w=f;h.trim().split(Ea).forEach(function(b){var T,M;v.once&&!Ca&&(T=u.listeners,w=function(){delete M[b][f],u.removeEventListener(b,w,v);for(var j=arguments.length,W=new Array(j),O=0;O<j;O++)W[O]=arguments[O];f.apply(u,W)},(M=T===void 0?{}:T)[b]||(M[b]={}),M[b][f]&&u.removeEventListener(b,M[b][f],v),M[b][f]=w,u.listeners=M),u.addEventListener(b,w,v)})}function wi(u,h,f){var m;return Ft(Event)&&Ft(CustomEvent)?m=new CustomEvent(h,{detail:f,bubbles:!0,cancelable:!0}):(m=document.createEvent("CustomEvent")).initCustomEvent(h,!0,!0,f),u.dispatchEvent(m)}function Ta(u){return u=u.getBoundingClientRect(),{left:u.left+(window.pageXOffset-document.documentElement.clientLeft),top:u.top+(window.pageYOffset-document.documentElement.clientTop)}}var Jr=s.location,nd=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Da(u){return u=u.match(nd),u!==null&&(u[1]!==Jr.protocol||u[2]!==Jr.hostname||u[3]!==Jr.port)}function Ra(u){var h="timestamp=".concat(new Date().getTime());return u+(u.indexOf("?")===-1?"?":"&")+h}function Qi(v){var h=v.rotate,f=v.scaleX,m=v.scaleY,b=v.translateX,v=v.translateY,w=[],b=(Z(b)&&b!==0&&w.push("translateX(".concat(b,"px)")),Z(v)&&v!==0&&w.push("translateY(".concat(v,"px)")),Z(h)&&h!==0&&w.push("rotate(".concat(h,"deg)")),Z(f)&&f!==1&&w.push("scaleX(".concat(f,")")),Z(m)&&m!==1&&w.push("scaleY(".concat(m,")")),w.length?w.join(" "):"none");return{WebkitTransform:b,msTransform:b,transform:b}}function zn(m,h){var f=m.pageX,m=m.pageY,v={endX:f,endY:m};return h?v:t({startX:f,startY:m},v)}function Me(w,b){var f,m=w.aspectRatio,v=w.height,w=w.width,b=1<arguments.length&&b!==void 0?b:"contain",T=Aa(w),M=Aa(v);return T&&M?(f=v*m,b==="contain"&&w<f||b==="cover"&&f<w?v=w/m:w=v*m):T?v=w/m:M&&(w=v*m),{width:w,height:v}}var Ma=String.fromCharCode,rd=/^data:.*,/;function od(u){var h,f,m,v,w,b,T,M=new DataView(u);try{if(M.getUint8(0)===255&&M.getUint8(1)===216)for(var j=M.byteLength,W=2;W+1<j;){if(M.getUint8(W)===255&&M.getUint8(W+1)===225){f=W;break}W+=1}if(m=f&&(v=f+10,function(P,H,rt){var G="";rt+=H;for(var et=H;et<rt;et+=1)G+=Ma(P.getUint8(et));return G}(M,f+4,4)==="Exif")&&((T=(w=M.getUint16(v))===18761)||w===19789)&&M.getUint16(v+2,T)===42&&8<=(b=M.getUint32(v+4,T))?v+b:m){for(var O,z=M.getUint16(m,T),Y=0;Y<z;Y+=1)if(O=m+12*Y+2,M.getUint16(O,T)===274){O+=8,h=M.getUint16(O,T),M.setUint16(O,1,T);break}}}catch{h=1}return h}var xi={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var u=this.element,m=this.options,h=this.container,f=this.cropper,v=Number(m.minContainerWidth),m=Number(m.minContainerHeight),v=(Tt(f,A),he(u,A),{width:Math.max(h.offsetWidth,0<=v?v:200),height:Math.max(h.offsetHeight,0<=m?m:100)});Re(f,{width:(this.containerData=v).width,height:v.height}),Tt(u,A),he(f,A)},initCanvas:function(){var u=this.containerData,b=this.imageData,h=this.options.viewMode,m=Math.abs(b.rotate)%180==90,f=m?b.naturalHeight:b.naturalWidth,m=m?b.naturalWidth:b.naturalHeight,b=f/m,v=u.width,w=u.height,b=(u.height*b>u.width?h===3?v=u.height*b:w=u.width/b:h===3?w=u.width/b:v=u.height*b,{aspectRatio:b,naturalWidth:f,naturalHeight:m,width:v,height:w});this.canvasData=b,this.limited=h===1||h===2,this.limitCanvas(!0,!0),b.width=Math.min(Math.max(b.width,b.minWidth),b.maxWidth),b.height=Math.min(Math.max(b.height,b.minHeight),b.maxHeight),b.left=(u.width-b.width)/2,b.top=(u.height-b.height)/2,b.oldLeft=b.left,b.oldTop=b.top,this.initialCanvasData=lt({},b)},limitCanvas:function(u,h){var f=this.options,m=this.containerData,v=this.canvasData,w=this.cropBoxData,b=f.viewMode,T=v.aspectRatio,M=this.cropped&&w;u&&(u=Number(f.minCanvasWidth)||0,f=Number(f.minCanvasHeight)||0,1<b?(u=Math.max(u,m.width),f=Math.max(f,m.height),b===3&&(u<f*T?u=f*T:f=u/T)):0<b&&(u?u=Math.max(u,M?w.width:0):f?f=Math.max(f,M?w.height:0):M&&((u=w.width)<(f=w.height)*T?u=f*T:f=u/T)),u=(T=Me({aspectRatio:T,width:u,height:f})).width,f=T.height,v.minWidth=u,v.minHeight=f,v.maxWidth=1/0,v.maxHeight=1/0),h&&((M?0:1)<b?(T=m.width-v.width,u=m.height-v.height,v.minLeft=Math.min(0,T),v.minTop=Math.min(0,u),v.maxLeft=Math.max(0,T),v.maxTop=Math.max(0,u),M&&this.limited&&(v.minLeft=Math.min(w.left,w.left+(w.width-v.width)),v.minTop=Math.min(w.top,w.top+(w.height-v.height)),v.maxLeft=w.left,v.maxTop=w.top,b===2)&&(v.width>=m.width&&(v.minLeft=Math.min(0,T),v.maxLeft=Math.max(0,T)),v.height>=m.height)&&(v.minTop=Math.min(0,u),v.maxTop=Math.max(0,u))):(v.minLeft=-v.width,v.minTop=-v.height,v.maxLeft=m.width,v.maxTop=m.height))},renderCanvas:function(u,h){var f,m,v,w,b=this.canvasData,T=this.imageData;h&&(h={width:T.naturalWidth*Math.abs(T.scaleX||1),height:T.naturalHeight*Math.abs(T.scaleY||1),degree:T.rotate||0},T=h.width,w=h.height,h=h.degree,f=(h=Math.abs(h)%180)==90?{width:w,height:T}:(m=h%90*Math.PI/180,f=Math.sin(m),v=T*(m=Math.cos(m))+w*f,T=T*f+w*m,90<h?{width:T,height:v}:{width:v,height:T}),m=b.width*((w=f.width)/b.naturalWidth),v=b.height*((h=f.height)/b.naturalHeight),b.left-=(m-b.width)/2,b.top-=(v-b.height)/2,b.width=m,b.height=v,b.aspectRatio=w/h,b.naturalWidth=w,b.naturalHeight=h,this.limitCanvas(!0,!1)),(b.width>b.maxWidth||b.width<b.minWidth)&&(b.left=b.oldLeft),(b.height>b.maxHeight||b.height<b.minHeight)&&(b.top=b.oldTop),b.width=Math.min(Math.max(b.width,b.minWidth),b.maxWidth),b.height=Math.min(Math.max(b.height,b.minHeight),b.maxHeight),this.limitCanvas(!1,!0),b.left=Math.min(Math.max(b.left,b.minLeft),b.maxLeft),b.top=Math.min(Math.max(b.top,b.minTop),b.maxTop),b.oldLeft=b.left,b.oldTop=b.top,Re(this.canvas,lt({width:b.width,height:b.height},Qi({translateX:b.left,translateY:b.top}))),this.renderImage(u),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(u){var h=this.canvasData,f=this.imageData,m=f.naturalWidth*(h.width/h.naturalWidth),v=f.naturalHeight*(h.height/h.naturalHeight);lt(f,{width:m,height:v,left:(h.width-m)/2,top:(h.height-v)/2}),Re(this.image,lt({width:f.width,height:f.height},Qi(lt({translateX:f.left,translateY:f.top},f)))),u&&this.output()},initCropBox:function(){var f=this.options,u=this.canvasData,h=f.aspectRatio||f.initialAspectRatio,f=Number(f.autoCropArea)||.8,m={width:u.width,height:u.height};h&&(u.height*h>u.width?m.height=m.width/h:m.width=m.height*h),this.cropBoxData=m,this.limitCropBox(!0,!0),m.width=Math.min(Math.max(m.width,m.minWidth),m.maxWidth),m.height=Math.min(Math.max(m.height,m.minHeight),m.maxHeight),m.width=Math.max(m.minWidth,m.width*f),m.height=Math.max(m.minHeight,m.height*f),m.left=u.left+(u.width-m.width)/2,m.top=u.top+(u.height-m.height)/2,m.oldLeft=m.left,m.oldTop=m.top,this.initialCropBoxData=lt({},m)},limitCropBox:function(u,h){var f,m,v=this.options,w=this.containerData,b=this.canvasData,T=this.cropBoxData,M=this.limited,j=v.aspectRatio;u&&(u=Number(v.minCropBoxWidth)||0,v=Number(v.minCropBoxHeight)||0,f=M?Math.min(w.width,b.width,b.width+b.left,w.width-b.left):w.width,m=M?Math.min(w.height,b.height,b.height+b.top,w.height-b.top):w.height,u=Math.min(u,w.width),v=Math.min(v,w.height),j&&(u&&v?u<v*j?v=u/j:u=v*j:u?v=u/j:v&&(u=v*j),f<m*j?m=f/j:f=m*j),T.minWidth=Math.min(u,f),T.minHeight=Math.min(v,m),T.maxWidth=f,T.maxHeight=m),h&&(M?(T.minLeft=Math.max(0,b.left),T.minTop=Math.max(0,b.top),T.maxLeft=Math.min(w.width,b.left+b.width)-T.width,T.maxTop=Math.min(w.height,b.top+b.height)-T.height):(T.minLeft=0,T.minTop=0,T.maxLeft=w.width-T.width,T.maxTop=w.height-T.height))},renderCropBox:function(){var u=this.options,h=this.containerData,f=this.cropBoxData;(f.width>f.maxWidth||f.width<f.minWidth)&&(f.left=f.oldLeft),(f.height>f.maxHeight||f.height<f.minHeight)&&(f.top=f.oldTop),f.width=Math.min(Math.max(f.width,f.minWidth),f.maxWidth),f.height=Math.min(Math.max(f.height,f.minHeight),f.maxHeight),this.limitCropBox(!1,!0),f.left=Math.min(Math.max(f.left,f.minLeft),f.maxLeft),f.top=Math.min(Math.max(f.top,f.minTop),f.maxTop),f.oldLeft=f.left,f.oldTop=f.top,u.movable&&u.cropBoxMovable&&Ji(this.face,N,f.width>=h.width&&f.height>=h.height?d:l),Re(this.cropBox,lt({width:f.width,height:f.height},Qi({translateX:f.left,translateY:f.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),wi(this.element,at,this.getData())}},Le={initPreview:function(){var u=this.element,h=this.crossOrigin,f=this.options.preview,m=h?this.crossOriginUrl:this.url,v=u.alt||"The image to preview",w=document.createElement("img");h&&(w.crossOrigin=h),w.src=m,w.alt=v,this.viewBox.appendChild(w),this.viewBoxImage=w,f&&(typeof(w=f)=="string"?w=u.ownerDocument.querySelectorAll(f):f.querySelector&&(w=[f]),bt(this.previews=w,function(b){var T=document.createElement("img");Ji(b,B,{width:b.offsetWidth,height:b.offsetHeight,html:b.innerHTML}),h&&(T.crossOrigin=h),T.src=m,T.alt=v,T.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',b.innerHTML="",b.appendChild(T)}))},resetPreview:function(){bt(this.previews,function(f){var h=Vr(f,B),h=(Re(f,{width:h.width,height:h.height}),f.innerHTML=h.html,f),f=B;if(Ve(h[f]))try{delete h[f]}catch{h[f]=void 0}else if(h.dataset)try{delete h.dataset[f]}catch{h.dataset[f]=void 0}else h.removeAttribute("data-".concat($r(f)))})},preview:function(){var u=this.imageData,h=this.canvasData,f=this.cropBoxData,m=f.width,v=f.height,w=u.width,b=u.height,T=f.left-h.left-u.left,M=f.top-h.top-u.top;this.cropped&&!this.disabled&&(Re(this.viewBoxImage,lt({width:w,height:b},Qi(lt({translateX:-T,translateY:-M},u)))),bt(this.previews,function(j){var O=Vr(j,B),W=O.width,O=O.height,z=W,Y=O,P=1;m&&(Y=v*(P=W/m)),v&&O<Y&&(z=m*(P=O/v),Y=O),Re(j,{width:z,height:Y}),Re(j.getElementsByTagName("img")[0],lt({width:w*P,height:b*P},Qi(lt({translateX:-T*P,translateY:-M*P},u))))}))}},ke={bind:function(){var u=this.element,h=this.options,f=this.cropper;Ft(h.cropstart)&&Qt(u,Te,h.cropstart),Ft(h.cropmove)&&Qt(u,ne,h.cropmove),Ft(h.cropend)&&Qt(u,ue,h.cropend),Ft(h.crop)&&Qt(u,at,h.crop),Ft(h.zoom)&&Qt(u,Ur,h.zoom),Qt(f,De,this.onCropStart=this.cropStart.bind(this)),h.zoomable&&h.zoomOnWheel&&Qt(f,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),h.toggleDragModeOnDblclick&&Qt(f,gi,this.onDblclick=this.dblclick.bind(this)),Qt(u.ownerDocument,mi,this.onCropMove=this.cropMove.bind(this)),Qt(u.ownerDocument,Hn,this.onCropEnd=this.cropEnd.bind(this)),h.responsive&&Qt(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var u=this.element,h=this.options,f=this.cropper;Ft(h.cropstart)&&re(u,Te,h.cropstart),Ft(h.cropmove)&&re(u,ne,h.cropmove),Ft(h.cropend)&&re(u,ue,h.cropend),Ft(h.crop)&&re(u,at,h.crop),Ft(h.zoom)&&re(u,Ur,h.zoom),re(f,De,this.onCropStart),h.zoomable&&h.zoomOnWheel&&re(f,"wheel",this.onWheel,{passive:!1,capture:!0}),h.toggleDragModeOnDblclick&&re(f,gi,this.onDblclick),re(u.ownerDocument,mi,this.onCropMove),re(u.ownerDocument,Hn,this.onCropEnd),h.responsive&&re(window,"resize",this.onResize)}},sd={resize:function(){var u,h,f,m,v,w,b;this.disabled||(u=this.options,m=this.container,h=this.containerData,f=m.offsetWidth/h.width,m=m.offsetHeight/h.height,(v=Math.abs(f-1)>Math.abs(m-1)?f:m)!=1&&(u.restore&&(w=this.getCanvasData(),b=this.getCropBoxData()),this.render(),u.restore)&&(this.setCanvasData(bt(w,function(T,M){w[M]=T*v})),this.setCropBoxData(bt(b,function(T,M){b[M]=T*v}))))},dblclick:function(){var u,h;this.disabled||this.options.dragMode===vt||this.setDragMode((u=this.dragBox,h=k,(u.classList?u.classList.contains(h):-1<u.className.indexOf(h))?it:q))},wheel:function(u){var h=this,f=Number(this.options.wheelZoomRatio)||.1,m=1;this.disabled||(u.preventDefault(),this.wheeling)||(this.wheeling=!0,setTimeout(function(){h.wheeling=!1},50),u.deltaY?m=0<u.deltaY?1:-1:u.wheelDelta?m=-u.wheelDelta/120:u.detail&&(m=0<u.detail?1:-1),this.zoom(-m*f,u))},cropStart:function(u){var h,f=u.buttons,m=u.button;this.disabled||(u.type==="mousedown"||u.type==="pointerdown"&&u.pointerType==="mouse")&&(Z(f)&&f!==1||Z(m)&&m!==0||u.ctrlKey)||(f=this.options,h=this.pointers,u.changedTouches?bt(u.changedTouches,function(v){h[v.identifier]=zn(v)}):h[u.pointerId||0]=zn(u),m=1<Object.keys(h).length&&f.zoomable&&f.zoomOnTouch?p:Vr(u.target,N),$h.test(m)&&wi(this.element,Te,{originalEvent:u,action:m})!==!1&&(u.preventDefault(),this.action=m,this.cropping=!1,m===c)&&(this.cropping=!0,Tt(this.dragBox,X)))},cropMove:function(u){var h,f=this.action;!this.disabled&&f&&(h=this.pointers,u.preventDefault(),wi(this.element,ne,{originalEvent:u,action:f})!==!1)&&(u.changedTouches?bt(u.changedTouches,function(m){lt(h[m.identifier]||{},zn(m,!0))}):lt(h[u.pointerId||0]||{},zn(u,!0)),this.change(u))},cropEnd:function(u){var h,f;this.disabled||(h=this.action,f=this.pointers,u.changedTouches?bt(u.changedTouches,function(m){delete f[m.identifier]}):delete f[u.pointerId||0],h&&(u.preventDefault(),Object.keys(f).length||(this.action=""),this.cropping&&(this.cropping=!1,yi(this.dragBox,X,this.cropped&&this.options.modal)),wi(this.element,ue,{originalEvent:u,action:h})))}},ad={change:function(u){function h(Dt){switch(Dt){case g:rt+F.x>It&&(F.x=It-rt);break;case y:z+F.x<et&&(F.x=et-z);break;case S:Y+F.y<Et&&(F.y=Et-Y);break;case x:G+F.y>Lt&&(F.y=Lt-G)}}var f,m,v,w=this.options,b=this.canvasData,T=this.containerData,M=this.cropBoxData,j=this.pointers,W=this.action,O=w.aspectRatio,z=M.left,Y=M.top,P=M.width,H=M.height,rt=z+P,G=Y+H,et=0,Et=0,It=T.width,Lt=T.height,gt=!0,Zt=(!O&&u.shiftKey&&(O=P&&H?P/H:1),this.limited&&(et=M.minLeft,Et=M.minTop,It=et+Math.min(T.width,b.width,b.left+b.width),Lt=Et+Math.min(T.height,b.height,b.top+b.height)),j[Object.keys(j)[0]]),F={x:Zt.endX-Zt.startX,y:Zt.endY-Zt.startY};switch(W){case l:z+=F.x,Y+=F.y;break;case g:0<=F.x&&(It<=rt||O&&(Y<=Et||Lt<=G))?gt=!1:(h(g),(P+=F.x)<0&&(W=y,z-=P=-P),O&&(Y+=(M.height-(H=P/O))/2));break;case S:F.y<=0&&(Y<=Et||O&&(z<=et||It<=rt))?gt=!1:(h(S),H-=F.y,Y+=F.y,H<0&&(W=x,Y-=H=-H),O&&(z+=(M.width-(P=H*O))/2));break;case y:F.x<=0&&(z<=et||O&&(Y<=Et||Lt<=G))?gt=!1:(h(y),P-=F.x,z+=F.x,P<0&&(W=g,z-=P=-P),O&&(Y+=(M.height-(H=P/O))/2));break;case x:0<=F.y&&(Lt<=G||O&&(z<=et||It<=rt))?gt=!1:(h(x),(H+=F.y)<0&&(W=S,Y-=H=-H),O&&(z+=(M.width-(P=H*O))/2));break;case C:if(O){if(F.y<=0&&(Y<=Et||It<=rt)){gt=!1;break}h(S),H-=F.y,Y+=F.y,P=H*O}else h(S),h(g),!(0<=F.x)||rt<It?P+=F.x:F.y<=0&&Y<=Et&&(gt=!1),(!(F.y<=0)||Et<Y)&&(H-=F.y,Y+=F.y);P<0&&H<0?(W=L,Y-=H=-H,z-=P=-P):P<0?(W=E,z-=P=-P):H<0&&(W=R,Y-=H=-H);break;case E:if(O){if(F.y<=0&&(Y<=Et||z<=et)){gt=!1;break}h(S),H-=F.y,Y+=F.y,z+=M.width-(P=H*O)}else h(S),h(y),!(F.x<=0)||et<z?(P-=F.x,z+=F.x):F.y<=0&&Y<=Et&&(gt=!1),(!(F.y<=0)||Et<Y)&&(H-=F.y,Y+=F.y);P<0&&H<0?(W=R,Y-=H=-H,z-=P=-P):P<0?(W=C,z-=P=-P):H<0&&(W=L,Y-=H=-H);break;case L:if(O){if(F.x<=0&&(z<=et||Lt<=G)){gt=!1;break}h(y),P-=F.x,z+=F.x,H=P/O}else h(x),h(y),!(F.x<=0)||et<z?(P-=F.x,z+=F.x):0<=F.y&&Lt<=G&&(gt=!1),(!(0<=F.y)||G<Lt)&&(H+=F.y);P<0&&H<0?(W=C,Y-=H=-H,z-=P=-P):P<0?(W=R,z-=P=-P):H<0&&(W=E,Y-=H=-H);break;case R:if(O){if(0<=F.x&&(It<=rt||Lt<=G)){gt=!1;break}h(g),H=(P+=F.x)/O}else h(x),h(g),!(0<=F.x)||rt<It?P+=F.x:0<=F.y&&Lt<=G&&(gt=!1),(!(0<=F.y)||G<Lt)&&(H+=F.y);P<0&&H<0?(W=E,Y-=H=-H,z-=P=-P):P<0?(W=L,z-=P=-P):H<0&&(W=C,Y-=H=-H);break;case d:this.move(F.x,F.y),gt=!1;break;case p:this.zoom((m=t({},f=j),v=0,bt(f,function(Dt,kt){delete m[kt],bt(m,function(Ge){var Zi=Math.abs(Dt.startX-Ge.startX),tn=Math.abs(Dt.startY-Ge.startY),Ai=Math.abs(Dt.endX-Ge.endX),Ge=Math.abs(Dt.endY-Ge.endY),Zi=Math.sqrt(Zi*Zi+tn*tn),tn=(Math.sqrt(Ai*Ai+Ge*Ge)-Zi)/Zi;Math.abs(tn)>Math.abs(v)&&(v=tn)})}),v),u),gt=!1;break;case c:F.x&&F.y?(f=Ta(this.cropper),z=Zt.startX-f.left,Y=Zt.startY-f.top,P=M.minWidth,H=M.minHeight,0<F.x?W=0<F.y?R:C:F.x<0&&(z-=P,W=0<F.y?L:E),F.y<0&&(Y-=H),this.cropped||(he(this.cropBox,A),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))):gt=!1}gt&&(M.width=P,M.height=H,M.left=z,M.top=Y,this.action=W,this.renderCropBox()),bt(j,function(Dt){Dt.startX=Dt.endX,Dt.startY=Dt.endY})}},ld={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Tt(this.dragBox,X),he(this.cropBox,A),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=lt({},this.initialImageData),this.canvasData=lt({},this.initialCanvasData),this.cropBoxData=lt({},this.initialCropBoxData),this.renderCanvas(),this.cropped)&&this.renderCropBox(),this},clear:function(){return this.cropped&&!this.disabled&&(lt(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),he(this.dragBox,X),Tt(this.cropBox,A)),this},replace:function(u){var h=1<arguments.length&&arguments[1]!==void 0&&arguments[1];return!this.disabled&&u&&(this.isImg&&(this.element.src=u),h?(this.url=u,this.image.src=u,this.ready&&(this.viewBoxImage.src=u,bt(this.previews,function(f){f.getElementsByTagName("img")[0].src=u}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(u))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,he(this.cropper,D)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Tt(this.cropper,D)),this},destroy:function(){var u=this.element;return u[a]&&(u[a]=void 0,this.isImg&&this.replaced&&(u.src=this.originalUrl),this.uncreate()),this},move:function(u){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:u,m=this.canvasData,f=m.left,m=m.top;return this.moveTo(qr(u)?u:f+Number(u),qr(h)?h:m+Number(h))},moveTo:function(u){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:u,f=this.canvasData,m=!1;return u=Number(u),h=Number(h),this.ready&&!this.disabled&&this.options.movable&&(Z(u)&&(f.left=u,m=!0),Z(h)&&(f.top=h,m=!0),m)&&this.renderCanvas(!0),this},zoom:function(u,h){var f=this.canvasData;return u=Number(u),this.zoomTo(f.width*(u=u<0?1/(1-u):1+u)/f.naturalWidth,null,h)},zoomTo:function(u,h,f){var m,v,w,b=this.options,T=this.canvasData,M=T.width,j=T.height,W=T.naturalWidth,O=T.naturalHeight;if(0<=(u=Number(u))&&this.ready&&!this.disabled&&b.zoomable){if(b=W*u,O=O*u,wi(this.element,Ur,{ratio:u,oldRatio:M/W,originalEvent:f})===!1)return this;f?(u=this.pointers,W=Ta(this.cropper),u=u&&Object.keys(u).length?(w=v=m=0,bt(u,function(P){var Y=P.startX,P=P.startY;m+=Y,v+=P,w+=1}),{pageX:m/=w,pageY:v/=w}):{pageX:f.pageX,pageY:f.pageY},T.left-=(b-M)*((u.pageX-W.left-T.left)/M),T.top-=(O-j)*((u.pageY-W.top-T.top)/j)):vi(h)&&Z(h.x)&&Z(h.y)?(T.left-=(b-M)*((h.x-T.left)/M),T.top-=(O-j)*((h.y-T.top)/j)):(T.left-=(b-M)/2,T.top-=(O-j)/2),T.width=b,T.height=O,this.renderCanvas(!0)}return this},rotate:function(u){return this.rotateTo((this.imageData.rotate||0)+Number(u))},rotateTo:function(u){return Z(u=Number(u))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=u%360,this.renderCanvas(!0,!0)),this},scaleX:function(u){var h=this.imageData.scaleY;return this.scale(u,Z(h)?h:1)},scaleY:function(u){var h=this.imageData.scaleX;return this.scale(Z(h)?h:1,u)},scale:function(u){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:u,f=this.imageData,m=!1;return u=Number(u),h=Number(h),this.ready&&!this.disabled&&this.options.scalable&&(Z(u)&&(f.scaleX=u,m=!0),Z(h)&&(f.scaleY=h,m=!0),m)&&this.renderCanvas(!0,!0),this},getData:function(){var u,h,f=0<arguments.length&&arguments[0]!==void 0&&arguments[0],m=this.options,v=this.imageData,w=this.canvasData,b=this.cropBoxData;return this.ready&&this.cropped?(u={x:b.left-w.left,y:b.top-w.top,width:b.width,height:b.height},h=v.width/v.naturalWidth,bt(u,function(T,M){u[M]=T/h}),f&&(w=Math.round(u.y+u.height),b=Math.round(u.x+u.width),u.x=Math.round(u.x),u.y=Math.round(u.y),u.width=b-u.x,u.height=w-u.y)):u={x:0,y:0,width:0,height:0},m.rotatable&&(u.rotate=v.rotate||0),m.scalable&&(u.scaleX=v.scaleX||1,u.scaleY=v.scaleY||1),u},setData:function(u){var h,f=this.options,m=this.imageData,v=this.canvasData,w={};return this.ready&&!this.disabled&&vi(u)&&(h=!1,f.rotatable&&Z(u.rotate)&&u.rotate!==m.rotate&&(m.rotate=u.rotate,h=!0),f.scalable&&(Z(u.scaleX)&&u.scaleX!==m.scaleX&&(m.scaleX=u.scaleX,h=!0),Z(u.scaleY))&&u.scaleY!==m.scaleY&&(m.scaleY=u.scaleY,h=!0),h&&this.renderCanvas(!0,!0),f=m.width/m.naturalWidth,Z(u.x)&&(w.left=u.x*f+v.left),Z(u.y)&&(w.top=u.y*f+v.top),Z(u.width)&&(w.width=u.width*f),Z(u.height)&&(w.height=u.height*f),this.setCropBoxData(w)),this},getContainerData:function(){return this.ready?lt({},this.containerData):{}},getImageData:function(){return this.sized?lt({},this.imageData):{}},getCanvasData:function(){var u=this.canvasData,h={};return this.ready&&bt(["left","top","width","height","naturalWidth","naturalHeight"],function(f){h[f]=u[f]}),h},setCanvasData:function(u){var h=this.canvasData,f=h.aspectRatio;return this.ready&&!this.disabled&&vi(u)&&(Z(u.left)&&(h.left=u.left),Z(u.top)&&(h.top=u.top),Z(u.width)?(h.width=u.width,h.height=u.width/f):Z(u.height)&&(h.height=u.height,h.width=u.height*f),this.renderCanvas(!0)),this},getCropBoxData:function(){var u,h=this.cropBoxData;return(u=this.ready&&this.cropped?{left:h.left,top:h.top,width:h.width,height:h.height}:u)||{}},setCropBoxData:function(u){var h,f,m=this.cropBoxData,v=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&vi(u)&&(Z(u.left)&&(m.left=u.left),Z(u.top)&&(m.top=u.top),Z(u.width)&&u.width!==m.width&&(h=!0,m.width=u.width),Z(u.height)&&u.height!==m.height&&(f=!0,m.height=u.height),v&&(h?m.height=m.width/v:f&&(m.width=m.height*v)),this.renderCropBox()),this},getCroppedCanvas:function(){var u,h,f,m,v,w,b,T,M,j,W,O,z,Y,P,H,rt,G,et,Et,It,Lt,gt,Zt,F,Dt,kt,de=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return this.ready&&window.HTMLCanvasElement?(Dt=this.canvasData,P=this.image,O=this.imageData,m=Dt,G=de,H=O.aspectRatio,h=O.naturalWidth,v=O.naturalHeight,j=(j=O.rotate)===void 0?0:j,W=(W=O.scaleX)===void 0?1:W,O=(O=O.scaleY)===void 0?1:O,f=m.aspectRatio,T=m.naturalWidth,m=m.naturalHeight,b=(b=G.fillColor)===void 0?"transparent":b,z=(z=G.imageSmoothingEnabled)===void 0||z,Y=(Y=G.imageSmoothingQuality)===void 0?"low":Y,w=(w=G.maxWidth)===void 0?1/0:w,kt=(kt=G.maxHeight)===void 0?1/0:kt,u=(u=G.minWidth)===void 0?0:u,G=(G=G.minHeight)===void 0?0:G,et=document.createElement("canvas"),rt=et.getContext("2d"),M=Me({aspectRatio:f,width:w,height:kt}),f=Me({aspectRatio:f,width:u,height:G},"cover"),T=Math.min(M.width,Math.max(f.width,T)),M=Math.min(M.height,Math.max(f.height,m)),f=Me({aspectRatio:H,width:w,height:kt}),m=Me({aspectRatio:H,width:u,height:G},"cover"),w=Math.min(f.width,Math.max(m.width,h)),kt=Math.min(f.height,Math.max(m.height,v)),H=[-w/2,-kt/2,w,kt],et.width=bi(T),et.height=bi(M),rt.fillStyle=b,rt.fillRect(0,0,T,M),rt.save(),rt.translate(T/2,M/2),rt.rotate(j*Math.PI/180),rt.scale(W,O),rt.imageSmoothingEnabled=z,rt.imageSmoothingQuality=Y,rt.drawImage.apply(rt,[P].concat(r(H.map(function(Ai){return Math.floor(bi(Ai))})))),rt.restore(),u=et,this.cropped?(h=(G=this.getData()).x,f=G.y,m=G.width,v=G.height,(w=u.width/Math.floor(Dt.naturalWidth))!=1&&(h*=w,f*=w,m*=w,v*=w),b=Me({aspectRatio:kt=m/v,width:de.maxWidth||1/0,height:de.maxHeight||1/0}),T=Me({aspectRatio:kt,width:de.minWidth||0,height:de.minHeight||0},"cover"),j=(M=Me({aspectRatio:kt,width:de.width||(w!=1?u.width:m),height:de.height||(w!=1?u.height:v)})).width,W=M.height,j=Math.min(b.width,Math.max(T.width,j)),W=Math.min(b.height,Math.max(T.height,W)),z=(O=document.createElement("canvas")).getContext("2d"),O.width=bi(j),O.height=bi(W),z.fillStyle=de.fillColor||"transparent",z.fillRect(0,0,j,W),Y=de.imageSmoothingEnabled,P=de.imageSmoothingQuality,z.imageSmoothingEnabled=Y===void 0||Y,P&&(z.imageSmoothingQuality=P),H=u.width,rt=u.height,et=f,(G=h)<=-m||H<G?Zt=Lt=Et=G=0:G<=0?(Lt=-G,G=0,Zt=Et=Math.min(H,m+G)):G<=H&&(Lt=0,Zt=Et=Math.min(m,H-G)),Et<=0||et<=-v||rt<et?F=gt=It=et=0:et<=0?(gt=-et,et=0,F=It=Math.min(rt,v+et)):et<=rt&&(gt=0,F=It=Math.min(v,rt-et)),Dt=[G,et,Et,It],0<Zt&&0<F&&Dt.push(Lt*(kt=j/m),gt*kt,Zt*kt,F*kt),z.drawImage.apply(z,[u].concat(r(Dt.map(function(Ai){return Math.floor(bi(Ai))})))),O):u):null},setAspectRatio:function(u){var h=this.options;return this.disabled||qr(u)||(h.aspectRatio=Math.max(0,u)||NaN,this.ready&&(this.initCropBox(),this.cropped)&&this.renderCropBox()),this},setDragMode:function(u){var h,f,m=this.options,v=this.dragBox,w=this.face;return this.ready&&!this.disabled&&(f=m.movable&&u===it,m.dragMode=u=(h=u===q)||f?u:vt,Ji(v,N,u),yi(v,k,h),yi(v,st,f),m.cropBoxMovable||(Ji(w,N,u),yi(w,k,h),yi(w,st,f))),this}},cd=s.Cropper,La=function(){function u(v){var w=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},b=this,T=u;if(!(b instanceof T))throw new TypeError("Cannot call a class as a function");if(!v||!Kh.test(v.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=v,this.options=lt({},xa,vi(w)&&w),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}var h,f,m;return h=u,m=[{key:"noConflict",value:function(){return window.Cropper=cd,u}},{key:"setDefaults",value:function(v){lt(xa,vi(v)&&v)}}],(f=[{key:"init",value:function(){var v,w=this.element,b=w.tagName.toLowerCase();if(!w[a]){if(w[a]=this,b==="img"){if(this.isImg=!0,v=w.getAttribute("src")||"",!(this.originalUrl=v))return;v=w.src}else b==="canvas"&&window.HTMLCanvasElement&&(v=w.toDataURL());this.load(v)}}},{key:"load",value:function(v){var w,b,T,M,j,W,O=this;v&&(this.url=v,this.imageData={},w=this.element,(b=this.options).rotatable||b.scalable||(b.checkOrientation=!1),b.checkOrientation&&window.ArrayBuffer?Vh.test(v)?Gh.test(v)?this.read((W=(W=v).replace(rd,""),T=atob(W),W=new ArrayBuffer(T.length),bt(M=new Uint8Array(W),function(z,Y){M[Y]=T.charCodeAt(Y)}),W)):this.clone():(j=new XMLHttpRequest,W=this.clone.bind(this),this.reloading=!0,(this.xhr=j).onabort=W,j.onerror=W,j.ontimeout=W,j.onprogress=function(){j.getResponseHeader("content-type")!==wa&&j.abort()},j.onload=function(){O.read(j.response)},j.onloadend=function(){O.reloading=!1,O.xhr=null},b.checkCrossOrigin&&Da(v)&&w.crossOrigin&&(v=Ra(v)),j.open("GET",v,!0),j.responseType="arraybuffer",j.withCredentials=w.crossOrigin==="use-credentials",j.send()):this.clone())}},{key:"read",value:function(v){var w=this.options,b=this.imageData,T=od(v),M=0,j=1,W=1;1<T&&(this.url=function(O,z){for(var Y=[],P=new Uint8Array(O);0<P.length;)Y.push(Ma.apply(null,Sa(P.subarray(0,8192)))),P=P.subarray(8192);return"data:".concat(z,";base64,").concat(btoa(Y.join("")))}(v,wa),M=(v=function(O){var z=0,Y=1,P=1;switch(O){case 2:Y=-1;break;case 3:z=-180;break;case 4:P=-1;break;case 5:z=90,P=-1;break;case 6:z=90;break;case 7:z=90,Y=-1;break;case 8:z=-90}return{rotate:z,scaleX:Y,scaleY:P}}(T)).rotate,j=v.scaleX,W=v.scaleY),w.rotatable&&(b.rotate=M),w.scalable&&(b.scaleX=j,b.scaleY=W),this.clone()}},{key:"clone",value:function(){var v=this.element,w=this.url,b=v.crossOrigin,T=w,M=(this.options.checkCrossOrigin&&Da(w)&&(b=b||"anonymous",T=Ra(w)),this.crossOrigin=b,this.crossOriginUrl=T,document.createElement("img"));b&&(M.crossOrigin=b),M.src=T||w,M.alt=v.alt||"The image to crop",(this.image=M).onload=this.start.bind(this),M.onerror=this.stop.bind(this),Tt(M,I),v.parentNode.insertBefore(M,v.nextSibling)}},{key:"start",value:function(){function v(W,O){lt(T.imageData,{naturalWidth:W,naturalHeight:O,aspectRatio:W/O}),T.initialImageData=lt({},T.imageData),T.sizing=!1,T.sized=!0,T.build()}var w,b,T=this,M=this.image,j=(M.onload=null,M.onerror=null,this.sizing=!0,s.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(s.navigator.userAgent));M.naturalWidth&&!j?v(M.naturalWidth,M.naturalHeight):(w=document.createElement("img"),b=document.body||document.documentElement,(this.sizingImage=w).onload=function(){v(w.width,w.height),j||b.removeChild(w)},w.src=M.src,j||(w.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",b.appendChild(w)))}},{key:"stop",value:function(){var v=this.image;v.onload=null,v.onerror=null,v.parentNode.removeChild(v),this.image=null}},{key:"build",value:function(){var v,w,b,T,M,j,W,O,z;this.sized&&!this.ready&&(v=this.element,w=this.options,b=this.image,T=v.parentNode,(M=document.createElement("div")).innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',j=(M=M.querySelector(".".concat(a,"-container"))).querySelector(".".concat(a,"-canvas")),W=M.querySelector(".".concat(a,"-drag-box")),z=(O=M.querySelector(".".concat(a,"-crop-box"))).querySelector(".".concat(a,"-face")),this.container=T,this.cropper=M,this.canvas=j,this.dragBox=W,this.cropBox=O,this.viewBox=M.querySelector(".".concat(a,"-view-box")),this.face=z,j.appendChild(b),Tt(v,A),T.insertBefore(M,v.nextSibling),he(b,I),this.initPreview(),this.bind(),w.initialAspectRatio=Math.max(0,w.initialAspectRatio)||NaN,w.aspectRatio=Math.max(0,w.aspectRatio)||NaN,w.viewMode=Math.max(0,Math.min(3,Math.round(w.viewMode)))||0,Tt(O,A),w.guides||Tt(O.getElementsByClassName("".concat(a,"-dashed")),A),w.center||Tt(O.getElementsByClassName("".concat(a,"-center")),A),w.background&&Tt(M,"".concat(a,"-bg")),w.highlight||Tt(z,U),w.cropBoxMovable&&(Tt(z,st),Ji(z,N,l)),w.cropBoxResizable||(Tt(O.getElementsByClassName("".concat(a,"-line")),A),Tt(O.getElementsByClassName("".concat(a,"-point")),A)),this.render(),this.ready=!0,this.setDragMode(w.dragMode),w.autoCrop&&this.crop(),this.setData(w.data),Ft(w.ready)&&Qt(v,"ready",w.ready,{once:!0}),wi(v,"ready"))}},{key:"unbuild",value:function(){var v;this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),(v=this.cropper.parentNode)&&v.removeChild(this.cropper),he(this.element,A))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&n(h.prototype,f),m&&n(h,m),Object.defineProperty(h,"prototype",{writable:!1}),u}();return lt(La.prototype,xi,Le,ke,sd,ad,ld),La});var ts=!1,es=!1,ri=[],is=-1;function jp(i){Hp(i)}function Hp(i){ri.includes(i)||ri.push(i),zp()}function Mc(i){let t=ri.indexOf(i);t!==-1&&t>is&&ri.splice(t,1)}function zp(){!es&&!ts&&(ts=!0,queueMicrotask(Yp))}function Yp(){ts=!1,es=!0;for(let i=0;i<ri.length;i++)ri[i](),is=i;ri.length=0,is=-1,es=!1}var Xi,Ui,Mn,Lc,ns=!0;function Xp(i){ns=!1,i(),ns=!0}function Up(i){Xi=i.reactive,Mn=i.release,Ui=t=>i.effect(t,{scheduler:e=>{ns?jp(e):e()}}),Lc=i.raw}function al(i){Ui=i}function qp(i){let t=()=>{};return[n=>{let r=Ui(n);return i._x_effects||(i._x_effects=new Set,i._x_runEffects=()=>{i._x_effects.forEach(o=>o())}),i._x_effects.add(r),t=()=>{r!==void 0&&(i._x_effects.delete(r),Mn(r))},r},()=>{t()}]}var kc=[],Oc=[],_c=[];function $p(i){_c.push(i)}function Pc(i,t){typeof t=="function"?(i._x_cleanups||(i._x_cleanups=[]),i._x_cleanups.push(t)):(t=i,Oc.push(t))}function Vp(i){kc.push(i)}function Gp(i,t,e){i._x_attributeCleanups||(i._x_attributeCleanups={}),i._x_attributeCleanups[t]||(i._x_attributeCleanups[t]=[]),i._x_attributeCleanups[t].push(e)}function Ic(i,t){!i._x_attributeCleanups||Object.entries(i._x_attributeCleanups).forEach(([e,n])=>{(t===void 0||t.includes(e))&&(n.forEach(r=>r()),delete i._x_attributeCleanups[e])})}var Ws=new MutationObserver(Ys),js=!1;function Hs(){Ws.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),js=!0}function Nc(){Kp(),Ws.disconnect(),js=!1}var dn=[],wo=!1;function Kp(){dn=dn.concat(Ws.takeRecords()),dn.length&&!wo&&(wo=!0,queueMicrotask(()=>{Jp(),wo=!1}))}function Jp(){Ys(dn),dn.length=0}function Mt(i){if(!js)return i();Nc();let t=i();return Hs(),t}var zs=!1,dr=[];function Qp(){zs=!0}function Zp(){zs=!1,Ys(dr),dr=[]}function Ys(i){if(zs){dr=dr.concat(i);return}let t=[],e=[],n=new Map,r=new Map;for(let o=0;o<i.length;o++)if(!i[o].target._x_ignoreMutationObserver&&(i[o].type==="childList"&&(i[o].addedNodes.forEach(s=>s.nodeType===1&&t.push(s)),i[o].removedNodes.forEach(s=>s.nodeType===1&&e.push(s))),i[o].type==="attributes")){let s=i[o].target,a=i[o].attributeName,l=i[o].oldValue,c=()=>{n.has(s)||n.set(s,[]),n.get(s).push({name:a,value:s.getAttribute(a)})},d=()=>{r.has(s)||r.set(s,[]),r.get(s).push(a)};s.hasAttribute(a)&&l===null?c():s.hasAttribute(a)?(d(),c()):d()}r.forEach((o,s)=>{Ic(s,o)}),n.forEach((o,s)=>{kc.forEach(a=>a(s,o))});for(let o of e)if(!t.includes(o)&&(Oc.forEach(s=>s(o)),o._x_cleanups))for(;o._x_cleanups.length;)o._x_cleanups.pop()();t.forEach(o=>{o._x_ignoreSelf=!0,o._x_ignore=!0});for(let o of t)e.includes(o)||!o.isConnected||(delete o._x_ignoreSelf,delete o._x_ignore,_c.forEach(s=>s(o)),o._x_ignore=!0,o._x_ignoreSelf=!0);t.forEach(o=>{delete o._x_ignoreSelf,delete o._x_ignore}),t=null,e=null,n=null,r=null}function Bc(i){return kn(Wi(i))}function Ln(i,t,e){return i._x_dataStack=[t,...Wi(e||i)],()=>{i._x_dataStack=i._x_dataStack.filter(n=>n!==t)}}function Wi(i){return i._x_dataStack?i._x_dataStack:typeof ShadowRoot=="function"&&i instanceof ShadowRoot?Wi(i.host):i.parentNode?Wi(i.parentNode):[]}function kn(i){let t=new Proxy({},{ownKeys:()=>Array.from(new Set(i.flatMap(e=>Object.keys(e)))),has:(e,n)=>i.some(r=>r.hasOwnProperty(n)),get:(e,n)=>(i.find(r=>{if(r.hasOwnProperty(n)){let o=Object.getOwnPropertyDescriptor(r,n);if(o.get&&o.get._x_alreadyBound||o.set&&o.set._x_alreadyBound)return!0;if((o.get||o.set)&&o.enumerable){let s=o.get,a=o.set,l=o;s=s&&s.bind(t),a=a&&a.bind(t),s&&(s._x_alreadyBound=!0),a&&(a._x_alreadyBound=!0),Object.defineProperty(r,n,{...l,get:s,set:a})}return!0}return!1})||{})[n],set:(e,n,r)=>{let o=i.find(s=>s.hasOwnProperty(n));return o?o[n]=r:i[i.length-1][n]=r,!0}});return t}function Fc(i){let t=n=>typeof n=="object"&&!Array.isArray(n)&&n!==null,e=(n,r="")=>{Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([o,{value:s,enumerable:a}])=>{if(a===!1||s===void 0)return;let l=r===""?o:`${r}.${o}`;typeof s=="object"&&s!==null&&s._x_interceptor?n[o]=s.initialize(i,l,o):t(s)&&s!==n&&!(s instanceof Element)&&e(s,l)})};return e(i)}function Wc(i,t=()=>{}){let e={initialValue:void 0,_x_interceptor:!0,initialize(n,r,o){return i(this.initialValue,()=>tg(n,r),s=>rs(n,r,s),r,o)}};return t(e),n=>{if(typeof n=="object"&&n!==null&&n._x_interceptor){let r=e.initialize.bind(e);e.initialize=(o,s,a)=>{let l=n.initialize(o,s,a);return e.initialValue=l,r(o,s,a)}}else e.initialValue=n;return e}}function tg(i,t){return t.split(".").reduce((e,n)=>e[n],i)}function rs(i,t,e){if(typeof t=="string"&&(t=t.split(".")),t.length===1)i[t[0]]=e;else{if(t.length===0)throw error;return i[t[0]]||(i[t[0]]={}),rs(i[t[0]],t.slice(1),e)}}var jc={};function ce(i,t){jc[i]=t}function os(i,t){return Object.entries(jc).forEach(([e,n])=>{let r=null;function o(){if(r)return r;{let[s,a]=Uc(t);return r={interceptor:Wc,...s},Pc(t,a),r}}Object.defineProperty(i,`$${e}`,{get(){return n(t,o())},enumerable:!1})}),i}function eg(i,t,e,...n){try{return e(...n)}catch(r){Cn(r,i,t)}}function Cn(i,t,e=void 0){Object.assign(i,{el:t,expression:e}),console.warn(`Alpine Expression Error: ${i.message}

${e?'Expression: "'+e+`"

`:""}`,t),setTimeout(()=>{throw i},0)}var ir=!0;function ig(i){let t=ir;ir=!1,i(),ir=t}function Oi(i,t,e={}){let n;return Bt(i,t)(r=>n=r,e),n}function Bt(...i){return Hc(...i)}var Hc=zc;function ng(i){Hc=i}function zc(i,t){let e={};os(e,i);let n=[e,...Wi(i)],r=typeof t=="function"?rg(n,t):sg(n,t,i);return eg.bind(null,i,t,r)}function rg(i,t){return(e=()=>{},{scope:n={},params:r=[]}={})=>{let o=t.apply(kn([n,...i]),r);fr(e,o)}}var xo={};function og(i,t){if(xo[i])return xo[i];let e=Object.getPrototypeOf(async function(){}).constructor,n=/^[\n\s]*if.*\(.*\)/.test(i)||/^(let|const)\s/.test(i)?`(async()=>{ ${i} })()`:i,o=(()=>{try{return new e(["__self","scope"],`with (scope) { __self.result = ${n} }; __self.finished = true; return __self.result;`)}catch(s){return Cn(s,t,i),Promise.resolve()}})();return xo[i]=o,o}function sg(i,t,e){let n=og(t,e);return(r=()=>{},{scope:o={},params:s=[]}={})=>{n.result=void 0,n.finished=!1;let a=kn([o,...i]);if(typeof n=="function"){let l=n(n,a).catch(c=>Cn(c,e,t));n.finished?(fr(r,n.result,a,s,e),n.result=void 0):l.then(c=>{fr(r,c,a,s,e)}).catch(c=>Cn(c,e,t)).finally(()=>n.result=void 0)}}}function fr(i,t,e,n,r){if(ir&&typeof t=="function"){let o=t.apply(e,n);o instanceof Promise?o.then(s=>fr(i,s,e,n)).catch(s=>Cn(s,r,t)):i(o)}else typeof t=="object"&&t instanceof Promise?t.then(o=>i(o)):i(t)}var Xs="x-";function qi(i=""){return Xs+i}function ag(i){Xs=i}var ss={};function At(i,t){return ss[i]=t,{before(e){if(!ss[e]){console.warn("Cannot find directive `${directive}`. `${name}` will use the default order of execution");return}const n=ii.indexOf(e);ii.splice(n>=0?n:ii.indexOf("DEFAULT"),0,i)}}}function Us(i,t,e){if(t=Array.from(t),i._x_virtualDirectives){let o=Object.entries(i._x_virtualDirectives).map(([a,l])=>({name:a,value:l})),s=Yc(o);o=o.map(a=>s.find(l=>l.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),t=t.concat(o)}let n={};return t.map(Vc((o,s)=>n[o]=s)).filter(Kc).map(ug(n,e)).sort(hg).map(o=>cg(i,o))}function Yc(i){return Array.from(i).map(Vc()).filter(t=>!Kc(t))}var as=!1,an=new Map,Xc=Symbol();function lg(i){as=!0;let t=Symbol();Xc=t,an.set(t,[]);let e=()=>{for(;an.get(t).length;)an.get(t).shift()();an.delete(t)},n=()=>{as=!1,e()};i(e),n()}function Uc(i){let t=[],e=a=>t.push(a),[n,r]=qp(i);return t.push(r),[{Alpine:_n,effect:n,cleanup:e,evaluateLater:Bt.bind(Bt,i),evaluate:Oi.bind(Oi,i)},()=>t.forEach(a=>a())]}function cg(i,t){let e=()=>{},n=ss[t.type]||e,[r,o]=Uc(i);Gp(i,t.original,o);let s=()=>{i._x_ignore||i._x_ignoreSelf||(n.inline&&n.inline(i,t,r),n=n.bind(n,i,t,r),as?an.get(Xc).push(n):n())};return s.runCleanups=o,s}var qc=(i,t)=>({name:e,value:n})=>(e.startsWith(i)&&(e=e.replace(i,t)),{name:e,value:n}),$c=i=>i;function Vc(i=()=>{}){return({name:t,value:e})=>{let{name:n,value:r}=Gc.reduce((o,s)=>s(o),{name:t,value:e});return n!==t&&i(n,t),{name:n,value:r}}}var Gc=[];function qs(i){Gc.push(i)}function Kc({name:i}){return Jc().test(i)}var Jc=()=>new RegExp(`^${Xs}([^:^.]+)\\b`);function ug(i,t){return({name:e,value:n})=>{let r=e.match(Jc()),o=e.match(/:([a-zA-Z0-9\-:]+)/),s=e.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=t||i[e]||e;return{type:r?r[1]:null,value:o?o[1]:null,modifiers:s.map(l=>l.replace(".","")),expression:n,original:a}}}var ls="DEFAULT",ii=["ignore","ref","data","id","bind","init","for","model","modelable","transition","show","if",ls,"teleport"];function hg(i,t){let e=ii.indexOf(i.type)===-1?ls:i.type,n=ii.indexOf(t.type)===-1?ls:t.type;return ii.indexOf(e)-ii.indexOf(n)}function fn(i,t,e={}){i.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:!0,composed:!0,cancelable:!0}))}function ze(i,t){if(typeof ShadowRoot=="function"&&i instanceof ShadowRoot){Array.from(i.children).forEach(r=>ze(r,t));return}let e=!1;if(t(i,()=>e=!0),e)return;let n=i.firstElementChild;for(;n;)ze(n,t),n=n.nextElementSibling}function Ye(i,...t){console.warn(`Alpine Warning: ${i}`,...t)}var ll=!1;function dg(){ll&&Ye("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),ll=!0,document.body||Ye("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),fn(document,"alpine:init"),fn(document,"alpine:initializing"),Hs(),$p(t=>Xe(t,ze)),Pc(t=>ru(t)),Vp((t,e)=>{Us(t,e).forEach(n=>n())});let i=t=>!kr(t.parentElement,!0);Array.from(document.querySelectorAll(tu())).filter(i).forEach(t=>{Xe(t)}),fn(document,"alpine:initialized")}var $s=[],Qc=[];function Zc(){return $s.map(i=>i())}function tu(){return $s.concat(Qc).map(i=>i())}function eu(i){$s.push(i)}function iu(i){Qc.push(i)}function kr(i,t=!1){return Or(i,e=>{if((t?tu():Zc()).some(r=>e.matches(r)))return!0})}function Or(i,t){if(!!i){if(t(i))return i;if(i._x_teleportBack&&(i=i._x_teleportBack),!!i.parentElement)return Or(i.parentElement,t)}}function fg(i){return Zc().some(t=>i.matches(t))}var nu=[];function pg(i){nu.push(i)}function Xe(i,t=ze,e=()=>{}){lg(()=>{t(i,(n,r)=>{e(n,r),nu.forEach(o=>o(n,r)),Us(n,n.attributes).forEach(o=>o()),n._x_ignore&&r()})})}function ru(i){ze(i,t=>Ic(t))}var cs=[],Vs=!1;function Gs(i=()=>{}){return queueMicrotask(()=>{Vs||setTimeout(()=>{us()})}),new Promise(t=>{cs.push(()=>{i(),t()})})}function us(){for(Vs=!1;cs.length;)cs.shift()()}function gg(){Vs=!0}function Ks(i,t){return Array.isArray(t)?cl(i,t.join(" ")):typeof t=="object"&&t!==null?mg(i,t):typeof t=="function"?Ks(i,t()):cl(i,t)}function cl(i,t){let e=r=>r.split(" ").filter(o=>!i.classList.contains(o)).filter(Boolean),n=r=>(i.classList.add(...r),()=>{i.classList.remove(...r)});return t=t===!0?t="":t||"",n(e(t))}function mg(i,t){let e=a=>a.split(" ").filter(Boolean),n=Object.entries(t).flatMap(([a,l])=>l?e(a):!1).filter(Boolean),r=Object.entries(t).flatMap(([a,l])=>l?!1:e(a)).filter(Boolean),o=[],s=[];return r.forEach(a=>{i.classList.contains(a)&&(i.classList.remove(a),s.push(a))}),n.forEach(a=>{i.classList.contains(a)||(i.classList.add(a),o.push(a))}),()=>{s.forEach(a=>i.classList.add(a)),o.forEach(a=>i.classList.remove(a))}}function _r(i,t){return typeof t=="object"&&t!==null?vg(i,t):bg(i,t)}function vg(i,t){let e={};return Object.entries(t).forEach(([n,r])=>{e[n]=i.style[n],n.startsWith("--")||(n=yg(n)),i.style.setProperty(n,r)}),setTimeout(()=>{i.style.length===0&&i.removeAttribute("style")}),()=>{_r(i,e)}}function bg(i,t){let e=i.getAttribute("style",t);return i.setAttribute("style",t),()=>{i.setAttribute("style",e||"")}}function yg(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function hs(i,t=()=>{}){let e=!1;return function(){e?t.apply(this,arguments):(e=!0,i.apply(this,arguments))}}At("transition",(i,{value:t,modifiers:e,expression:n},{evaluate:r})=>{typeof n=="function"&&(n=r(n)),n!==!1&&(!n||typeof n=="boolean"?xg(i,e,t):wg(i,n,t))});function wg(i,t,e){ou(i,Ks,""),{enter:r=>{i._x_transition.enter.during=r},"enter-start":r=>{i._x_transition.enter.start=r},"enter-end":r=>{i._x_transition.enter.end=r},leave:r=>{i._x_transition.leave.during=r},"leave-start":r=>{i._x_transition.leave.start=r},"leave-end":r=>{i._x_transition.leave.end=r}}[e](t)}function xg(i,t,e){ou(i,_r);let n=!t.includes("in")&&!t.includes("out")&&!e,r=n||t.includes("in")||["enter"].includes(e),o=n||t.includes("out")||["leave"].includes(e);t.includes("in")&&!n&&(t=t.filter((E,R)=>R<t.indexOf("out"))),t.includes("out")&&!n&&(t=t.filter((E,R)=>R>t.indexOf("out")));let s=!t.includes("opacity")&&!t.includes("scale"),a=s||t.includes("opacity"),l=s||t.includes("scale"),c=a?0:1,d=l?en(t,"scale",95)/100:1,p=en(t,"delay",0)/1e3,g=en(t,"origin","center"),y="opacity, transform",x=en(t,"duration",150)/1e3,S=en(t,"duration",75)/1e3,C="cubic-bezier(0.4, 0.0, 0.2, 1)";r&&(i._x_transition.enter.during={transformOrigin:g,transitionDelay:`${p}s`,transitionProperty:y,transitionDuration:`${x}s`,transitionTimingFunction:C},i._x_transition.enter.start={opacity:c,transform:`scale(${d})`},i._x_transition.enter.end={opacity:1,transform:"scale(1)"}),o&&(i._x_transition.leave.during={transformOrigin:g,transitionDelay:`${p}s`,transitionProperty:y,transitionDuration:`${S}s`,transitionTimingFunction:C},i._x_transition.leave.start={opacity:1,transform:"scale(1)"},i._x_transition.leave.end={opacity:c,transform:`scale(${d})`})}function ou(i,t,e={}){i._x_transition||(i._x_transition={enter:{during:e,start:e,end:e},leave:{during:e,start:e,end:e},in(n=()=>{},r=()=>{}){ds(i,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},n,r)},out(n=()=>{},r=()=>{}){ds(i,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},n,r)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(i,t,e,n){const r=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let o=()=>r(e);if(t){i._x_transition&&(i._x_transition.enter||i._x_transition.leave)?i._x_transition.enter&&(Object.entries(i._x_transition.enter.during).length||Object.entries(i._x_transition.enter.start).length||Object.entries(i._x_transition.enter.end).length)?i._x_transition.in(e):o():i._x_transition?i._x_transition.in(e):o();return}i._x_hidePromise=i._x_transition?new Promise((s,a)=>{i._x_transition.out(()=>{},()=>s(n)),i._x_transitioning.beforeCancel(()=>a({isFromCancelledTransition:!0}))}):Promise.resolve(n),queueMicrotask(()=>{let s=su(i);s?(s._x_hideChildren||(s._x_hideChildren=[]),s._x_hideChildren.push(i)):r(()=>{let a=l=>{let c=Promise.all([l._x_hidePromise,...(l._x_hideChildren||[]).map(a)]).then(([d])=>d());return delete l._x_hidePromise,delete l._x_hideChildren,c};a(i).catch(l=>{if(!l.isFromCancelledTransition)throw l})})})};function su(i){let t=i.parentNode;if(!!t)return t._x_hidePromise?t:su(t)}function ds(i,t,{during:e,start:n,end:r}={},o=()=>{},s=()=>{}){if(i._x_transitioning&&i._x_transitioning.cancel(),Object.keys(e).length===0&&Object.keys(n).length===0&&Object.keys(r).length===0){o(),s();return}let a,l,c;Ag(i,{start(){a=t(i,n)},during(){l=t(i,e)},before:o,end(){a(),c=t(i,r)},after:s,cleanup(){l(),c()}})}function Ag(i,t){let e,n,r,o=hs(()=>{Mt(()=>{e=!0,n||t.before(),r||(t.end(),us()),t.after(),i.isConnected&&t.cleanup(),delete i._x_transitioning})});i._x_transitioning={beforeCancels:[],beforeCancel(s){this.beforeCancels.push(s)},cancel:hs(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();o()}),finish:o},Mt(()=>{t.start(),t.during()}),gg(),requestAnimationFrame(()=>{if(e)return;let s=Number(getComputedStyle(i).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,a=Number(getComputedStyle(i).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;s===0&&(s=Number(getComputedStyle(i).animationDuration.replace("s",""))*1e3),Mt(()=>{t.before()}),n=!0,requestAnimationFrame(()=>{e||(Mt(()=>{t.end()}),us(),setTimeout(i._x_transitioning.finish,s+a),r=!0)})})}function en(i,t,e){if(i.indexOf(t)===-1)return e;const n=i[i.indexOf(t)+1];if(!n||t==="scale"&&isNaN(n))return e;if(t==="duration"||t==="delay"){let r=n.match(/([0-9]+)ms/);if(r)return r[1]}return t==="origin"&&["top","right","left","center","bottom"].includes(i[i.indexOf(t)+2])?[n,i[i.indexOf(t)+2]].join(" "):n}var Tn=!1;function On(i,t=()=>{}){return(...e)=>Tn?t(...e):i(...e)}function Sg(i){return(...t)=>Tn&&i(...t)}function Eg(i,t){t._x_dataStack||(t._x_dataStack=i._x_dataStack),Tn=!0,Tg(()=>{Cg(t)}),Tn=!1}function Cg(i){let t=!1;Xe(i,(n,r)=>{ze(n,(o,s)=>{if(t&&fg(o))return s();t=!0,r(o,s)})})}function Tg(i){let t=Ui;al((e,n)=>{let r=t(e);return Mn(r),()=>{}}),i(),al(t)}function au(i,t,e,n=[]){switch(i._x_bindings||(i._x_bindings=Xi({})),i._x_bindings[t]=e,t=n.includes("camel")?Pg(t):t,t){case"value":Dg(i,e);break;case"style":Mg(i,e);break;case"class":Rg(i,e);break;case"selected":case"checked":Lg(i,t,e);break;default:lu(i,t,e);break}}function Dg(i,t){if(i.type==="radio")i.attributes.value===void 0&&(i.value=t),window.fromModel&&(i.checked=ul(i.value,t));else if(i.type==="checkbox")Number.isInteger(t)?i.value=t:!Number.isInteger(t)&&!Array.isArray(t)&&typeof t!="boolean"&&![null,void 0].includes(t)?i.value=String(t):Array.isArray(t)?i.checked=t.some(e=>ul(e,i.value)):i.checked=!!t;else if(i.tagName==="SELECT")_g(i,t);else{if(i.value===t)return;i.value=t}}function Rg(i,t){i._x_undoAddedClasses&&i._x_undoAddedClasses(),i._x_undoAddedClasses=Ks(i,t)}function Mg(i,t){i._x_undoAddedStyles&&i._x_undoAddedStyles(),i._x_undoAddedStyles=_r(i,t)}function Lg(i,t,e){lu(i,t,e),Og(i,t,e)}function lu(i,t,e){[null,void 0,!1].includes(e)&&Ig(t)?i.removeAttribute(t):(cu(t)&&(e=t),kg(i,t,e))}function kg(i,t,e){i.getAttribute(t)!=e&&i.setAttribute(t,e)}function Og(i,t,e){i[t]!==e&&(i[t]=e)}function _g(i,t){const e=[].concat(t).map(n=>n+"");Array.from(i.options).forEach(n=>{n.selected=e.includes(n.value)})}function Pg(i){return i.toLowerCase().replace(/-(\w)/g,(t,e)=>e.toUpperCase())}function ul(i,t){return i==t}function cu(i){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(i)}function Ig(i){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(i)}function Ng(i,t,e){if(i._x_bindings&&i._x_bindings[t]!==void 0)return i._x_bindings[t];let n=i.getAttribute(t);return n===null?typeof e=="function"?e():e:n===""?!0:cu(t)?!![t,"true"].includes(n):n}function uu(i,t){var e;return function(){var n=this,r=arguments,o=function(){e=null,i.apply(n,r)};clearTimeout(e),e=setTimeout(o,t)}}function hu(i,t){let e;return function(){let n=this,r=arguments;e||(i.apply(n,r),e=!0,setTimeout(()=>e=!1,t))}}function Bg(i){(Array.isArray(i)?i:[i]).forEach(e=>e(_n))}var Ze={},hl=!1;function Fg(i,t){if(hl||(Ze=Xi(Ze),hl=!0),t===void 0)return Ze[i];Ze[i]=t,typeof t=="object"&&t!==null&&t.hasOwnProperty("init")&&typeof t.init=="function"&&Ze[i].init(),Fc(Ze[i])}function Wg(){return Ze}var du={};function jg(i,t){let e=typeof t!="function"?()=>t:t;i instanceof Element?fu(i,e()):du[i]=e}function Hg(i){return Object.entries(du).forEach(([t,e])=>{Object.defineProperty(i,t,{get(){return(...n)=>e(...n)}})}),i}function fu(i,t,e){let n=[];for(;n.length;)n.pop()();let r=Object.entries(t).map(([s,a])=>({name:s,value:a})),o=Yc(r);r=r.map(s=>o.find(a=>a.name===s.name)?{name:`x-bind:${s.name}`,value:`"${s.value}"`}:s),Us(i,r,e).map(s=>{n.push(s.runCleanups),s()})}var pu={};function zg(i,t){pu[i]=t}function Yg(i,t){return Object.entries(pu).forEach(([e,n])=>{Object.defineProperty(i,e,{get(){return(...r)=>n.bind(t)(...r)},enumerable:!1})}),i}var Xg={get reactive(){return Xi},get release(){return Mn},get effect(){return Ui},get raw(){return Lc},version:"3.12.2",flushAndStopDeferringMutations:Zp,dontAutoEvaluateFunctions:ig,disableEffectScheduling:Xp,startObservingMutations:Hs,stopObservingMutations:Nc,setReactivityEngine:Up,closestDataStack:Wi,skipDuringClone:On,onlyDuringClone:Sg,addRootSelector:eu,addInitSelector:iu,addScopeToNode:Ln,deferMutations:Qp,mapAttributes:qs,evaluateLater:Bt,interceptInit:pg,setEvaluator:ng,mergeProxies:kn,findClosest:Or,closestRoot:kr,destroyTree:ru,interceptor:Wc,transition:ds,setStyles:_r,mutateDom:Mt,directive:At,throttle:hu,debounce:uu,evaluate:Oi,initTree:Xe,nextTick:Gs,prefixed:qi,prefix:ag,plugin:Bg,magic:ce,store:Fg,start:dg,clone:Eg,bound:Ng,$data:Bc,walk:ze,data:zg,bind:jg},_n=Xg;function Ug(i,t){const e=Object.create(null),n=i.split(",");for(let r=0;r<n.length;r++)e[n[r]]=!0;return t?r=>!!e[r.toLowerCase()]:r=>!!e[r]}var qg=Object.freeze({});Object.freeze([]);var gu=Object.assign,$g=Object.prototype.hasOwnProperty,Pr=(i,t)=>$g.call(i,t),oi=Array.isArray,pn=i=>mu(i)==="[object Map]",Vg=i=>typeof i=="string",Js=i=>typeof i=="symbol",Ir=i=>i!==null&&typeof i=="object",Gg=Object.prototype.toString,mu=i=>Gg.call(i),vu=i=>mu(i).slice(8,-1),Qs=i=>Vg(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,Kg=i=>{const t=Object.create(null);return e=>t[e]||(t[e]=i(e))},Jg=Kg(i=>i.charAt(0).toUpperCase()+i.slice(1)),bu=(i,t)=>i!==t&&(i===i||t===t),fs=new WeakMap,nn=[],fe,si=Symbol("iterate"),ps=Symbol("Map key iterate");function Qg(i){return i&&i._isEffect===!0}function Zg(i,t=qg){Qg(i)&&(i=i.raw);const e=im(i,t);return t.lazy||e(),e}function tm(i){i.active&&(yu(i),i.options.onStop&&i.options.onStop(),i.active=!1)}var em=0;function im(i,t){const e=function(){if(!e.active)return i();if(!nn.includes(e)){yu(e);try{return rm(),nn.push(e),fe=e,i()}finally{nn.pop(),wu(),fe=nn[nn.length-1]}}};return e.id=em++,e.allowRecurse=!!t.allowRecurse,e._isEffect=!0,e.active=!0,e.raw=i,e.deps=[],e.options=t,e}function yu(i){const{deps:t}=i;if(t.length){for(let e=0;e<t.length;e++)t[e].delete(i);t.length=0}}var ji=!0,Zs=[];function nm(){Zs.push(ji),ji=!1}function rm(){Zs.push(ji),ji=!0}function wu(){const i=Zs.pop();ji=i===void 0?!0:i}function le(i,t,e){if(!ji||fe===void 0)return;let n=fs.get(i);n||fs.set(i,n=new Map);let r=n.get(e);r||n.set(e,r=new Set),r.has(fe)||(r.add(fe),fe.deps.push(r),fe.options.onTrack&&fe.options.onTrack({effect:fe,target:i,type:t,key:e}))}function Ue(i,t,e,n,r,o){const s=fs.get(i);if(!s)return;const a=new Set,l=d=>{d&&d.forEach(p=>{(p!==fe||p.allowRecurse)&&a.add(p)})};if(t==="clear")s.forEach(l);else if(e==="length"&&oi(i))s.forEach((d,p)=>{(p==="length"||p>=n)&&l(d)});else switch(e!==void 0&&l(s.get(e)),t){case"add":oi(i)?Qs(e)&&l(s.get("length")):(l(s.get(si)),pn(i)&&l(s.get(ps)));break;case"delete":oi(i)||(l(s.get(si)),pn(i)&&l(s.get(ps)));break;case"set":pn(i)&&l(s.get(si));break}const c=d=>{d.options.onTrigger&&d.options.onTrigger({effect:d,target:i,key:e,type:t,newValue:n,oldValue:r,oldTarget:o}),d.options.scheduler?d.options.scheduler(d):d()};a.forEach(c)}var om=Ug("__proto__,__v_isRef,__isVue"),xu=new Set(Object.getOwnPropertyNames(Symbol).map(i=>Symbol[i]).filter(Js)),sm=Nr(),am=Nr(!1,!0),lm=Nr(!0),cm=Nr(!0,!0),pr={};["includes","indexOf","lastIndexOf"].forEach(i=>{const t=Array.prototype[i];pr[i]=function(...e){const n=ut(this);for(let o=0,s=this.length;o<s;o++)le(n,"get",o+"");const r=t.apply(n,e);return r===-1||r===!1?t.apply(n,e.map(ut)):r}});["push","pop","shift","unshift","splice"].forEach(i=>{const t=Array.prototype[i];pr[i]=function(...e){nm();const n=t.apply(this,e);return wu(),n}});function Nr(i=!1,t=!1){return function(n,r,o){if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_raw"&&o===(i?t?ym:Nu:t?bm:Iu).get(n))return n;const s=oi(n);if(!i&&s&&Pr(pr,r))return Reflect.get(pr,r,o);const a=Reflect.get(n,r,o);return(Js(r)?xu.has(r):om(r))||(i||le(n,"get",r),t)?a:gs(a)?!s||!Qs(r)?a.value:a:Ir(a)?i?Bu(a):na(a):a}}var um=Au(),hm=Au(!0);function Au(i=!1){return function(e,n,r,o){let s=e[n];if(!i&&(r=ut(r),s=ut(s),!oi(e)&&gs(s)&&!gs(r)))return s.value=r,!0;const a=oi(e)&&Qs(n)?Number(n)<e.length:Pr(e,n),l=Reflect.set(e,n,r,o);return e===ut(o)&&(a?bu(r,s)&&Ue(e,"set",n,r,s):Ue(e,"add",n,r)),l}}function dm(i,t){const e=Pr(i,t),n=i[t],r=Reflect.deleteProperty(i,t);return r&&e&&Ue(i,"delete",t,void 0,n),r}function fm(i,t){const e=Reflect.has(i,t);return(!Js(t)||!xu.has(t))&&le(i,"has",t),e}function pm(i){return le(i,"iterate",oi(i)?"length":si),Reflect.ownKeys(i)}var Su={get:sm,set:um,deleteProperty:dm,has:fm,ownKeys:pm},Eu={get:lm,set(i,t){return console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,i),!0},deleteProperty(i,t){return console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,i),!0}};gu({},Su,{get:am,set:hm});gu({},Eu,{get:cm});var ta=i=>Ir(i)?na(i):i,ea=i=>Ir(i)?Bu(i):i,ia=i=>i,Br=i=>Reflect.getPrototypeOf(i);function Fr(i,t,e=!1,n=!1){i=i.__v_raw;const r=ut(i),o=ut(t);t!==o&&!e&&le(r,"get",t),!e&&le(r,"get",o);const{has:s}=Br(r),a=n?ia:e?ea:ta;if(s.call(r,t))return a(i.get(t));if(s.call(r,o))return a(i.get(o));i!==r&&i.get(t)}function Wr(i,t=!1){const e=this.__v_raw,n=ut(e),r=ut(i);return i!==r&&!t&&le(n,"has",i),!t&&le(n,"has",r),i===r?e.has(i):e.has(i)||e.has(r)}function jr(i,t=!1){return i=i.__v_raw,!t&&le(ut(i),"iterate",si),Reflect.get(i,"size",i)}function Cu(i){i=ut(i);const t=ut(this);return Br(t).has.call(t,i)||(t.add(i),Ue(t,"add",i,i)),this}function Tu(i,t){t=ut(t);const e=ut(this),{has:n,get:r}=Br(e);let o=n.call(e,i);o?Pu(e,n,i):(i=ut(i),o=n.call(e,i));const s=r.call(e,i);return e.set(i,t),o?bu(t,s)&&Ue(e,"set",i,t,s):Ue(e,"add",i,t),this}function Du(i){const t=ut(this),{has:e,get:n}=Br(t);let r=e.call(t,i);r?Pu(t,e,i):(i=ut(i),r=e.call(t,i));const o=n?n.call(t,i):void 0,s=t.delete(i);return r&&Ue(t,"delete",i,void 0,o),s}function Ru(){const i=ut(this),t=i.size!==0,e=pn(i)?new Map(i):new Set(i),n=i.clear();return t&&Ue(i,"clear",void 0,void 0,e),n}function Hr(i,t){return function(n,r){const o=this,s=o.__v_raw,a=ut(s),l=t?ia:i?ea:ta;return!i&&le(a,"iterate",si),s.forEach((c,d)=>n.call(r,l(c),l(d),o))}}function Un(i,t,e){return function(...n){const r=this.__v_raw,o=ut(r),s=pn(o),a=i==="entries"||i===Symbol.iterator&&s,l=i==="keys"&&s,c=r[i](...n),d=e?ia:t?ea:ta;return!t&&le(o,"iterate",l?ps:si),{next(){const{value:p,done:g}=c.next();return g?{value:p,done:g}:{value:a?[d(p[0]),d(p[1])]:d(p),done:g}},[Symbol.iterator](){return this}}}}function We(i){return function(...t){{const e=t[0]?`on key "${t[0]}" `:"";console.warn(`${Jg(i)} operation ${e}failed: target is readonly.`,ut(this))}return i==="delete"?!1:this}}var Mu={get(i){return Fr(this,i)},get size(){return jr(this)},has:Wr,add:Cu,set:Tu,delete:Du,clear:Ru,forEach:Hr(!1,!1)},Lu={get(i){return Fr(this,i,!1,!0)},get size(){return jr(this)},has:Wr,add:Cu,set:Tu,delete:Du,clear:Ru,forEach:Hr(!1,!0)},ku={get(i){return Fr(this,i,!0)},get size(){return jr(this,!0)},has(i){return Wr.call(this,i,!0)},add:We("add"),set:We("set"),delete:We("delete"),clear:We("clear"),forEach:Hr(!0,!1)},Ou={get(i){return Fr(this,i,!0,!0)},get size(){return jr(this,!0)},has(i){return Wr.call(this,i,!0)},add:We("add"),set:We("set"),delete:We("delete"),clear:We("clear"),forEach:Hr(!0,!0)},gm=["keys","values","entries",Symbol.iterator];gm.forEach(i=>{Mu[i]=Un(i,!1,!1),ku[i]=Un(i,!0,!1),Lu[i]=Un(i,!1,!0),Ou[i]=Un(i,!0,!0)});function _u(i,t){const e=t?i?Ou:Lu:i?ku:Mu;return(n,r,o)=>r==="__v_isReactive"?!i:r==="__v_isReadonly"?i:r==="__v_raw"?n:Reflect.get(Pr(e,r)&&r in n?e:n,r,o)}var mm={get:_u(!1,!1)},vm={get:_u(!0,!1)};function Pu(i,t,e){const n=ut(e);if(n!==e&&t.call(i,n)){const r=vu(i);console.warn(`Reactive ${r} contains both the raw and reactive versions of the same object${r==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var Iu=new WeakMap,bm=new WeakMap,Nu=new WeakMap,ym=new WeakMap;function wm(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function xm(i){return i.__v_skip||!Object.isExtensible(i)?0:wm(vu(i))}function na(i){return i&&i.__v_isReadonly?i:Fu(i,!1,Su,mm,Iu)}function Bu(i){return Fu(i,!0,Eu,vm,Nu)}function Fu(i,t,e,n,r){if(!Ir(i))return console.warn(`value cannot be made reactive: ${String(i)}`),i;if(i.__v_raw&&!(t&&i.__v_isReactive))return i;const o=r.get(i);if(o)return o;const s=xm(i);if(s===0)return i;const a=new Proxy(i,s===2?n:e);return r.set(i,a),a}function ut(i){return i&&ut(i.__v_raw)||i}function gs(i){return Boolean(i&&i.__v_isRef===!0)}ce("nextTick",()=>Gs);ce("dispatch",i=>fn.bind(fn,i));ce("watch",(i,{evaluateLater:t,effect:e})=>(n,r)=>{let o=t(n),s=!0,a,l=e(()=>o(c=>{JSON.stringify(c),s?a=c:queueMicrotask(()=>{r(c,a),a=c}),s=!1}));i._x_effects.delete(l)});ce("store",Wg);ce("data",i=>Bc(i));ce("root",i=>kr(i));ce("refs",i=>(i._x_refs_proxy||(i._x_refs_proxy=kn(Am(i))),i._x_refs_proxy));function Am(i){let t=[],e=i;for(;e;)e._x_refs&&t.push(e._x_refs),e=e.parentNode;return t}var Ao={};function Wu(i){return Ao[i]||(Ao[i]=0),++Ao[i]}function Sm(i,t){return Or(i,e=>{if(e._x_ids&&e._x_ids[t])return!0})}function Em(i,t){i._x_ids||(i._x_ids={}),i._x_ids[t]||(i._x_ids[t]=Wu(t))}ce("id",i=>(t,e=null)=>{let n=Sm(i,t),r=n?n._x_ids[t]:Wu(t);return e?`${t}-${r}-${e}`:`${t}-${r}`});ce("el",i=>i);ju("Focus","focus","focus");ju("Persist","persist","persist");function ju(i,t,e){ce(t,n=>Ye(`You can't use [$${directiveName}] without first installing the "${i}" plugin here: https://alpinejs.dev/plugins/${e}`,n))}function Cm({get:i,set:t},{get:e,set:n}){let r=!0,o,s,a=Ui(()=>{let l,c;r?(l=i(),n(l),c=e(),r=!1):(l=i(),c=e(),s=JSON.stringify(l),JSON.stringify(c),s!==o?(c=e(),n(l),c=l):(t(c),l=c)),o=JSON.stringify(l),JSON.stringify(c)});return()=>{Mn(a)}}At("modelable",(i,{expression:t},{effect:e,evaluateLater:n,cleanup:r})=>{let o=n(t),s=()=>{let d;return o(p=>d=p),d},a=n(`${t} = __placeholder`),l=d=>a(()=>{},{scope:{__placeholder:d}}),c=s();l(c),queueMicrotask(()=>{if(!i._x_model)return;i._x_removeModelListeners.default();let d=i._x_model.get,p=i._x_model.set,g=Cm({get(){return d()},set(y){p(y)}},{get(){return s()},set(y){l(y)}});r(g)})});var Tm=document.createElement("div");At("teleport",(i,{modifiers:t,expression:e},{cleanup:n})=>{i.tagName.toLowerCase()!=="template"&&Ye("x-teleport can only be used on a <template> tag",i);let r=On(()=>document.querySelector(e),()=>Tm)();r||Ye(`Cannot find x-teleport element for selector: "${e}"`);let o=i.content.cloneNode(!0).firstElementChild;i._x_teleport=o,o._x_teleportBack=i,i._x_forwardEvents&&i._x_forwardEvents.forEach(s=>{o.addEventListener(s,a=>{a.stopPropagation(),i.dispatchEvent(new a.constructor(a.type,a))})}),Ln(o,{},i),Mt(()=>{t.includes("prepend")?r.parentNode.insertBefore(o,r):t.includes("append")?r.parentNode.insertBefore(o,r.nextSibling):r.appendChild(o),Xe(o),o._x_ignore=!0}),n(()=>o.remove())});var Hu=()=>{};Hu.inline=(i,{modifiers:t},{cleanup:e})=>{t.includes("self")?i._x_ignoreSelf=!0:i._x_ignore=!0,e(()=>{t.includes("self")?delete i._x_ignoreSelf:delete i._x_ignore})};At("ignore",Hu);At("effect",(i,{expression:t},{effect:e})=>e(Bt(i,t)));function ms(i,t,e,n){let r=i,o=l=>n(l),s={},a=(l,c)=>d=>c(l,d);if(e.includes("dot")&&(t=Dm(t)),e.includes("camel")&&(t=Rm(t)),e.includes("passive")&&(s.passive=!0),e.includes("capture")&&(s.capture=!0),e.includes("window")&&(r=window),e.includes("document")&&(r=document),e.includes("debounce")){let l=e[e.indexOf("debounce")+1]||"invalid-wait",c=gr(l.split("ms")[0])?Number(l.split("ms")[0]):250;o=uu(o,c)}if(e.includes("throttle")){let l=e[e.indexOf("throttle")+1]||"invalid-wait",c=gr(l.split("ms")[0])?Number(l.split("ms")[0]):250;o=hu(o,c)}return e.includes("prevent")&&(o=a(o,(l,c)=>{c.preventDefault(),l(c)})),e.includes("stop")&&(o=a(o,(l,c)=>{c.stopPropagation(),l(c)})),e.includes("self")&&(o=a(o,(l,c)=>{c.target===i&&l(c)})),(e.includes("away")||e.includes("outside"))&&(r=document,o=a(o,(l,c)=>{i.contains(c.target)||c.target.isConnected!==!1&&(i.offsetWidth<1&&i.offsetHeight<1||i._x_isShown!==!1&&l(c))})),e.includes("once")&&(o=a(o,(l,c)=>{l(c),r.removeEventListener(t,o,s)})),o=a(o,(l,c)=>{Lm(t)&&km(c,e)||l(c)}),r.addEventListener(t,o,s),()=>{r.removeEventListener(t,o,s)}}function Dm(i){return i.replace(/-/g,".")}function Rm(i){return i.toLowerCase().replace(/-(\w)/g,(t,e)=>e.toUpperCase())}function gr(i){return!Array.isArray(i)&&!isNaN(i)}function Mm(i){return[" ","_"].includes(i)?i:i.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function Lm(i){return["keydown","keyup"].includes(i)}function km(i,t){let e=t.filter(o=>!["window","document","prevent","stop","once","capture"].includes(o));if(e.includes("debounce")){let o=e.indexOf("debounce");e.splice(o,gr((e[o+1]||"invalid-wait").split("ms")[0])?2:1)}if(e.includes("throttle")){let o=e.indexOf("throttle");e.splice(o,gr((e[o+1]||"invalid-wait").split("ms")[0])?2:1)}if(e.length===0||e.length===1&&dl(i.key).includes(e[0]))return!1;const r=["ctrl","shift","alt","meta","cmd","super"].filter(o=>e.includes(o));return e=e.filter(o=>!r.includes(o)),!(r.length>0&&r.filter(s=>((s==="cmd"||s==="super")&&(s="meta"),i[`${s}Key`])).length===r.length&&dl(i.key).includes(e[0]))}function dl(i){if(!i)return[];i=Mm(i);let t={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return t[i]=i,Object.keys(t).map(e=>{if(t[e]===i)return e}).filter(e=>e)}At("model",(i,{modifiers:t,expression:e},{effect:n,cleanup:r})=>{let o=i;t.includes("parent")&&(o=i.parentNode);let s=Bt(o,e),a;typeof e=="string"?a=Bt(o,`${e} = __placeholder`):typeof e=="function"&&typeof e()=="string"?a=Bt(o,`${e()} = __placeholder`):a=()=>{};let l=()=>{let g;return s(y=>g=y),fl(g)?g.get():g},c=g=>{let y;s(x=>y=x),fl(y)?y.set(g):a(()=>{},{scope:{__placeholder:g}})};typeof e=="string"&&i.type==="radio"&&Mt(()=>{i.hasAttribute("name")||i.setAttribute("name",e)});var d=i.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(i.type)||t.includes("lazy")?"change":"input";let p=Tn?()=>{}:ms(i,d,t,g=>{c(Om(i,t,g,l()))});if(t.includes("fill")&&[null,""].includes(l())&&i.dispatchEvent(new Event(d,{})),i._x_removeModelListeners||(i._x_removeModelListeners={}),i._x_removeModelListeners.default=p,r(()=>i._x_removeModelListeners.default()),i.form){let g=ms(i.form,"reset",[],y=>{Gs(()=>i._x_model&&i._x_model.set(i.value))});r(()=>g())}i._x_model={get(){return l()},set(g){c(g)}},i._x_forceModelUpdate=g=>{g=g===void 0?l():g,g===void 0&&typeof e=="string"&&e.match(/\./)&&(g=""),window.fromModel=!0,Mt(()=>au(i,"value",g)),delete window.fromModel},n(()=>{let g=l();t.includes("unintrusive")&&document.activeElement.isSameNode(i)||i._x_forceModelUpdate(g)})});function Om(i,t,e,n){return Mt(()=>{var r;if(e instanceof CustomEvent&&e.detail!==void 0)return(r=e.detail)!=null?r:e.target.value;if(i.type==="checkbox")if(Array.isArray(n)){let o=t.includes("number")?So(e.target.value):e.target.value;return e.target.checked?n.concat([o]):n.filter(s=>!_m(s,o))}else return e.target.checked;else{if(i.tagName.toLowerCase()==="select"&&i.multiple)return t.includes("number")?Array.from(e.target.selectedOptions).map(o=>{let s=o.value||o.text;return So(s)}):Array.from(e.target.selectedOptions).map(o=>o.value||o.text);{let o=e.target.value;return t.includes("number")?So(o):t.includes("trim")?o.trim():o}}})}function So(i){let t=i?parseFloat(i):null;return Pm(t)?t:i}function _m(i,t){return i==t}function Pm(i){return!Array.isArray(i)&&!isNaN(i)}function fl(i){return i!==null&&typeof i=="object"&&typeof i.get=="function"&&typeof i.set=="function"}At("cloak",i=>queueMicrotask(()=>Mt(()=>i.removeAttribute(qi("cloak")))));iu(()=>`[${qi("init")}]`);At("init",On((i,{expression:t},{evaluate:e})=>typeof t=="string"?!!t.trim()&&e(t,{},!1):e(t,{},!1)));At("text",(i,{expression:t},{effect:e,evaluateLater:n})=>{let r=n(t);e(()=>{r(o=>{Mt(()=>{i.textContent=o})})})});At("html",(i,{expression:t},{effect:e,evaluateLater:n})=>{let r=n(t);e(()=>{r(o=>{Mt(()=>{i.innerHTML=o,i._x_ignoreSelf=!0,Xe(i),delete i._x_ignoreSelf})})})});qs(qc(":",$c(qi("bind:"))));At("bind",(i,{value:t,modifiers:e,expression:n,original:r},{effect:o})=>{if(!t){let a={};Hg(a),Bt(i,n)(c=>{fu(i,c,r)},{scope:a});return}if(t==="key")return Im(i,n);let s=Bt(i,n);o(()=>s(a=>{a===void 0&&typeof n=="string"&&n.match(/\./)&&(a=""),Mt(()=>au(i,t,a,e))}))});function Im(i,t){i._x_keyExpression=t}eu(()=>`[${qi("data")}]`);At("data",On((i,{expression:t},{cleanup:e})=>{t=t===""?"{}":t;let n={};os(n,i);let r={};Yg(r,n);let o=Oi(i,t,{scope:r});(o===void 0||o===!0)&&(o={}),os(o,i);let s=Xi(o);Fc(s);let a=Ln(i,s);s.init&&Oi(i,s.init),e(()=>{s.destroy&&Oi(i,s.destroy),a()})}));At("show",(i,{modifiers:t,expression:e},{effect:n})=>{let r=Bt(i,e);i._x_doHide||(i._x_doHide=()=>{Mt(()=>{i.style.setProperty("display","none",t.includes("important")?"important":void 0)})}),i._x_doShow||(i._x_doShow=()=>{Mt(()=>{i.style.length===1&&i.style.display==="none"?i.removeAttribute("style"):i.style.removeProperty("display")})});let o=()=>{i._x_doHide(),i._x_isShown=!1},s=()=>{i._x_doShow(),i._x_isShown=!0},a=()=>setTimeout(s),l=hs(p=>p?s():o(),p=>{typeof i._x_toggleAndCascadeWithTransitions=="function"?i._x_toggleAndCascadeWithTransitions(i,p,s,o):p?a():o()}),c,d=!0;n(()=>r(p=>{!d&&p===c||(t.includes("immediate")&&(p?a():o()),l(p),c=p,d=!1)}))});At("for",(i,{expression:t},{effect:e,cleanup:n})=>{let r=Bm(t),o=Bt(i,r.items),s=Bt(i,i._x_keyExpression||"index");i._x_prevKeys=[],i._x_lookup={},e(()=>Nm(i,r,o,s)),n(()=>{Object.values(i._x_lookup).forEach(a=>a.remove()),delete i._x_prevKeys,delete i._x_lookup})});function Nm(i,t,e,n){let r=s=>typeof s=="object"&&!Array.isArray(s),o=i;e(s=>{Fm(s)&&s>=0&&(s=Array.from(Array(s).keys(),C=>C+1)),s===void 0&&(s=[]);let a=i._x_lookup,l=i._x_prevKeys,c=[],d=[];if(r(s))s=Object.entries(s).map(([C,E])=>{let R=pl(t,E,C,s);n(L=>d.push(L),{scope:{index:C,...R}}),c.push(R)});else for(let C=0;C<s.length;C++){let E=pl(t,s[C],C,s);n(R=>d.push(R),{scope:{index:C,...E}}),c.push(E)}let p=[],g=[],y=[],x=[];for(let C=0;C<l.length;C++){let E=l[C];d.indexOf(E)===-1&&y.push(E)}l=l.filter(C=>!y.includes(C));let S="template";for(let C=0;C<d.length;C++){let E=d[C],R=l.indexOf(E);if(R===-1)l.splice(C,0,E),p.push([S,C]);else if(R!==C){let L=l.splice(C,1)[0],k=l.splice(R-1,1)[0];l.splice(C,0,k),l.splice(R,0,L),g.push([L,k])}else x.push(E);S=E}for(let C=0;C<y.length;C++){let E=y[C];a[E]._x_effects&&a[E]._x_effects.forEach(Mc),a[E].remove(),a[E]=null,delete a[E]}for(let C=0;C<g.length;C++){let[E,R]=g[C],L=a[E],k=a[R],D=document.createElement("div");Mt(()=>{k||Ye('x-for ":key" is undefined or invalid',o),k.after(D),L.after(k),k._x_currentIfEl&&k.after(k._x_currentIfEl),D.before(L),L._x_currentIfEl&&L.after(L._x_currentIfEl),D.remove()}),k._x_refreshXForScope(c[d.indexOf(R)])}for(let C=0;C<p.length;C++){let[E,R]=p[C],L=E==="template"?o:a[E];L._x_currentIfEl&&(L=L._x_currentIfEl);let k=c[R],D=d[R],A=document.importNode(o.content,!0).firstElementChild,I=Xi(k);Ln(A,I,o),A._x_refreshXForScope=U=>{Object.entries(U).forEach(([X,st])=>{I[X]=st})},Mt(()=>{L.after(A),Xe(A)}),typeof D=="object"&&Ye("x-for key cannot be an object, it must be a string or an integer",o),a[D]=A}for(let C=0;C<x.length;C++)a[x[C]]._x_refreshXForScope(c[d.indexOf(x[C])]);o._x_prevKeys=d})}function Bm(i){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,e=/^\s*\(|\)\s*$/g,n=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,r=i.match(n);if(!r)return;let o={};o.items=r[2].trim();let s=r[1].replace(e,"").trim(),a=s.match(t);return a?(o.item=s.replace(t,"").trim(),o.index=a[1].trim(),a[2]&&(o.collection=a[2].trim())):o.item=s,o}function pl(i,t,e,n){let r={};return/^\[.*\]$/.test(i.item)&&Array.isArray(t)?i.item.replace("[","").replace("]","").split(",").map(s=>s.trim()).forEach((s,a)=>{r[s]=t[a]}):/^\{.*\}$/.test(i.item)&&!Array.isArray(t)&&typeof t=="object"?i.item.replace("{","").replace("}","").split(",").map(s=>s.trim()).forEach(s=>{r[s]=t[s]}):r[i.item]=t,i.index&&(r[i.index]=e),i.collection&&(r[i.collection]=n),r}function Fm(i){return!Array.isArray(i)&&!isNaN(i)}function zu(){}zu.inline=(i,{expression:t},{cleanup:e})=>{let n=kr(i);n._x_refs||(n._x_refs={}),n._x_refs[t]=i,e(()=>delete n._x_refs[t])};At("ref",zu);At("if",(i,{expression:t},{effect:e,cleanup:n})=>{let r=Bt(i,t),o=()=>{if(i._x_currentIfEl)return i._x_currentIfEl;let a=i.content.cloneNode(!0).firstElementChild;return Ln(a,{},i),Mt(()=>{i.after(a),Xe(a)}),i._x_currentIfEl=a,i._x_undoIf=()=>{ze(a,l=>{l._x_effects&&l._x_effects.forEach(Mc)}),a.remove(),delete i._x_currentIfEl},a},s=()=>{!i._x_undoIf||(i._x_undoIf(),delete i._x_undoIf)};e(()=>r(a=>{a?o():s()})),n(()=>i._x_undoIf&&i._x_undoIf())});At("id",(i,{expression:t},{evaluate:e})=>{e(t).forEach(r=>Em(i,r))});qs(qc("@",$c(qi("on:"))));At("on",On((i,{value:t,modifiers:e,expression:n},{cleanup:r})=>{let o=n?Bt(i,n):()=>{};i.tagName.toLowerCase()==="template"&&(i._x_forwardEvents||(i._x_forwardEvents=[]),i._x_forwardEvents.includes(t)||i._x_forwardEvents.push(t));let s=ms(i,t,e,a=>{o(()=>{},{scope:{$event:a},params:[a]})});r(()=>s())}));zr("Collapse","collapse","collapse");zr("Intersect","intersect","intersect");zr("Focus","trap","focus");zr("Mask","mask","mask");function zr(i,t,e){At(t,n=>Ye(`You can't use [x-${t}] without first installing the "${i}" plugin here: https://alpinejs.dev/plugins/${e}`,n))}_n.setEvaluator(zc);_n.setReactivityEngine({reactive:na,effect:Zg,release:tm,raw:ut});var Wm=_n,$i=Wm;function jm(i){i.directive("collapse",t),t.inline=(e,{modifiers:n})=>{!n.includes("min")||(e._x_doShow=()=>{},e._x_doHide=()=>{})};function t(e,{modifiers:n}){let r=gl(n,"duration",250)/1e3,o=gl(n,"min",0),s=!n.includes("min");e._x_isShown||(e.style.height=`${o}px`),!e._x_isShown&&s&&(e.hidden=!0),e._x_isShown||(e.style.overflow="hidden");let a=(c,d)=>{let p=i.setStyles(c,d);return d.height?()=>{}:p},l={transitionProperty:"height",transitionDuration:`${r}s`,transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)"};e._x_transition={in(c=()=>{},d=()=>{}){s&&(e.hidden=!1),s&&(e.style.display=null);let p=e.getBoundingClientRect().height;e.style.height="auto";let g=e.getBoundingClientRect().height;p===g&&(p=o),i.transition(e,i.setStyles,{during:l,start:{height:p+"px"},end:{height:g+"px"}},()=>e._x_isShown=!0,()=>{e.getBoundingClientRect().height==g&&(e.style.overflow=null)})},out(c=()=>{},d=()=>{}){let p=e.getBoundingClientRect().height;i.transition(e,a,{during:l,start:{height:p+"px"},end:{height:o+"px"}},()=>e.style.overflow="hidden",()=>{e._x_isShown=!1,e.style.height==`${o}px`&&s&&(e.style.display="none",e.hidden=!0)})}}}}function gl(i,t,e){if(i.indexOf(t)===-1)return e;const n=i[i.indexOf(t)+1];if(!n)return e;if(t==="duration"){let r=n.match(/([0-9]+)ms/);if(r)return r[1]}if(t==="min"){let r=n.match(/([0-9]+)px/);if(r)return r[1]}return n}var Hm=jm;/*!
* tabbable 5.2.1
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Yu=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],ml=Yu.join(","),mr=typeof Element>"u"?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Xu=function(t,e,n){var r=Array.prototype.slice.apply(t.querySelectorAll(ml));return e&&mr.call(t,ml)&&r.unshift(t),r=r.filter(n),r},zm=function(t){return t.contentEditable==="true"},Uu=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return isNaN(e)?zm(t)||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e},Ym=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},ra=function(t){return t.tagName==="INPUT"},Xm=function(t){return ra(t)&&t.type==="hidden"},Um=function(t){var e=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(n){return n.tagName==="SUMMARY"});return e},qm=function(t,e){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===e)return t[n]},$m=function(t){if(!t.name)return!0;var e=t.form||t.ownerDocument,n=function(a){return e.querySelectorAll('input[type="radio"][name="'+a+'"]')},r;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")r=n(window.CSS.escape(t.name));else try{r=n(t.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var o=qm(r,t.form);return!o||o===t},Vm=function(t){return ra(t)&&t.type==="radio"},Gm=function(t){return Vm(t)&&!$m(t)},Km=function(t,e){if(getComputedStyle(t).visibility==="hidden")return!0;var n=mr.call(t,"details>summary:first-of-type"),r=n?t.parentElement:t;if(mr.call(r,"details:not([open]) *"))return!0;if(!e||e==="full")for(;t;){if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}else if(e==="non-zero-area"){var o=t.getBoundingClientRect(),s=o.width,a=o.height;return s===0&&a===0}return!1},Jm=function(t){if(ra(t)||t.tagName==="SELECT"||t.tagName==="TEXTAREA"||t.tagName==="BUTTON")for(var e=t.parentElement;e;){if(e.tagName==="FIELDSET"&&e.disabled){for(var n=0;n<e.children.length;n++){var r=e.children.item(n);if(r.tagName==="LEGEND")return!r.contains(t)}return!0}e=e.parentElement}return!1},oa=function(t,e){return!(e.disabled||Xm(e)||Km(e,t.displayCheck)||Um(e)||Jm(e))},Qm=function(t,e){return!(!oa(t,e)||Gm(e)||Uu(e)<0)},Zm=function(t,e){e=e||{};var n=[],r=[],o=Xu(t,e.includeContainer,Qm.bind(null,e));o.forEach(function(a,l){var c=Uu(a);c===0?n.push(a):r.push({documentOrder:l,tabIndex:c,node:a})});var s=r.sort(Ym).map(function(a){return a.node}).concat(n);return s},tv=function(t,e){e=e||{};var n=Xu(t,e.includeContainer,oa.bind(null,e));return n},ev=Yu.concat("iframe").join(","),qu=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return mr.call(t,ev)===!1?!1:oa(e,t)};/*!
* focus-trap 6.6.1
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function vl(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),e.push.apply(e,n)}return e}function iv(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?vl(Object(e),!0).forEach(function(n){nv(i,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):vl(Object(e)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(e,n))})}return i}function nv(i,t,e){return t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}var bl=function(){var i=[];return{activateTrap:function(e){if(i.length>0){var n=i[i.length-1];n!==e&&n.pause()}var r=i.indexOf(e);r===-1||i.splice(r,1),i.push(e)},deactivateTrap:function(e){var n=i.indexOf(e);n!==-1&&i.splice(n,1),i.length>0&&i[i.length-1].unpause()}}}(),rv=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},ov=function(t){return t.key==="Escape"||t.key==="Esc"||t.keyCode===27},sv=function(t){return t.key==="Tab"||t.keyCode===9},yl=function(t){return setTimeout(t,0)},Eo=function(t,e){var n=-1;return t.every(function(r,o){return e(r)?(n=o,!1):!0}),n},rn=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return typeof t=="function"?t.apply(void 0,n):t},av=function(t,e){var n=document,r=iv({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},e),o={containers:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},s,a=function(A,I,U){return A&&A[I]!==void 0?A[I]:r[U||I]},l=function(A){return o.containers.some(function(I){return I.contains(A)})},c=function(A){var I=r[A];if(!I)return null;var U=I;if(typeof I=="string"&&(U=n.querySelector(I),!U))throw new Error("`".concat(A,"` refers to no known node"));if(typeof I=="function"&&(U=I(),!U))throw new Error("`".concat(A,"` did not return a node"));return U},d=function(){var A;if(a({},"initialFocus")===!1)return!1;if(c("initialFocus")!==null)A=c("initialFocus");else if(l(n.activeElement))A=n.activeElement;else{var I=o.tabbableGroups[0],U=I&&I.firstTabbableNode;A=U||c("fallbackFocus")}if(!A)throw new Error("Your focus-trap needs to have at least one focusable element");return A},p=function(){if(o.tabbableGroups=o.containers.map(function(A){var I=Zm(A);if(I.length>0)return{container:A,firstTabbableNode:I[0],lastTabbableNode:I[I.length-1]}}).filter(function(A){return!!A}),o.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},g=function D(A){if(A!==!1&&A!==n.activeElement){if(!A||!A.focus){D(d());return}A.focus({preventScroll:!!r.preventScroll}),o.mostRecentlyFocusedNode=A,rv(A)&&A.select()}},y=function(A){var I=c("setReturnFocus");return I||A},x=function(A){if(!l(A.target)){if(rn(r.clickOutsideDeactivates,A)){s.deactivate({returnFocus:r.returnFocusOnDeactivate&&!qu(A.target)});return}rn(r.allowOutsideClick,A)||A.preventDefault()}},S=function(A){var I=l(A.target);I||A.target instanceof Document?I&&(o.mostRecentlyFocusedNode=A.target):(A.stopImmediatePropagation(),g(o.mostRecentlyFocusedNode||d()))},C=function(A){p();var I=null;if(o.tabbableGroups.length>0){var U=Eo(o.tabbableGroups,function(vt){var at=vt.container;return at.contains(A.target)});if(U<0)A.shiftKey?I=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:I=o.tabbableGroups[0].firstTabbableNode;else if(A.shiftKey){var X=Eo(o.tabbableGroups,function(vt){var at=vt.firstTabbableNode;return A.target===at});if(X<0&&o.tabbableGroups[U].container===A.target&&(X=U),X>=0){var st=X===0?o.tabbableGroups.length-1:X-1,N=o.tabbableGroups[st];I=N.lastTabbableNode}}else{var B=Eo(o.tabbableGroups,function(vt){var at=vt.lastTabbableNode;return A.target===at});if(B<0&&o.tabbableGroups[U].container===A.target&&(B=U),B>=0){var q=B===o.tabbableGroups.length-1?0:B+1,it=o.tabbableGroups[q];I=it.firstTabbableNode}}}else I=c("fallbackFocus");I&&(A.preventDefault(),g(I))},E=function(A){if(ov(A)&&rn(r.escapeDeactivates)!==!1){A.preventDefault(),s.deactivate();return}if(sv(A)){C(A);return}},R=function(A){rn(r.clickOutsideDeactivates,A)||l(A.target)||rn(r.allowOutsideClick,A)||(A.preventDefault(),A.stopImmediatePropagation())},L=function(){if(!!o.active)return bl.activateTrap(s),o.delayInitialFocusTimer=r.delayInitialFocus?yl(function(){g(d())}):g(d()),n.addEventListener("focusin",S,!0),n.addEventListener("mousedown",x,{capture:!0,passive:!1}),n.addEventListener("touchstart",x,{capture:!0,passive:!1}),n.addEventListener("click",R,{capture:!0,passive:!1}),n.addEventListener("keydown",E,{capture:!0,passive:!1}),s},k=function(){if(!!o.active)return n.removeEventListener("focusin",S,!0),n.removeEventListener("mousedown",x,!0),n.removeEventListener("touchstart",x,!0),n.removeEventListener("click",R,!0),n.removeEventListener("keydown",E,!0),s};return s={activate:function(A){if(o.active)return this;var I=a(A,"onActivate"),U=a(A,"onPostActivate"),X=a(A,"checkCanFocusTrap");X||p(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=n.activeElement,I&&I();var st=function(){X&&p(),L(),U&&U()};return X?(X(o.containers.concat()).then(st,st),this):(st(),this)},deactivate:function(A){if(!o.active)return this;clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,k(),o.active=!1,o.paused=!1,bl.deactivateTrap(s);var I=a(A,"onDeactivate"),U=a(A,"onPostDeactivate"),X=a(A,"checkCanReturnFocus");I&&I();var st=a(A,"returnFocus","returnFocusOnDeactivate"),N=function(){yl(function(){st&&g(y(o.nodeFocusedBeforeActivation)),U&&U()})};return st&&X?(X(y(o.nodeFocusedBeforeActivation)).then(N,N),this):(N(),this)},pause:function(){return o.paused||!o.active?this:(o.paused=!0,k(),this)},unpause:function(){return!o.paused||!o.active?this:(o.paused=!1,p(),L(),this)},updateContainerElements:function(A){var I=[].concat(A).filter(Boolean);return o.containers=I.map(function(U){return typeof U=="string"?n.querySelector(U):U}),o.active&&p(),this}},s.updateContainerElements(t),s};function lv(i){let t,e;window.addEventListener("focusin",()=>{t=e,e=document.activeElement}),i.magic("focus",n=>{let r=n;return{__noscroll:!1,__wrapAround:!1,within(o){return r=o,this},withoutScrolling(){return this.__noscroll=!0,this},noscroll(){return this.__noscroll=!0,this},withWrapAround(){return this.__wrapAround=!0,this},wrap(){return this.withWrapAround()},focusable(o){return qu(o)},previouslyFocused(){return t},lastFocused(){return t},focused(){return e},focusables(){return Array.isArray(r)?r:tv(r,{displayCheck:"none"})},all(){return this.focusables()},isFirst(o){let s=this.all();return s[0]&&s[0].isSameNode(o)},isLast(o){let s=this.all();return s.length&&s.slice(-1)[0].isSameNode(o)},getFirst(){return this.all()[0]},getLast(){return this.all().slice(-1)[0]},getNext(){let o=this.all(),s=document.activeElement;if(o.indexOf(s)!==-1)return this.__wrapAround&&o.indexOf(s)===o.length-1?o[0]:o[o.indexOf(s)+1]},getPrevious(){let o=this.all(),s=document.activeElement;if(o.indexOf(s)!==-1)return this.__wrapAround&&o.indexOf(s)===0?o.slice(-1)[0]:o[o.indexOf(s)-1]},first(){this.focus(this.getFirst())},last(){this.focus(this.getLast())},next(){this.focus(this.getNext())},previous(){this.focus(this.getPrevious())},prev(){return this.previous()},focus(o){!o||setTimeout(()=>{o.hasAttribute("tabindex")||o.setAttribute("tabindex","0"),o.focus({preventScroll:this._noscroll})})}}}),i.directive("trap",i.skipDuringClone((n,{expression:r,modifiers:o},{effect:s,evaluateLater:a,cleanup:l})=>{let c=a(r),d=!1,p={escapeDeactivates:!1,allowOutsideClick:!0,fallbackFocus:()=>n},g=n.querySelector("[autofocus]");g&&(p.initialFocus=g);let y=av(n,p),x=()=>{},S=()=>{};const C=()=>{x(),x=()=>{},S(),S=()=>{},y.deactivate({returnFocus:!o.includes("noreturn")})};s(()=>c(E=>{d!==E&&(E&&!d&&setTimeout(()=>{o.includes("inert")&&(x=wl(n)),o.includes("noscroll")&&(S=cv()),y.activate()}),!E&&d&&C(),d=!!E)})),l(C)},(n,{expression:r,modifiers:o},{evaluate:s})=>{o.includes("inert")&&s(r)&&wl(n)}))}function wl(i){let t=[];return $u(i,e=>{let n=e.hasAttribute("aria-hidden");e.setAttribute("aria-hidden","true"),t.push(()=>n||e.removeAttribute("aria-hidden"))}),()=>{for(;t.length;)t.pop()()}}function $u(i,t){i.isSameNode(document.body)||!i.parentNode||Array.from(i.parentNode.children).forEach(e=>{e.isSameNode(i)?$u(i.parentNode,t):t(e)})}function cv(){let i=document.documentElement.style.overflow,t=document.documentElement.style.paddingRight,e=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${e}px`,()=>{document.documentElement.style.overflow=i,document.documentElement.style.paddingRight=t}}var uv=lv;function hv(i){i.directive("intersect",(t,{value:e,expression:n,modifiers:r},{evaluateLater:o,cleanup:s})=>{let a=o(n),l={rootMargin:pv(r),threshold:dv(r)},c=new IntersectionObserver(d=>{d.forEach(p=>{p.isIntersecting!==(e==="leave")&&(a(),r.includes("once")&&c.disconnect())})},l);c.observe(t),s(()=>{c.disconnect()})})}function dv(i){if(i.includes("full"))return .99;if(i.includes("half"))return .5;if(!i.includes("threshold"))return 0;let t=i[i.indexOf("threshold")+1];return t==="100"?1:t==="0"?0:Number(`.${t}`)}function fv(i){let t=i.match(/^(-?[0-9]+)(px|%)?$/);return t?t[1]+(t[2]||"px"):void 0}function pv(i){const t="margin",e="0px 0px 0px 0px",n=i.indexOf(t);if(n===-1)return e;let r=[];for(let o=1;o<5;o++)r.push(fv(i[n+o]||""));return r=r.filter(o=>o!==void 0),r.length?r.join(" ").trim():e}var gv=hv;/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function xl(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),e.push.apply(e,n)}return e}function ve(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?xl(Object(e),!0).forEach(function(n){mv(i,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):xl(Object(e)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(e,n))})}return i}function nr(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nr=function(t){return typeof t}:nr=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nr(i)}function mv(i,t,e){return t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function Se(){return Se=Object.assign||function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},Se.apply(this,arguments)}function vv(i,t){if(i==null)return{};var e={},n=Object.keys(i),r,o;for(o=0;o<n.length;o++)r=n[o],!(t.indexOf(r)>=0)&&(e[r]=i[r]);return e}function bv(i,t){if(i==null)return{};var e=vv(i,t),n,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,n)||(e[n]=i[n]))}return e}var yv="1.15.0";function Ae(i){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(i)}var Ce=Ae(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Pn=Ae(/Edge/i),Al=Ae(/firefox/i),gn=Ae(/safari/i)&&!Ae(/chrome/i)&&!Ae(/android/i),Vu=Ae(/iP(ad|od|hone)/i),Gu=Ae(/chrome/i)&&Ae(/android/i),Ku={capture:!1,passive:!1};function nt(i,t,e){i.addEventListener(t,e,!Ce&&Ku)}function tt(i,t,e){i.removeEventListener(t,e,!Ce&&Ku)}function vr(i,t){if(!!t){if(t[0]===">"&&(t=t.substring(1)),i)try{if(i.matches)return i.matches(t);if(i.msMatchesSelector)return i.msMatchesSelector(t);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(t)}catch{return!1}return!1}}function wv(i){return i.host&&i!==document&&i.host.nodeType?i.host:i.parentNode}function pe(i,t,e,n){if(i){e=e||document;do{if(t!=null&&(t[0]===">"?i.parentNode===e&&vr(i,t):vr(i,t))||n&&i===e)return i;if(i===e)break}while(i=wv(i))}return null}var Sl=/\s+/g;function Ut(i,t,e){if(i&&t)if(i.classList)i.classList[e?"add":"remove"](t);else{var n=(" "+i.className+" ").replace(Sl," ").replace(" "+t+" "," ");i.className=(n+(e?" "+t:"")).replace(Sl," ")}}function $(i,t,e){var n=i&&i.style;if(n){if(e===void 0)return document.defaultView&&document.defaultView.getComputedStyle?e=document.defaultView.getComputedStyle(i,""):i.currentStyle&&(e=i.currentStyle),t===void 0?e:e[t];!(t in n)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),n[t]=e+(typeof e=="string"?"":"px")}}function _i(i,t){var e="";if(typeof i=="string")e=i;else do{var n=$(i,"transform");n&&n!=="none"&&(e=n+" "+e)}while(!t&&(i=i.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(e)}function Ju(i,t,e){if(i){var n=i.getElementsByTagName(t),r=0,o=n.length;if(e)for(;r<o;r++)e(n[r],r);return n}return[]}function me(){var i=document.scrollingElement;return i||document.documentElement}function Ct(i,t,e,n,r){if(!(!i.getBoundingClientRect&&i!==window)){var o,s,a,l,c,d,p;if(i!==window&&i.parentNode&&i!==me()?(o=i.getBoundingClientRect(),s=o.top,a=o.left,l=o.bottom,c=o.right,d=o.height,p=o.width):(s=0,a=0,l=window.innerHeight,c=window.innerWidth,d=window.innerHeight,p=window.innerWidth),(t||e)&&i!==window&&(r=r||i.parentNode,!Ce))do if(r&&r.getBoundingClientRect&&($(r,"transform")!=="none"||e&&$(r,"position")!=="static")){var g=r.getBoundingClientRect();s-=g.top+parseInt($(r,"border-top-width")),a-=g.left+parseInt($(r,"border-left-width")),l=s+o.height,c=a+o.width;break}while(r=r.parentNode);if(n&&i!==window){var y=_i(r||i),x=y&&y.a,S=y&&y.d;y&&(s/=S,a/=x,p/=x,d/=S,l=s+d,c=a+p)}return{top:s,left:a,bottom:l,right:c,width:p,height:d}}}function El(i,t,e){for(var n=je(i,!0),r=Ct(i)[t];n;){var o=Ct(n)[e],s=void 0;if(e==="top"||e==="left"?s=r>=o:s=r<=o,!s)return n;if(n===me())break;n=je(n,!1)}return!1}function Hi(i,t,e,n){for(var r=0,o=0,s=i.children;o<s.length;){if(s[o].style.display!=="none"&&s[o]!==V.ghost&&(n||s[o]!==V.dragged)&&pe(s[o],e.draggable,i,!1)){if(r===t)return s[o];r++}o++}return null}function sa(i,t){for(var e=i.lastElementChild;e&&(e===V.ghost||$(e,"display")==="none"||t&&!vr(e,t));)e=e.previousElementSibling;return e||null}function te(i,t){var e=0;if(!i||!i.parentNode)return-1;for(;i=i.previousElementSibling;)i.nodeName.toUpperCase()!=="TEMPLATE"&&i!==V.clone&&(!t||vr(i,t))&&e++;return e}function Cl(i){var t=0,e=0,n=me();if(i)do{var r=_i(i),o=r.a,s=r.d;t+=i.scrollLeft*o,e+=i.scrollTop*s}while(i!==n&&(i=i.parentNode));return[t,e]}function xv(i,t){for(var e in i)if(!!i.hasOwnProperty(e)){for(var n in t)if(t.hasOwnProperty(n)&&t[n]===i[e][n])return Number(e)}return-1}function je(i,t){if(!i||!i.getBoundingClientRect)return me();var e=i,n=!1;do if(e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight){var r=$(e);if(e.clientWidth<e.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||e.clientHeight<e.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!e.getBoundingClientRect||e===document.body)return me();if(n||t)return e;n=!0}}while(e=e.parentNode);return me()}function Av(i,t){if(i&&t)for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function Co(i,t){return Math.round(i.top)===Math.round(t.top)&&Math.round(i.left)===Math.round(t.left)&&Math.round(i.height)===Math.round(t.height)&&Math.round(i.width)===Math.round(t.width)}var mn;function Qu(i,t){return function(){if(!mn){var e=arguments,n=this;e.length===1?i.call(n,e[0]):i.apply(n,e),mn=setTimeout(function(){mn=void 0},t)}}}function Sv(){clearTimeout(mn),mn=void 0}function Zu(i,t,e){i.scrollLeft+=t,i.scrollTop+=e}function th(i){var t=window.Polymer,e=window.jQuery||window.Zepto;return t&&t.dom?t.dom(i).cloneNode(!0):e?e(i).clone(!0)[0]:i.cloneNode(!0)}var Vt="Sortable"+new Date().getTime();function Ev(){var i=[],t;return{captureAnimationState:function(){if(i=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(r){if(!($(r,"display")==="none"||r===V.ghost)){i.push({target:r,rect:Ct(r)});var o=ve({},i[i.length-1].rect);if(r.thisAnimationDuration){var s=_i(r,!0);s&&(o.top-=s.f,o.left-=s.e)}r.fromRect=o}})}},addAnimationState:function(n){i.push(n)},removeAnimationState:function(n){i.splice(xv(i,{target:n}),1)},animateAll:function(n){var r=this;if(!this.options.animation){clearTimeout(t),typeof n=="function"&&n();return}var o=!1,s=0;i.forEach(function(a){var l=0,c=a.target,d=c.fromRect,p=Ct(c),g=c.prevFromRect,y=c.prevToRect,x=a.rect,S=_i(c,!0);S&&(p.top-=S.f,p.left-=S.e),c.toRect=p,c.thisAnimationDuration&&Co(g,p)&&!Co(d,p)&&(x.top-p.top)/(x.left-p.left)===(d.top-p.top)/(d.left-p.left)&&(l=Tv(x,g,y,r.options)),Co(p,d)||(c.prevFromRect=d,c.prevToRect=p,l||(l=r.options.animation),r.animate(c,x,p,l)),l&&(o=!0,s=Math.max(s,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(t),o?t=setTimeout(function(){typeof n=="function"&&n()},s):typeof n=="function"&&n(),i=[]},animate:function(n,r,o,s){if(s){$(n,"transition",""),$(n,"transform","");var a=_i(this.el),l=a&&a.a,c=a&&a.d,d=(r.left-o.left)/(l||1),p=(r.top-o.top)/(c||1);n.animatingX=!!d,n.animatingY=!!p,$(n,"transform","translate3d("+d+"px,"+p+"px,0)"),this.forRepaintDummy=Cv(n),$(n,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),$(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){$(n,"transition",""),$(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},s)}}}}function Cv(i){return i.offsetWidth}function Tv(i,t,e,n){return Math.sqrt(Math.pow(t.top-i.top,2)+Math.pow(t.left-i.left,2))/Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))*n.animation}var Ci=[],To={initializeByDefault:!0},In={mount:function(t){for(var e in To)To.hasOwnProperty(e)&&!(e in t)&&(t[e]=To[e]);Ci.forEach(function(n){if(n.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Ci.push(t)},pluginEvent:function(t,e,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=t+"Global";Ci.forEach(function(s){!e[s.pluginName]||(e[s.pluginName][o]&&e[s.pluginName][o](ve({sortable:e},n)),e.options[s.pluginName]&&e[s.pluginName][t]&&e[s.pluginName][t](ve({sortable:e},n)))})},initializePlugins:function(t,e,n,r){Ci.forEach(function(a){var l=a.pluginName;if(!(!t.options[l]&&!a.initializeByDefault)){var c=new a(t,e,t.options);c.sortable=t,c.options=t.options,t[l]=c,Se(n,c.defaults)}});for(var o in t.options)if(!!t.options.hasOwnProperty(o)){var s=this.modifyOption(t,o,t.options[o]);typeof s<"u"&&(t.options[o]=s)}},getEventProperties:function(t,e){var n={};return Ci.forEach(function(r){typeof r.eventProperties=="function"&&Se(n,r.eventProperties.call(e[r.pluginName],t))}),n},modifyOption:function(t,e,n){var r;return Ci.forEach(function(o){!t[o.pluginName]||o.optionListeners&&typeof o.optionListeners[e]=="function"&&(r=o.optionListeners[e].call(t[o.pluginName],n))}),r}};function Dv(i){var t=i.sortable,e=i.rootEl,n=i.name,r=i.targetEl,o=i.cloneEl,s=i.toEl,a=i.fromEl,l=i.oldIndex,c=i.newIndex,d=i.oldDraggableIndex,p=i.newDraggableIndex,g=i.originalEvent,y=i.putSortable,x=i.extraEventProperties;if(t=t||e&&e[Vt],!!t){var S,C=t.options,E="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!Ce&&!Pn?S=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(S=document.createEvent("Event"),S.initEvent(n,!0,!0)),S.to=s||e,S.from=a||e,S.item=r||e,S.clone=o,S.oldIndex=l,S.newIndex=c,S.oldDraggableIndex=d,S.newDraggableIndex=p,S.originalEvent=g,S.pullMode=y?y.lastPutMode:void 0;var R=ve(ve({},x),In.getEventProperties(n,t));for(var L in R)S[L]=R[L];e&&e.dispatchEvent(S),C[E]&&C[E].call(t,S)}}var Rv=["evt"],Wt=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.evt,o=bv(n,Rv);In.pluginEvent.bind(V)(t,e,ve({dragEl:_,parentEl:pt,ghostEl:K,rootEl:ct,nextEl:ti,lastDownEl:rr,cloneEl:ht,cloneHidden:Be,dragStarted:ln,putSortable:Ot,activeSortable:V.active,originalEvent:r,oldIndex:Li,oldDraggableIndex:vn,newIndex:qt,newDraggableIndex:Ie,hideGhostForTarget:rh,unhideGhostForTarget:oh,cloneNowHidden:function(){Be=!0},cloneNowShown:function(){Be=!1},dispatchSortableEvent:function(a){Nt({sortable:e,name:a,originalEvent:r})}},o))};function Nt(i){Dv(ve({putSortable:Ot,cloneEl:ht,targetEl:_,rootEl:ct,oldIndex:Li,oldDraggableIndex:vn,newIndex:qt,newDraggableIndex:Ie},i))}var _,pt,K,ct,ti,rr,ht,Be,Li,qt,vn,Ie,qn,Ot,Di=!1,br=!1,yr=[],Ke,se,Do,Ro,Tl,Dl,ln,Ti,bn,yn=!1,$n=!1,or,Pt,Mo=[],vs=!1,wr=[],Yr=typeof document<"u",Vn=Vu,Rl=Pn||Ce?"cssFloat":"float",Mv=Yr&&!Gu&&!Vu&&"draggable"in document.createElement("div"),eh=function(){if(!!Yr){if(Ce)return!1;var i=document.createElement("x");return i.style.cssText="pointer-events:auto",i.style.pointerEvents==="auto"}}(),ih=function(t,e){var n=$(t),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=Hi(t,0,e),s=Hi(t,1,e),a=o&&$(o),l=s&&$(s),c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Ct(o).width,d=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Ct(s).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&a.float!=="none"){var p=a.float==="left"?"left":"right";return s&&(l.clear==="both"||l.clear===p)?"vertical":"horizontal"}return o&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||c>=r&&n[Rl]==="none"||s&&n[Rl]==="none"&&c+d>r)?"vertical":"horizontal"},Lv=function(t,e,n){var r=n?t.left:t.top,o=n?t.right:t.bottom,s=n?t.width:t.height,a=n?e.left:e.top,l=n?e.right:e.bottom,c=n?e.width:e.height;return r===a||o===l||r+s/2===a+c/2},kv=function(t,e){var n;return yr.some(function(r){var o=r[Vt].options.emptyInsertThreshold;if(!(!o||sa(r))){var s=Ct(r),a=t>=s.left-o&&t<=s.right+o,l=e>=s.top-o&&e<=s.bottom+o;if(a&&l)return n=r}}),n},nh=function(t){function e(o,s){return function(a,l,c,d){var p=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(o==null&&(s||p))return!0;if(o==null||o===!1)return!1;if(s&&o==="clone")return o;if(typeof o=="function")return e(o(a,l,c,d),s)(a,l,c,d);var g=(s?a:l).options.group.name;return o===!0||typeof o=="string"&&o===g||o.join&&o.indexOf(g)>-1}}var n={},r=t.group;(!r||nr(r)!="object")&&(r={name:r}),n.name=r.name,n.checkPull=e(r.pull,!0),n.checkPut=e(r.put),n.revertClone=r.revertClone,t.group=n},rh=function(){!eh&&K&&$(K,"display","none")},oh=function(){!eh&&K&&$(K,"display","")};Yr&&!Gu&&document.addEventListener("click",function(i){if(br)return i.preventDefault(),i.stopPropagation&&i.stopPropagation(),i.stopImmediatePropagation&&i.stopImmediatePropagation(),br=!1,!1},!0);var Je=function(t){if(_){t=t.touches?t.touches[0]:t;var e=kv(t.clientX,t.clientY);if(e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[Vt]._onDragOver(n)}}},Ov=function(t){_&&_.parentNode[Vt]._isOutsideThisEl(t.target)};function V(i,t){if(!(i&&i.nodeType&&i.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(i));this.el=i,this.options=t=Se({},t),i[Vt]=this;var e={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(i.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ih(i,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,a){s.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:V.supportPointer!==!1&&"PointerEvent"in window&&!gn,emptyInsertThreshold:5};In.initializePlugins(this,i,e);for(var n in e)!(n in t)&&(t[n]=e[n]);nh(t);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=t.forceFallback?!1:Mv,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?nt(i,"pointerdown",this._onTapStart):(nt(i,"mousedown",this._onTapStart),nt(i,"touchstart",this._onTapStart)),this.nativeDraggable&&(nt(i,"dragover",this),nt(i,"dragenter",this)),yr.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Se(this,Ev())}V.prototype={constructor:V,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Ti=null)},_getDirection:function(t,e){return typeof this.options.direction=="function"?this.options.direction.call(this,t,e,_):this.options.direction},_onTapStart:function(t){if(!!t.cancelable){var e=this,n=this.el,r=this.options,o=r.preventOnFilter,s=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(a||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,d=r.filter;if(jv(n),!_&&!(/mousedown|pointerdown/.test(s)&&t.button!==0||r.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&gn&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=pe(l,r.draggable,n,!1),!(l&&l.animated)&&rr!==l)){if(Li=te(l),vn=te(l,r.draggable),typeof d=="function"){if(d.call(this,t,l,this)){Nt({sortable:e,rootEl:c,name:"filter",targetEl:l,toEl:n,fromEl:n}),Wt("filter",e,{evt:t}),o&&t.cancelable&&t.preventDefault();return}}else if(d&&(d=d.split(",").some(function(p){if(p=pe(c,p.trim(),n,!1),p)return Nt({sortable:e,rootEl:p,name:"filter",targetEl:l,fromEl:n,toEl:n}),Wt("filter",e,{evt:t}),!0}),d)){o&&t.cancelable&&t.preventDefault();return}r.handle&&!pe(c,r.handle,n,!1)||this._prepareDragStart(t,a,l)}}},_prepareDragStart:function(t,e,n){var r=this,o=r.el,s=r.options,a=o.ownerDocument,l;if(n&&!_&&n.parentNode===o){var c=Ct(n);if(ct=o,_=n,pt=_.parentNode,ti=_.nextSibling,rr=n,qn=s.group,V.dragged=_,Ke={target:_,clientX:(e||t).clientX,clientY:(e||t).clientY},Tl=Ke.clientX-c.left,Dl=Ke.clientY-c.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,_.style["will-change"]="all",l=function(){if(Wt("delayEnded",r,{evt:t}),V.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!Al&&r.nativeDraggable&&(_.draggable=!0),r._triggerDragStart(t,e),Nt({sortable:r,name:"choose",originalEvent:t}),Ut(_,s.chosenClass,!0)},s.ignore.split(",").forEach(function(d){Ju(_,d.trim(),Lo)}),nt(a,"dragover",Je),nt(a,"mousemove",Je),nt(a,"touchmove",Je),nt(a,"mouseup",r._onDrop),nt(a,"touchend",r._onDrop),nt(a,"touchcancel",r._onDrop),Al&&this.nativeDraggable&&(this.options.touchStartThreshold=4,_.draggable=!0),Wt("delayStart",this,{evt:t}),s.delay&&(!s.delayOnTouchOnly||e)&&(!this.nativeDraggable||!(Pn||Ce))){if(V.eventCanceled){this._onDrop();return}nt(a,"mouseup",r._disableDelayedDrag),nt(a,"touchend",r._disableDelayedDrag),nt(a,"touchcancel",r._disableDelayedDrag),nt(a,"mousemove",r._delayedDragTouchMoveHandler),nt(a,"touchmove",r._delayedDragTouchMoveHandler),s.supportPointer&&nt(a,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(l,s.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){_&&Lo(_),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;tt(t,"mouseup",this._disableDelayedDrag),tt(t,"touchend",this._disableDelayedDrag),tt(t,"touchcancel",this._disableDelayedDrag),tt(t,"mousemove",this._delayedDragTouchMoveHandler),tt(t,"touchmove",this._delayedDragTouchMoveHandler),tt(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||t.pointerType=="touch"&&t,!this.nativeDraggable||e?this.options.supportPointer?nt(document,"pointermove",this._onTouchMove):e?nt(document,"touchmove",this._onTouchMove):nt(document,"mousemove",this._onTouchMove):(nt(_,"dragend",this),nt(ct,"dragstart",this._onDragStart));try{document.selection?sr(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,e){if(Di=!1,ct&&_){Wt("dragStarted",this,{evt:e}),this.nativeDraggable&&nt(document,"dragover",Ov);var n=this.options;!t&&Ut(_,n.dragClass,!1),Ut(_,n.ghostClass,!0),V.active=this,t&&this._appendGhost(),Nt({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(se){this._lastX=se.clientX,this._lastY=se.clientY,rh();for(var t=document.elementFromPoint(se.clientX,se.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(se.clientX,se.clientY),t!==e);)e=t;if(_.parentNode[Vt]._isOutsideThisEl(t),e)do{if(e[Vt]){var n=void 0;if(n=e[Vt]._onDragOver({clientX:se.clientX,clientY:se.clientY,target:t,rootEl:e}),n&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);oh()}},_onTouchMove:function(t){if(Ke){var e=this.options,n=e.fallbackTolerance,r=e.fallbackOffset,o=t.touches?t.touches[0]:t,s=K&&_i(K,!0),a=K&&s&&s.a,l=K&&s&&s.d,c=Vn&&Pt&&Cl(Pt),d=(o.clientX-Ke.clientX+r.x)/(a||1)+(c?c[0]-Mo[0]:0)/(a||1),p=(o.clientY-Ke.clientY+r.y)/(l||1)+(c?c[1]-Mo[1]:0)/(l||1);if(!V.active&&!Di){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(K){s?(s.e+=d-(Do||0),s.f+=p-(Ro||0)):s={a:1,b:0,c:0,d:1,e:d,f:p};var g="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");$(K,"webkitTransform",g),$(K,"mozTransform",g),$(K,"msTransform",g),$(K,"transform",g),Do=d,Ro=p,se=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!K){var t=this.options.fallbackOnBody?document.body:ct,e=Ct(_,!0,Vn,!0,t),n=this.options;if(Vn){for(Pt=t;$(Pt,"position")==="static"&&$(Pt,"transform")==="none"&&Pt!==document;)Pt=Pt.parentNode;Pt!==document.body&&Pt!==document.documentElement?(Pt===document&&(Pt=me()),e.top+=Pt.scrollTop,e.left+=Pt.scrollLeft):Pt=me(),Mo=Cl(Pt)}K=_.cloneNode(!0),Ut(K,n.ghostClass,!1),Ut(K,n.fallbackClass,!0),Ut(K,n.dragClass,!0),$(K,"transition",""),$(K,"transform",""),$(K,"box-sizing","border-box"),$(K,"margin",0),$(K,"top",e.top),$(K,"left",e.left),$(K,"width",e.width),$(K,"height",e.height),$(K,"opacity","0.8"),$(K,"position",Vn?"absolute":"fixed"),$(K,"zIndex","100000"),$(K,"pointerEvents","none"),V.ghost=K,t.appendChild(K),$(K,"transform-origin",Tl/parseInt(K.style.width)*100+"% "+Dl/parseInt(K.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,r=t.dataTransfer,o=n.options;if(Wt("dragStart",this,{evt:t}),V.eventCanceled){this._onDrop();return}Wt("setupClone",this),V.eventCanceled||(ht=th(_),ht.removeAttribute("id"),ht.draggable=!1,ht.style["will-change"]="",this._hideClone(),Ut(ht,this.options.chosenClass,!1),V.clone=ht),n.cloneId=sr(function(){Wt("clone",n),!V.eventCanceled&&(n.options.removeCloneOnHide||ct.insertBefore(ht,_),n._hideClone(),Nt({sortable:n,name:"clone"}))}),!e&&Ut(_,o.dragClass,!0),e?(br=!0,n._loopId=setInterval(n._emulateDragOver,50)):(tt(document,"mouseup",n._onDrop),tt(document,"touchend",n._onDrop),tt(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,_)),nt(document,"drop",n),$(_,"transform","translateZ(0)")),Di=!0,n._dragStartId=sr(n._dragStarted.bind(n,e,t)),nt(document,"selectstart",n),ln=!0,gn&&$(document.body,"user-select","none")},_onDragOver:function(t){var e=this.el,n=t.target,r,o,s,a=this.options,l=a.group,c=V.active,d=qn===l,p=a.sort,g=Ot||c,y,x=this,S=!1;if(vs)return;function C(ne,Te){Wt(ne,x,ve({evt:t,isOwner:d,axis:y?"vertical":"horizontal",revert:s,dragRect:r,targetRect:o,canSort:p,fromSortable:g,target:n,completed:R,onMove:function(De,mi){return Gn(ct,e,_,r,De,Ct(De),t,mi)},changed:L},Te))}function E(){C("dragOverAnimationCapture"),x.captureAnimationState(),x!==g&&g.captureAnimationState()}function R(ne){return C("dragOverCompleted",{insertion:ne}),ne&&(d?c._hideClone():c._showClone(x),x!==g&&(Ut(_,Ot?Ot.options.ghostClass:c.options.ghostClass,!1),Ut(_,a.ghostClass,!0)),Ot!==x&&x!==V.active?Ot=x:x===V.active&&Ot&&(Ot=null),g===x&&(x._ignoreWhileAnimating=n),x.animateAll(function(){C("dragOverAnimationComplete"),x._ignoreWhileAnimating=null}),x!==g&&(g.animateAll(),g._ignoreWhileAnimating=null)),(n===_&&!_.animated||n===e&&!n.animated)&&(Ti=null),!a.dragoverBubble&&!t.rootEl&&n!==document&&(_.parentNode[Vt]._isOutsideThisEl(t.target),!ne&&Je(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),S=!0}function L(){qt=te(_),Ie=te(_,a.draggable),Nt({sortable:x,name:"change",toEl:e,newIndex:qt,newDraggableIndex:Ie,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),n=pe(n,a.draggable,e,!0),C("dragOver"),V.eventCanceled)return S;if(_.contains(t.target)||n.animated&&n.animatingX&&n.animatingY||x._ignoreWhileAnimating===n)return R(!1);if(br=!1,c&&!a.disabled&&(d?p||(s=pt!==ct):Ot===this||(this.lastPutMode=qn.checkPull(this,c,_,t))&&l.checkPut(this,c,_,t))){if(y=this._getDirection(t,n)==="vertical",r=Ct(_),C("dragOverValid"),V.eventCanceled)return S;if(s)return pt=ct,E(),this._hideClone(),C("revert"),V.eventCanceled||(ti?ct.insertBefore(_,ti):ct.appendChild(_)),R(!0);var k=sa(e,a.draggable);if(!k||Nv(t,y,this)&&!k.animated){if(k===_)return R(!1);if(k&&e===t.target&&(n=k),n&&(o=Ct(n)),Gn(ct,e,_,r,n,o,t,!!n)!==!1)return E(),k&&k.nextSibling?e.insertBefore(_,k.nextSibling):e.appendChild(_),pt=e,L(),R(!0)}else if(k&&Iv(t,y,this)){var D=Hi(e,0,a,!0);if(D===_)return R(!1);if(n=D,o=Ct(n),Gn(ct,e,_,r,n,o,t,!1)!==!1)return E(),e.insertBefore(_,D),pt=e,L(),R(!0)}else if(n.parentNode===e){o=Ct(n);var A=0,I,U=_.parentNode!==e,X=!Lv(_.animated&&_.toRect||r,n.animated&&n.toRect||o,y),st=y?"top":"left",N=El(n,"top","top")||El(_,"top","top"),B=N?N.scrollTop:void 0;Ti!==n&&(I=o[st],yn=!1,$n=!X&&a.invertSwap||U),A=Bv(t,n,o,y,X?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,$n,Ti===n);var q;if(A!==0){var it=te(_);do it-=A,q=pt.children[it];while(q&&($(q,"display")==="none"||q===K))}if(A===0||q===n)return R(!1);Ti=n,bn=A;var vt=n.nextElementSibling,at=!1;at=A===1;var ue=Gn(ct,e,_,r,n,o,t,at);if(ue!==!1)return(ue===1||ue===-1)&&(at=ue===1),vs=!0,setTimeout(Pv,30),E(),at&&!vt?e.appendChild(_):n.parentNode.insertBefore(_,at?vt:n),N&&Zu(N,0,B-N.scrollTop),pt=_.parentNode,I!==void 0&&!$n&&(or=Math.abs(I-Ct(n)[st])),L(),R(!0)}if(e.contains(_))return R(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){tt(document,"mousemove",this._onTouchMove),tt(document,"touchmove",this._onTouchMove),tt(document,"pointermove",this._onTouchMove),tt(document,"dragover",Je),tt(document,"mousemove",Je),tt(document,"touchmove",Je)},_offUpEvents:function(){var t=this.el.ownerDocument;tt(t,"mouseup",this._onDrop),tt(t,"touchend",this._onDrop),tt(t,"pointerup",this._onDrop),tt(t,"touchcancel",this._onDrop),tt(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;if(qt=te(_),Ie=te(_,n.draggable),Wt("drop",this,{evt:t}),pt=_&&_.parentNode,qt=te(_),Ie=te(_,n.draggable),V.eventCanceled){this._nulling();return}Di=!1,$n=!1,yn=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),bs(this.cloneId),bs(this._dragStartId),this.nativeDraggable&&(tt(document,"drop",this),tt(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),gn&&$(document.body,"user-select",""),$(_,"transform",""),t&&(ln&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),K&&K.parentNode&&K.parentNode.removeChild(K),(ct===pt||Ot&&Ot.lastPutMode!=="clone")&&ht&&ht.parentNode&&ht.parentNode.removeChild(ht),_&&(this.nativeDraggable&&tt(_,"dragend",this),Lo(_),_.style["will-change"]="",ln&&!Di&&Ut(_,Ot?Ot.options.ghostClass:this.options.ghostClass,!1),Ut(_,this.options.chosenClass,!1),Nt({sortable:this,name:"unchoose",toEl:pt,newIndex:null,newDraggableIndex:null,originalEvent:t}),ct!==pt?(qt>=0&&(Nt({rootEl:pt,name:"add",toEl:pt,fromEl:ct,originalEvent:t}),Nt({sortable:this,name:"remove",toEl:pt,originalEvent:t}),Nt({rootEl:pt,name:"sort",toEl:pt,fromEl:ct,originalEvent:t}),Nt({sortable:this,name:"sort",toEl:pt,originalEvent:t})),Ot&&Ot.save()):qt!==Li&&qt>=0&&(Nt({sortable:this,name:"update",toEl:pt,originalEvent:t}),Nt({sortable:this,name:"sort",toEl:pt,originalEvent:t})),V.active&&((qt==null||qt===-1)&&(qt=Li,Ie=vn),Nt({sortable:this,name:"end",toEl:pt,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Wt("nulling",this),ct=_=pt=K=ti=ht=rr=Be=Ke=se=ln=qt=Ie=Li=vn=Ti=bn=Ot=qn=V.dragged=V.ghost=V.clone=V.active=null,wr.forEach(function(t){t.checked=!0}),wr.length=Do=Ro=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":_&&(this._onDragOver(t),_v(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],e,n=this.el.children,r=0,o=n.length,s=this.options;r<o;r++)e=n[r],pe(e,s.draggable,this.el,!1)&&t.push(e.getAttribute(s.dataIdAttr)||Wv(e));return t},sort:function(t,e){var n={},r=this.el;this.toArray().forEach(function(o,s){var a=r.children[s];pe(a,this.options.draggable,r,!1)&&(n[o]=a)},this),e&&this.captureAnimationState(),t.forEach(function(o){n[o]&&(r.removeChild(n[o]),r.appendChild(n[o]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return pe(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(e===void 0)return n[t];var r=In.modifyOption(this,t,e);typeof r<"u"?n[t]=r:n[t]=e,t==="group"&&nh(n)},destroy:function(){Wt("destroy",this);var t=this.el;t[Vt]=null,tt(t,"mousedown",this._onTapStart),tt(t,"touchstart",this._onTapStart),tt(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(tt(t,"dragover",this),tt(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),yr.splice(yr.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Be){if(Wt("hideClone",this),V.eventCanceled)return;$(ht,"display","none"),this.options.removeCloneOnHide&&ht.parentNode&&ht.parentNode.removeChild(ht),Be=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Be){if(Wt("showClone",this),V.eventCanceled)return;_.parentNode==ct&&!this.options.group.revertClone?ct.insertBefore(ht,_):ti?ct.insertBefore(ht,ti):ct.appendChild(ht),this.options.group.revertClone&&this.animate(_,ht),$(ht,"display",""),Be=!1}}};function _v(i){i.dataTransfer&&(i.dataTransfer.dropEffect="move"),i.cancelable&&i.preventDefault()}function Gn(i,t,e,n,r,o,s,a){var l,c=i[Vt],d=c.options.onMove,p;return window.CustomEvent&&!Ce&&!Pn?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=i,l.dragged=e,l.draggedRect=n,l.related=r||t,l.relatedRect=o||Ct(t),l.willInsertAfter=a,l.originalEvent=s,i.dispatchEvent(l),d&&(p=d.call(c,l,s)),p}function Lo(i){i.draggable=!1}function Pv(){vs=!1}function Iv(i,t,e){var n=Ct(Hi(e.el,0,e.options,!0)),r=10;return t?i.clientX<n.left-r||i.clientY<n.top&&i.clientX<n.right:i.clientY<n.top-r||i.clientY<n.bottom&&i.clientX<n.left}function Nv(i,t,e){var n=Ct(sa(e.el,e.options.draggable)),r=10;return t?i.clientX>n.right+r||i.clientX<=n.right&&i.clientY>n.bottom&&i.clientX>=n.left:i.clientX>n.right&&i.clientY>n.top||i.clientX<=n.right&&i.clientY>n.bottom+r}function Bv(i,t,e,n,r,o,s,a){var l=n?i.clientY:i.clientX,c=n?e.height:e.width,d=n?e.top:e.left,p=n?e.bottom:e.right,g=!1;if(!s){if(a&&or<c*r){if(!yn&&(bn===1?l>d+c*o/2:l<p-c*o/2)&&(yn=!0),yn)g=!0;else if(bn===1?l<d+or:l>p-or)return-bn}else if(l>d+c*(1-r)/2&&l<p-c*(1-r)/2)return Fv(t)}return g=g||s,g&&(l<d+c*o/2||l>p-c*o/2)?l>d+c/2?1:-1:0}function Fv(i){return te(_)<te(i)?1:-1}function Wv(i){for(var t=i.tagName+i.className+i.src+i.href+i.textContent,e=t.length,n=0;e--;)n+=t.charCodeAt(e);return n.toString(36)}function jv(i){wr.length=0;for(var t=i.getElementsByTagName("input"),e=t.length;e--;){var n=t[e];n.checked&&wr.push(n)}}function sr(i){return setTimeout(i,0)}function bs(i){return clearTimeout(i)}Yr&&nt(document,"touchmove",function(i){(V.active||Di)&&i.cancelable&&i.preventDefault()});V.utils={on:nt,off:tt,css:$,find:Ju,is:function(t,e){return!!pe(t,e,t,!1)},extend:Av,throttle:Qu,closest:pe,toggleClass:Ut,clone:th,index:te,nextTick:sr,cancelNextTick:bs,detectDirection:ih,getChild:Hi};V.get=function(i){return i[Vt]};V.mount=function(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];t[0].constructor===Array&&(t=t[0]),t.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(V.utils=ve(ve({},V.utils),n.utils)),In.mount(n)})};V.create=function(i,t){return new V(i,t)};V.version=yv;var yt=[],cn,ys,ws=!1,ko,Oo,xr,un;function Hv(){function i(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return i.prototype={dragStarted:function(e){var n=e.originalEvent;this.sortable.nativeDraggable?nt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?nt(document,"pointermove",this._handleFallbackAutoScroll):n.touches?nt(document,"touchmove",this._handleFallbackAutoScroll):nt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var n=e.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?tt(document,"dragover",this._handleAutoScroll):(tt(document,"pointermove",this._handleFallbackAutoScroll),tt(document,"touchmove",this._handleFallbackAutoScroll),tt(document,"mousemove",this._handleFallbackAutoScroll)),Ml(),ar(),Sv()},nulling:function(){xr=ys=cn=ws=un=ko=Oo=null,yt.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,n){var r=this,o=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,a=document.elementFromPoint(o,s);if(xr=e,n||this.options.forceAutoScrollFallback||Pn||Ce||gn){_o(e,this.options,a,n);var l=je(a,!0);ws&&(!un||o!==ko||s!==Oo)&&(un&&Ml(),un=setInterval(function(){var c=je(document.elementFromPoint(o,s),!0);c!==l&&(l=c,ar()),_o(e,r.options,c,n)},10),ko=o,Oo=s)}else{if(!this.options.bubbleScroll||je(a,!0)===me()){ar();return}_o(e,this.options,je(a,!1),!1)}}},Se(i,{pluginName:"scroll",initializeByDefault:!0})}function ar(){yt.forEach(function(i){clearInterval(i.pid)}),yt=[]}function Ml(){clearInterval(un)}var _o=Qu(function(i,t,e,n){if(!!t.scroll){var r=(i.touches?i.touches[0]:i).clientX,o=(i.touches?i.touches[0]:i).clientY,s=t.scrollSensitivity,a=t.scrollSpeed,l=me(),c=!1,d;ys!==e&&(ys=e,ar(),cn=t.scroll,d=t.scrollFn,cn===!0&&(cn=je(e,!0)));var p=0,g=cn;do{var y=g,x=Ct(y),S=x.top,C=x.bottom,E=x.left,R=x.right,L=x.width,k=x.height,D=void 0,A=void 0,I=y.scrollWidth,U=y.scrollHeight,X=$(y),st=y.scrollLeft,N=y.scrollTop;y===l?(D=L<I&&(X.overflowX==="auto"||X.overflowX==="scroll"||X.overflowX==="visible"),A=k<U&&(X.overflowY==="auto"||X.overflowY==="scroll"||X.overflowY==="visible")):(D=L<I&&(X.overflowX==="auto"||X.overflowX==="scroll"),A=k<U&&(X.overflowY==="auto"||X.overflowY==="scroll"));var B=D&&(Math.abs(R-r)<=s&&st+L<I)-(Math.abs(E-r)<=s&&!!st),q=A&&(Math.abs(C-o)<=s&&N+k<U)-(Math.abs(S-o)<=s&&!!N);if(!yt[p])for(var it=0;it<=p;it++)yt[it]||(yt[it]={});(yt[p].vx!=B||yt[p].vy!=q||yt[p].el!==y)&&(yt[p].el=y,yt[p].vx=B,yt[p].vy=q,clearInterval(yt[p].pid),(B!=0||q!=0)&&(c=!0,yt[p].pid=setInterval(function(){n&&this.layer===0&&V.active._onTouchMove(xr);var vt=yt[this.layer].vy?yt[this.layer].vy*a:0,at=yt[this.layer].vx?yt[this.layer].vx*a:0;typeof d=="function"&&d.call(V.dragged.parentNode[Vt],at,vt,i,xr,yt[this.layer].el)!=="continue"||Zu(yt[this.layer].el,at,vt)}.bind({layer:p}),24))),p++}while(t.bubbleScroll&&g!==l&&(g=je(g,!1)));ws=c}},30),sh=function(t){var e=t.originalEvent,n=t.putSortable,r=t.dragEl,o=t.activeSortable,s=t.dispatchSortableEvent,a=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(!!e){var c=n||o;a();var d=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,p=document.elementFromPoint(d.clientX,d.clientY);l(),c&&!c.el.contains(p)&&(s("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function aa(){}aa.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=Hi(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(e,r):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:sh};Se(aa,{pluginName:"revertOnSpill"});function la(){}la.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable,r=n||this.sortable;r.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),r.animateAll()},drop:sh};Se(la,{pluginName:"removeOnSpill"});V.mount(new Hv);V.mount(la,aa);const ca={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}},zt={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test(i){return Ll(i.parentNode)===zt[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test(i){return Ll(i.parentNode)===zt[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}},Ll=i=>{var t;return i==null||(t=i.tagName)===null||t===void 0?void 0:t.toLowerCase()},kl=navigator.userAgent.match(/android\s([0-9]+.*Chrome)/i),Po=kl&&parseInt(kl[1]);var Nn={composesExistingText:/Android.*Chrome/.test(navigator.userAgent),recentAndroid:Po&&Po>12,samsungAndroid:Po&&navigator.userAgent.match(/Android.*SM-/),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:typeof InputEvent<"u"&&["data","getTargetRanges","inputType"].every(i=>i in InputEvent.prototype)},J={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption\u2026",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL\u2026",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"};const zv=[J.bytes,J.KB,J.MB,J.GB,J.TB,J.PB];var ah={prefix:"IEC",precision:2,formatter(i){switch(i){case 0:return"0 ".concat(J.bytes);case 1:return"1 ".concat(J.byte);default:let t;this.prefix==="SI"?t=1e3:this.prefix==="IEC"&&(t=1024);const e=Math.floor(Math.log(i)/Math.log(t)),n=(i/Math.pow(t,e)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"");return"".concat(n," ").concat(zv[e])}}};const lh=function(i){for(const t in i){const e=i[t];this[t]=e}return this},ua=document.documentElement,Yv=ua.matches,ft=function(i){let{onElement:t,matchingSelector:e,withCallback:n,inPhase:r,preventDefault:o,times:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=t||ua,l=e,c=r==="capturing",d=function(p){s!=null&&--s==0&&d.destroy();const g=qe(p.target,{matchingSelector:l});g!=null&&(n==null||n.call(g,p,g),o&&p.preventDefault())};return d.destroy=()=>a.removeEventListener(i,d,c),a.addEventListener(i,d,c),d},wn=function(i){let{onElement:t,bubbles:e,cancelable:n,attributes:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=t!=null?t:ua;e=e!==!1,n=n!==!1;const s=document.createEvent("Events");return s.initEvent(i,e,n),r!=null&&lh.call(s,r),o.dispatchEvent(s)},ch=function(i,t){if((i==null?void 0:i.nodeType)===1)return Yv.call(i,t)},qe=function(i){let{matchingSelector:t,untilNode:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(;i&&i.nodeType!==Node.ELEMENT_NODE;)i=i.parentNode;if(i!=null){if(t==null)return i;if(i.closest&&e==null)return i.closest(t);for(;i&&i!==e;){if(ch(i,t))return i;i=i.parentNode}}},ha=i=>document.activeElement!==i&&ni(i,document.activeElement),ni=function(i,t){if(i&&t)for(;t;){if(t===i)return!0;t=t.parentNode}},Io=function(i){var t;if((t=i)===null||t===void 0||!t.parentNode)return;let e=0;for(i=i.previousSibling;i;)e++,i=i.previousSibling;return e},$e=i=>{var t;return i==null||(t=i.parentNode)===null||t===void 0?void 0:t.removeChild(i)},Ar=function(i){let{onlyNodesOfType:t,usingFilter:e,expandEntityReferences:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(()=>{switch(t){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}})();return document.createTreeWalker(i,r,e!=null?e:null,n===!0)},jt=i=>{var t;return i==null||(t=i.tagName)===null||t===void 0?void 0:t.toLowerCase()},Q=function(i){let t,e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof i=="object"?(n=i,i=n.tagName):n={attributes:n};const r=document.createElement(i);if(n.editable!=null&&(n.attributes==null&&(n.attributes={}),n.attributes.contenteditable=n.editable),n.attributes)for(t in n.attributes)e=n.attributes[t],r.setAttribute(t,e);if(n.style)for(t in n.style)e=n.style[t],r.style[t]=e;if(n.data)for(t in n.data)e=n.data[t],r.dataset[t]=e;return n.className&&n.className.split(" ").forEach(o=>{r.classList.add(o)}),n.textContent&&(r.textContent=n.textContent),n.childNodes&&[].concat(n.childNodes).forEach(o=>{r.appendChild(o)}),r};let on;const xn=function(){if(on!=null)return on;on=[];for(const i in zt){const t=zt[i];t.tagName&&on.push(t.tagName)}return on},No=i=>Pi(i==null?void 0:i.firstChild),Xv=function(i){return xn().includes(jt(i))&&!xn().includes(jt(i.firstChild))},Ol=function(i){let{strict:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{strict:!0};return t?Pi(i):Pi(i)||!Pi(i.firstChild)&&Xv(i)},Pi=i=>Uv(i)&&(i==null?void 0:i.data)==="block",Uv=i=>(i==null?void 0:i.nodeType)===Node.COMMENT_NODE,Ii=function(i){let{name:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i)return An(i)?i.data==="\uFEFF"?!t||i.parentNode.dataset.trixCursorTarget===t:void 0:Ii(i.firstChild)},ai=i=>ch(i,"[data-trix-attachment]"),uh=i=>An(i)&&(i==null?void 0:i.data)==="",An=i=>(i==null?void 0:i.nodeType)===Node.TEXT_NODE,da={level2Enabled:!0,getLevel(){return this.level2Enabled&&Nn.supportsInputEvents?2:0},pickFiles(i){const t=Q("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId});t.addEventListener("change",()=>{i(t.files),$e(t)}),$e(document.getElementById(this.fileInputId)),document.body.appendChild(t),t.click()}};var lr={removeBlankTableCells:!1,tableCellSeparator:" | ",tableRowSeparator:`
`},li={bold:{tagName:"strong",inheritable:!0,parser(i){const t=window.getComputedStyle(i);return t.fontWeight==="bold"||t.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:i=>window.getComputedStyle(i).fontStyle==="italic"},href:{groupTagName:"a",parser(i){const t="a:not(".concat("[data-trix-attachment]",")"),e=i.closest(t);if(e)return e.getAttribute("href")}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}},hh={getDefaultHTML:()=>`<div class="trix-button-row">
      <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="`.concat(J.bold,'" tabindex="-1">').concat(J.bold,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="`).concat(J.italic,'" tabindex="-1">').concat(J.italic,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="`).concat(J.strike,'" tabindex="-1">').concat(J.strike,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="`).concat(J.link,'" tabindex="-1">').concat(J.link,`</button>
      </span>

      <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="`).concat(J.heading1,'" tabindex="-1">').concat(J.heading1,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="`).concat(J.quote,'" tabindex="-1">').concat(J.quote,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="`).concat(J.code,'" tabindex="-1">').concat(J.code,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="`).concat(J.bullets,'" tabindex="-1">').concat(J.bullets,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="`).concat(J.numbers,'" tabindex="-1">').concat(J.numbers,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="`).concat(J.outdent,'" tabindex="-1">').concat(J.outdent,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="`).concat(J.indent,'" tabindex="-1">').concat(J.indent,`</button>
      </span>

      <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="`).concat(J.attachFiles,'" tabindex="-1">').concat(J.attachFiles,`</button>
      </span>

      <span class="trix-button-group-spacer"></span>

      <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="`).concat(J.undo,'" tabindex="-1">').concat(J.undo,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="`).concat(J.redo,'" tabindex="-1">').concat(J.redo,`</button>
      </span>
    </div>

    <div class="trix-dialogs" data-trix-dialogs>
      <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">
        <div class="trix-dialog__link-fields">
          <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="`).concat(J.urlPlaceholder,'" aria-label="').concat(J.url,`" required data-trix-input>
          <div class="trix-button-group">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(J.link,`" data-trix-method="setAttribute">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(J.unlink,`" data-trix-method="removeAttribute">
          </div>
        </div>
      </div>
    </div>`)};const xs={interval:5e3};var Bn=Object.freeze({__proto__:null,attachments:ca,blockAttributes:zt,browser:Nn,css:{attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"},fileSize:ah,input:da,keyNames:{8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},lang:J,parser:lr,textAttributes:li,toolbar:hh,undo:xs});class St{static proxyMethod(t){const{name:e,toMethod:n,toProperty:r,optional:o}=qv(t);this.prototype[e]=function(){let s,a;var l,c;return n?a=o?(l=this[n])===null||l===void 0?void 0:l.call(this):this[n]():r&&(a=this[r]),o?(s=(c=a)===null||c===void 0?void 0:c[e],s?_l.call(s,a,arguments):void 0):(s=a[e],_l.call(s,a,arguments))}}}const qv=function(i){const t=i.match($v);if(!t)throw new Error("can't parse @proxyMethod expression: ".concat(i));const e={name:t[4]};return t[2]!=null?e.toMethod=t[1]:e.toProperty=t[1],t[3]!=null&&(e.optional=!0),e},{apply:_l}=Function.prototype,$v=new RegExp("^(.+?)(\\(\\))?(\\?)?\\.(.+?)$");var Bo,Fo,Wo;class Dn extends St{static box(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t instanceof this?t:this.fromUCS2String(t==null?void 0:t.toString())}static fromUCS2String(t){return new this(t,As(t))}static fromCodepoints(t){return new this(Ss(t),t)}constructor(t,e){super(...arguments),this.ucs2String=t,this.codepoints=e,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}offsetToUCS2Offset(t){return Ss(this.codepoints.slice(0,Math.max(0,t))).length}offsetFromUCS2Offset(t){return As(this.ucs2String.slice(0,Math.max(0,t))).length}slice(){return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))}charAt(t){return this.slice(t,t+1)}isEqualTo(t){return this.constructor.box(t).ucs2String===this.ucs2String}toJSON(){return this.ucs2String}getCacheKey(){return this.ucs2String}toString(){return this.ucs2String}}const Vv=((Bo=Array.from)===null||Bo===void 0?void 0:Bo.call(Array,"\u{1F47C}").length)===1,Gv=((Fo=" ".codePointAt)===null||Fo===void 0?void 0:Fo.call(" ",0))!=null,Kv=((Wo=String.fromCodePoint)===null||Wo===void 0?void 0:Wo.call(String,32,128124))===" \u{1F47C}";let As,Ss;As=Vv&&Gv?i=>Array.from(i).map(t=>t.codePointAt(0)):function(i){const t=[];let e=0;const{length:n}=i;for(;e<n;){let r=i.charCodeAt(e++);if(55296<=r&&r<=56319&&e<n){const o=i.charCodeAt(e++);(64512&o)==56320?r=((1023&r)<<10)+(1023&o)+65536:e--}t.push(r)}return t},Ss=Kv?i=>String.fromCodePoint(...Array.from(i||[])):function(i){return(()=>{const t=[];return Array.from(i).forEach(e=>{let n="";e>65535&&(e-=65536,n+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t.push(n+String.fromCharCode(e))}),t})().join("")};let Jv=0;class fi extends St{static fromJSONString(t){return this.fromJSON(JSON.parse(t))}constructor(){super(...arguments),this.id=++Jv}hasSameConstructorAs(t){return this.constructor===(t==null?void 0:t.constructor)}isEqualTo(t){return this===t}inspect(){const t=[],e=this.contentsForInspection()||{};for(const n in e){const r=e[n];t.push("".concat(n,"=").concat(r))}return"#<".concat(this.constructor.name,":").concat(this.id).concat(t.length?" ".concat(t.join(", ")):"",">")}contentsForInspection(){}toJSONString(){return JSON.stringify(this)}toUTF16String(){return Dn.box(this)}getCacheKey(){return this.id.toString()}}const ci=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(i.length!==t.length)return!1;for(let e=0;e<i.length;e++)if(i[e]!==t[e])return!1;return!0},fa=function(i){const t=i.slice(0);for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.splice(...n),t},Qv=/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,Zv=function(){const i=Q("input",{dir:"auto",name:"x",dirName:"x.dir"}),t=Q("textarea",{dir:"auto",name:"y",dirName:"y.dir"}),e=Q("form");e.appendChild(i),e.appendChild(t);const n=function(){try{return new FormData(e).has(t.dirName)}catch{return!1}}(),r=function(){try{return i.matches(":dir(ltr),:dir(rtl)")}catch{return!1}}();return n?function(o){return t.value=o,new FormData(e).get(t.dirName)}:r?function(o){return i.value=o,i.matches(":dir(rtl)")?"rtl":"ltr"}:function(o){const s=o.trim().charAt(0);return Qv.test(s)?"rtl":"ltr"}}();let jo=null,Ho=null,zo=null,Kn=null;const Es=()=>(jo||(jo=eb().concat(tb())),jo),xt=i=>zt[i],tb=()=>(Ho||(Ho=Object.keys(zt)),Ho),Cs=i=>li[i],eb=()=>(zo||(zo=Object.keys(li)),zo),dh=function(i,t){ib(i).textContent=t.replace(/%t/g,i)},ib=function(i){const t=document.createElement("style");t.setAttribute("type","text/css"),t.setAttribute("data-tag-name",i.toLowerCase());const e=nb();return e&&t.setAttribute("nonce",e),document.head.insertBefore(t,document.head.firstChild),t},nb=function(){const i=Pl("trix-csp-nonce")||Pl("csp-nonce");if(i)return i.getAttribute("content")},Pl=i=>document.head.querySelector("meta[name=".concat(i,"]")),Il={"application/x-trix-feature-detection":"test"},fh=function(i){const t=i.getData("text/plain"),e=i.getData("text/html");if(!t||!e)return t==null?void 0:t.length;{const{body:n}=new DOMParser().parseFromString(e,"text/html");if(n.textContent===t)return!n.querySelector("*")}},ph=/Mac|^iP/.test(navigator.platform)?i=>i.metaKey:i=>i.ctrlKey,pa=i=>setTimeout(i,1),gh=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={};for(const e in i){const n=i[e];t[e]=n}return t},Fn=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object.keys(i).length!==Object.keys(t).length)return!1;for(const e in i)if(i[e]!==t[e])return!1;return!0},ot=function(i){if(i!=null)return Array.isArray(i)||(i=[i,i]),[Nl(i[0]),Nl(i[1]!=null?i[1]:i[0])]},we=function(i){if(i==null)return;const[t,e]=ot(i);return Ts(t,e)},Sr=function(i,t){if(i==null||t==null)return;const[e,n]=ot(i),[r,o]=ot(t);return Ts(e,r)&&Ts(n,o)},Nl=function(i){return typeof i=="number"?i:gh(i)},Ts=function(i,t){return typeof i=="number"?i===t:Fn(i,t)};class mh extends St{constructor(){super(...arguments),this.update=this.update.bind(this),this.run=this.run.bind(this),this.selectionManagers=[]}start(){if(!this.started)return this.started=!0,"onselectionchange"in document?document.addEventListener("selectionchange",this.update,!0):this.run()}stop(){if(this.started)return this.started=!1,document.removeEventListener("selectionchange",this.update,!0)}registerSelectionManager(t){if(!this.selectionManagers.includes(t))return this.selectionManagers.push(t),this.start()}unregisterSelectionManager(t){if(this.selectionManagers=this.selectionManagers.filter(e=>e!==t),this.selectionManagers.length===0)return this.stop()}notifySelectionManagersOfSelectionChange(){return this.selectionManagers.map(t=>t.selectionDidChange())}update(){const t=Ni();if(!rb(t,this.domRange))return this.domRange=t,this.notifySelectionManagersOfSelectionChange()}reset(){return this.domRange=null,this.update()}run(){if(this.started)return this.update(),requestAnimationFrame(this.run)}}const rb=(i,t)=>(i==null?void 0:i.startContainer)===(t==null?void 0:t.startContainer)&&(i==null?void 0:i.startOffset)===(t==null?void 0:t.startOffset)&&(i==null?void 0:i.endContainer)===(t==null?void 0:t.endContainer)&&(i==null?void 0:i.endOffset)===(t==null?void 0:t.endOffset),ui=new mh,vh=function(){const i=window.getSelection();if(i.rangeCount>0)return i},Ni=function(){var i;const t=(i=vh())===null||i===void 0?void 0:i.getRangeAt(0);if(t&&!ob(t))return t},bh=function(i){const t=window.getSelection();return t.removeAllRanges(),t.addRange(i),ui.update()},ob=i=>Bl(i.startContainer)||Bl(i.endContainer),Bl=i=>!Object.getPrototypeOf(i),hn=i=>i.replace(new RegExp("".concat("\uFEFF"),"g"),"").replace(new RegExp("".concat("\xA0"),"g")," "),ga=new RegExp("[^\\S".concat("\xA0","]")),ma=i=>i.replace(new RegExp("".concat(ga.source),"g")," ").replace(/\ {2,}/g," "),Fl=function(i,t){if(i.isEqualTo(t))return["",""];const e=Yo(i,t),{length:n}=e.utf16String;let r;if(n){const{offset:o}=e,s=i.codepoints.slice(0,o).concat(i.codepoints.slice(o+n));r=Yo(t,Dn.fromCodepoints(s))}else r=Yo(t,i);return[e.utf16String.toString(),r.utf16String.toString()]},Yo=function(i,t){let e=0,n=i.length,r=t.length;for(;e<n&&i.charAt(e).isEqualTo(t.charAt(e));)e++;for(;n>e+1&&i.charAt(n-1).isEqualTo(t.charAt(r-1));)n--,r--;return{utf16String:i.slice(e,n),offset:e}};class Gt extends fi{static fromCommonAttributesOfObjects(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!t.length)return new this;let e=sn(t[0]),n=e.getKeys();return t.slice(1).forEach(r=>{n=e.getKeysCommonToHash(sn(r)),e=e.slice(n)}),e}static box(t){return sn(t)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(...arguments),this.values=cr(t)}add(t,e){return this.merge(sb(t,e))}remove(t){return new Gt(cr(this.values,t))}get(t){return this.values[t]}has(t){return t in this.values}merge(t){return new Gt(ab(this.values,lb(t)))}slice(t){const e={};return Array.from(t).forEach(n=>{this.has(n)&&(e[n]=this.values[n])}),new Gt(e)}getKeys(){return Object.keys(this.values)}getKeysCommonToHash(t){return t=sn(t),this.getKeys().filter(e=>this.values[e]===t.values[e])}isEqualTo(t){return ci(this.toArray(),sn(t).toArray())}isEmpty(){return this.getKeys().length===0}toArray(){if(!this.array){const t=[];for(const e in this.values){const n=this.values[e];t.push(t.push(e,n))}this.array=t.slice(0)}return this.array}toObject(){return cr(this.values)}toJSON(){return this.toObject()}contentsForInspection(){return{values:JSON.stringify(this.values)}}}const sb=function(i,t){const e={};return e[i]=t,e},ab=function(i,t){const e=cr(i);for(const n in t){const r=t[n];e[n]=r}return e},cr=function(i,t){const e={};return Object.keys(i).sort().forEach(n=>{n!==t&&(e[n]=i[n])}),e},sn=function(i){return i instanceof Gt?i:new Gt(i)},lb=function(i){return i instanceof Gt?i.values:i};class va{static groupObjects(){let t,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:n,asTree:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};r&&n==null&&(n=0);const o=[];return Array.from(e).forEach(s=>{var a;if(t){var l,c,d;if((l=s.canBeGrouped)!==null&&l!==void 0&&l.call(s,n)&&(c=(d=t[t.length-1]).canBeGroupedWith)!==null&&c!==void 0&&c.call(d,s,n))return void t.push(s);o.push(new this(t,{depth:n,asTree:r})),t=null}(a=s.canBeGrouped)!==null&&a!==void 0&&a.call(s,n)?t=[s]:o.push(s)}),t&&o.push(new this(t,{depth:n,asTree:r})),o}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:e,asTree:n}=arguments.length>1?arguments[1]:void 0;this.objects=t,n&&(this.depth=e,this.objects=this.constructor.groupObjects(this.objects,{asTree:n,depth:this.depth+1}))}getObjects(){return this.objects}getDepth(){return this.depth}getCacheKey(){const t=["objectGroup"];return Array.from(this.getObjects()).forEach(e=>{t.push(e.getCacheKey())}),t.join("/")}}class cb extends St{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects={},Array.from(t).forEach(e=>{const n=JSON.stringify(e);this.objects[n]==null&&(this.objects[n]=e)})}find(t){const e=JSON.stringify(t);return this.objects[e]}}class ub{constructor(t){this.reset(t)}add(t){const e=Wl(t);this.elements[e]=t}remove(t){const e=Wl(t),n=this.elements[e];if(n)return delete this.elements[e],n}reset(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this.elements={},Array.from(t).forEach(e=>{this.add(e)}),t}}const Wl=i=>i.dataset.trixStoreKey;class Er extends St{isPerforming(){return this.performing===!0}hasPerformed(){return this.performed===!0}hasSucceeded(){return this.performed&&this.succeeded}hasFailed(){return this.performed&&!this.succeeded}getPromise(){return this.promise||(this.promise=new Promise((t,e)=>(this.performing=!0,this.perform((n,r)=>{this.succeeded=n,this.performing=!1,this.performed=!0,this.succeeded?t(r):e(r)})))),this.promise}perform(t){return t(!1)}release(){var t,e;(t=this.promise)===null||t===void 0||(e=t.cancel)===null||e===void 0||e.call(t),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null}}Er.proxyMethod("getPromise().then"),Er.proxyMethod("getPromise().catch");class Vi extends St{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.object=t,this.options=e,this.childViews=[],this.rootView=this}getNodes(){return this.nodes||(this.nodes=this.createNodes()),this.nodes.map(t=>t.cloneNode(!0))}invalidate(){var t;return this.nodes=null,this.childViews=[],(t=this.parentView)===null||t===void 0?void 0:t.invalidate()}invalidateViewForObject(t){var e;return(e=this.findViewForObject(t))===null||e===void 0?void 0:e.invalidate()}findOrCreateCachedChildView(t,e,n){let r=this.getCachedViewForObject(e);return r?this.recordChildView(r):(r=this.createChildView(...arguments),this.cacheViewForObject(r,e)),r}createChildView(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};e instanceof va&&(n.viewClass=t,t=hb);const r=new t(e,n);return this.recordChildView(r)}recordChildView(t){return t.parentView=this,t.rootView=this.rootView,this.childViews.push(t),t}getAllChildViews(){let t=[];return this.childViews.forEach(e=>{t.push(e),t=t.concat(e.getAllChildViews())}),t}findElement(){return this.findElementForObject(this.object)}findElementForObject(t){const e=t==null?void 0:t.id;if(e)return this.rootView.element.querySelector("[data-trix-id='".concat(e,"']"))}findViewForObject(t){for(const e of this.getAllChildViews())if(e.object===t)return e}getViewCache(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?(this.viewCache||(this.viewCache={}),this.viewCache):void 0}isViewCachingEnabled(){return this.shouldCacheViews!==!1}enableViewCaching(){this.shouldCacheViews=!0}disableViewCaching(){this.shouldCacheViews=!1}getCachedViewForObject(t){var e;return(e=this.getViewCache())===null||e===void 0?void 0:e[t.getCacheKey()]}cacheViewForObject(t,e){const n=this.getViewCache();n&&(n[e.getCacheKey()]=t)}garbageCollectCachedViews(){const t=this.getViewCache();if(t){const e=this.getAllChildViews().concat(this).map(n=>n.object.getCacheKey());for(const n in t)e.includes(n)||delete t[n]}}}class hb extends Vi{constructor(){super(...arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}getChildViews(){return this.childViews.length||Array.from(this.objectGroup.getObjects()).forEach(t=>{this.findOrCreateCachedChildView(this.viewClass,t,this.options)}),this.childViews}createNodes(){const t=this.createContainerElement();return this.getChildViews().forEach(e=>{Array.from(e.getNodes()).forEach(n=>{t.appendChild(n)})}),[t]}createContainerElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.objectGroup.getDepth();return this.getChildViews()[0].createContainerElement(t)}}const{css:Oe}=Bn;class yh extends Vi{constructor(){super(...arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}createContentNodes(){return[]}createNodes(){let t;const e=t=Q({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),n=this.getHref();return n&&(t=Q({tagName:"a",editable:!1,attributes:{href:n,tabindex:-1}}),e.appendChild(t)),this.attachment.hasContent()?t.innerHTML=this.attachment.getContent():this.createContentNodes().forEach(r=>{t.appendChild(r)}),t.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=Q({tagName:"progress",attributes:{class:Oe.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),e.appendChild(this.progressElement)),[jl("left"),e,jl("right")]}createCaptionElement(){const t=Q({tagName:"figcaption",className:Oe.attachmentCaption}),e=this.attachmentPiece.getCaption();if(e)t.classList.add("".concat(Oe.attachmentCaption,"--edited")),t.textContent=e;else{let n,r;const o=this.getCaptionConfig();if(o.name&&(n=this.attachment.getFilename()),o.size&&(r=this.attachment.getFormattedFilesize()),n){const s=Q({tagName:"span",className:Oe.attachmentName,textContent:n});t.appendChild(s)}if(r){n&&t.appendChild(document.createTextNode(" "));const s=Q({tagName:"span",className:Oe.attachmentSize,textContent:r});t.appendChild(s)}}return t}getClassName(){const t=[Oe.attachment,"".concat(Oe.attachment,"--").concat(this.attachment.getType())],e=this.attachment.getExtension();return e&&t.push("".concat(Oe.attachment,"--").concat(e)),t.join(" ")}getData(){const t={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},{attributes:e}=this.attachmentPiece;return e.isEmpty()||(t.trixAttributes=JSON.stringify(e)),this.attachment.isPending()&&(t.trixSerialize=!1),t}getHref(){if(!db(this.attachment.getContent(),"a"))return this.attachment.getHref()}getCaptionConfig(){var t;const e=this.attachment.getType(),n=gh((t=ca[e])===null||t===void 0?void 0:t.caption);return e==="file"&&(n.name=!0),n}findProgressElement(){var t;return(t=this.findElement())===null||t===void 0?void 0:t.querySelector("progress")}attachmentDidChangeUploadProgress(){const t=this.attachment.getUploadProgress(),e=this.findProgressElement();e&&(e.value=t)}}const jl=i=>Q({tagName:"span",textContent:"\uFEFF",data:{trixCursorTarget:i,trixSerialize:!1}}),db=function(i,t){const e=Q("div");return e.innerHTML=i||"",e.querySelector(t)};class fb extends yh{constructor(){super(...arguments),this.attachment.previewDelegate=this}createContentNodes(){return this.image=Q({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]}createCaptionElement(){const t=super.createCaptionElement(...arguments);return t.textContent||t.setAttribute("data-trix-placeholder",J.captionPlaceholder),t}refresh(t){var e;if(t||(t=(e=this.findElement())===null||e===void 0?void 0:e.querySelector("img")),t)return this.updateAttributesForImage(t)}updateAttributesForImage(t){const e=this.attachment.getURL(),n=this.attachment.getPreviewURL();if(t.src=n||e,n===e)t.removeAttribute("data-trix-serialized-attributes");else{const a=JSON.stringify({src:e});t.setAttribute("data-trix-serialized-attributes",a)}const r=this.attachment.getWidth(),o=this.attachment.getHeight();r!=null&&(t.width=r),o!=null&&(t.height=o);const s=["imageElement",this.attachment.id,t.src,t.width,t.height].join("/");t.dataset.trixStoreKey=s}attachmentDidChangeAttributes(){return this.refresh(this.image),this.refresh()}}class pb extends Vi{constructor(){super(...arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),this.textConfig=this.options.textConfig,this.context=this.options.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}createNodes(){let t=this.attachment?this.createAttachmentNodes():this.createStringNodes();const e=this.createElement();if(e){const n=function(r){for(;(o=r)!==null&&o!==void 0&&o.firstElementChild;){var o;r=r.firstElementChild}return r}(e);Array.from(t).forEach(r=>{n.appendChild(r)}),t=[e]}return t}createAttachmentNodes(){const t=this.attachment.isPreviewable()?fb:yh;return this.createChildView(t,this.piece.attachment,{piece:this.piece}).getNodes()}createStringNodes(){var t;if((t=this.textConfig)!==null&&t!==void 0&&t.plaintext)return[document.createTextNode(this.string)];{const e=[],n=this.string.split(`
`);for(let r=0;r<n.length;r++){const o=n[r];if(r>0){const s=Q("br");e.push(s)}if(o.length){const s=document.createTextNode(this.preserveSpaces(o));e.push(s)}}return e}}createElement(){let t,e,n;const r={};for(e in this.attributes){n=this.attributes[e];const s=Cs(e);if(s){if(s.tagName){var o;const a=Q(s.tagName);o?(o.appendChild(a),o=a):t=o=a}if(s.styleProperty&&(r[s.styleProperty]=n),s.style)for(e in s.style)n=s.style[e],r[e]=n}}if(Object.keys(r).length)for(e in t||(t=Q("span")),r)n=r[e],t.style[e]=n;return t}createContainerElement(){for(const t in this.attributes){const e=this.attributes[t],n=Cs(t);if(n&&n.groupTagName){const r={};return r[t]=e,Q(n.groupTagName,r)}}}preserveSpaces(t){return this.context.isLast&&(t=t.replace(/\ $/,"\xA0")),t=t.replace(/(\S)\ {3}(\S)/g,"$1 ".concat("\xA0"," $2")).replace(/\ {2}/g,"".concat("\xA0"," ")).replace(/\ {2}/g," ".concat("\xA0")),(this.context.isFirst||this.context.followsWhitespace)&&(t=t.replace(/^\ /,"\xA0")),t}}class gb extends Vi{constructor(){super(...arguments),this.text=this.object,this.textConfig=this.options.textConfig}createNodes(){const t=[],e=va.groupObjects(this.getPieces()),n=e.length-1;for(let o=0;o<e.length;o++){const s=e[o],a={};o===0&&(a.isFirst=!0),o===n&&(a.isLast=!0),mb(r)&&(a.followsWhitespace=!0);const l=this.findOrCreateCachedChildView(pb,s,{textConfig:this.textConfig,context:a});t.push(...Array.from(l.getNodes()||[]));var r=s}return t}getPieces(){return Array.from(this.text.getPieces()).filter(t=>!t.hasAttribute("blockBreak"))}}const mb=i=>/\s$/.test(i==null?void 0:i.toString()),{css:Hl}=Bn;class vb extends Vi{constructor(){super(...arguments),this.block=this.object,this.attributes=this.block.getAttributes()}createNodes(){const t=[document.createComment("block")];if(this.block.isEmpty())t.push(Q("br"));else{var e;const n=(e=xt(this.block.getLastAttribute()))===null||e===void 0?void 0:e.text,r=this.findOrCreateCachedChildView(gb,this.block.text,{textConfig:n});t.push(...Array.from(r.getNodes()||[])),this.shouldAddExtraNewlineElement()&&t.push(Q("br"))}if(this.attributes.length)return t;{let n;const{tagName:r}=zt.default;this.block.isRTL()&&(n={dir:"rtl"});const o=Q({tagName:r,attributes:n});return t.forEach(s=>o.appendChild(s)),[o]}}createContainerElement(t){let e,n;const r=this.attributes[t],{tagName:o}=xt(r);if(t===0&&this.block.isRTL()&&(e={dir:"rtl"}),r==="attachmentGallery"){const s=this.block.getBlockBreakPosition();n="".concat(Hl.attachmentGallery," ").concat(Hl.attachmentGallery,"--").concat(s)}return Q({tagName:o,className:n,attributes:e})}shouldAddExtraNewlineElement(){return/\n\n$/.test(this.block.toString())}}class ba extends Vi{static render(t){const e=Q("div"),n=new this(t,{element:e});return n.render(),n.sync(),e}constructor(){super(...arguments),this.element=this.options.element,this.elementStore=new ub,this.setDocument(this.object)}setDocument(t){t.isEqualTo(this.document)||(this.document=this.object=t)}render(){if(this.childViews=[],this.shadowElement=Q("div"),!this.document.isEmpty()){const t=va.groupObjects(this.document.getBlocks(),{asTree:!0});Array.from(t).forEach(e=>{const n=this.findOrCreateCachedChildView(vb,e);Array.from(n.getNodes()).map(r=>this.shadowElement.appendChild(r))})}}isSynced(){return bb(this.shadowElement,this.element)}sync(){const t=this.createDocumentFragmentForSync();for(;this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(t),this.didSync()}didSync(){return this.elementStore.reset(zl(this.element)),pa(()=>this.garbageCollectCachedViews())}createDocumentFragmentForSync(){const t=document.createDocumentFragment();return Array.from(this.shadowElement.childNodes).forEach(e=>{t.appendChild(e.cloneNode(!0))}),Array.from(zl(t)).forEach(e=>{const n=this.elementStore.remove(e);n&&e.parentNode.replaceChild(n,e)}),t}}const zl=i=>i.querySelectorAll("[data-trix-store-key]"),bb=(i,t)=>Yl(i.innerHTML)===Yl(t.innerHTML),Yl=i=>i.replace(/&nbsp;/g," ");function Kt(i,t,e){return t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}class pi extends fi{static registerType(t,e){e.type=t,this.types[t]=e}static fromJSON(t){const e=this.types[t.type];if(e)return e.fromJSON(t)}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.attributes=Gt.box(e)}copyWithAttributes(t){return new this.constructor(this.getValue(),t)}copyWithAdditionalAttributes(t){return this.copyWithAttributes(this.attributes.merge(t))}copyWithoutAttribute(t){return this.copyWithAttributes(this.attributes.remove(t))}copy(){return this.copyWithAttributes(this.attributes)}getAttribute(t){return this.attributes.get(t)}getAttributesHash(){return this.attributes}getAttributes(){return this.attributes.toObject()}hasAttribute(t){return this.attributes.has(t)}hasSameStringValueAsPiece(t){return t&&this.toString()===t.toString()}hasSameAttributesAsPiece(t){return t&&(this.attributes===t.attributes||this.attributes.isEqualTo(t.attributes))}isBlockBreak(){return!1}isEqualTo(t){return super.isEqualTo(...arguments)||this.hasSameConstructorAs(t)&&this.hasSameStringValueAsPiece(t)&&this.hasSameAttributesAsPiece(t)}isEmpty(){return this.length===0}isSerializable(){return!0}toJSON(){return{type:this.constructor.type,attributes:this.getAttributes()}}contentsForInspection(){return{type:this.constructor.type,attributes:this.attributes.inspect()}}canBeGrouped(){return this.hasAttribute("href")}canBeGroupedWith(t){return this.getAttribute("href")===t.getAttribute("href")}getLength(){return this.length}canBeConsolidatedWith(t){return!1}}Kt(pi,"types",{});class wh extends Er{constructor(t){super(...arguments),this.url=t}perform(t){const e=new Image;e.onload=()=>(e.width=this.width=e.naturalWidth,e.height=this.height=e.naturalHeight,t(!0,e)),e.onerror=()=>t(!1),e.src=this.url}}class Gi extends fi{static attachmentForFile(t){const e=new this(this.attributesForFile(t));return e.setFile(t),e}static attributesForFile(t){return new Gt({filename:t.name,filesize:t.size,contentType:t.type})}static fromJSON(t){return new this(t)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.releaseFile=this.releaseFile.bind(this),this.attributes=Gt.box(t),this.didChangeAttributes()}getAttribute(t){return this.attributes.get(t)}hasAttribute(t){return this.attributes.has(t)}getAttributes(){return this.attributes.toObject()}setAttributes(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=this.attributes.merge(t);var n,r,o,s;if(!this.attributes.isEqualTo(e))return this.attributes=e,this.didChangeAttributes(),(n=this.previewDelegate)===null||n===void 0||(r=n.attachmentDidChangeAttributes)===null||r===void 0||r.call(n,this),(o=this.delegate)===null||o===void 0||(s=o.attachmentDidChangeAttributes)===null||s===void 0?void 0:s.call(o,this)}didChangeAttributes(){if(this.isPreviewable())return this.preloadURL()}isPending(){return this.file!=null&&!(this.getURL()||this.getHref())}isPreviewable(){return this.attributes.has("previewable")?this.attributes.get("previewable"):Gi.previewablePattern.test(this.getContentType())}getType(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"}getURL(){return this.attributes.get("url")}getHref(){return this.attributes.get("href")}getFilename(){return this.attributes.get("filename")||""}getFilesize(){return this.attributes.get("filesize")}getFormattedFilesize(){const t=this.attributes.get("filesize");return typeof t=="number"?ah.formatter(t):""}getExtension(){var t;return(t=this.getFilename().match(/\.(\w+)$/))===null||t===void 0?void 0:t[1].toLowerCase()}getContentType(){return this.attributes.get("contentType")}hasContent(){return this.attributes.has("content")}getContent(){return this.attributes.get("content")}getWidth(){return this.attributes.get("width")}getHeight(){return this.attributes.get("height")}getFile(){return this.file}setFile(t){if(this.file=t,this.isPreviewable())return this.preloadFile()}releaseFile(){this.releasePreloadedFile(),this.file=null}getUploadProgress(){return this.uploadProgress!=null?this.uploadProgress:0}setUploadProgress(t){var e,n;if(this.uploadProgress!==t)return this.uploadProgress=t,(e=this.uploadProgressDelegate)===null||e===void 0||(n=e.attachmentDidChangeUploadProgress)===null||n===void 0?void 0:n.call(e,this)}toJSON(){return this.getAttributes()}getCacheKey(){return[super.getCacheKey(...arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")}getPreviewURL(){return this.previewURL||this.preloadingURL}setPreviewURL(t){var e,n,r,o;if(t!==this.getPreviewURL())return this.previewURL=t,(e=this.previewDelegate)===null||e===void 0||(n=e.attachmentDidChangeAttributes)===null||n===void 0||n.call(e,this),(r=this.delegate)===null||r===void 0||(o=r.attachmentDidChangePreviewURL)===null||o===void 0?void 0:o.call(r,this)}preloadURL(){return this.preload(this.getURL(),this.releaseFile)}preloadFile(){if(this.file)return this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)}releasePreloadedFile(){this.fileObjectURL&&(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null)}preload(t,e){if(t&&t!==this.getPreviewURL())return this.preloadingURL=t,new wh(t).then(n=>{let{width:r,height:o}=n;return this.getWidth()&&this.getHeight()||this.setAttributes({width:r,height:o}),this.preloadingURL=null,this.setPreviewURL(t),e==null?void 0:e()}).catch(()=>(this.preloadingURL=null,e==null?void 0:e()))}}Kt(Gi,"previewablePattern",/^image(\/(gif|png|webp|jpe?g)|$)/);class zi extends pi{static fromJSON(t){return new this(Gi.fromJSON(t.attachment),t.attributes)}constructor(t){super(...arguments),this.attachment=t,this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}ensureAttachmentExclusivelyHasAttribute(t){this.hasAttribute(t)&&(this.attachment.hasAttribute(t)||this.attachment.setAttributes(this.attributes.slice([t])),this.attributes=this.attributes.remove(t))}removeProhibitedAttributes(){const t=this.attributes.slice(zi.permittedAttributes);t.isEqualTo(this.attributes)||(this.attributes=t)}getValue(){return this.attachment}isSerializable(){return!this.attachment.isPending()}getCaption(){return this.attributes.get("caption")||""}isEqualTo(t){var e;return super.isEqualTo(t)&&this.attachment.id===(t==null||(e=t.attachment)===null||e===void 0?void 0:e.id)}toString(){return"\uFFFC"}toJSON(){const t=super.toJSON(...arguments);return t.attachment=this.attachment,t}getCacheKey(){return[super.getCacheKey(...arguments),this.attachment.getCacheKey()].join("/")}toConsole(){return JSON.stringify(this.toString())}}Kt(zi,"permittedAttributes",["caption","presentation"]),pi.registerType("attachment",zi);class ya extends pi{static fromJSON(t){return new this(t.string,t.attributes)}constructor(t){super(...arguments),this.string=(e=>e.replace(/\r\n/g,`
`))(t),this.length=this.string.length}getValue(){return this.string}toString(){return this.string.toString()}isBlockBreak(){return this.toString()===`
`&&this.getAttribute("blockBreak")===!0}toJSON(){const t=super.toJSON(...arguments);return t.string=this.string,t}canBeConsolidatedWith(t){return t&&this.hasSameConstructorAs(t)&&this.hasSameAttributesAsPiece(t)}consolidateWith(t){return new this.constructor(this.toString()+t.toString(),this.attributes)}splitAtOffset(t){let e,n;return t===0?(e=null,n=this):t===this.length?(e=this,n=null):(e=new this.constructor(this.string.slice(0,t),this.attributes),n=new this.constructor(this.string.slice(t),this.attributes)),[e,n]}toConsole(){let{string:t}=this;return t.length>15&&(t=t.slice(0,14)+"\u2026"),JSON.stringify(t.toString())}}pi.registerType("string",ya);class Cr extends fi{static box(t){return t instanceof this?t:new this(t)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects=t.slice(0),this.length=this.objects.length}indexOf(t){return this.objects.indexOf(t)}splice(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new this.constructor(fa(this.objects,...e))}eachObject(t){return this.objects.map((e,n)=>t(e,n))}insertObjectAtIndex(t,e){return this.splice(e,0,t)}insertSplittableListAtIndex(t,e){return this.splice(e,0,...t.objects)}insertSplittableListAtPosition(t,e){const[n,r]=this.splitObjectAtPosition(e);return new this.constructor(n).insertSplittableListAtIndex(t,r)}editObjectAtIndex(t,e){return this.replaceObjectAtIndex(e(this.objects[t]),t)}replaceObjectAtIndex(t,e){return this.splice(e,1,t)}removeObjectAtIndex(t){return this.splice(t,1)}getObjectAtIndex(t){return this.objects[t]}getSplittableListInRange(t){const[e,n,r]=this.splitObjectsAtRange(t);return new this.constructor(e.slice(n,r+1))}selectSplittableList(t){const e=this.objects.filter(n=>t(n));return new this.constructor(e)}removeObjectsInRange(t){const[e,n,r]=this.splitObjectsAtRange(t);return new this.constructor(e).splice(n,r-n+1)}transformObjectsInRange(t,e){const[n,r,o]=this.splitObjectsAtRange(t),s=n.map((a,l)=>r<=l&&l<=o?e(a):a);return new this.constructor(s)}splitObjectsAtRange(t){let e,[n,r,o]=this.splitObjectAtPosition(wb(t));return[n,e]=new this.constructor(n).splitObjectAtPosition(xb(t)+o),[n,r,e-1]}getObjectAtPosition(t){const{index:e}=this.findIndexAndOffsetAtPosition(t);return this.objects[e]}splitObjectAtPosition(t){let e,n;const{index:r,offset:o}=this.findIndexAndOffsetAtPosition(t),s=this.objects.slice(0);if(r!=null)if(o===0)e=r,n=0;else{const a=this.getObjectAtIndex(r),[l,c]=a.splitAtOffset(o);s.splice(r,1,l,c),e=r+1,n=l.getLength()-o}else e=s.length,n=0;return[s,e,n]}consolidate(){const t=[];let e=this.objects[0];return this.objects.slice(1).forEach(n=>{var r,o;(r=(o=e).canBeConsolidatedWith)!==null&&r!==void 0&&r.call(o,n)?e=e.consolidateWith(n):(t.push(e),e=n)}),e&&t.push(e),new this.constructor(t)}consolidateFromIndexToIndex(t,e){const n=this.objects.slice(0).slice(t,e+1),r=new this.constructor(n).consolidate().toArray();return this.splice(t,n.length,...r)}findIndexAndOffsetAtPosition(t){let e,n=0;for(e=0;e<this.objects.length;e++){const r=n+this.objects[e].getLength();if(n<=t&&t<r)return{index:e,offset:t-n};n=r}return{index:null,offset:null}}findPositionAtIndexAndOffset(t,e){let n=0;for(let r=0;r<this.objects.length;r++){const o=this.objects[r];if(r<t)n+=o.getLength();else if(r===t){n+=e;break}}return n}getEndPosition(){return this.endPosition==null&&(this.endPosition=0,this.objects.forEach(t=>this.endPosition+=t.getLength())),this.endPosition}toString(){return this.objects.join("")}toArray(){return this.objects.slice(0)}toJSON(){return this.toArray()}isEqualTo(t){return super.isEqualTo(...arguments)||yb(this.objects,t==null?void 0:t.objects)}contentsForInspection(){return{objects:"[".concat(this.objects.map(t=>t.inspect()).join(", "),"]")}}}const yb=function(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(i.length!==t.length)return!1;let e=!0;for(let n=0;n<i.length;n++){const r=i[n];e&&!r.isEqualTo(t[n])&&(e=!1)}return e},wb=i=>i[0],xb=i=>i[1];class ae extends fi{static textForAttachmentWithAttributes(t,e){return new this([new zi(t,e)])}static textForStringWithAttributes(t,e){return new this([new ya(t,e)])}static fromJSON(t){return new this(Array.from(t).map(e=>pi.fromJSON(e)))}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments);const e=t.filter(n=>!n.isEmpty());this.pieceList=new Cr(e)}copy(){return this.copyWithPieceList(this.pieceList)}copyWithPieceList(t){return new this.constructor(t.consolidate().toArray())}copyUsingObjectMap(t){const e=this.getPieces().map(n=>t.find(n)||n);return new this.constructor(e)}appendText(t){return this.insertTextAtPosition(t,this.getLength())}insertTextAtPosition(t,e){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(t.pieceList,e))}removeTextAtRange(t){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(t))}replaceTextAtRange(t,e){return this.removeTextAtRange(e).insertTextAtPosition(t,e[0])}moveTextFromRangeToPosition(t,e){if(t[0]<=e&&e<=t[1])return;const n=this.getTextAtRange(t),r=n.getLength();return t[0]<e&&(e-=r),this.removeTextAtRange(t).insertTextAtPosition(n,e)}addAttributeAtRange(t,e,n){const r={};return r[t]=e,this.addAttributesAtRange(r,n)}addAttributesAtRange(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,n=>n.copyWithAdditionalAttributes(t)))}removeAttributeAtRange(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,n=>n.copyWithoutAttribute(t)))}setAttributesAtRange(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,n=>n.copyWithAttributes(t)))}getAttributesAtPosition(t){var e;return((e=this.pieceList.getObjectAtPosition(t))===null||e===void 0?void 0:e.getAttributes())||{}}getCommonAttributes(){const t=Array.from(this.pieceList.toArray()).map(e=>e.getAttributes());return Gt.fromCommonAttributesOfObjects(t).toObject()}getCommonAttributesAtRange(t){return this.getTextAtRange(t).getCommonAttributes()||{}}getExpandedRangeForAttributeAtOffset(t,e){let n,r=n=e;const o=this.getLength();for(;r>0&&this.getCommonAttributesAtRange([r-1,n])[t];)r--;for(;n<o&&this.getCommonAttributesAtRange([e,n+1])[t];)n++;return[r,n]}getTextAtRange(t){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(t))}getStringAtRange(t){return this.pieceList.getSplittableListInRange(t).toString()}getStringAtPosition(t){return this.getStringAtRange([t,t+1])}startsWithString(t){return this.getStringAtRange([0,t.length])===t}endsWithString(t){const e=this.getLength();return this.getStringAtRange([e-t.length,e])===t}getAttachmentPieces(){return this.pieceList.toArray().filter(t=>!!t.attachment)}getAttachments(){return this.getAttachmentPieces().map(t=>t.attachment)}getAttachmentAndPositionById(t){let e=0;for(const r of this.pieceList.toArray()){var n;if(((n=r.attachment)===null||n===void 0?void 0:n.id)===t)return{attachment:r.attachment,position:e};e+=r.length}return{attachment:null,position:null}}getAttachmentById(t){const{attachment:e}=this.getAttachmentAndPositionById(t);return e}getRangeOfAttachment(t){const e=this.getAttachmentAndPositionById(t.id),n=e.position;if(t=e.attachment)return[n,n+1]}updateAttributesForAttachment(t,e){const n=this.getRangeOfAttachment(e);return n?this.addAttributesAtRange(t,n):this}getLength(){return this.pieceList.getEndPosition()}isEmpty(){return this.getLength()===0}isEqualTo(t){var e;return super.isEqualTo(t)||(t==null||(e=t.pieceList)===null||e===void 0?void 0:e.isEqualTo(this.pieceList))}isBlockBreak(){return this.getLength()===1&&this.pieceList.getObjectAtIndex(0).isBlockBreak()}eachPiece(t){return this.pieceList.eachObject(t)}getPieces(){return this.pieceList.toArray()}getPieceAtPosition(t){return this.pieceList.getObjectAtPosition(t)}contentsForInspection(){return{pieceList:this.pieceList.inspect()}}toSerializableText(){const t=this.pieceList.selectSplittableList(e=>e.isSerializable());return this.copyWithPieceList(t)}toString(){return this.pieceList.toString()}toJSON(){return this.pieceList.toJSON()}toConsole(){return JSON.stringify(this.pieceList.toArray().map(t=>JSON.parse(t.toConsole())))}getDirection(){return Zv(this.toString())}isRTL(){return this.getDirection()==="rtl"}}class xe extends fi{static fromJSON(t){return new this(ae.fromJSON(t.text),t.attributes)}constructor(t,e){super(...arguments),this.text=Ab(t||new ae),this.attributes=e||[]}isEmpty(){return this.text.isBlockBreak()}isEqualTo(t){return!!super.isEqualTo(t)||this.text.isEqualTo(t==null?void 0:t.text)&&ci(this.attributes,t==null?void 0:t.attributes)}copyWithText(t){return new xe(t,this.attributes)}copyWithoutText(){return this.copyWithText(null)}copyWithAttributes(t){return new xe(this.text,t)}copyWithoutAttributes(){return this.copyWithAttributes(null)}copyUsingObjectMap(t){const e=t.find(this.text);return e?this.copyWithText(e):this.copyWithText(this.text.copyUsingObjectMap(t))}addAttribute(t){const e=this.attributes.concat(Xl(t));return this.copyWithAttributes(e)}removeAttribute(t){const{listAttribute:e}=xt(t),n=ql(ql(this.attributes,t),e);return this.copyWithAttributes(n)}removeLastAttribute(){return this.removeAttribute(this.getLastAttribute())}getLastAttribute(){return Ul(this.attributes)}getAttributes(){return this.attributes.slice(0)}getAttributeLevel(){return this.attributes.length}getAttributeAtLevel(t){return this.attributes[t-1]}hasAttribute(t){return this.attributes.includes(t)}hasAttributes(){return this.getAttributeLevel()>0}getLastNestableAttribute(){return Ul(this.getNestableAttributes())}getNestableAttributes(){return this.attributes.filter(t=>xt(t).nestable)}getNestingLevel(){return this.getNestableAttributes().length}decreaseNestingLevel(){const t=this.getLastNestableAttribute();return t?this.removeAttribute(t):this}increaseNestingLevel(){const t=this.getLastNestableAttribute();if(t){const e=this.attributes.lastIndexOf(t),n=fa(this.attributes,e+1,0,...Xl(t));return this.copyWithAttributes(n)}return this}getListItemAttributes(){return this.attributes.filter(t=>xt(t).listAttribute)}isListItem(){var t;return(t=xt(this.getLastAttribute()))===null||t===void 0?void 0:t.listAttribute}isTerminalBlock(){var t;return(t=xt(this.getLastAttribute()))===null||t===void 0?void 0:t.terminal}breaksOnReturn(){var t;return(t=xt(this.getLastAttribute()))===null||t===void 0?void 0:t.breakOnReturn}findLineBreakInDirectionFromPosition(t,e){const n=this.toString();let r;switch(t){case"forward":r=n.indexOf(`
`,e);break;case"backward":r=n.slice(0,e).lastIndexOf(`
`)}if(r!==-1)return r}contentsForInspection(){return{text:this.text.inspect(),attributes:this.attributes}}toString(){return this.text.toString()}toJSON(){return{text:this.text,attributes:this.attributes}}getDirection(){return this.text.getDirection()}isRTL(){return this.text.isRTL()}getLength(){return this.text.getLength()}canBeConsolidatedWith(t){return!this.hasAttributes()&&!t.hasAttributes()&&this.getDirection()===t.getDirection()}consolidateWith(t){const e=ae.textForStringWithAttributes(`
`),n=this.getTextWithoutBlockBreak().appendText(e);return this.copyWithText(n.appendText(t.text))}splitAtOffset(t){let e,n;return t===0?(e=null,n=this):t===this.getLength()?(e=this,n=null):(e=this.copyWithText(this.text.getTextAtRange([0,t])),n=this.copyWithText(this.text.getTextAtRange([t,this.getLength()]))),[e,n]}getBlockBreakPosition(){return this.text.getLength()-1}getTextWithoutBlockBreak(){return xh(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()}canBeGrouped(t){return this.attributes[t]}canBeGroupedWith(t,e){const n=t.getAttributes(),r=n[e],o=this.attributes[e];return o===r&&!(xt(o).group===!1&&!(()=>{if(!Kn){Kn=[];for(const s in zt){const{listAttribute:a}=zt[s];a!=null&&Kn.push(a)}}return Kn})().includes(n[e+1]))&&(this.getDirection()===t.getDirection()||t.isEmpty())}}const Ab=function(i){return i=Sb(i),i=Cb(i)},Sb=function(i){let t=!1;const e=i.getPieces();let n=e.slice(0,e.length-1);const r=e[e.length-1];return r?(n=n.map(o=>o.isBlockBreak()?(t=!0,Tb(o)):o),t?new ae([...n,r]):i):i},Eb=ae.textForStringWithAttributes(`
`,{blockBreak:!0}),Cb=function(i){return xh(i)?i:i.appendText(Eb)},xh=function(i){const t=i.getLength();return t===0?!1:i.getTextAtRange([t-1,t]).isBlockBreak()},Tb=i=>i.copyWithoutAttribute("blockBreak"),Xl=function(i){const{listAttribute:t}=xt(i);return t?[t,i]:[i]},Ul=i=>i.slice(-1)[0],ql=function(i,t){const e=i.lastIndexOf(t);return e===-1?i:fa(i,e,1)};class ie extends fi{static fromJSON(t){return new this(Array.from(t).map(e=>xe.fromJSON(e)))}static fromString(t,e){const n=ae.textForStringWithAttributes(t,e);return new this([new xe(n)])}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),t.length===0&&(t=[new xe]),this.blockList=Cr.box(t)}isEmpty(){const t=this.getBlockAtIndex(0);return this.blockList.length===1&&t.isEmpty()&&!t.hasAttributes()}copy(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray();return new this.constructor(t)}copyUsingObjectsFromDocument(t){const e=new cb(t.getObjects());return this.copyUsingObjectMap(e)}copyUsingObjectMap(t){const e=this.getBlocks().map(n=>t.find(n)||n.copyUsingObjectMap(t));return new this.constructor(e)}copyWithBaseBlockAttributes(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=this.getBlocks().map(n=>{const r=t.concat(n.getAttributes());return n.copyWithAttributes(r)});return new this.constructor(e)}replaceBlock(t,e){const n=this.blockList.indexOf(t);return n===-1?this:new this.constructor(this.blockList.replaceObjectAtIndex(e,n))}insertDocumentAtRange(t,e){const{blockList:n}=t;e=ot(e);let[r]=e;const{index:o,offset:s}=this.locationFromPosition(r);let a=this;const l=this.getBlockAtPosition(r);return we(e)&&l.isEmpty()&&!l.hasAttributes()?a=new this.constructor(a.blockList.removeObjectAtIndex(o)):l.getBlockBreakPosition()===s&&r++,a=a.removeTextAtRange(e),new this.constructor(a.blockList.insertSplittableListAtPosition(n,r))}mergeDocumentAtRange(t,e){let n,r;e=ot(e);const[o]=e,s=this.locationFromPosition(o),a=this.getBlockAtIndex(s.index).getAttributes(),l=t.getBaseBlockAttributes(),c=a.slice(-l.length);if(ci(l,c)){const g=a.slice(0,-l.length);n=t.copyWithBaseBlockAttributes(g)}else n=t.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(a);const d=n.getBlockCount(),p=n.getBlockAtIndex(0);if(ci(a,p.getAttributes())){const g=p.getTextWithoutBlockBreak();if(r=this.insertTextAtRange(g,e),d>1){n=new this.constructor(n.getBlocks().slice(1));const y=o+g.getLength();r=r.insertDocumentAtRange(n,y)}}else r=this.insertDocumentAtRange(n,e);return r}insertTextAtRange(t,e){e=ot(e);const[n]=e,{index:r,offset:o}=this.locationFromPosition(n),s=this.removeTextAtRange(e);return new this.constructor(s.blockList.editObjectAtIndex(r,a=>a.copyWithText(a.text.insertTextAtPosition(t,o))))}removeTextAtRange(t){let e;t=ot(t);const[n,r]=t;if(we(t))return this;const[o,s]=Array.from(this.locationRangeFromRange(t)),a=o.index,l=o.offset,c=this.getBlockAtIndex(a),d=s.index,p=s.offset,g=this.getBlockAtIndex(d);if(r-n==1&&c.getBlockBreakPosition()===l&&g.getBlockBreakPosition()!==p&&g.text.getStringAtPosition(p)===`
`)e=this.blockList.editObjectAtIndex(d,y=>y.copyWithText(y.text.removeTextAtRange([p,p+1])));else{let y;const x=c.text.getTextAtRange([0,l]),S=g.text.getTextAtRange([p,g.getLength()]),C=x.appendText(S);y=a!==d&&l===0&&c.getAttributeLevel()>=g.getAttributeLevel()?g.copyWithText(C):c.copyWithText(C);const E=d+1-a;e=this.blockList.splice(a,E,y)}return new this.constructor(e)}moveTextFromRangeToPosition(t,e){let n;t=ot(t);const[r,o]=t;if(r<=e&&e<=o)return this;let s=this.getDocumentAtRange(t),a=this.removeTextAtRange(t);const l=r<e;l&&(e-=s.getLength());const[c,...d]=s.getBlocks();return d.length===0?(n=c.getTextWithoutBlockBreak(),l&&(e+=1)):n=c.text,a=a.insertTextAtRange(n,e),d.length===0?a:(s=new this.constructor(d),e+=n.getLength(),a.insertDocumentAtRange(s,e))}addAttributeAtRange(t,e,n){let{blockList:r}=this;return this.eachBlockAtRange(n,(o,s,a)=>r=r.editObjectAtIndex(a,function(){return xt(t)?o.addAttribute(t,e):s[0]===s[1]?o:o.copyWithText(o.text.addAttributeAtRange(t,e,s))})),new this.constructor(r)}addAttribute(t,e){let{blockList:n}=this;return this.eachBlock((r,o)=>n=n.editObjectAtIndex(o,()=>r.addAttribute(t,e))),new this.constructor(n)}removeAttributeAtRange(t,e){let{blockList:n}=this;return this.eachBlockAtRange(e,function(r,o,s){xt(t)?n=n.editObjectAtIndex(s,()=>r.removeAttribute(t)):o[0]!==o[1]&&(n=n.editObjectAtIndex(s,()=>r.copyWithText(r.text.removeAttributeAtRange(t,o))))}),new this.constructor(n)}updateAttributesForAttachment(t,e){const n=this.getRangeOfAttachment(e),[r]=Array.from(n),{index:o}=this.locationFromPosition(r),s=this.getTextAtIndex(o);return new this.constructor(this.blockList.editObjectAtIndex(o,a=>a.copyWithText(s.updateAttributesForAttachment(t,e))))}removeAttributeForAttachment(t,e){const n=this.getRangeOfAttachment(e);return this.removeAttributeAtRange(t,n)}insertBlockBreakAtRange(t){let e;t=ot(t);const[n]=t,{offset:r}=this.locationFromPosition(n),o=this.removeTextAtRange(t);return r===0&&(e=[new xe]),new this.constructor(o.blockList.insertSplittableListAtPosition(new Cr(e),n))}applyBlockAttributeAtRange(t,e,n){const r=this.expandRangeToLineBreaksAndSplitBlocks(n);let o=r.document;n=r.range;const s=xt(t);if(s.listAttribute){o=o.removeLastListAttributeAtRange(n,{exceptAttributeName:t});const a=o.convertLineBreaksToBlockBreaksInRange(n);o=a.document,n=a.range}else o=s.exclusive?o.removeBlockAttributesAtRange(n):s.terminal?o.removeLastTerminalAttributeAtRange(n):o.consolidateBlocksAtRange(n);return o.addAttributeAtRange(t,e,n)}removeLastListAttributeAtRange(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{blockList:n}=this;return this.eachBlockAtRange(t,function(r,o,s){const a=r.getLastAttribute();a&&xt(a).listAttribute&&a!==e.exceptAttributeName&&(n=n.editObjectAtIndex(s,()=>r.removeAttribute(a)))}),new this.constructor(n)}removeLastTerminalAttributeAtRange(t){let{blockList:e}=this;return this.eachBlockAtRange(t,function(n,r,o){const s=n.getLastAttribute();s&&xt(s).terminal&&(e=e.editObjectAtIndex(o,()=>n.removeAttribute(s)))}),new this.constructor(e)}removeBlockAttributesAtRange(t){let{blockList:e}=this;return this.eachBlockAtRange(t,function(n,r,o){n.hasAttributes()&&(e=e.editObjectAtIndex(o,()=>n.copyWithoutAttributes()))}),new this.constructor(e)}expandRangeToLineBreaksAndSplitBlocks(t){let e;t=ot(t);let[n,r]=t;const o=this.locationFromPosition(n),s=this.locationFromPosition(r);let a=this;const l=a.getBlockAtIndex(o.index);if(o.offset=l.findLineBreakInDirectionFromPosition("backward",o.offset),o.offset!=null&&(e=a.positionFromLocation(o),a=a.insertBlockBreakAtRange([e,e+1]),s.index+=1,s.offset-=a.getBlockAtIndex(o.index).getLength(),o.index+=1),o.offset=0,s.offset===0&&s.index>o.index)s.index-=1,s.offset=a.getBlockAtIndex(s.index).getBlockBreakPosition();else{const c=a.getBlockAtIndex(s.index);c.text.getStringAtRange([s.offset-1,s.offset])===`
`?s.offset-=1:s.offset=c.findLineBreakInDirectionFromPosition("forward",s.offset),s.offset!==c.getBlockBreakPosition()&&(e=a.positionFromLocation(s),a=a.insertBlockBreakAtRange([e,e+1]))}return n=a.positionFromLocation(o),r=a.positionFromLocation(s),{document:a,range:t=ot([n,r])}}convertLineBreaksToBlockBreaksInRange(t){t=ot(t);let[e]=t;const n=this.getStringAtRange(t).slice(0,-1);let r=this;return n.replace(/.*?\n/g,function(o){e+=o.length,r=r.insertBlockBreakAtRange([e-1,e])}),{document:r,range:t}}consolidateBlocksAtRange(t){t=ot(t);const[e,n]=t,r=this.locationFromPosition(e).index,o=this.locationFromPosition(n).index;return new this.constructor(this.blockList.consolidateFromIndexToIndex(r,o))}getDocumentAtRange(t){t=ot(t);const e=this.blockList.getSplittableListInRange(t).toArray();return new this.constructor(e)}getStringAtRange(t){let e;const n=t=ot(t);return n[n.length-1]!==this.getLength()&&(e=-1),this.getDocumentAtRange(t).toString().slice(0,e)}getBlockAtIndex(t){return this.blockList.getObjectAtIndex(t)}getBlockAtPosition(t){const{index:e}=this.locationFromPosition(t);return this.getBlockAtIndex(e)}getTextAtIndex(t){var e;return(e=this.getBlockAtIndex(t))===null||e===void 0?void 0:e.text}getTextAtPosition(t){const{index:e}=this.locationFromPosition(t);return this.getTextAtIndex(e)}getPieceAtPosition(t){const{index:e,offset:n}=this.locationFromPosition(t);return this.getTextAtIndex(e).getPieceAtPosition(n)}getCharacterAtPosition(t){const{index:e,offset:n}=this.locationFromPosition(t);return this.getTextAtIndex(e).getStringAtRange([n,n+1])}getLength(){return this.blockList.getEndPosition()}getBlocks(){return this.blockList.toArray()}getBlockCount(){return this.blockList.length}getEditCount(){return this.editCount}eachBlock(t){return this.blockList.eachObject(t)}eachBlockAtRange(t,e){let n,r;t=ot(t);const[o,s]=t,a=this.locationFromPosition(o),l=this.locationFromPosition(s);if(a.index===l.index)return n=this.getBlockAtIndex(a.index),r=[a.offset,l.offset],e(n,r,a.index);for(let c=a.index;c<=l.index;c++)if(n=this.getBlockAtIndex(c),n){switch(c){case a.index:r=[a.offset,n.text.getLength()];break;case l.index:r=[0,l.offset];break;default:r=[0,n.text.getLength()]}e(n,r,c)}}getCommonAttributesAtRange(t){t=ot(t);const[e]=t;if(we(t))return this.getCommonAttributesAtPosition(e);{const n=[],r=[];return this.eachBlockAtRange(t,function(o,s){if(s[0]!==s[1])return n.push(o.text.getCommonAttributesAtRange(s)),r.push($l(o))}),Gt.fromCommonAttributesOfObjects(n).merge(Gt.fromCommonAttributesOfObjects(r)).toObject()}}getCommonAttributesAtPosition(t){let e,n;const{index:r,offset:o}=this.locationFromPosition(t),s=this.getBlockAtIndex(r);if(!s)return{};const a=$l(s),l=s.text.getAttributesAtPosition(o),c=s.text.getAttributesAtPosition(o-1),d=Object.keys(li).filter(p=>li[p].inheritable);for(e in c)n=c[e],(n===l[e]||d.includes(e))&&(a[e]=n);return a}getRangeOfCommonAttributeAtPosition(t,e){const{index:n,offset:r}=this.locationFromPosition(e),o=this.getTextAtIndex(n),[s,a]=Array.from(o.getExpandedRangeForAttributeAtOffset(t,r)),l=this.positionFromLocation({index:n,offset:s}),c=this.positionFromLocation({index:n,offset:a});return ot([l,c])}getBaseBlockAttributes(){let t=this.getBlockAtIndex(0).getAttributes();for(let e=1;e<this.getBlockCount();e++){const n=this.getBlockAtIndex(e).getAttributes(),r=Math.min(t.length,n.length);t=(()=>{const o=[];for(let s=0;s<r&&n[s]===t[s];s++)o.push(n[s]);return o})()}return t}getAttachmentById(t){for(const e of this.getAttachments())if(e.id===t)return e}getAttachmentPieces(){let t=[];return this.blockList.eachObject(e=>{let{text:n}=e;return t=t.concat(n.getAttachmentPieces())}),t}getAttachments(){return this.getAttachmentPieces().map(t=>t.attachment)}getRangeOfAttachment(t){let e=0;const n=this.blockList.toArray();for(let r=0;r<n.length;r++){const{text:o}=n[r],s=o.getRangeOfAttachment(t);if(s)return ot([e+s[0],e+s[1]]);e+=o.getLength()}}getLocationRangeOfAttachment(t){const e=this.getRangeOfAttachment(t);return this.locationRangeFromRange(e)}getAttachmentPieceForAttachment(t){for(const e of this.getAttachmentPieces())if(e.attachment===t)return e}findRangesForBlockAttribute(t){let e=0;const n=[];return this.getBlocks().forEach(r=>{const o=r.getLength();r.hasAttribute(t)&&n.push([e,e+o]),e+=o}),n}findRangesForTextAttribute(t){let{withValue:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=0,r=[];const o=[];return this.getPieces().forEach(s=>{const a=s.getLength();(function(l){return e?l.getAttribute(t)===e:l.hasAttribute(t)})(s)&&(r[1]===n?r[1]=n+a:o.push(r=[n,n+a])),n+=a}),o}locationFromPosition(t){const e=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,t));if(e.index!=null)return e;{const n=this.getBlocks();return{index:n.length-1,offset:n[n.length-1].getLength()}}}positionFromLocation(t){return this.blockList.findPositionAtIndexAndOffset(t.index,t.offset)}locationRangeFromPosition(t){return ot(this.locationFromPosition(t))}locationRangeFromRange(t){if(!(t=ot(t)))return;const[e,n]=Array.from(t),r=this.locationFromPosition(e),o=this.locationFromPosition(n);return ot([r,o])}rangeFromLocationRange(t){let e;t=ot(t);const n=this.positionFromLocation(t[0]);return we(t)||(e=this.positionFromLocation(t[1])),ot([n,e])}isEqualTo(t){return this.blockList.isEqualTo(t==null?void 0:t.blockList)}getTexts(){return this.getBlocks().map(t=>t.text)}getPieces(){const t=[];return Array.from(this.getTexts()).forEach(e=>{t.push(...Array.from(e.getPieces()||[]))}),t}getObjects(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())}toSerializableDocument(){const t=[];return this.blockList.eachObject(e=>t.push(e.copyWithText(e.text.toSerializableText()))),new this.constructor(t)}toString(){return this.blockList.toString()}toJSON(){return this.blockList.toJSON()}toConsole(){return JSON.stringify(this.blockList.toArray()).map(t=>JSON.parse(t.text.toConsole()))}}const $l=function(i){const t={},e=i.getLastAttribute();return e&&(t[e]=!0),t},Db="style href src width height class".split(" "),Rb="javascript:".split(" "),Mb="script iframe form".split(" ");class Ah extends St{static sanitize(t,e){const n=new this(t,e);return n.sanitize(),n}constructor(t){let{allowedAttributes:e,forbiddenProtocols:n,forbiddenElements:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.allowedAttributes=e||Db,this.forbiddenProtocols=n||Rb,this.forbiddenElements=r||Mb,this.body=Lb(t)}sanitize(){return this.sanitizeElements(),this.normalizeListElementNesting()}getHTML(){return this.body.innerHTML}getBody(){return this.body}sanitizeElements(){const t=Ar(this.body),e=[];for(;t.nextNode();){const n=t.currentNode;switch(n.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(n)?e.push(n):this.sanitizeElement(n);break;case Node.COMMENT_NODE:e.push(n)}}return e.forEach(n=>$e(n)),this.body}sanitizeElement(t){return t.hasAttribute("href")&&this.forbiddenProtocols.includes(t.protocol)&&t.removeAttribute("href"),Array.from(t.attributes).forEach(e=>{let{name:n}=e;this.allowedAttributes.includes(n)||n.indexOf("data-trix")===0||t.removeAttribute(n)}),t}normalizeListElementNesting(){return Array.from(this.body.querySelectorAll("ul,ol")).forEach(t=>{const e=t.previousElementSibling;e&&jt(e)==="li"&&e.appendChild(t)}),this.body}elementIsRemovable(t){if((t==null?void 0:t.nodeType)===Node.ELEMENT_NODE)return this.elementIsForbidden(t)||this.elementIsntSerializable(t)}elementIsForbidden(t){return this.forbiddenElements.includes(jt(t))}elementIsntSerializable(t){return t.getAttribute("data-trix-serialize")==="false"&&!ai(t)}}const Lb=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";i=i.replace(/<\/html[^>]*>[^]*$/i,"</html>");const t=document.implementation.createHTMLDocument("");return t.documentElement.innerHTML=i,Array.from(t.head.querySelectorAll("style")).forEach(e=>{t.body.appendChild(e)}),t.body},Xo=function(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const e="string";return{string:i=hn(i),attributes:t,type:e}},Vl=(i,t)=>{try{return JSON.parse(i.getAttribute("data-trix-".concat(t)))}catch{return{}}};class Rn extends St{static parse(t,e){const n=new this(t,e);return n.parse(),n}constructor(t){let{referenceElement:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.html=t,this.referenceElement=e,this.blocks=[],this.blockElements=[],this.processedElements=[]}getDocument(){return ie.fromJSON(this.blocks)}parse(){try{this.createHiddenContainer();const t=Ah.sanitize(this.html).getHTML();this.containerElement.innerHTML=t;const e=Ar(this.containerElement,{usingFilter:Ob});for(;e.nextNode();)this.processNode(e.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}}createHiddenContainer(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=Q({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))}removeHiddenContainer(){return $e(this.containerElement)}processNode(t){switch(t.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(t))return this.appendBlockForTextNode(t),this.processTextNode(t);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(t),this.processElement(t)}}appendBlockForTextNode(t){const e=t.parentNode;if(e===this.currentBlockElement&&this.isBlockElement(t.previousSibling))return this.appendStringWithAttributes(`
`);if(e===this.containerElement||this.isBlockElement(e)){var n;const r=this.getBlockAttributes(e);ci(r,(n=this.currentBlock)===null||n===void 0?void 0:n.attributes)||(this.currentBlock=this.appendBlockForAttributesWithElement(r,e),this.currentBlockElement=e)}}appendBlockForElement(t){const e=this.isBlockElement(t),n=ni(this.currentBlockElement,t);if(e&&!this.isBlockElement(t.firstChild)){if(!this.isInsignificantTextNode(t.firstChild)||!this.isBlockElement(t.firstElementChild)){const r=this.getBlockAttributes(t);if(t.firstChild){if(n&&ci(r,this.currentBlock.attributes))return this.appendStringWithAttributes(`
`);this.currentBlock=this.appendBlockForAttributesWithElement(r,t),this.currentBlockElement=t}}}else if(this.currentBlockElement&&!n&&!e){const r=this.findParentBlockElement(t);if(r)return this.appendBlockForElement(r);this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null}}findParentBlockElement(t){let{parentElement:e}=t;for(;e&&e!==this.containerElement;){if(this.isBlockElement(e)&&this.blockElements.includes(e))return e;e=e.parentElement}return null}processTextNode(t){let e=t.data;var n;return Gl(t.parentNode)||(e=ma(e),Sh((n=t.previousSibling)===null||n===void 0?void 0:n.textContent)&&(e=_b(e))),this.appendStringWithAttributes(e,this.getTextAttributes(t.parentNode))}processElement(t){let e;if(ai(t)){if(e=Vl(t,"attachment"),Object.keys(e).length){const n=this.getTextAttributes(t);this.appendAttachmentWithAttributes(e,n),t.innerHTML=""}return this.processedElements.push(t)}switch(jt(t)){case"br":return this.isExtraBR(t)||this.isBlockElement(t.nextSibling)||this.appendStringWithAttributes(`
`,this.getTextAttributes(t)),this.processedElements.push(t);case"img":e={url:t.getAttribute("src"),contentType:"image"};const n=(r=>{const o=r.getAttribute("width"),s=r.getAttribute("height"),a={};return o&&(a.width=parseInt(o,10)),s&&(a.height=parseInt(s,10)),a})(t);for(const r in n){const o=n[r];e[r]=o}return this.appendAttachmentWithAttributes(e,this.getTextAttributes(t)),this.processedElements.push(t);case"tr":if(this.needsTableSeparator(t))return this.appendStringWithAttributes(lr.tableRowSeparator);break;case"td":if(this.needsTableSeparator(t))return this.appendStringWithAttributes(lr.tableCellSeparator)}}appendBlockForAttributesWithElement(t,e){this.blockElements.push(e);const n=function(){return{text:[],attributes:arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}}}(t);return this.blocks.push(n),n}appendEmptyBlock(){return this.appendBlockForAttributesWithElement([],null)}appendStringWithAttributes(t,e){return this.appendPiece(Xo(t,e))}appendAttachmentWithAttributes(t,e){return this.appendPiece(function(n){return{attachment:n,attributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},type:"attachment"}}(t,e))}appendPiece(t){return this.blocks.length===0&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(t)}appendStringToTextAtIndex(t,e){const{text:n}=this.blocks[e],r=n[n.length-1];if((r==null?void 0:r.type)!=="string")return n.push(Xo(t));r.string+=t}prependStringToTextAtIndex(t,e){const{text:n}=this.blocks[e],r=n[0];if((r==null?void 0:r.type)!=="string")return n.unshift(Xo(t));r.string=t+r.string}getTextAttributes(t){let e;const n={};for(const r in li){const o=li[r];if(o.tagName&&qe(t,{matchingSelector:o.tagName,untilNode:this.containerElement}))n[r]=!0;else if(o.parser){if(e=o.parser(t),e){let s=!1;for(const a of this.findBlockElementAncestors(t))if(o.parser(a)===e){s=!0;break}s||(n[r]=e)}}else o.styleProperty&&(e=t.style[o.styleProperty],e&&(n[r]=e))}if(ai(t)){const r=Vl(t,"attributes");for(const o in r)e=r[o],n[o]=e}return n}getBlockAttributes(t){const e=[];for(;t&&t!==this.containerElement;){for(const r in zt){const o=zt[r];var n;o.parse!==!1&&jt(t)===o.tagName&&((n=o.test)!==null&&n!==void 0&&n.call(o,t)||!o.test)&&(e.push(r),o.listAttribute&&e.push(o.listAttribute))}t=t.parentNode}return e.reverse()}findBlockElementAncestors(t){const e=[];for(;t&&t!==this.containerElement;){const n=jt(t);xn().includes(n)&&e.push(t),t=t.parentNode}return e}isBlockElement(t){if((t==null?void 0:t.nodeType)===Node.ELEMENT_NODE&&!ai(t)&&!qe(t,{matchingSelector:"td",untilNode:this.containerElement}))return xn().includes(jt(t))||window.getComputedStyle(t).display==="block"}isInsignificantTextNode(t){if((t==null?void 0:t.nodeType)!==Node.TEXT_NODE||!Pb(t.data))return;const{parentNode:e,previousSibling:n,nextSibling:r}=t;return kb(e.previousSibling)&&!this.isBlockElement(e.previousSibling)||Gl(e)?void 0:!n||this.isBlockElement(n)||!r||this.isBlockElement(r)}isExtraBR(t){return jt(t)==="br"&&this.isBlockElement(t.parentNode)&&t.parentNode.lastChild===t}needsTableSeparator(t){if(lr.removeBlankTableCells){var e;const n=(e=t.previousSibling)===null||e===void 0?void 0:e.textContent;return n&&/\S/.test(n)}return t.previousSibling}translateBlockElementMarginsToNewlines(){const t=this.getMarginOfDefaultBlockElement();for(let e=0;e<this.blocks.length;e++){const n=this.getMarginOfBlockElementAtIndex(e);n&&(n.top>2*t.top&&this.prependStringToTextAtIndex(`
`,e),n.bottom>2*t.bottom&&this.appendStringToTextAtIndex(`
`,e))}}getMarginOfBlockElementAtIndex(t){const e=this.blockElements[t];if(e&&e.textContent&&!xn().includes(jt(e))&&!this.processedElements.includes(e))return Kl(e)}getMarginOfDefaultBlockElement(){const t=Q(zt.default.tagName);return this.containerElement.appendChild(t),Kl(t)}}const Gl=function(i){const{whiteSpace:t}=window.getComputedStyle(i);return["pre","pre-wrap","pre-line"].includes(t)},kb=i=>i&&!Sh(i.textContent),Kl=function(i){const t=window.getComputedStyle(i);if(t.display==="block")return{top:parseInt(t.marginTop),bottom:parseInt(t.marginBottom)}},Ob=function(i){return jt(i)==="style"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},_b=i=>i.replace(new RegExp("^".concat(ga.source,"+")),""),Pb=i=>new RegExp("^".concat(ga.source,"*$")).test(i),Sh=i=>/\s$/.test(i),Ib=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],Nb="[".concat("data-trix-serialized-attributes","]"),Bb=new RegExp("<!--block-->","g"),Fb={"application/json":function(i){let t;if(i instanceof ie)t=i;else{if(!(i instanceof HTMLElement))throw new Error("unserializable object");t=Rn.parse(i.innerHTML).getDocument()}return t.toSerializableDocument().toJSONString()},"text/html":function(i){let t;if(i instanceof ie)t=ba.render(i);else{if(!(i instanceof HTMLElement))throw new Error("unserializable object");t=i.cloneNode(!0)}return Array.from(t.querySelectorAll("[data-trix-serialize=false]")).forEach(e=>{$e(e)}),Ib.forEach(e=>{Array.from(t.querySelectorAll("[".concat(e,"]"))).forEach(n=>{n.removeAttribute(e)})}),Array.from(t.querySelectorAll(Nb)).forEach(e=>{try{const n=JSON.parse(e.getAttribute("data-trix-serialized-attributes"));e.removeAttribute("data-trix-serialized-attributes");for(const r in n){const o=n[r];e.setAttribute(r,o)}}catch{}}),t.innerHTML.replace(Bb,"")}};var Wb=Object.freeze({__proto__:null});class mt extends St{constructor(t,e){super(...arguments),this.attachmentManager=t,this.attachment=e,this.id=this.attachment.id,this.file=this.attachment.file}remove(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)}}mt.proxyMethod("attachment.getAttribute"),mt.proxyMethod("attachment.hasAttribute"),mt.proxyMethod("attachment.setAttribute"),mt.proxyMethod("attachment.getAttributes"),mt.proxyMethod("attachment.setAttributes"),mt.proxyMethod("attachment.isPending"),mt.proxyMethod("attachment.isPreviewable"),mt.proxyMethod("attachment.getURL"),mt.proxyMethod("attachment.getHref"),mt.proxyMethod("attachment.getFilename"),mt.proxyMethod("attachment.getFilesize"),mt.proxyMethod("attachment.getFormattedFilesize"),mt.proxyMethod("attachment.getExtension"),mt.proxyMethod("attachment.getContentType"),mt.proxyMethod("attachment.getFile"),mt.proxyMethod("attachment.setFile"),mt.proxyMethod("attachment.releaseFile"),mt.proxyMethod("attachment.getUploadProgress"),mt.proxyMethod("attachment.setUploadProgress");class Eh extends St{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.managedAttachments={},Array.from(t).forEach(e=>{this.manageAttachment(e)})}getAttachments(){const t=[];for(const e in this.managedAttachments){const n=this.managedAttachments[e];t.push(n)}return t}manageAttachment(t){return this.managedAttachments[t.id]||(this.managedAttachments[t.id]=new mt(this,t)),this.managedAttachments[t.id]}attachmentIsManaged(t){return t.id in this.managedAttachments}requestRemovalOfAttachment(t){var e,n;if(this.attachmentIsManaged(t))return(e=this.delegate)===null||e===void 0||(n=e.attachmentManagerDidRequestRemovalOfAttachment)===null||n===void 0?void 0:n.call(e,t)}unmanageAttachment(t){const e=this.managedAttachments[t.id];return delete this.managedAttachments[t.id],e}}class Ch{constructor(t){this.composition=t,this.document=this.composition.document;const e=this.composition.getSelectedRange();this.startPosition=e[0],this.endPosition=e[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}shouldInsertBlockBreak(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset!==0:this.breaksOnReturn&&this.nextCharacter!==`
`}shouldBreakFormattedBlock(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&this.nextCharacter===`
`||this.previousCharacter===`
`)}shouldDecreaseListLevel(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()}shouldPrependListItem(){return this.block.isListItem()&&this.startLocation.offset===0&&!this.block.isEmpty()}shouldRemoveLastBlockAttribute(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()}}class Ne extends St{constructor(){super(...arguments),this.document=new ie,this.attachments=[],this.currentAttributes={},this.revision=0}setDocument(t){var e,n;if(!t.isEqualTo(this.document))return this.document=t,this.refreshAttachments(),this.revision++,(e=this.delegate)===null||e===void 0||(n=e.compositionDidChangeDocument)===null||n===void 0?void 0:n.call(e,t)}getSnapshot(){return{document:this.document,selectedRange:this.getSelectedRange()}}loadSnapshot(t){var e,n,r,o;let{document:s,selectedRange:a}=t;return(e=this.delegate)===null||e===void 0||(n=e.compositionWillLoadSnapshot)===null||n===void 0||n.call(e),this.setDocument(s!=null?s:new ie),this.setSelection(a!=null?a:[0,0]),(r=this.delegate)===null||r===void 0||(o=r.compositionDidLoadSnapshot)===null||o===void 0?void 0:o.call(r)}insertText(t){let{updatePosition:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{updatePosition:!0};const n=this.getSelectedRange();this.setDocument(this.document.insertTextAtRange(t,n));const r=n[0],o=r+t.getLength();return e&&this.setSelection(o),this.notifyDelegateOfInsertionAtRange([r,o])}insertBlock(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new xe;const e=new ie([t]);return this.insertDocument(e)}insertDocument(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new ie;const e=this.getSelectedRange();this.setDocument(this.document.insertDocumentAtRange(t,e));const n=e[0],r=n+t.getLength();return this.setSelection(r),this.notifyDelegateOfInsertionAtRange([n,r])}insertString(t,e){const n=this.getCurrentTextAttributes(),r=ae.textForStringWithAttributes(t,n);return this.insertText(r,e)}insertBlockBreak(){const t=this.getSelectedRange();this.setDocument(this.document.insertBlockBreakAtRange(t));const e=t[0],n=e+1;return this.setSelection(n),this.notifyDelegateOfInsertionAtRange([e,n])}insertLineBreak(){const t=new Ch(this);if(t.shouldDecreaseListLevel())return this.decreaseListLevel(),this.setSelection(t.startPosition);if(t.shouldPrependListItem()){const e=new ie([t.block.copyWithoutText()]);return this.insertDocument(e)}return t.shouldInsertBlockBreak()?this.insertBlockBreak():t.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():t.shouldBreakFormattedBlock()?this.breakFormattedBlock(t):this.insertString(`
`)}insertHTML(t){const e=Rn.parse(t).getDocument(),n=this.getSelectedRange();this.setDocument(this.document.mergeDocumentAtRange(e,n));const r=n[0],o=r+e.getLength()-1;return this.setSelection(o),this.notifyDelegateOfInsertionAtRange([r,o])}replaceHTML(t){const e=Rn.parse(t).getDocument().copyUsingObjectsFromDocument(this.document),n=this.getLocationRange({strict:!1}),r=this.document.rangeFromLocationRange(n);return this.setDocument(e),this.setSelection(r)}insertFile(t){return this.insertFiles([t])}insertFiles(t){const e=[];return Array.from(t).forEach(n=>{var r;if((r=this.delegate)!==null&&r!==void 0&&r.compositionShouldAcceptFile(n)){const o=Gi.attachmentForFile(n);e.push(o)}}),this.insertAttachments(e)}insertAttachment(t){return this.insertAttachments([t])}insertAttachments(t){let e=new ae;return Array.from(t).forEach(n=>{var r;const o=n.getType(),s=(r=ca[o])===null||r===void 0?void 0:r.presentation,a=this.getCurrentTextAttributes();s&&(a.presentation=s);const l=ae.textForAttachmentWithAttributes(n,a);e=e.appendText(l)}),this.insertText(e)}shouldManageDeletingInDirection(t){const e=this.getLocationRange();if(we(e)){if(t==="backward"&&e[0].offset===0||this.shouldManageMovingCursorInDirection(t))return!0}else if(e[0].index!==e[1].index)return!0;return!1}deleteInDirection(t){let e,n,r,{length:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.getLocationRange();let a=this.getSelectedRange();const l=we(a);if(l?n=t==="backward"&&s[0].offset===0:r=s[0].index!==s[1].index,n&&this.canDecreaseBlockAttributeLevel()){const c=this.getBlock();if(c.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(a[0]),c.isEmpty())return!1}return l&&(a=this.getExpandedRangeInDirection(t,{length:o}),t==="backward"&&(e=this.getAttachmentAtRange(a))),e?(this.editAttachment(e),!1):(this.setDocument(this.document.removeTextAtRange(a)),this.setSelection(a[0]),!n&&!r&&void 0)}moveTextFromRange(t){const[e]=Array.from(this.getSelectedRange());return this.setDocument(this.document.moveTextFromRangeToPosition(t,e)),this.setSelection(e)}removeAttachment(t){const e=this.document.getRangeOfAttachment(t);if(e)return this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(e)),this.setSelection(e[0])}removeLastBlockAttribute(){const[t,e]=Array.from(this.getSelectedRange()),n=this.document.getBlockAtPosition(e);return this.removeCurrentAttribute(n.getLastAttribute()),this.setSelection(t)}insertPlaceholder(){return this.placeholderPosition=this.getPosition(),this.insertString(" ")}selectPlaceholder(){if(this.placeholderPosition!=null)return this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+1]),this.getSelectedRange()}forgetPlaceholder(){this.placeholderPosition=null}hasCurrentAttribute(t){const e=this.currentAttributes[t];return e!=null&&e!==!1}toggleCurrentAttribute(t){const e=!this.currentAttributes[t];return e?this.setCurrentAttribute(t,e):this.removeCurrentAttribute(t)}canSetCurrentAttribute(t){return xt(t)?this.canSetCurrentBlockAttribute(t):this.canSetCurrentTextAttribute(t)}canSetCurrentTextAttribute(t){const e=this.getSelectedDocument();if(e){for(const n of Array.from(e.getAttachments()))if(!n.hasContent())return!1;return!0}}canSetCurrentBlockAttribute(t){const e=this.getBlock();if(e)return!e.isTerminalBlock()}setCurrentAttribute(t,e){return xt(t)?this.setBlockAttribute(t,e):(this.setTextAttribute(t,e),this.currentAttributes[t]=e,this.notifyDelegateOfCurrentAttributesChange())}setTextAttribute(t,e){const n=this.getSelectedRange();if(!n)return;const[r,o]=Array.from(n);if(r!==o)return this.setDocument(this.document.addAttributeAtRange(t,e,n));if(t==="href"){const s=ae.textForStringWithAttributes(e,{href:e});return this.insertText(s)}}setBlockAttribute(t,e){const n=this.getSelectedRange();if(this.canSetCurrentAttribute(t))return this.setDocument(this.document.applyBlockAttributeAtRange(t,e,n)),this.setSelection(n)}removeCurrentAttribute(t){return xt(t)?(this.removeBlockAttribute(t),this.updateCurrentAttributes()):(this.removeTextAttribute(t),delete this.currentAttributes[t],this.notifyDelegateOfCurrentAttributesChange())}removeTextAttribute(t){const e=this.getSelectedRange();if(e)return this.setDocument(this.document.removeAttributeAtRange(t,e))}removeBlockAttribute(t){const e=this.getSelectedRange();if(e)return this.setDocument(this.document.removeAttributeAtRange(t,e))}canDecreaseNestingLevel(){var t;return((t=this.getBlock())===null||t===void 0?void 0:t.getNestingLevel())>0}canIncreaseNestingLevel(){var t;const e=this.getBlock();if(e){if((t=xt(e.getLastNestableAttribute()))===null||t===void 0||!t.listAttribute)return e.getNestingLevel()>0;{const n=this.getPreviousBlock();if(n)return function(){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return ci((arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).slice(0,r.length),r)}(n.getListItemAttributes(),e.getListItemAttributes())}}}decreaseNestingLevel(){const t=this.getBlock();if(t)return this.setDocument(this.document.replaceBlock(t,t.decreaseNestingLevel()))}increaseNestingLevel(){const t=this.getBlock();if(t)return this.setDocument(this.document.replaceBlock(t,t.increaseNestingLevel()))}canDecreaseBlockAttributeLevel(){var t;return((t=this.getBlock())===null||t===void 0?void 0:t.getAttributeLevel())>0}decreaseBlockAttributeLevel(){var t;const e=(t=this.getBlock())===null||t===void 0?void 0:t.getLastAttribute();if(e)return this.removeCurrentAttribute(e)}decreaseListLevel(){let[t]=Array.from(this.getSelectedRange());const{index:e}=this.document.locationFromPosition(t);let n=e;const r=this.getBlock().getAttributeLevel();let o=this.document.getBlockAtIndex(n+1);for(;o&&o.isListItem()&&!(o.getAttributeLevel()<=r);)n++,o=this.document.getBlockAtIndex(n+1);t=this.document.positionFromLocation({index:e,offset:0});const s=this.document.positionFromLocation({index:n,offset:0});return this.setDocument(this.document.removeLastListAttributeAtRange([t,s]))}updateCurrentAttributes(){const t=this.getSelectedRange({ignoreLock:!0});if(t){const e=this.document.getCommonAttributesAtRange(t);if(Array.from(Es()).forEach(n=>{e[n]||this.canSetCurrentAttribute(n)||(e[n]=!1)}),!Fn(e,this.currentAttributes))return this.currentAttributes=e,this.notifyDelegateOfCurrentAttributesChange()}}getCurrentAttributes(){return lh.call({},this.currentAttributes)}getCurrentTextAttributes(){const t={};for(const e in this.currentAttributes){const n=this.currentAttributes[e];n!==!1&&Cs(e)&&(t[e]=n)}return t}freezeSelection(){return this.setCurrentAttribute("frozen",!0)}thawSelection(){return this.removeCurrentAttribute("frozen")}hasFrozenSelection(){return this.hasCurrentAttribute("frozen")}setSelection(t){var e;const n=this.document.locationRangeFromRange(t);return(e=this.delegate)===null||e===void 0?void 0:e.compositionDidRequestChangingSelectionToLocationRange(n)}getSelectedRange(){const t=this.getLocationRange();if(t)return this.document.rangeFromLocationRange(t)}setSelectedRange(t){const e=this.document.locationRangeFromRange(t);return this.getSelectionManager().setLocationRange(e)}getPosition(){const t=this.getLocationRange();if(t)return this.document.positionFromLocation(t[0])}getLocationRange(t){return this.targetLocationRange?this.targetLocationRange:this.getSelectionManager().getLocationRange(t)||ot({index:0,offset:0})}withTargetLocationRange(t,e){let n;this.targetLocationRange=t;try{n=e()}finally{this.targetLocationRange=null}return n}withTargetRange(t,e){const n=this.document.locationRangeFromRange(t);return this.withTargetLocationRange(n,e)}withTargetDOMRange(t,e){const n=this.createLocationRangeFromDOMRange(t,{strict:!1});return this.withTargetLocationRange(n,e)}getExpandedRangeInDirection(t){let{length:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},[n,r]=Array.from(this.getSelectedRange());return t==="backward"?e?n-=e:n=this.translateUTF16PositionFromOffset(n,-1):e?r+=e:r=this.translateUTF16PositionFromOffset(r,1),ot([n,r])}shouldManageMovingCursorInDirection(t){if(this.editingAttachment)return!0;const e=this.getExpandedRangeInDirection(t);return this.getAttachmentAtRange(e)!=null}moveCursorInDirection(t){let e,n;if(this.editingAttachment)n=this.document.getRangeOfAttachment(this.editingAttachment);else{const r=this.getSelectedRange();n=this.getExpandedRangeInDirection(t),e=!Sr(r,n)}if(t==="backward"?this.setSelectedRange(n[0]):this.setSelectedRange(n[1]),e){const r=this.getAttachmentAtRange(n);if(r)return this.editAttachment(r)}}expandSelectionInDirection(t){let{length:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getExpandedRangeInDirection(t,{length:e});return this.setSelectedRange(n)}expandSelectionForEditing(){if(this.hasCurrentAttribute("href"))return this.expandSelectionAroundCommonAttribute("href")}expandSelectionAroundCommonAttribute(t){const e=this.getPosition(),n=this.document.getRangeOfCommonAttributeAtPosition(t,e);return this.setSelectedRange(n)}selectionContainsAttachments(){var t;return((t=this.getSelectedAttachments())===null||t===void 0?void 0:t.length)>0}selectionIsInCursorTarget(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())}positionIsCursorTarget(t){const e=this.document.locationFromPosition(t);if(e)return this.locationIsCursorTarget(e)}positionIsBlockBreak(t){var e;return(e=this.document.getPieceAtPosition(t))===null||e===void 0?void 0:e.isBlockBreak()}getSelectedDocument(){const t=this.getSelectedRange();if(t)return this.document.getDocumentAtRange(t)}getSelectedAttachments(){var t;return(t=this.getSelectedDocument())===null||t===void 0?void 0:t.getAttachments()}getAttachments(){return this.attachments.slice(0)}refreshAttachments(){const t=this.document.getAttachments(),{added:e,removed:n}=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const s=[],a=[],l=new Set;r.forEach(d=>{l.add(d)});const c=new Set;return o.forEach(d=>{c.add(d),l.has(d)||s.push(d)}),r.forEach(d=>{c.has(d)||a.push(d)}),{added:s,removed:a}}(this.attachments,t);return this.attachments=t,Array.from(n).forEach(r=>{var o,s;r.delegate=null,(o=this.delegate)===null||o===void 0||(s=o.compositionDidRemoveAttachment)===null||s===void 0||s.call(o,r)}),(()=>{const r=[];return Array.from(e).forEach(o=>{var s,a;o.delegate=this,r.push((s=this.delegate)===null||s===void 0||(a=s.compositionDidAddAttachment)===null||a===void 0?void 0:a.call(s,o))}),r})()}attachmentDidChangeAttributes(t){var e,n;return this.revision++,(e=this.delegate)===null||e===void 0||(n=e.compositionDidEditAttachment)===null||n===void 0?void 0:n.call(e,t)}attachmentDidChangePreviewURL(t){var e,n;return this.revision++,(e=this.delegate)===null||e===void 0||(n=e.compositionDidChangeAttachmentPreviewURL)===null||n===void 0?void 0:n.call(e,t)}editAttachment(t,e){var n,r;if(t!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=t,(n=this.delegate)===null||n===void 0||(r=n.compositionDidStartEditingAttachment)===null||r===void 0?void 0:r.call(n,this.editingAttachment,e)}stopEditingAttachment(){var t,e;this.editingAttachment&&((t=this.delegate)===null||t===void 0||(e=t.compositionDidStopEditingAttachment)===null||e===void 0||e.call(t,this.editingAttachment),this.editingAttachment=null)}updateAttributesForAttachment(t,e){return this.setDocument(this.document.updateAttributesForAttachment(t,e))}removeAttributeForAttachment(t,e){return this.setDocument(this.document.removeAttributeForAttachment(t,e))}breakFormattedBlock(t){let{document:e}=t;const{block:n}=t;let r=t.startPosition,o=[r-1,r];n.getBlockBreakPosition()===t.startLocation.offset?(n.breaksOnReturn()&&t.nextCharacter===`
`?r+=1:e=e.removeTextAtRange(o),o=[r,r]):t.nextCharacter===`
`?t.previousCharacter===`
`?o=[r-1,r+1]:(o=[r,r+1],r+=1):t.startLocation.offset-1!=0&&(r+=1);const s=new ie([n.removeLastAttribute().copyWithoutText()]);return this.setDocument(e.insertDocumentAtRange(s,o)),this.setSelection(r)}getPreviousBlock(){const t=this.getLocationRange();if(t){const{index:e}=t[0];if(e>0)return this.document.getBlockAtIndex(e-1)}}getBlock(){const t=this.getLocationRange();if(t)return this.document.getBlockAtIndex(t[0].index)}getAttachmentAtRange(t){const e=this.document.getDocumentAtRange(t);if(e.toString()==="".concat("\uFFFC",`
`))return e.getAttachments()[0]}notifyDelegateOfCurrentAttributesChange(){var t,e;return(t=this.delegate)===null||t===void 0||(e=t.compositionDidChangeCurrentAttributes)===null||e===void 0?void 0:e.call(t,this.currentAttributes)}notifyDelegateOfInsertionAtRange(t){var e,n;return(e=this.delegate)===null||e===void 0||(n=e.compositionDidPerformInsertionAtRange)===null||n===void 0?void 0:n.call(e,t)}translateUTF16PositionFromOffset(t,e){const n=this.document.toUTF16String(),r=n.offsetFromUCS2Offset(t);return n.offsetToUCS2Offset(r+e)}}Ne.proxyMethod("getSelectionManager().getPointRange"),Ne.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),Ne.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),Ne.proxyMethod("getSelectionManager().locationIsCursorTarget"),Ne.proxyMethod("getSelectionManager().selectionIsExpanded"),Ne.proxyMethod("delegate?.getSelectionManager");class Ds extends St{constructor(t){super(...arguments),this.composition=t,this.undoEntries=[],this.redoEntries=[]}recordUndoEntry(t){let{context:e,consolidatable:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.undoEntries.slice(-1)[0];if(!n||!jb(r,t,e)){const o=this.createEntry({description:t,context:e});this.undoEntries.push(o),this.redoEntries=[]}}undo(){const t=this.undoEntries.pop();if(t){const e=this.createEntry(t);return this.redoEntries.push(e),this.composition.loadSnapshot(t.snapshot)}}redo(){const t=this.redoEntries.pop();if(t){const e=this.createEntry(t);return this.undoEntries.push(e),this.composition.loadSnapshot(t.snapshot)}}canUndo(){return this.undoEntries.length>0}canRedo(){return this.redoEntries.length>0}createEntry(){let{description:t,context:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{description:t==null?void 0:t.toString(),context:JSON.stringify(e),snapshot:this.composition.getSnapshot()}}}const jb=(i,t,e)=>(i==null?void 0:i.description)===(t==null?void 0:t.toString())&&(i==null?void 0:i.context)===JSON.stringify(e);class Th{constructor(t){this.document=t.document,this.selectedRange=t.selectedRange}perform(){return this.removeBlockAttribute(),this.applyBlockAttribute()}getSnapshot(){return{document:this.document,selectedRange:this.selectedRange}}removeBlockAttribute(){return this.findRangesOfBlocks().map(t=>this.document=this.document.removeAttributeAtRange("attachmentGallery",t))}applyBlockAttribute(){let t=0;this.findRangesOfPieces().forEach(e=>{e[1]-e[0]>1&&(e[0]+=t,e[1]+=t,this.document.getCharacterAtPosition(e[1])!==`
`&&(this.document=this.document.insertBlockBreakAtRange(e[1]),e[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),e[1]++,t++),e[0]!==0&&this.document.getCharacterAtPosition(e[0]-1)!==`
`&&(this.document=this.document.insertBlockBreakAtRange(e[0]),e[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),e[0]++,t++),this.document=this.document.applyBlockAttributeAtRange("attachmentGallery",!0,e))})}findRangesOfBlocks(){return this.document.findRangesForBlockAttribute("attachmentGallery")}findRangesOfPieces(){return this.document.findRangesForTextAttribute("presentation",{withValue:"gallery"})}moveSelectedRangeForward(){this.selectedRange[0]+=1,this.selectedRange[1]+=1}}const Dh=function(i){const t=new Th(i);return t.perform(),t.getSnapshot()},Hb=[Dh];class Rh{constructor(t,e,n){this.insertFiles=this.insertFiles.bind(this),this.composition=t,this.selectionManager=e,this.element=n,this.undoManager=new Ds(this.composition),this.filters=Hb.slice(0)}loadDocument(t){return this.loadSnapshot({document:t,selectedRange:[0,0]})}loadHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const e=Rn.parse(t,{referenceElement:this.element}).getDocument();return this.loadDocument(e)}loadJSON(t){let{document:e,selectedRange:n}=t;return e=ie.fromJSON(e),this.loadSnapshot({document:e,selectedRange:n})}loadSnapshot(t){return this.undoManager=new Ds(this.composition),this.composition.loadSnapshot(t)}getDocument(){return this.composition.document}getSelectedDocument(){return this.composition.getSelectedDocument()}getSnapshot(){return this.composition.getSnapshot()}toJSON(){return this.getSnapshot()}deleteInDirection(t){return this.composition.deleteInDirection(t)}insertAttachment(t){return this.composition.insertAttachment(t)}insertAttachments(t){return this.composition.insertAttachments(t)}insertDocument(t){return this.composition.insertDocument(t)}insertFile(t){return this.composition.insertFile(t)}insertFiles(t){return this.composition.insertFiles(t)}insertHTML(t){return this.composition.insertHTML(t)}insertString(t){return this.composition.insertString(t)}insertText(t){return this.composition.insertText(t)}insertLineBreak(){return this.composition.insertLineBreak()}getSelectedRange(){return this.composition.getSelectedRange()}getPosition(){return this.composition.getPosition()}getClientRectAtPosition(t){const e=this.getDocument().locationRangeFromRange([t,t+1]);return this.selectionManager.getClientRectAtLocationRange(e)}expandSelectionInDirection(t){return this.composition.expandSelectionInDirection(t)}moveCursorInDirection(t){return this.composition.moveCursorInDirection(t)}setSelectedRange(t){return this.composition.setSelectedRange(t)}activateAttribute(t){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return this.composition.setCurrentAttribute(t,e)}attributeIsActive(t){return this.composition.hasCurrentAttribute(t)}canActivateAttribute(t){return this.composition.canSetCurrentAttribute(t)}deactivateAttribute(t){return this.composition.removeCurrentAttribute(t)}canDecreaseNestingLevel(){return this.composition.canDecreaseNestingLevel()}canIncreaseNestingLevel(){return this.composition.canIncreaseNestingLevel()}decreaseNestingLevel(){if(this.canDecreaseNestingLevel())return this.composition.decreaseNestingLevel()}increaseNestingLevel(){if(this.canIncreaseNestingLevel())return this.composition.increaseNestingLevel()}canRedo(){return this.undoManager.canRedo()}canUndo(){return this.undoManager.canUndo()}recordUndoEntry(t){let{context:e,consolidatable:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.undoManager.recordUndoEntry(t,{context:e,consolidatable:n})}redo(){if(this.canRedo())return this.undoManager.redo()}undo(){if(this.canUndo())return this.undoManager.undo()}}class Mh{constructor(t){this.element=t}findLocationFromContainerAndOffset(t,e){let{strict:n}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{strict:!0},r=0,o=!1;const s={index:0,offset:0},a=this.findAttachmentElementParentForNode(t);a&&(t=a.parentNode,e=Io(a));const l=Ar(this.element,{usingFilter:Lh});for(;l.nextNode();){const c=l.currentNode;if(c===t&&An(t)){Ii(c)||(s.offset+=e);break}if(c.parentNode===t){if(r++===e)break}else if(!ni(t,c)&&r>0)break;Ol(c,{strict:n})?(o&&s.index++,s.offset=0,o=!0):s.offset+=Uo(c)}return s}findContainerAndOffsetFromLocation(t){let e,n;if(t.index===0&&t.offset===0){for(e=this.element,n=0;e.firstChild;)if(e=e.firstChild,No(e)){n=1;break}return[e,n]}let[r,o]=this.findNodeAndOffsetFromLocation(t);if(r){if(An(r))Uo(r)===0?(e=r.parentNode.parentNode,n=Io(r.parentNode),Ii(r,{name:"right"})&&n++):(e=r,n=t.offset-o);else{if(e=r.parentNode,!Ol(r.previousSibling)&&!No(e))for(;r===e.lastChild&&(r=e,e=e.parentNode,!No(e)););n=Io(r),t.offset!==0&&n++}return[e,n]}}findNodeAndOffsetFromLocation(t){let e,n,r=0;for(const o of this.getSignificantNodesForIndex(t.index)){const s=Uo(o);if(t.offset<=r+s)if(An(o)){if(e=o,n=r,t.offset===n&&Ii(e))break}else e||(e=o,n=r);if(r+=s,r>t.offset)break}return[e,n]}findAttachmentElementParentForNode(t){for(;t&&t!==this.element;){if(ai(t))return t;t=t.parentNode}}getSignificantNodesForIndex(t){const e=[],n=Ar(this.element,{usingFilter:zb});let r=!1;for(;n.nextNode();){const s=n.currentNode;var o;if(Pi(s)){if(o!=null?o++:o=0,o===t)r=!0;else if(r)break}else r&&e.push(s)}return e}}const Uo=function(i){return i.nodeType===Node.TEXT_NODE?Ii(i)?0:i.textContent.length:jt(i)==="br"||ai(i)?1:0},zb=function(i){return Yb(i)===NodeFilter.FILTER_ACCEPT?Lh(i):NodeFilter.FILTER_REJECT},Yb=function(i){return uh(i)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},Lh=function(i){return ai(i.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT};class kh{createDOMRangeFromPoint(t){let e,{x:n,y:r}=t;if(document.caretPositionFromPoint){const{offsetNode:o,offset:s}=document.caretPositionFromPoint(n,r);return e=document.createRange(),e.setStart(o,s),e}if(document.caretRangeFromPoint)return document.caretRangeFromPoint(n,r);if(document.body.createTextRange){const o=Ni();try{const s=document.body.createTextRange();s.moveToPoint(n,r),s.select()}catch{}return e=Ni(),bh(o),e}}getClientRectsForDOMRange(t){const e=Array.from(t.getClientRects());return[e[0],e[e.length-1]]}}class ei extends St{constructor(t){super(...arguments),this.didMouseDown=this.didMouseDown.bind(this),this.selectionDidChange=this.selectionDidChange.bind(this),this.element=t,this.locationMapper=new Mh(this.element),this.pointMapper=new kh,this.lockCount=0,ft("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}getLocationRange(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t.strict===!1?this.createLocationRangeFromDOMRange(Ni()):t.ignoreLock?this.currentLocationRange:this.lockedLocationRange?this.lockedLocationRange:this.currentLocationRange}setLocationRange(t){if(this.lockedLocationRange)return;t=ot(t);const e=this.createDOMRangeFromLocationRange(t);e&&(bh(e),this.updateCurrentLocationRange(t))}setLocationRangeFromPointRange(t){t=ot(t);const e=this.getLocationAtPoint(t[0]),n=this.getLocationAtPoint(t[1]);this.setLocationRange([e,n])}getClientRectAtLocationRange(t){const e=this.createDOMRangeFromLocationRange(t);if(e)return this.getClientRectsForDOMRange(e)[1]}locationIsCursorTarget(t){const e=Array.from(this.findNodeAndOffsetFromLocation(t))[0];return Ii(e)}lock(){this.lockCount++==0&&(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange())}unlock(){if(--this.lockCount==0){const{lockedLocationRange:t}=this;if(this.lockedLocationRange=null,t!=null)return this.setLocationRange(t)}}clearSelection(){var t;return(t=vh())===null||t===void 0?void 0:t.removeAllRanges()}selectionIsCollapsed(){var t;return((t=Ni())===null||t===void 0?void 0:t.collapsed)===!0}selectionIsExpanded(){return!this.selectionIsCollapsed()}createLocationRangeFromDOMRange(t,e){if(t==null||!this.domRangeWithinElement(t))return;const n=this.findLocationFromContainerAndOffset(t.startContainer,t.startOffset,e);if(!n)return;const r=t.collapsed?void 0:this.findLocationFromContainerAndOffset(t.endContainer,t.endOffset,e);return ot([n,r])}didMouseDown(){return this.pauseTemporarily()}pauseTemporarily(){let t;this.paused=!0;const e=()=>{if(this.paused=!1,clearTimeout(n),Array.from(t).forEach(r=>{r.destroy()}),ni(document,this.element))return this.selectionDidChange()},n=setTimeout(e,200);t=["mousemove","keydown"].map(r=>ft(r,{onElement:document,withCallback:e}))}selectionDidChange(){if(!this.paused&&!ha(this.element))return this.updateCurrentLocationRange()}updateCurrentLocationRange(t){var e,n;if((t!=null?t:t=this.createLocationRangeFromDOMRange(Ni()))&&!Sr(t,this.currentLocationRange))return this.currentLocationRange=t,(e=this.delegate)===null||e===void 0||(n=e.locationRangeDidChange)===null||n===void 0?void 0:n.call(e,this.currentLocationRange.slice(0))}createDOMRangeFromLocationRange(t){const e=this.findContainerAndOffsetFromLocation(t[0]),n=we(t)?e:this.findContainerAndOffsetFromLocation(t[1])||e;if(e!=null&&n!=null){const r=document.createRange();return r.setStart(...Array.from(e||[])),r.setEnd(...Array.from(n||[])),r}}getLocationAtPoint(t){const e=this.createDOMRangeFromPoint(t);var n;if(e)return(n=this.createLocationRangeFromDOMRange(e))===null||n===void 0?void 0:n[0]}domRangeWithinElement(t){return t.collapsed?ni(this.element,t.startContainer):ni(this.element,t.startContainer)&&ni(this.element,t.endContainer)}}ei.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),ei.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),ei.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),ei.proxyMethod("pointMapper.createDOMRangeFromPoint"),ei.proxyMethod("pointMapper.getClientRectsForDOMRange");var Oh=Object.freeze({__proto__:null,Attachment:Gi,AttachmentManager:Eh,AttachmentPiece:zi,Block:xe,Composition:Ne,Document:ie,Editor:Rh,HTMLParser:Rn,HTMLSanitizer:Ah,LineBreakInsertion:Ch,LocationMapper:Mh,ManagedAttachment:mt,Piece:pi,PointMapper:kh,SelectionManager:ei,SplittableList:Cr,StringPiece:ya,Text:ae,UndoManager:Ds}),Xb=Object.freeze({__proto__:null});const{lang:qo,css:Qe,keyNames:Ub}=Bn,$o=function(i){return function(){const t=i.apply(this,arguments);t.do(),this.undos||(this.undos=[]),this.undos.push(t.undo)}};class _h extends St{constructor(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(...arguments),Kt(this,"makeElementMutable",$o(()=>({do:()=>{this.element.dataset.trixMutable=!0},undo:()=>delete this.element.dataset.trixMutable}))),Kt(this,"addToolbar",$o(()=>{const o=Q({tagName:"div",className:Qe.attachmentToolbar,data:{trixMutable:!0},childNodes:Q({tagName:"div",className:"trix-button-row",childNodes:Q({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:Q({tagName:"button",className:"trix-button trix-button--remove",textContent:qo.remove,attributes:{title:qo.remove},data:{trixAction:"remove"}})})})});return this.attachment.isPreviewable()&&o.appendChild(Q({tagName:"div",className:Qe.attachmentMetadataContainer,childNodes:Q({tagName:"span",className:Qe.attachmentMetadata,childNodes:[Q({tagName:"span",className:Qe.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),Q({tagName:"span",className:Qe.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),ft("click",{onElement:o,withCallback:this.didClickToolbar}),ft("click",{onElement:o,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),wn("trix-attachment-before-toolbar",{onElement:this.element,attributes:{toolbar:o,attachment:this.attachment}}),{do:()=>this.element.appendChild(o),undo:()=>$e(o)}})),Kt(this,"installCaptionEditor",$o(()=>{const o=Q({tagName:"textarea",className:Qe.attachmentCaptionEditor,attributes:{placeholder:qo.captionPlaceholder},data:{trixMutable:!0}});o.value=this.attachmentPiece.getCaption();const s=o.cloneNode();s.classList.add("trix-autoresize-clone"),s.tabIndex=-1;const a=function(){s.value=o.value,o.style.height=s.scrollHeight+"px"};ft("input",{onElement:o,withCallback:a}),ft("input",{onElement:o,withCallback:this.didInputCaption}),ft("keydown",{onElement:o,withCallback:this.didKeyDownCaption}),ft("change",{onElement:o,withCallback:this.didChangeCaption}),ft("blur",{onElement:o,withCallback:this.didBlurCaption});const l=this.element.querySelector("figcaption"),c=l.cloneNode();return{do:()=>{if(l.style.display="none",c.appendChild(o),c.appendChild(s),c.classList.add("".concat(Qe.attachmentCaption,"--editing")),l.parentElement.insertBefore(c,l),a(),this.options.editCaption)return pa(()=>o.focus())},undo(){$e(c),l.style.display=null}}})),this.didClickToolbar=this.didClickToolbar.bind(this),this.didClickActionButton=this.didClickActionButton.bind(this),this.didKeyDownCaption=this.didKeyDownCaption.bind(this),this.didInputCaption=this.didInputCaption.bind(this),this.didChangeCaption=this.didChangeCaption.bind(this),this.didBlurCaption=this.didBlurCaption.bind(this),this.attachmentPiece=t,this.element=e,this.container=n,this.options=r,this.attachment=this.attachmentPiece.attachment,jt(this.element)==="a"&&(this.element=this.element.firstChild),this.install()}install(){this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()&&this.installCaptionEditor()}uninstall(){var t;let e=this.undos.pop();for(this.savePendingCaption();e;)e(),e=this.undos.pop();(t=this.delegate)===null||t===void 0||t.didUninstallAttachmentEditor(this)}savePendingCaption(){if(this.pendingCaption!=null){const o=this.pendingCaption;var t,e,n,r;this.pendingCaption=null,o?(t=this.delegate)===null||t===void 0||(e=t.attachmentEditorDidRequestUpdatingAttributesForAttachment)===null||e===void 0||e.call(t,{caption:o},this.attachment):(n=this.delegate)===null||n===void 0||(r=n.attachmentEditorDidRequestRemovingAttributeForAttachment)===null||r===void 0||r.call(n,"caption",this.attachment)}}didClickToolbar(t){return t.preventDefault(),t.stopPropagation()}didClickActionButton(t){var e;if(t.target.getAttribute("data-trix-action")==="remove")return(e=this.delegate)===null||e===void 0?void 0:e.attachmentEditorDidRequestRemovalOfAttachment(this.attachment)}didKeyDownCaption(t){var e,n;if(Ub[t.keyCode]==="return")return t.preventDefault(),this.savePendingCaption(),(e=this.delegate)===null||e===void 0||(n=e.attachmentEditorDidRequestDeselectingAttachment)===null||n===void 0?void 0:n.call(e,this.attachment)}didInputCaption(t){this.pendingCaption=t.target.value.replace(/\s/g," ").trim()}didChangeCaption(t){return this.savePendingCaption()}didBlurCaption(t){return this.savePendingCaption()}}class Ph extends St{constructor(t,e){super(...arguments),this.didFocus=this.didFocus.bind(this),this.didBlur=this.didBlur.bind(this),this.didClickAttachment=this.didClickAttachment.bind(this),this.element=t,this.composition=e,this.documentView=new ba(this.composition.document,{element:this.element}),ft("focus",{onElement:this.element,withCallback:this.didFocus}),ft("blur",{onElement:this.element,withCallback:this.didBlur}),ft("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),ft("mousedown",{onElement:this.element,matchingSelector:"[data-trix-attachment]",withCallback:this.didClickAttachment}),ft("click",{onElement:this.element,matchingSelector:"a".concat("[data-trix-attachment]"),preventDefault:!0})}didFocus(t){var e;const n=()=>{var r,o;if(!this.focused)return this.focused=!0,(r=this.delegate)===null||r===void 0||(o=r.compositionControllerDidFocus)===null||o===void 0?void 0:o.call(r)};return((e=this.blurPromise)===null||e===void 0?void 0:e.then(n))||n()}didBlur(t){this.blurPromise=new Promise(e=>pa(()=>{var n,r;return ha(this.element)||(this.focused=null,(n=this.delegate)===null||n===void 0||(r=n.compositionControllerDidBlur)===null||r===void 0||r.call(n)),this.blurPromise=null,e()}))}didClickAttachment(t,e){var n,r;const o=this.findAttachmentForElement(e),s=!!qe(t.target,{matchingSelector:"figcaption"});return(n=this.delegate)===null||n===void 0||(r=n.compositionControllerDidSelectAttachment)===null||r===void 0?void 0:r.call(n,o,{editCaption:s})}getSerializableElement(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element}render(){var t,e,n,r,o,s;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&((n=this.delegate)===null||n===void 0||(r=n.compositionControllerWillSyncDocumentView)===null||r===void 0||r.call(n),this.documentView.sync(),(o=this.delegate)===null||o===void 0||(s=o.compositionControllerDidSyncDocumentView)===null||s===void 0||s.call(o)),(t=this.delegate)===null||t===void 0||(e=t.compositionControllerDidRender)===null||e===void 0?void 0:e.call(t)}rerenderViewForObject(t){return this.invalidateViewForObject(t),this.render()}invalidateViewForObject(t){return this.documentView.invalidateViewForObject(t)}isViewCachingEnabled(){return this.documentView.isViewCachingEnabled()}enableViewCaching(){return this.documentView.enableViewCaching()}disableViewCaching(){return this.documentView.disableViewCaching()}refreshViewCache(){return this.documentView.garbageCollectCachedViews()}isEditingAttachment(){return!!this.attachmentEditor}installAttachmentEditorForAttachment(t,e){var n;if(((n=this.attachmentEditor)===null||n===void 0?void 0:n.attachment)===t)return;const r=this.documentView.findElementForObject(t);if(!r)return;this.uninstallAttachmentEditor();const o=this.composition.document.getAttachmentPieceForAttachment(t);this.attachmentEditor=new _h(o,r,this.element,e),this.attachmentEditor.delegate=this}uninstallAttachmentEditor(){var t;return(t=this.attachmentEditor)===null||t===void 0?void 0:t.uninstall()}didUninstallAttachmentEditor(){return this.attachmentEditor=null,this.render()}attachmentEditorDidRequestUpdatingAttributesForAttachment(t,e){var n,r;return(n=this.delegate)===null||n===void 0||(r=n.compositionControllerWillUpdateAttachment)===null||r===void 0||r.call(n,e),this.composition.updateAttributesForAttachment(t,e)}attachmentEditorDidRequestRemovingAttributeForAttachment(t,e){var n,r;return(n=this.delegate)===null||n===void 0||(r=n.compositionControllerWillUpdateAttachment)===null||r===void 0||r.call(n,e),this.composition.removeAttributeForAttachment(t,e)}attachmentEditorDidRequestRemovalOfAttachment(t){var e,n;return(e=this.delegate)===null||e===void 0||(n=e.compositionControllerDidRequestRemovalOfAttachment)===null||n===void 0?void 0:n.call(e,t)}attachmentEditorDidRequestDeselectingAttachment(t){var e,n;return(e=this.delegate)===null||e===void 0||(n=e.compositionControllerDidRequestDeselectingAttachment)===null||n===void 0?void 0:n.call(e,t)}canSyncDocumentView(){return!this.isEditingAttachment()}findAttachmentForElement(t){return this.composition.document.getAttachmentById(parseInt(t.dataset.trixId,10))}}class Ih extends St{}const qb="[".concat("data-trix-mutable","]"),$b={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};class Nh extends St{constructor(t){super(t),this.didMutate=this.didMutate.bind(this),this.element=t,this.observer=new window.MutationObserver(this.didMutate),this.start()}start(){return this.reset(),this.observer.observe(this.element,$b)}stop(){return this.observer.disconnect()}didMutate(t){var e,n;if(this.mutations.push(...Array.from(this.findSignificantMutations(t)||[])),this.mutations.length)return(e=this.delegate)===null||e===void 0||(n=e.elementDidMutate)===null||n===void 0||n.call(e,this.getMutationSummary()),this.reset()}reset(){this.mutations=[]}findSignificantMutations(t){return t.filter(e=>this.mutationIsSignificant(e))}mutationIsSignificant(t){if(this.nodeIsMutable(t.target))return!1;for(const e of Array.from(this.nodesModifiedByMutation(t)))if(this.nodeIsSignificant(e))return!0;return!1}nodeIsSignificant(t){return t!==this.element&&!this.nodeIsMutable(t)&&!uh(t)}nodeIsMutable(t){return qe(t,{matchingSelector:qb})}nodesModifiedByMutation(t){const e=[];switch(t.type){case"attributes":t.attributeName!=="data-trix-mutable"&&e.push(t.target);break;case"characterData":e.push(t.target.parentNode),e.push(t.target);break;case"childList":e.push(...Array.from(t.addedNodes||[])),e.push(...Array.from(t.removedNodes||[]))}return e}getMutationSummary(){return this.getTextMutationSummary()}getTextMutationSummary(){const{additions:t,deletions:e}=this.getTextChangesFromCharacterData(),n=this.getTextChangesFromChildList();Array.from(n.additions).forEach(a=>{Array.from(t).includes(a)||t.push(a)}),e.push(...Array.from(n.deletions||[]));const r={},o=t.join("");o&&(r.textAdded=o);const s=e.join("");return s&&(r.textDeleted=s),r}getMutationsByType(t){return Array.from(this.mutations).filter(e=>e.type===t)}getTextChangesFromChildList(){let t,e;const n=[],r=[];return Array.from(this.getMutationsByType("childList")).forEach(o=>{n.push(...Array.from(o.addedNodes||[])),r.push(...Array.from(o.removedNodes||[]))}),n.length===0&&r.length===1&&Pi(r[0])?(t=[],e=[`
`]):(t=Rs(n),e=Rs(r)),{additions:t.filter((o,s)=>o!==e[s]).map(hn),deletions:e.filter((o,s)=>o!==t[s]).map(hn)}}getTextChangesFromCharacterData(){let t,e;const n=this.getMutationsByType("characterData");if(n.length){const r=n[0],o=n[n.length-1],s=function(a,l){let c,d;return a=Dn.box(a),(l=Dn.box(l)).length<a.length?[d,c]=Fl(a,l):[c,d]=Fl(l,a),{added:c,removed:d}}(hn(r.oldValue),hn(o.target.data));t=s.added,e=s.removed}return{additions:t?[t]:[],deletions:e?[e]:[]}}}const Rs=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=[];for(const e of Array.from(i))switch(e.nodeType){case Node.TEXT_NODE:t.push(e.data);break;case Node.ELEMENT_NODE:jt(e)==="br"?t.push(`
`):t.push(...Array.from(Rs(e.childNodes)||[]))}return t};class Bh extends Er{constructor(t){super(...arguments),this.file=t}perform(t){const e=new FileReader;return e.onerror=()=>t(!1),e.onload=()=>{e.onerror=null;try{e.abort()}catch{}return t(!0,this.file)},e.readAsArrayBuffer(this.file)}}class Vb{constructor(t){this.element=t}shouldIgnore(t){return!!Nn.samsungAndroid&&(this.previousEvent=this.event,this.event=t,this.checkSamsungKeyboardBuggyModeStart(),this.checkSamsungKeyboardBuggyModeEnd(),this.buggyMode)}checkSamsungKeyboardBuggyModeStart(){this.insertingLongTextAfterUnidentifiedChar()&&Gb(this.element.innerText,this.event.data)&&(this.buggyMode=!0,this.event.preventDefault())}checkSamsungKeyboardBuggyModeEnd(){this.buggyMode&&this.event.inputType!=="insertText"&&(this.buggyMode=!1)}insertingLongTextAfterUnidentifiedChar(){var t;return this.isBeforeInputInsertText()&&this.previousEventWasUnidentifiedKeydown()&&((t=this.event.data)===null||t===void 0?void 0:t.length)>50}isBeforeInputInsertText(){return this.event.type==="beforeinput"&&this.event.inputType==="insertText"}previousEventWasUnidentifiedKeydown(){var t,e;return((t=this.previousEvent)===null||t===void 0?void 0:t.type)==="keydown"&&((e=this.previousEvent)===null||e===void 0?void 0:e.key)==="Unidentified"}}const Gb=(i,t)=>Jl(i)===Jl(t),Kb=new RegExp("(".concat("\uFFFC","|").concat("\uFEFF","|").concat("\xA0","|\\s)+"),"g"),Jl=i=>i.replace(Kb," ").trim();class Xr extends St{constructor(t){super(...arguments),this.element=t,this.mutationObserver=new Nh(this.element),this.mutationObserver.delegate=this,this.flakyKeyboardDetector=new Vb(this.element);for(const e in this.constructor.events)ft(e,{onElement:this.element,withCallback:this.handlerFor(e)})}elementDidMutate(t){}editorWillSyncDocumentView(){return this.mutationObserver.stop()}editorDidSyncDocumentView(){return this.mutationObserver.start()}requestRender(){var t,e;return(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidRequestRender)===null||e===void 0?void 0:e.call(t)}requestReparse(){var t,e;return(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidRequestReparse)===null||e===void 0||e.call(t),this.requestRender()}attachFiles(t){const e=Array.from(t).map(n=>new Bh(n));return Promise.all(e).then(n=>{this.handleInput(function(){var r,o;return(r=this.delegate)===null||r===void 0||r.inputControllerWillAttachFiles(),(o=this.responder)===null||o===void 0||o.insertFiles(n),this.requestRender()})})}handlerFor(t){return e=>{e.defaultPrevented||this.handleInput(()=>{if(!ha(this.element)){if(this.flakyKeyboardDetector.shouldIgnore(e))return;this.eventName=t,this.constructor.events[t].call(this,e)}})}}handleInput(t){try{var e;(e=this.delegate)===null||e===void 0||e.inputControllerWillHandleInput(),t.call(this)}finally{var n;(n=this.delegate)===null||n===void 0||n.inputControllerDidHandleInput()}}createLinkHTML(t,e){const n=document.createElement("a");return n.href=t,n.textContent=e||t,n.outerHTML}}var Vo;Kt(Xr,"events",{});const{browser:Jb,keyNames:Fh}=Bn;let Qb=0;class be extends Xr{constructor(){super(...arguments),this.resetInputSummary()}setInputSummary(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.inputSummary.eventName=this.eventName;for(const e in t){const n=t[e];this.inputSummary[e]=n}return this.inputSummary}resetInputSummary(){this.inputSummary={}}reset(){return this.resetInputSummary(),ui.reset()}elementDidMutate(t){var e,n;return this.isComposing()?(e=this.delegate)===null||e===void 0||(n=e.inputControllerDidAllowUnhandledInput)===null||n===void 0?void 0:n.call(e):this.handleInput(function(){return this.mutationIsSignificant(t)&&(this.mutationIsExpected(t)?this.requestRender():this.requestReparse()),this.reset()})}mutationIsExpected(t){let{textAdded:e,textDeleted:n}=t;if(this.inputSummary.preferDocument)return!0;const r=e!=null?e===this.inputSummary.textAdded:!this.inputSummary.textAdded,o=n!=null?this.inputSummary.didDelete:!this.inputSummary.didDelete,s=[`
`,` 
`].includes(e)&&!r,a=n===`
`&&!o;if(s&&!a||a&&!s){const c=this.getSelectedRange();if(c){var l;const d=s?e.replace(/\n$/,"").length||-1:(e==null?void 0:e.length)||1;if((l=this.responder)!==null&&l!==void 0&&l.positionIsBlockBreak(c[1]+d))return!0}}return r&&o}mutationIsSignificant(t){var e;const n=Object.keys(t).length>0,r=((e=this.compositionInput)===null||e===void 0?void 0:e.getEndData())==="";return n||!r}getCompositionInput(){if(this.isComposing())return this.compositionInput;this.compositionInput=new _e(this)}isComposing(){return this.compositionInput&&!this.compositionInput.isEnded()}deleteInDirection(t,e){var n;return((n=this.responder)===null||n===void 0?void 0:n.deleteInDirection(t))!==!1?this.setInputSummary({didDelete:!0}):e?(e.preventDefault(),this.requestRender()):void 0}serializeSelectionToDataTransfer(t){var e;if(!function(r){if(r==null||!r.setData)return!1;for(const o in Il){const s=Il[o];try{if(r.setData(o,s),!r.getData(o)===s)return!1}catch{return!1}}return!0}(t))return;const n=(e=this.responder)===null||e===void 0?void 0:e.getSelectedDocument().toSerializableDocument();return t.setData("application/x-trix-document",JSON.stringify(n)),t.setData("text/html",ba.render(n).innerHTML),t.setData("text/plain",n.toString().replace(/\n$/,"")),!0}canAcceptDataTransfer(t){const e={};return Array.from((t==null?void 0:t.types)||[]).forEach(n=>{e[n]=!0}),e.Files||e["application/x-trix-document"]||e["text/html"]||e["text/plain"]}getPastedHTMLUsingHiddenElement(t){const e=this.getSelectedRange(),n={position:"absolute",left:"".concat(window.pageXOffset,"px"),top:"".concat(window.pageYOffset,"px"),opacity:0},r=Q({style:n,tagName:"div",editable:!0});return document.body.appendChild(r),r.focus(),requestAnimationFrame(()=>{const o=r.innerHTML;return $e(r),this.setSelectedRange(e),t(o)})}}Kt(be,"events",{keydown(i){this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0;const t=Fh[i.keyCode];if(t){var e;let r=this.keys;["ctrl","alt","shift","meta"].forEach(o=>{var s;i["".concat(o,"Key")]&&(o==="ctrl"&&(o="control"),r=(s=r)===null||s===void 0?void 0:s[o])}),((e=r)===null||e===void 0?void 0:e[t])!=null&&(this.setInputSummary({keyName:t}),ui.reset(),r[t].call(this,i))}if(ph(i)){const r=String.fromCharCode(i.keyCode).toLowerCase();if(r){var n;const o=["alt","shift"].map(s=>{if(i["".concat(s,"Key")])return s}).filter(s=>s);o.push(r),(n=this.delegate)!==null&&n!==void 0&&n.inputControllerDidReceiveKeyboardCommand(o)&&i.preventDefault()}}},keypress(i){if(this.inputSummary.eventName!=null||i.metaKey||i.ctrlKey&&!i.altKey)return;const t=e0(i);var e,n;return t?((e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0||n.insertString(t),this.setInputSummary({textAdded:t,didDelete:this.selectionIsExpanded()})):void 0},textInput(i){const{data:t}=i,{textAdded:e}=this.inputSummary;if(e&&e!==t&&e.toUpperCase()===t){var n;const r=this.getSelectedRange();return this.setSelectedRange([r[0],r[1]+e.length]),(n=this.responder)===null||n===void 0||n.insertString(t),this.setInputSummary({textAdded:t}),this.setSelectedRange(r)}},dragenter(i){i.preventDefault()},dragstart(i){var t,e;return this.serializeSelectionToDataTransfer(i.dataTransfer),this.draggedRange=this.getSelectedRange(),(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidStartDrag)===null||e===void 0?void 0:e.call(t)},dragover(i){if(this.draggedRange||this.canAcceptDataTransfer(i.dataTransfer)){i.preventDefault();const n={x:i.clientX,y:i.clientY};var t,e;if(!Fn(n,this.draggingPoint))return this.draggingPoint=n,(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidReceiveDragOverPoint)===null||e===void 0?void 0:e.call(t,this.draggingPoint)}},dragend(i){var t,e;(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidCancelDrag)===null||e===void 0||e.call(t),this.draggedRange=null,this.draggingPoint=null},drop(i){var t,e;i.preventDefault();const n=(t=i.dataTransfer)===null||t===void 0?void 0:t.files,r=i.dataTransfer.getData("application/x-trix-document"),o={x:i.clientX,y:i.clientY};if((e=this.responder)===null||e===void 0||e.setLocationRangeFromPointRange(o),n!=null&&n.length)this.attachFiles(n);else if(this.draggedRange){var s,a;(s=this.delegate)===null||s===void 0||s.inputControllerWillMoveText(),(a=this.responder)===null||a===void 0||a.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()}else if(r){var l;const c=ie.fromJSONString(r);(l=this.responder)===null||l===void 0||l.insertDocument(c),this.requestRender()}this.draggedRange=null,this.draggingPoint=null},cut(i){var t,e;if((t=this.responder)!==null&&t!==void 0&&t.selectionIsExpanded()&&(this.serializeSelectionToDataTransfer(i.clipboardData)&&i.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillCutText(),this.deleteInDirection("backward"),i.defaultPrevented))return this.requestRender()},copy(i){var t;(t=this.responder)!==null&&t!==void 0&&t.selectionIsExpanded()&&this.serializeSelectionToDataTransfer(i.clipboardData)&&i.preventDefault()},paste(i){const t=i.clipboardData||i.testClipboardData,e={clipboard:t};if(!t||i0(i))return void this.getPastedHTMLUsingHiddenElement(D=>{var A,I,U;return e.type="text/html",e.html=D,(A=this.delegate)===null||A===void 0||A.inputControllerWillPaste(e),(I=this.responder)===null||I===void 0||I.insertHTML(e.html),this.requestRender(),(U=this.delegate)===null||U===void 0?void 0:U.inputControllerDidPaste(e)});const n=t.getData("URL"),r=t.getData("text/html"),o=t.getData("public.url-name");if(n){var s,a,l;let D;e.type="text/html",D=o?ma(o).trim():n,e.html=this.createLinkHTML(n,D),(s=this.delegate)===null||s===void 0||s.inputControllerWillPaste(e),this.setInputSummary({textAdded:D,didDelete:this.selectionIsExpanded()}),(a=this.responder)===null||a===void 0||a.insertHTML(e.html),this.requestRender(),(l=this.delegate)===null||l===void 0||l.inputControllerDidPaste(e)}else if(fh(t)){var c,d,p;e.type="text/plain",e.string=t.getData("text/plain"),(c=this.delegate)===null||c===void 0||c.inputControllerWillPaste(e),this.setInputSummary({textAdded:e.string,didDelete:this.selectionIsExpanded()}),(d=this.responder)===null||d===void 0||d.insertString(e.string),this.requestRender(),(p=this.delegate)===null||p===void 0||p.inputControllerDidPaste(e)}else if(r){var g,y,x;e.type="text/html",e.html=r,(g=this.delegate)===null||g===void 0||g.inputControllerWillPaste(e),(y=this.responder)===null||y===void 0||y.insertHTML(e.html),this.requestRender(),(x=this.delegate)===null||x===void 0||x.inputControllerDidPaste(e)}else if(Array.from(t.types).includes("Files")){var S,C,E;const D=(S=t.items)===null||S===void 0||(C=S[0])===null||C===void 0||(E=C.getAsFile)===null||E===void 0?void 0:E.call(C);if(D){var R,L,k;const A=Zb(D);!D.name&&A&&(D.name="pasted-file-".concat(++Qb,".").concat(A)),e.type="File",e.file=D,(R=this.delegate)===null||R===void 0||R.inputControllerWillAttachFiles(),(L=this.responder)===null||L===void 0||L.insertFile(e.file),this.requestRender(),(k=this.delegate)===null||k===void 0||k.inputControllerDidPaste(e)}}i.preventDefault()},compositionstart(i){return this.getCompositionInput().start(i.data)},compositionupdate(i){return this.getCompositionInput().update(i.data)},compositionend(i){return this.getCompositionInput().end(i.data)},beforeinput(i){this.inputSummary.didInput=!0},input(i){return this.inputSummary.didInput=!0,i.stopPropagation()}}),Kt(be,"keys",{backspace(i){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("backward",i)},delete(i){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("forward",i)},return(i){var t,e;return this.setInputSummary({preferDocument:!0}),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(e=this.responder)===null||e===void 0?void 0:e.insertLineBreak()},tab(i){var t,e;(t=this.responder)!==null&&t!==void 0&&t.canIncreaseNestingLevel()&&((e=this.responder)===null||e===void 0||e.increaseNestingLevel(),this.requestRender(),i.preventDefault())},left(i){var t;if(this.selectionIsInCursorTarget())return i.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("backward")},right(i){var t;if(this.selectionIsInCursorTarget())return i.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("forward")},control:{d(i){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("forward",i)},h(i){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("backward",i)},o(i){var t,e;return i.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(e=this.responder)===null||e===void 0||e.insertString(`
`,{updatePosition:!1}),this.requestRender()}},shift:{return(i){var t,e;(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(e=this.responder)===null||e===void 0||e.insertString(`
`),this.requestRender(),i.preventDefault()},tab(i){var t,e;(t=this.responder)!==null&&t!==void 0&&t.canDecreaseNestingLevel()&&((e=this.responder)===null||e===void 0||e.decreaseNestingLevel(),this.requestRender(),i.preventDefault())},left(i){if(this.selectionIsInCursorTarget())return i.preventDefault(),this.expandSelectionInDirection("backward")},right(i){if(this.selectionIsInCursorTarget())return i.preventDefault(),this.expandSelectionInDirection("forward")}},alt:{backspace(i){var t;return this.setInputSummary({preferDocument:!1}),(t=this.delegate)===null||t===void 0?void 0:t.inputControllerWillPerformTyping()}},meta:{backspace(i){var t;return this.setInputSummary({preferDocument:!1}),(t=this.delegate)===null||t===void 0?void 0:t.inputControllerWillPerformTyping()}}}),be.proxyMethod("responder?.getSelectedRange"),be.proxyMethod("responder?.setSelectedRange"),be.proxyMethod("responder?.expandSelectionInDirection"),be.proxyMethod("responder?.selectionIsInCursorTarget"),be.proxyMethod("responder?.selectionIsExpanded");const Zb=i=>{var t,e;return(t=i.type)===null||t===void 0||(e=t.match(/\/(\w+)$/))===null||e===void 0?void 0:e[1]},t0=!((Vo=" ".codePointAt)===null||Vo===void 0||!Vo.call(" ",0)),e0=function(i){if(i.key&&t0&&i.key.codePointAt(0)===i.keyCode)return i.key;{let t;if(i.which===null?t=i.keyCode:i.which!==0&&i.charCode!==0&&(t=i.charCode),t!=null&&Fh[t]!=="escape")return Dn.fromCodepoints([t]).toString()}},i0=function(i){const t=i.clipboardData;if(t){if(t.types.includes("text/html")){for(const e of t.types){const n=/^CorePasteboardFlavorType/.test(e),r=/^dyn\./.test(e)&&t.getData(e);if(n||r)return!0}return!1}{const e=t.types.includes("com.apple.webarchive"),n=t.types.includes("com.apple.flat-rtfd");return e||n}}};class _e extends St{constructor(t){super(...arguments),this.inputController=t,this.responder=this.inputController.responder,this.delegate=this.inputController.delegate,this.inputSummary=this.inputController.inputSummary,this.data={}}start(t){if(this.data.start=t,this.isSignificant()){var e,n;this.inputSummary.eventName==="keypress"&&this.inputSummary.textAdded&&((n=this.responder)===null||n===void 0||n.deleteInDirection("left")),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=(e=this.responder)===null||e===void 0?void 0:e.getSelectedRange()}}update(t){if(this.data.update=t,this.isSignificant()){const e=this.selectPlaceholder();e&&(this.forgetPlaceholder(),this.range=e)}}end(t){return this.data.end=t,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0||n.setSelectedRange(this.range),(r=this.responder)===null||r===void 0||r.insertString(this.data.end),(o=this.responder)===null||o===void 0?void 0:o.setSelectedRange(this.range[0]+this.data.end.length)):this.data.start!=null||this.data.update!=null?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset();var e,n,r,o}getEndData(){return this.data.end}isEnded(){return this.getEndData()!=null}isSignificant(){return!Jb.composesExistingText||this.inputSummary.didInput}canApplyToDocument(){var t,e;return((t=this.data.start)===null||t===void 0?void 0:t.length)===0&&((e=this.data.end)===null||e===void 0?void 0:e.length)>0&&this.range}}_e.proxyMethod("inputController.setInputSummary"),_e.proxyMethod("inputController.requestRender"),_e.proxyMethod("inputController.requestReparse"),_e.proxyMethod("responder?.selectionIsExpanded"),_e.proxyMethod("responder?.insertPlaceholder"),_e.proxyMethod("responder?.selectPlaceholder"),_e.proxyMethod("responder?.forgetPlaceholder");class Sn extends Xr{constructor(){super(...arguments),this.render=this.render.bind(this)}elementDidMutate(){return this.scheduledRender?this.composing?(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidAllowUnhandledInput)===null||e===void 0?void 0:e.call(t):void 0:this.reparse();var t,e}scheduleRender(){return this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)}render(){var t,e;cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||(e=this.delegate)===null||e===void 0||e.render(),(t=this.afterRender)===null||t===void 0||t.call(this),this.afterRender=null}reparse(){var t;return(t=this.delegate)===null||t===void 0?void 0:t.reparse()}insertString(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var r;return(r=this.responder)===null||r===void 0?void 0:r.insertString(e,n)})}toggleAttributeIfSupported(t){var e;if(Es().includes(t))return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformFormatting(t),this.withTargetDOMRange(function(){var n;return(n=this.responder)===null||n===void 0?void 0:n.toggleCurrentAttribute(t)})}activateAttributeIfSupported(t,e){var n;if(Es().includes(t))return(n=this.delegate)===null||n===void 0||n.inputControllerWillPerformFormatting(t),this.withTargetDOMRange(function(){var r;return(r=this.responder)===null||r===void 0?void 0:r.setCurrentAttribute(t,e)})}deleteInDirection(t){let{recordUndoEntry:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{recordUndoEntry:!0};var n;e&&((n=this.delegate)===null||n===void 0||n.inputControllerWillPerformTyping());const r=()=>{var s;return(s=this.responder)===null||s===void 0?void 0:s.deleteInDirection(t)},o=this.getTargetDOMRange({minLength:2});return o?this.withTargetDOMRange(o,r):r()}withTargetDOMRange(t,e){var n;return typeof t=="function"&&(e=t,t=this.getTargetDOMRange()),t?(n=this.responder)===null||n===void 0?void 0:n.withTargetDOMRange(t,e.bind(this)):(ui.reset(),e.call(this))}getTargetDOMRange(){var t,e;let{minLength:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{minLength:0};const r=(t=(e=this.event).getTargetRanges)===null||t===void 0?void 0:t.call(e);if(r&&r.length){const o=n0(r[0]);if(n===0||o.toString().length>=n)return o}}withEvent(t,e){let n;this.event=t;try{n=e.call(this)}finally{this.event=null}return n}}Kt(Sn,"events",{keydown(i){if(ph(i)){var t;const e=s0(i);(t=this.delegate)!==null&&t!==void 0&&t.inputControllerDidReceiveKeyboardCommand(e)&&i.preventDefault()}else{let e=i.key;i.altKey&&(e+="+Alt"),i.shiftKey&&(e+="+Shift");const n=this.constructor.keys[e];if(n)return this.withEvent(i,n)}},paste(i){var t;let e;const n=(t=i.clipboardData)===null||t===void 0?void 0:t.getData("URL");return r0(i)?(i.preventDefault(),this.attachFiles(i.clipboardData.files)):o0(i)?(i.preventDefault(),e={type:"text/plain",string:i.clipboardData.getData("text/plain")},(r=this.delegate)===null||r===void 0||r.inputControllerWillPaste(e),(o=this.responder)===null||o===void 0||o.insertString(e.string),this.render(),(s=this.delegate)===null||s===void 0?void 0:s.inputControllerDidPaste(e)):n?(i.preventDefault(),e={type:"text/html",html:this.createLinkHTML(n)},(a=this.delegate)===null||a===void 0||a.inputControllerWillPaste(e),(l=this.responder)===null||l===void 0||l.insertHTML(e.html),this.render(),(c=this.delegate)===null||c===void 0?void 0:c.inputControllerDidPaste(e)):void 0;var r,o,s,a,l,c},beforeinput(i){const t=this.constructor.inputTypes[i.inputType];t&&(this.withEvent(i,t),this.scheduleRender())},input(i){ui.reset()},dragstart(i){var t,e;(t=this.responder)!==null&&t!==void 0&&t.selectionContainsAttachments()&&(i.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:(e=this.responder)===null||e===void 0?void 0:e.getSelectedRange(),point:Ko(i)})},dragenter(i){Go(i)&&i.preventDefault()},dragover(i){if(this.dragging){i.preventDefault();const e=Ko(i);var t;if(!Fn(e,this.dragging.point))return this.dragging.point=e,(t=this.responder)===null||t===void 0?void 0:t.setLocationRangeFromPointRange(e)}else Go(i)&&i.preventDefault()},drop(i){var t,e;if(this.dragging)return i.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillMoveText(),(e=this.responder)===null||e===void 0||e.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender();if(Go(i)){var n;i.preventDefault();const r=Ko(i);return(n=this.responder)===null||n===void 0||n.setLocationRangeFromPointRange(r),this.attachFiles(i.dataTransfer.files)}},dragend(){var i;this.dragging&&((i=this.responder)===null||i===void 0||i.setSelectedRange(this.dragging.range),this.dragging=null)},compositionend(i){this.composing&&(this.composing=!1,Nn.recentAndroid||this.scheduleRender())}}),Kt(Sn,"keys",{ArrowLeft(){var i,t;if((i=this.responder)!==null&&i!==void 0&&i.shouldManageMovingCursorInDirection("backward"))return this.event.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("backward")},ArrowRight(){var i,t;if((i=this.responder)!==null&&i!==void 0&&i.shouldManageMovingCursorInDirection("forward"))return this.event.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("forward")},Backspace(){var i,t,e;if((i=this.responder)!==null&&i!==void 0&&i.shouldManageDeletingInDirection("backward"))return this.event.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(e=this.responder)===null||e===void 0||e.deleteInDirection("backward"),this.render()},Tab(){var i,t;if((i=this.responder)!==null&&i!==void 0&&i.canIncreaseNestingLevel())return this.event.preventDefault(),(t=this.responder)===null||t===void 0||t.increaseNestingLevel(),this.render()},"Tab+Shift"(){var i,t;if((i=this.responder)!==null&&i!==void 0&&i.canDecreaseNestingLevel())return this.event.preventDefault(),(t=this.responder)===null||t===void 0||t.decreaseNestingLevel(),this.render()}}),Kt(Sn,"inputTypes",{deleteByComposition(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut(){return this.deleteInDirection("backward")},deleteByDrag(){return this.event.preventDefault(),this.withTargetDOMRange(function(){var i;this.deleteByDragRange=(i=this.responder)===null||i===void 0?void 0:i.getSelectedRange()})},deleteCompositionText(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent(){return this.deleteInDirection("backward")},deleteContentBackward(){return this.deleteInDirection("backward")},deleteContentForward(){return this.deleteInDirection("forward")},deleteEntireSoftLine(){return this.deleteInDirection("forward")},deleteHardLineBackward(){return this.deleteInDirection("backward")},deleteHardLineForward(){return this.deleteInDirection("forward")},deleteSoftLineBackward(){return this.deleteInDirection("backward")},deleteSoftLineForward(){return this.deleteInDirection("forward")},deleteWordBackward(){return this.deleteInDirection("backward")},deleteWordForward(){return this.deleteInDirection("forward")},formatBackColor(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold(){return this.toggleAttributeIfSupported("bold")},formatFontColor(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent(){var i;if((i=this.responder)!==null&&i!==void 0&&i.canIncreaseNestingLevel())return this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.increaseNestingLevel()})},formatItalic(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent(){var i;if((i=this.responder)!==null&&i!==void 0&&i.canDecreaseNestingLevel())return this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.decreaseNestingLevel()})},formatRemove(){this.withTargetDOMRange(function(){for(const e in(i=this.responder)===null||i===void 0?void 0:i.getCurrentAttributes()){var i,t;(t=this.responder)===null||t===void 0||t.removeCurrentAttribute(e)}})},formatSetBlockTextDirection(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough(){return this.toggleAttributeIfSupported("strike")},formatSubscript(){return this.toggleAttributeIfSupported("sub")},formatSuperscript(){return this.toggleAttributeIfSupported("sup")},formatUnderline(){return this.toggleAttributeIfSupported("underline")},historyRedo(){var i;return(i=this.delegate)===null||i===void 0?void 0:i.inputControllerWillPerformRedo()},historyUndo(){var i;return(i=this.delegate)===null||i===void 0?void 0:i.inputControllerWillPerformUndo()},insertCompositionText(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop(){const i=this.deleteByDragRange;var t;if(i)return this.deleteByDragRange=null,(t=this.delegate)===null||t===void 0||t.inputControllerWillMoveText(),this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.moveTextFromRange(i)})},insertFromPaste(){var i;const{dataTransfer:t}=this.event,e={dataTransfer:t},n=t.getData("URL"),r=t.getData("text/html");if(n){var o;let c;this.event.preventDefault(),e.type="text/html";const d=t.getData("public.url-name");c=d?ma(d).trim():n,e.html=this.createLinkHTML(n,c),(o=this.delegate)===null||o===void 0||o.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var p;return(p=this.responder)===null||p===void 0?void 0:p.insertHTML(e.html)}),this.afterRender=()=>{var p;return(p=this.delegate)===null||p===void 0?void 0:p.inputControllerDidPaste(e)}}else if(fh(t)){var s;e.type="text/plain",e.string=t.getData("text/plain"),(s=this.delegate)===null||s===void 0||s.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var c;return(c=this.responder)===null||c===void 0?void 0:c.insertString(e.string)}),this.afterRender=()=>{var c;return(c=this.delegate)===null||c===void 0?void 0:c.inputControllerDidPaste(e)}}else if(r){var a;this.event.preventDefault(),e.type="text/html",e.html=r,(a=this.delegate)===null||a===void 0||a.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var c;return(c=this.responder)===null||c===void 0?void 0:c.insertHTML(e.html)}),this.afterRender=()=>{var c;return(c=this.delegate)===null||c===void 0?void 0:c.inputControllerDidPaste(e)}}else if((i=t.files)!==null&&i!==void 0&&i.length){var l;e.type="File",e.file=t.files[0],(l=this.delegate)===null||l===void 0||l.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var c;return(c=this.responder)===null||c===void 0?void 0:c.insertFile(e.file)}),this.afterRender=()=>{var c;return(c=this.delegate)===null||c===void 0?void 0:c.inputControllerDidPaste(e)}}},insertFromYank(){return this.insertString(this.event.data)},insertLineBreak(){return this.insertString(`
`)},insertLink(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList(){return this.toggleAttributeIfSupported("number")},insertParagraph(){var i;return(i=this.delegate)===null||i===void 0||i.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.insertLineBreak()})},insertReplacementText(){return this.insertString(this.event.dataTransfer.getData("text/plain"),{updatePosition:!1})},insertText(){var i;return this.insertString(this.event.data||((i=this.event.dataTransfer)===null||i===void 0?void 0:i.getData("text/plain")))},insertTranspose(){return this.insertString(this.event.data)},insertUnorderedList(){return this.toggleAttributeIfSupported("bullet")}});const n0=function(i){const t=document.createRange();return t.setStart(i.startContainer,i.startOffset),t.setEnd(i.endContainer,i.endOffset),t},Go=i=>{var t;return Array.from(((t=i.dataTransfer)===null||t===void 0?void 0:t.types)||[]).includes("Files")},r0=function(i){const t=i.clipboardData;if(t)return t.types.includes("Files")&&t.types.length===1&&t.files.length>=1},o0=function(i){const t=i.clipboardData;if(t)return t.types.includes("text/plain")&&t.types.length===1},s0=function(i){const t=[];return i.altKey&&t.push("alt"),i.shiftKey&&t.push("shift"),t.push(i.key),t},Ko=i=>({x:i.clientX,y:i.clientY}),a0="".concat("[data-trix-attribute]",", ").concat("[data-trix-action]"),l0="".concat("[data-trix-dialog]","[data-trix-active]"),c0="".concat("[data-trix-dialog]"," [data-trix-method]"),Ql="".concat("[data-trix-dialog]"," [data-trix-input]"),Zl=(i,t)=>(t||(t=Ri(i)),i.querySelector("[data-trix-input][name='".concat(t,"']"))),tc=i=>i.getAttribute("data-trix-action"),Ri=i=>i.getAttribute("data-trix-attribute")||i.getAttribute("data-trix-dialog-attribute");class Wh extends St{constructor(t){super(t),this.didClickActionButton=this.didClickActionButton.bind(this),this.didClickAttributeButton=this.didClickAttributeButton.bind(this),this.didClickDialogButton=this.didClickDialogButton.bind(this),this.didKeyDownDialogInput=this.didKeyDownDialogInput.bind(this),this.element=t,this.attributes={},this.actions={},this.resetDialogInputs(),ft("mousedown",{onElement:this.element,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),ft("mousedown",{onElement:this.element,matchingSelector:"[data-trix-attribute]",withCallback:this.didClickAttributeButton}),ft("click",{onElement:this.element,matchingSelector:a0,preventDefault:!0}),ft("click",{onElement:this.element,matchingSelector:c0,withCallback:this.didClickDialogButton}),ft("keydown",{onElement:this.element,matchingSelector:Ql,withCallback:this.didKeyDownDialogInput})}didClickActionButton(t,e){var n;(n=this.delegate)===null||n===void 0||n.toolbarDidClickButton(),t.preventDefault();const r=tc(e);return this.getDialog(r)?this.toggleDialog(r):(o=this.delegate)===null||o===void 0?void 0:o.toolbarDidInvokeAction(r);var o}didClickAttributeButton(t,e){var n;(n=this.delegate)===null||n===void 0||n.toolbarDidClickButton(),t.preventDefault();const r=Ri(e);var o;return this.getDialog(r)?this.toggleDialog(r):(o=this.delegate)===null||o===void 0||o.toolbarDidToggleAttribute(r),this.refreshAttributeButtons()}didClickDialogButton(t,e){const n=qe(e,{matchingSelector:"[data-trix-dialog]"});return this[e.getAttribute("data-trix-method")].call(this,n)}didKeyDownDialogInput(t,e){if(t.keyCode===13){t.preventDefault();const n=e.getAttribute("name"),r=this.getDialog(n);this.setAttribute(r)}if(t.keyCode===27)return t.preventDefault(),this.hideDialog()}updateActions(t){return this.actions=t,this.refreshActionButtons()}refreshActionButtons(){return this.eachActionButton((t,e)=>{t.disabled=this.actions[e]===!1})}eachActionButton(t){return Array.from(this.element.querySelectorAll("[data-trix-action]")).map(e=>t(e,tc(e)))}updateAttributes(t){return this.attributes=t,this.refreshAttributeButtons()}refreshAttributeButtons(){return this.eachAttributeButton((t,e)=>(t.disabled=this.attributes[e]===!1,this.attributes[e]||this.dialogIsVisible(e)?(t.setAttribute("data-trix-active",""),t.classList.add("trix-active")):(t.removeAttribute("data-trix-active"),t.classList.remove("trix-active"))))}eachAttributeButton(t){return Array.from(this.element.querySelectorAll("[data-trix-attribute]")).map(e=>t(e,Ri(e)))}applyKeyboardCommand(t){const e=JSON.stringify(t.sort());for(const n of Array.from(this.element.querySelectorAll("[data-trix-key]"))){const r=n.getAttribute("data-trix-key").split("+");if(JSON.stringify(r.sort())===e)return wn("mousedown",{onElement:n}),!0}return!1}dialogIsVisible(t){const e=this.getDialog(t);if(e)return e.hasAttribute("data-trix-active")}toggleDialog(t){return this.dialogIsVisible(t)?this.hideDialog():this.showDialog(t)}showDialog(t){var e,n;this.hideDialog(),(e=this.delegate)===null||e===void 0||e.toolbarWillShowDialog();const r=this.getDialog(t);r.setAttribute("data-trix-active",""),r.classList.add("trix-active"),Array.from(r.querySelectorAll("input[disabled]")).forEach(s=>{s.removeAttribute("disabled")});const o=Ri(r);if(o){const s=Zl(r,t);s&&(s.value=this.attributes[o]||"",s.select())}return(n=this.delegate)===null||n===void 0?void 0:n.toolbarDidShowDialog(t)}setAttribute(t){const e=Ri(t),n=Zl(t,e);return n.willValidate&&!n.checkValidity()?(n.setAttribute("data-trix-validate",""),n.classList.add("trix-validate"),n.focus()):((r=this.delegate)===null||r===void 0||r.toolbarDidUpdateAttribute(e,n.value),this.hideDialog());var r}removeAttribute(t){var e;const n=Ri(t);return(e=this.delegate)===null||e===void 0||e.toolbarDidRemoveAttribute(n),this.hideDialog()}hideDialog(){const t=this.element.querySelector(l0);var e;if(t)return t.removeAttribute("data-trix-active"),t.classList.remove("trix-active"),this.resetDialogInputs(),(e=this.delegate)===null||e===void 0?void 0:e.toolbarDidHideDialog((n=>n.getAttribute("data-trix-dialog"))(t))}resetDialogInputs(){Array.from(this.element.querySelectorAll(Ql)).forEach(t=>{t.setAttribute("disabled","disabled"),t.removeAttribute("data-trix-validate"),t.classList.remove("trix-validate")})}getDialog(t){return this.element.querySelector("[data-trix-dialog=".concat(t,"]"))}}class En extends Ih{constructor(t){let{editorElement:e,document:n,html:r}=t;super(...arguments),this.editorElement=e,this.selectionManager=new ei(this.editorElement),this.selectionManager.delegate=this,this.composition=new Ne,this.composition.delegate=this,this.attachmentManager=new Eh(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=da.getLevel()===2?new Sn(this.editorElement):new be(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new Ph(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new Wh(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new Rh(this.composition,this.selectionManager,this.editorElement),n?this.editor.loadDocument(n):this.editor.loadHTML(r)}registerSelectionManager(){return ui.registerSelectionManager(this.selectionManager)}unregisterSelectionManager(){return ui.unregisterSelectionManager(this.selectionManager)}render(){return this.compositionController.render()}reparse(){return this.composition.replaceHTML(this.editorElement.innerHTML)}compositionDidChangeDocument(t){if(this.notifyEditorElement("document-change"),!this.handlingInput)return this.render()}compositionDidChangeCurrentAttributes(t){return this.currentAttributes=t,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})}compositionDidPerformInsertionAtRange(t){this.pasting&&(this.pastedRange=t)}compositionShouldAcceptFile(t){return this.notifyEditorElement("file-accept",{file:t})}compositionDidAddAttachment(t){const e=this.attachmentManager.manageAttachment(t);return this.notifyEditorElement("attachment-add",{attachment:e})}compositionDidEditAttachment(t){this.compositionController.rerenderViewForObject(t);const e=this.attachmentManager.manageAttachment(t);return this.notifyEditorElement("attachment-edit",{attachment:e}),this.notifyEditorElement("change")}compositionDidChangeAttachmentPreviewURL(t){return this.compositionController.invalidateViewForObject(t),this.notifyEditorElement("change")}compositionDidRemoveAttachment(t){const e=this.attachmentManager.unmanageAttachment(t);return this.notifyEditorElement("attachment-remove",{attachment:e})}compositionDidStartEditingAttachment(t,e){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(t),this.compositionController.installAttachmentEditorForAttachment(t,e),this.selectionManager.setLocationRange(this.attachmentLocationRange)}compositionDidStopEditingAttachment(t){this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null}compositionDidRequestChangingSelectionToLocationRange(t){if(!this.loadingSnapshot||this.isFocused())return this.requestedLocationRange=t,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()}compositionWillLoadSnapshot(){this.loadingSnapshot=!0}compositionDidLoadSnapshot(){this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1}getSelectionManager(){return this.selectionManager}attachmentManagerDidRequestRemovalOfAttachment(t){return this.removeAttachment(t)}compositionControllerWillSyncDocumentView(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()}compositionControllerDidSyncDocumentView(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")}compositionControllerDidRender(){this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision}compositionControllerDidFocus(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")}compositionControllerDidBlur(){return this.notifyEditorElement("blur")}compositionControllerDidSelectAttachment(t,e){return this.toolbarController.hideDialog(),this.composition.editAttachment(t,e)}compositionControllerDidRequestDeselectingAttachment(t){const e=this.attachmentLocationRange||this.composition.document.getLocationRangeOfAttachment(t);return this.selectionManager.setLocationRange(e[1])}compositionControllerWillUpdateAttachment(t){return this.editor.recordUndoEntry("Edit Attachment",{context:t.id,consolidatable:!0})}compositionControllerDidRequestRemovalOfAttachment(t){return this.removeAttachment(t)}inputControllerWillHandleInput(){this.handlingInput=!0,this.requestedRender=!1}inputControllerDidRequestRender(){this.requestedRender=!0}inputControllerDidHandleInput(){if(this.handlingInput=!1,this.requestedRender)return this.requestedRender=!1,this.render()}inputControllerDidAllowUnhandledInput(){return this.notifyEditorElement("change")}inputControllerDidRequestReparse(){return this.reparse()}inputControllerWillPerformTyping(){return this.recordTypingUndoEntry()}inputControllerWillPerformFormatting(t){return this.recordFormattingUndoEntry(t)}inputControllerWillCutText(){return this.editor.recordUndoEntry("Cut")}inputControllerWillPaste(t){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:t})}inputControllerDidPaste(t){return t.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:t})}inputControllerWillMoveText(){return this.editor.recordUndoEntry("Move")}inputControllerWillAttachFiles(){return this.editor.recordUndoEntry("Drop Files")}inputControllerWillPerformUndo(){return this.editor.undo()}inputControllerWillPerformRedo(){return this.editor.redo()}inputControllerDidReceiveKeyboardCommand(t){return this.toolbarController.applyKeyboardCommand(t)}inputControllerDidStartDrag(){this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()}inputControllerDidReceiveDragOverPoint(t){return this.selectionManager.setLocationRangeFromPointRange(t)}inputControllerDidCancelDrag(){this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null}locationRangeDidChange(t){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!Sr(this.attachmentLocationRange,t)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")}toolbarDidClickButton(){if(!this.getLocationRange())return this.setLocationRange({index:0,offset:0})}toolbarDidInvokeAction(t){return this.invokeAction(t)}toolbarDidToggleAttribute(t){if(this.recordFormattingUndoEntry(t),this.composition.toggleCurrentAttribute(t),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidUpdateAttribute(t,e){if(this.recordFormattingUndoEntry(t),this.composition.setCurrentAttribute(t,e),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidRemoveAttribute(t){if(this.recordFormattingUndoEntry(t),this.composition.removeCurrentAttribute(t),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarWillShowDialog(t){return this.composition.expandSelectionForEditing(),this.freezeSelection()}toolbarDidShowDialog(t){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:t})}toolbarDidHideDialog(t){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:t})}freezeSelection(){if(!this.selectionFrozen)return this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render()}thawSelection(){if(this.selectionFrozen)return this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()}canInvokeAction(t){return!!this.actionIsExternal(t)||!((e=this.actions[t])===null||e===void 0||(n=e.test)===null||n===void 0||!n.call(this));var e,n}invokeAction(t){return this.actionIsExternal(t)?this.notifyEditorElement("action-invoke",{actionName:t}):(e=this.actions[t])===null||e===void 0||(n=e.perform)===null||n===void 0?void 0:n.call(this);var e,n}actionIsExternal(t){return/^x-./.test(t)}getCurrentActions(){const t={};for(const e in this.actions)t[e]=this.canInvokeAction(e);return t}updateCurrentActions(){const t=this.getCurrentActions();if(!Fn(t,this.currentActions))return this.currentActions=t,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions})}runEditorFilters(){let t=this.composition.getSnapshot();if(Array.from(this.editor.filters).forEach(r=>{const{document:o,selectedRange:s}=t;t=r.call(this.editor,t)||{},t.document||(t.document=o),t.selectedRange||(t.selectedRange=s)}),e=t,n=this.composition.getSnapshot(),!Sr(e.selectedRange,n.selectedRange)||!e.document.isEqualTo(n.document))return this.composition.loadSnapshot(t);var e,n}updateInputElement(){const t=function(e,n){const r=Fb[n];if(r)return r(e);throw new Error("unknown content type: ".concat(n))}(this.compositionController.getSerializableElement(),"text/html");return this.editorElement.setInputElementValue(t)}notifyEditorElement(t,e){switch(t){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(t,e)}removeAttachment(t){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(t),this.render()}recordFormattingUndoEntry(t){const e=xt(t),n=this.selectionManager.getLocationRange();if(e||!we(n))return this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})}recordTypingUndoEntry(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})}getUndoContext(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return[this.getLocationContext(),this.getTimeContext(),...Array.from(e)]}getLocationContext(){const t=this.selectionManager.getLocationRange();return we(t)?t[0].index:t}getTimeContext(){return xs.interval>0?Math.floor(new Date().getTime()/xs.interval):0}isFocused(){var t;return this.editorElement===((t=this.editorElement.ownerDocument)===null||t===void 0?void 0:t.activeElement)}isFocusedInvisibly(){return this.isFocused()&&!this.getLocationRange()}get actions(){return this.constructor.actions}}Kt(En,"actions",{undo:{test(){return this.editor.canUndo()},perform(){return this.editor.undo()}},redo:{test(){return this.editor.canRedo()},perform(){return this.editor.redo()}},link:{test(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test(){return this.editor.canIncreaseNestingLevel()},perform(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test(){return this.editor.canDecreaseNestingLevel()},perform(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:()=>!0,perform(){return da.pickFiles(this.editor.insertFiles)}}}),En.proxyMethod("getSelectionManager().setLocationRange"),En.proxyMethod("getSelectionManager().getLocationRange");var u0=Object.freeze({__proto__:null,AttachmentEditorController:_h,CompositionController:Ph,Controller:Ih,EditorController:En,InputController:Xr,Level0InputController:be,Level2InputController:Sn,ToolbarController:Wh}),h0=Object.freeze({__proto__:null,MutationObserver:Nh,SelectionChangeObserver:mh}),d0=Object.freeze({__proto__:null,FileVerificationOperation:Bh,ImagePreloadOperation:wh});dh("trix-toolbar",`%t {
  display: block;
}

%t {
  white-space: nowrap;
}

%t [data-trix-dialog] {
  display: none;
}

%t [data-trix-dialog][data-trix-active] {
  display: block;
}

%t [data-trix-dialog] [data-trix-validate]:invalid {
  background-color: #ffdddd;
}`);class jh extends HTMLElement{connectedCallback(){this.innerHTML===""&&(this.innerHTML=hh.getDefaultHTML())}}let f0=0;const p0=function(i){if(!i.hasAttribute("contenteditable"))return i.setAttribute("contenteditable",""),function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.times=1,ft(t,e)}("focus",{onElement:i,withCallback:()=>g0(i)})},g0=function(i){return m0(i),v0()},m0=function(i){var t,e;if((t=(e=document).queryCommandSupported)!==null&&t!==void 0&&t.call(e,"enableObjectResizing"))return document.execCommand("enableObjectResizing",!1,!1),ft("mscontrolselect",{onElement:i,preventDefault:!0})},v0=function(i){var t,e;if((t=(e=document).queryCommandSupported)!==null&&t!==void 0&&t.call(e,"DefaultParagraphSeparator")){const{tagName:n}=zt.default;if(["div","p"].includes(n))return document.execCommand("DefaultParagraphSeparator",!1,n)}},ec=Nn.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"};dh("trix-editor",`%t {
    display: block;
}

%t:empty:not(:focus)::before {
    content: attr(placeholder);
    color: graytext;
    cursor: text;
    pointer-events: none;
    white-space: pre-line;
}

%t a[contenteditable=false] {
    cursor: text;
}

%t img {
    max-width: 100%;
    height: auto;
}

%t `.concat("[data-trix-attachment]",` figcaption textarea {
    resize: none;
}

%t `).concat("[data-trix-attachment]",` figcaption textarea.trix-autoresize-clone {
    position: absolute;
    left: -9999px;
    max-height: 0px;
}

%t `).concat("[data-trix-attachment]",` figcaption[data-trix-placeholder]:empty::before {
    content: attr(data-trix-placeholder);
    color: graytext;
}

%t [data-trix-cursor-target] {
    display: `).concat(ec.display,` !important;
    width: `).concat(ec.width,` !important;
    padding: 0 !important;
    margin: 0 !important;
    border: none !important;
}

%t [data-trix-cursor-target=left] {
    vertical-align: top !important;
    margin-left: -1px !important;
}

%t [data-trix-cursor-target=right] {
    vertical-align: bottom !important;
    margin-right: -1px !important;
}`));class Hh extends HTMLElement{get trixId(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++f0),this.trixId)}get labels(){const t=[];this.id&&this.ownerDocument&&t.push(...Array.from(this.ownerDocument.querySelectorAll("label[for='".concat(this.id,"']"))||[]));const e=qe(this,{matchingSelector:"label"});return e&&[this,null].includes(e.control)&&t.push(e),t}get toolbarElement(){var t;if(this.hasAttribute("toolbar"))return(t=this.ownerDocument)===null||t===void 0?void 0:t.getElementById(this.getAttribute("toolbar"));if(this.parentNode){const e="trix-toolbar-".concat(this.trixId);this.setAttribute("toolbar",e);const n=Q("trix-toolbar",{id:e});return this.parentNode.insertBefore(n,this),n}}get form(){var t;return(t=this.inputElement)===null||t===void 0?void 0:t.form}get inputElement(){var t;if(this.hasAttribute("input"))return(t=this.ownerDocument)===null||t===void 0?void 0:t.getElementById(this.getAttribute("input"));if(this.parentNode){const e="trix-input-".concat(this.trixId);this.setAttribute("input",e);const n=Q("input",{type:"hidden",id:e});return this.parentNode.insertBefore(n,this.nextElementSibling),n}}get editor(){var t;return(t=this.editorController)===null||t===void 0?void 0:t.editor}get name(){var t;return(t=this.inputElement)===null||t===void 0?void 0:t.name}get value(){var t;return(t=this.inputElement)===null||t===void 0?void 0:t.value}set value(t){var e;this.defaultValue=t,(e=this.editor)===null||e===void 0||e.loadHTML(this.defaultValue)}notify(t,e){if(this.editorController)return wn("trix-".concat(t),{onElement:this,attributes:e})}setInputElementValue(t){this.inputElement&&(this.inputElement.value=t)}connectedCallback(){this.hasAttribute("data-trix-internal")||(p0(this),function(t){t.hasAttribute("role")||t.setAttribute("role","textbox")}(this),function(t){if(t.hasAttribute("aria-label")||t.hasAttribute("aria-labelledby"))return;const e=function(){const n=Array.from(t.labels).map(o=>{if(!o.contains(t))return o.textContent}).filter(o=>o),r=n.join(" ");return r?t.setAttribute("aria-label",r):t.removeAttribute("aria-label")};e(),ft("focus",{onElement:t,withCallback:e})}(this),this.editorController||(wn("trix-before-initialize",{onElement:this}),this.editorController=new En({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame(()=>wn("trix-initialize",{onElement:this}))),this.editorController.registerSelectionManager(),this.registerResetListener(),this.registerClickListener(),function(t){!document.querySelector(":focus")&&t.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===t&&t.focus()}(this))}disconnectedCallback(){var t;return(t=this.editorController)===null||t===void 0||t.unregisterSelectionManager(),this.unregisterResetListener(),this.unregisterClickListener()}registerResetListener(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener("reset",this.resetListener,!1)}unregisterResetListener(){return window.removeEventListener("reset",this.resetListener,!1)}registerClickListener(){return this.clickListener=this.clickBubbled.bind(this),window.addEventListener("click",this.clickListener,!1)}unregisterClickListener(){return window.removeEventListener("click",this.clickListener,!1)}resetBubbled(t){if(!t.defaultPrevented&&t.target===this.form)return this.reset()}clickBubbled(t){if(t.defaultPrevented||this.contains(t.target))return;const e=qe(t.target,{matchingSelector:"label"});return e&&Array.from(this.labels).includes(e)?this.focus():void 0}reset(){this.value=this.defaultValue}}const ic={VERSION:"2.0.5",config:Bn,core:Wb,models:Oh,views:Xb,controllers:u0,observers:h0,operations:d0,elements:Object.freeze({__proto__:null,TrixEditorElement:Hh,TrixToolbarElement:jh}),filters:Object.freeze({__proto__:null,Filter:Th,attachmentGalleryFilter:Dh})};Object.assign(ic,Oh),window.Trix=ic,setTimeout(function(){customElements.get("trix-toolbar")||customElements.define("trix-toolbar",jh),customElements.get("trix-editor")||customElements.define("trix-editor",Hh)},0);/*!
 * perfect-scrollbar v1.5.3
 * Copyright 2021 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */function ge(i){return getComputedStyle(i)}function Ht(i,t){for(var e in t){var n=t[e];typeof n=="number"&&(n=n+"px"),i.style[e]=n}return i}function Jn(i){var t=document.createElement("div");return t.className=i,t}var nc=typeof Element<"u"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function He(i,t){if(!nc)throw new Error("No element matching method supported");return nc.call(i,t)}function ki(i){i.remove?i.remove():i.parentNode&&i.parentNode.removeChild(i)}function rc(i,t){return Array.prototype.filter.call(i.children,function(e){return He(e,t)})}var wt={main:"ps",rtl:"ps__rtl",element:{thumb:function(i){return"ps__thumb-"+i},rail:function(i){return"ps__rail-"+i},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(i){return"ps--active-"+i},scrolling:function(i){return"ps--scrolling-"+i}}},zh={x:null,y:null};function Yh(i,t){var e=i.element.classList,n=wt.state.scrolling(t);e.contains(n)?clearTimeout(zh[t]):e.add(n)}function Xh(i,t){zh[t]=setTimeout(function(){return i.isAlive&&i.element.classList.remove(wt.state.scrolling(t))},i.settings.scrollingThreshold)}function b0(i,t){Yh(i,t),Xh(i,t)}var Wn=function(t){this.element=t,this.handlers={}},Uh={isEmpty:{configurable:!0}};Wn.prototype.bind=function(t,e){typeof this.handlers[t]>"u"&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)};Wn.prototype.unbind=function(t,e){var n=this;this.handlers[t]=this.handlers[t].filter(function(r){return e&&r!==e?!0:(n.element.removeEventListener(t,r,!1),!1)})};Wn.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)};Uh.isEmpty.get=function(){var i=this;return Object.keys(this.handlers).every(function(t){return i.handlers[t].length===0})};Object.defineProperties(Wn.prototype,Uh);var Ki=function(){this.eventElements=[]};Ki.prototype.eventElement=function(t){var e=this.eventElements.filter(function(n){return n.element===t})[0];return e||(e=new Wn(t),this.eventElements.push(e)),e};Ki.prototype.bind=function(t,e,n){this.eventElement(t).bind(e,n)};Ki.prototype.unbind=function(t,e,n){var r=this.eventElement(t);r.unbind(e,n),r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)};Ki.prototype.unbindAll=function(){this.eventElements.forEach(function(t){return t.unbindAll()}),this.eventElements=[]};Ki.prototype.once=function(t,e,n){var r=this.eventElement(t),o=function(s){r.unbind(e,o),n(s)};r.bind(e,o)};function Qn(i){if(typeof window.CustomEvent=="function")return new CustomEvent(i);var t=document.createEvent("CustomEvent");return t.initCustomEvent(i,!1,!1,void 0),t}function Tr(i,t,e,n,r){n===void 0&&(n=!0),r===void 0&&(r=!1);var o;if(t==="top")o=["contentHeight","containerHeight","scrollTop","y","up","down"];else if(t==="left")o=["contentWidth","containerWidth","scrollLeft","x","left","right"];else throw new Error("A proper axis should be provided");y0(i,e,o,n,r)}function y0(i,t,e,n,r){var o=e[0],s=e[1],a=e[2],l=e[3],c=e[4],d=e[5];n===void 0&&(n=!0),r===void 0&&(r=!1);var p=i.element;i.reach[l]=null,p[a]<1&&(i.reach[l]="start"),p[a]>i[o]-i[s]-1&&(i.reach[l]="end"),t&&(p.dispatchEvent(Qn("ps-scroll-"+l)),t<0?p.dispatchEvent(Qn("ps-scroll-"+c)):t>0&&p.dispatchEvent(Qn("ps-scroll-"+d)),n&&b0(i,l)),i.reach[l]&&(t||r)&&p.dispatchEvent(Qn("ps-"+l+"-reach-"+i.reach[l]))}function dt(i){return parseInt(i,10)||0}function w0(i){return He(i,"input,[contenteditable]")||He(i,"select,[contenteditable]")||He(i,"textarea,[contenteditable]")||He(i,"button,[contenteditable]")}function x0(i){var t=ge(i);return dt(t.width)+dt(t.paddingLeft)+dt(t.paddingRight)+dt(t.borderLeftWidth)+dt(t.borderRightWidth)}var Mi={isWebKit:typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,supportsTouch:typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:typeof navigator<"u"&&navigator.msMaxTouchPoints,isChrome:typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent)};function Ee(i){var t=i.element,e=Math.floor(t.scrollTop),n=t.getBoundingClientRect();i.containerWidth=Math.round(n.width),i.containerHeight=Math.round(n.height),i.contentWidth=t.scrollWidth,i.contentHeight=t.scrollHeight,t.contains(i.scrollbarXRail)||(rc(t,wt.element.rail("x")).forEach(function(r){return ki(r)}),t.appendChild(i.scrollbarXRail)),t.contains(i.scrollbarYRail)||(rc(t,wt.element.rail("y")).forEach(function(r){return ki(r)}),t.appendChild(i.scrollbarYRail)),!i.settings.suppressScrollX&&i.containerWidth+i.settings.scrollXMarginOffset<i.contentWidth?(i.scrollbarXActive=!0,i.railXWidth=i.containerWidth-i.railXMarginWidth,i.railXRatio=i.containerWidth/i.railXWidth,i.scrollbarXWidth=oc(i,dt(i.railXWidth*i.containerWidth/i.contentWidth)),i.scrollbarXLeft=dt((i.negativeScrollAdjustment+t.scrollLeft)*(i.railXWidth-i.scrollbarXWidth)/(i.contentWidth-i.containerWidth))):i.scrollbarXActive=!1,!i.settings.suppressScrollY&&i.containerHeight+i.settings.scrollYMarginOffset<i.contentHeight?(i.scrollbarYActive=!0,i.railYHeight=i.containerHeight-i.railYMarginHeight,i.railYRatio=i.containerHeight/i.railYHeight,i.scrollbarYHeight=oc(i,dt(i.railYHeight*i.containerHeight/i.contentHeight)),i.scrollbarYTop=dt(e*(i.railYHeight-i.scrollbarYHeight)/(i.contentHeight-i.containerHeight))):i.scrollbarYActive=!1,i.scrollbarXLeft>=i.railXWidth-i.scrollbarXWidth&&(i.scrollbarXLeft=i.railXWidth-i.scrollbarXWidth),i.scrollbarYTop>=i.railYHeight-i.scrollbarYHeight&&(i.scrollbarYTop=i.railYHeight-i.scrollbarYHeight),A0(t,i),i.scrollbarXActive?t.classList.add(wt.state.active("x")):(t.classList.remove(wt.state.active("x")),i.scrollbarXWidth=0,i.scrollbarXLeft=0,t.scrollLeft=i.isRtl===!0?i.contentWidth:0),i.scrollbarYActive?t.classList.add(wt.state.active("y")):(t.classList.remove(wt.state.active("y")),i.scrollbarYHeight=0,i.scrollbarYTop=0,t.scrollTop=0)}function oc(i,t){return i.settings.minScrollbarLength&&(t=Math.max(t,i.settings.minScrollbarLength)),i.settings.maxScrollbarLength&&(t=Math.min(t,i.settings.maxScrollbarLength)),t}function A0(i,t){var e={width:t.railXWidth},n=Math.floor(i.scrollTop);t.isRtl?e.left=t.negativeScrollAdjustment+i.scrollLeft+t.containerWidth-t.contentWidth:e.left=i.scrollLeft,t.isScrollbarXUsingBottom?e.bottom=t.scrollbarXBottom-n:e.top=t.scrollbarXTop+n,Ht(t.scrollbarXRail,e);var r={top:n,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?r.right=t.contentWidth-(t.negativeScrollAdjustment+i.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth-9:r.right=t.scrollbarYRight-i.scrollLeft:t.isRtl?r.left=t.negativeScrollAdjustment+i.scrollLeft+t.containerWidth*2-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:r.left=t.scrollbarYLeft+i.scrollLeft,Ht(t.scrollbarYRail,r),Ht(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),Ht(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}function S0(i){i.element,i.event.bind(i.scrollbarY,"mousedown",function(t){return t.stopPropagation()}),i.event.bind(i.scrollbarYRail,"mousedown",function(t){var e=t.pageY-window.pageYOffset-i.scrollbarYRail.getBoundingClientRect().top,n=e>i.scrollbarYTop?1:-1;i.element.scrollTop+=n*i.containerHeight,Ee(i),t.stopPropagation()}),i.event.bind(i.scrollbarX,"mousedown",function(t){return t.stopPropagation()}),i.event.bind(i.scrollbarXRail,"mousedown",function(t){var e=t.pageX-window.pageXOffset-i.scrollbarXRail.getBoundingClientRect().left,n=e>i.scrollbarXLeft?1:-1;i.element.scrollLeft+=n*i.containerWidth,Ee(i),t.stopPropagation()})}function E0(i){sc(i,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),sc(i,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])}function sc(i,t){var e=t[0],n=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],d=t[8],p=i.element,g=null,y=null,x=null;function S(R){R.touches&&R.touches[0]&&(R[r]=R.touches[0].pageY),p[l]=g+x*(R[r]-y),Yh(i,c),Ee(i),R.stopPropagation(),R.type.startsWith("touch")&&R.changedTouches.length>1&&R.preventDefault()}function C(){Xh(i,c),i[d].classList.remove(wt.state.clicking),i.event.unbind(i.ownerDocument,"mousemove",S)}function E(R,L){g=p[l],L&&R.touches&&(R[r]=R.touches[0].pageY),y=R[r],x=(i[n]-i[e])/(i[o]-i[a]),L?i.event.bind(i.ownerDocument,"touchmove",S):(i.event.bind(i.ownerDocument,"mousemove",S),i.event.once(i.ownerDocument,"mouseup",C),R.preventDefault()),i[d].classList.add(wt.state.clicking),R.stopPropagation()}i.event.bind(i[s],"mousedown",function(R){E(R)}),i.event.bind(i[s],"touchstart",function(R){E(R,!0)})}function C0(i){var t=i.element,e=function(){return He(t,":hover")},n=function(){return He(i.scrollbarX,":focus")||He(i.scrollbarY,":focus")};function r(o,s){var a=Math.floor(t.scrollTop);if(o===0){if(!i.scrollbarYActive)return!1;if(a===0&&s>0||a>=i.contentHeight-i.containerHeight&&s<0)return!i.settings.wheelPropagation}var l=t.scrollLeft;if(s===0){if(!i.scrollbarXActive)return!1;if(l===0&&o<0||l>=i.contentWidth-i.containerWidth&&o>0)return!i.settings.wheelPropagation}return!0}i.event.bind(i.ownerDocument,"keydown",function(o){if(!(o.isDefaultPrevented&&o.isDefaultPrevented()||o.defaultPrevented)&&!(!e()&&!n())){var s=document.activeElement?document.activeElement:i.ownerDocument.activeElement;if(s){if(s.tagName==="IFRAME")s=s.contentDocument.activeElement;else for(;s.shadowRoot;)s=s.shadowRoot.activeElement;if(w0(s))return}var a=0,l=0;switch(o.which){case 37:o.metaKey?a=-i.contentWidth:o.altKey?a=-i.containerWidth:a=-30;break;case 38:o.metaKey?l=i.contentHeight:o.altKey?l=i.containerHeight:l=30;break;case 39:o.metaKey?a=i.contentWidth:o.altKey?a=i.containerWidth:a=30;break;case 40:o.metaKey?l=-i.contentHeight:o.altKey?l=-i.containerHeight:l=-30;break;case 32:o.shiftKey?l=i.containerHeight:l=-i.containerHeight;break;case 33:l=i.containerHeight;break;case 34:l=-i.containerHeight;break;case 36:l=i.contentHeight;break;case 35:l=-i.contentHeight;break;default:return}i.settings.suppressScrollX&&a!==0||i.settings.suppressScrollY&&l!==0||(t.scrollTop-=l,t.scrollLeft+=a,Ee(i),r(a,l)&&o.preventDefault())}})}function T0(i){var t=i.element;function e(s,a){var l=Math.floor(t.scrollTop),c=t.scrollTop===0,d=l+t.offsetHeight===t.scrollHeight,p=t.scrollLeft===0,g=t.scrollLeft+t.offsetWidth===t.scrollWidth,y;return Math.abs(a)>Math.abs(s)?y=c||d:y=p||g,y?!i.settings.wheelPropagation:!0}function n(s){var a=s.deltaX,l=-1*s.deltaY;return(typeof a>"u"||typeof l>"u")&&(a=-1*s.wheelDeltaX/6,l=s.wheelDeltaY/6),s.deltaMode&&s.deltaMode===1&&(a*=10,l*=10),a!==a&&l!==l&&(a=0,l=s.wheelDelta),s.shiftKey?[-l,-a]:[a,l]}function r(s,a,l){if(!Mi.isWebKit&&t.querySelector("select:focus"))return!0;if(!t.contains(s))return!1;for(var c=s;c&&c!==t;){if(c.classList.contains(wt.element.consuming))return!0;var d=ge(c);if(l&&d.overflowY.match(/(scroll|auto)/)){var p=c.scrollHeight-c.clientHeight;if(p>0&&(c.scrollTop>0&&l<0||c.scrollTop<p&&l>0))return!0}if(a&&d.overflowX.match(/(scroll|auto)/)){var g=c.scrollWidth-c.clientWidth;if(g>0&&(c.scrollLeft>0&&a<0||c.scrollLeft<g&&a>0))return!0}c=c.parentNode}return!1}function o(s){var a=n(s),l=a[0],c=a[1];if(!r(s.target,l,c)){var d=!1;i.settings.useBothWheelAxes?i.scrollbarYActive&&!i.scrollbarXActive?(c?t.scrollTop-=c*i.settings.wheelSpeed:t.scrollTop+=l*i.settings.wheelSpeed,d=!0):i.scrollbarXActive&&!i.scrollbarYActive&&(l?t.scrollLeft+=l*i.settings.wheelSpeed:t.scrollLeft-=c*i.settings.wheelSpeed,d=!0):(t.scrollTop-=c*i.settings.wheelSpeed,t.scrollLeft+=l*i.settings.wheelSpeed),Ee(i),d=d||e(l,c),d&&!s.ctrlKey&&(s.stopPropagation(),s.preventDefault())}}typeof window.onwheel<"u"?i.event.bind(t,"wheel",o):typeof window.onmousewheel<"u"&&i.event.bind(t,"mousewheel",o)}function D0(i){if(!Mi.supportsTouch&&!Mi.supportsIePointer)return;var t=i.element;function e(x,S){var C=Math.floor(t.scrollTop),E=t.scrollLeft,R=Math.abs(x),L=Math.abs(S);if(L>R){if(S<0&&C===i.contentHeight-i.containerHeight||S>0&&C===0)return window.scrollY===0&&S>0&&Mi.isChrome}else if(R>L&&(x<0&&E===i.contentWidth-i.containerWidth||x>0&&E===0))return!0;return!0}function n(x,S){t.scrollTop-=S,t.scrollLeft-=x,Ee(i)}var r={},o=0,s={},a=null;function l(x){return x.targetTouches?x.targetTouches[0]:x}function c(x){return x.pointerType&&x.pointerType==="pen"&&x.buttons===0?!1:!!(x.targetTouches&&x.targetTouches.length===1||x.pointerType&&x.pointerType!=="mouse"&&x.pointerType!==x.MSPOINTER_TYPE_MOUSE)}function d(x){if(!!c(x)){var S=l(x);r.pageX=S.pageX,r.pageY=S.pageY,o=new Date().getTime(),a!==null&&clearInterval(a)}}function p(x,S,C){if(!t.contains(x))return!1;for(var E=x;E&&E!==t;){if(E.classList.contains(wt.element.consuming))return!0;var R=ge(E);if(C&&R.overflowY.match(/(scroll|auto)/)){var L=E.scrollHeight-E.clientHeight;if(L>0&&(E.scrollTop>0&&C<0||E.scrollTop<L&&C>0))return!0}if(S&&R.overflowX.match(/(scroll|auto)/)){var k=E.scrollWidth-E.clientWidth;if(k>0&&(E.scrollLeft>0&&S<0||E.scrollLeft<k&&S>0))return!0}E=E.parentNode}return!1}function g(x){if(c(x)){var S=l(x),C={pageX:S.pageX,pageY:S.pageY},E=C.pageX-r.pageX,R=C.pageY-r.pageY;if(p(x.target,E,R))return;n(E,R),r=C;var L=new Date().getTime(),k=L-o;k>0&&(s.x=E/k,s.y=R/k,o=L),e(E,R)&&x.preventDefault()}}function y(){i.settings.swipeEasing&&(clearInterval(a),a=setInterval(function(){if(i.isInitialized){clearInterval(a);return}if(!s.x&&!s.y){clearInterval(a);return}if(Math.abs(s.x)<.01&&Math.abs(s.y)<.01){clearInterval(a);return}if(!i.element){clearInterval(a);return}n(s.x*30,s.y*30),s.x*=.8,s.y*=.8},10))}Mi.supportsTouch?(i.event.bind(t,"touchstart",d),i.event.bind(t,"touchmove",g),i.event.bind(t,"touchend",y)):Mi.supportsIePointer&&(window.PointerEvent?(i.event.bind(t,"pointerdown",d),i.event.bind(t,"pointermove",g),i.event.bind(t,"pointerup",y)):window.MSPointerEvent&&(i.event.bind(t,"MSPointerDown",d),i.event.bind(t,"MSPointerMove",g),i.event.bind(t,"MSPointerUp",y)))}var R0=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},M0={"click-rail":S0,"drag-thumb":E0,keyboard:C0,wheel:T0,touch:D0},jn=function(t,e){var n=this;if(e===void 0&&(e={}),typeof t=="string"&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");this.element=t,t.classList.add(wt.main),this.settings=R0();for(var r in e)this.settings[r]=e[r];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var o=function(){return t.classList.add(wt.state.focus)},s=function(){return t.classList.remove(wt.state.focus)};this.isRtl=ge(t).direction==="rtl",this.isRtl===!0&&t.classList.add(wt.rtl),this.isNegativeScroll=function(){var c=t.scrollLeft,d=null;return t.scrollLeft=-1,d=t.scrollLeft<0,t.scrollLeft=c,d}(),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new Ki,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=Jn(wt.element.rail("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=Jn(wt.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",o),this.event.bind(this.scrollbarX,"blur",s),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var a=ge(this.scrollbarXRail);this.scrollbarXBottom=parseInt(a.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=dt(a.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=dt(a.borderLeftWidth)+dt(a.borderRightWidth),Ht(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=dt(a.marginLeft)+dt(a.marginRight),Ht(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=Jn(wt.element.rail("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=Jn(wt.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",o),this.event.bind(this.scrollbarY,"blur",s),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var l=ge(this.scrollbarYRail);this.scrollbarYRight=parseInt(l.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=dt(l.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?x0(this.scrollbarY):null,this.railBorderYWidth=dt(l.borderTopWidth)+dt(l.borderBottomWidth),Ht(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=dt(l.marginTop)+dt(l.marginBottom),Ht(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(c){return M0[c](n)}),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",function(c){return n.onScroll(c)}),Ee(this)};jn.prototype.update=function(){!this.isAlive||(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,Ht(this.scrollbarXRail,{display:"block"}),Ht(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=dt(ge(this.scrollbarXRail).marginLeft)+dt(ge(this.scrollbarXRail).marginRight),this.railYMarginHeight=dt(ge(this.scrollbarYRail).marginTop)+dt(ge(this.scrollbarYRail).marginBottom),Ht(this.scrollbarXRail,{display:"none"}),Ht(this.scrollbarYRail,{display:"none"}),Ee(this),Tr(this,"top",0,!1,!0),Tr(this,"left",0,!1,!0),Ht(this.scrollbarXRail,{display:""}),Ht(this.scrollbarYRail,{display:""}))};jn.prototype.onScroll=function(t){!this.isAlive||(Ee(this),Tr(this,"top",this.element.scrollTop-this.lastScrollTop),Tr(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)};jn.prototype.destroy=function(){!this.isAlive||(this.event.unbindAll(),ki(this.scrollbarX),ki(this.scrollbarY),ki(this.scrollbarXRail),ki(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)};jn.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(t){return!t.match(/^ps([-_].+|)$/)}).join(" ")};window.Swiper=ee;window.Sortable=V;$i.plugin(uv);$i.plugin(gv);window.PerfectScrollbar=jn;$i.data("mainState",()=>{const i={pageLoaded:!1,init(){window.onload=n=>{this.pageLoaded=!0}}},t=()=>window.localStorage.getItem("dark")?JSON.parse(window.localStorage.getItem("dark")):!!window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=n=>{window.localStorage.setItem("dark",n)};return{loadingMask:i,isDarkMode:t(),toggleTheme(){this.isDarkMode=!this.isDarkMode,e(this.isDarkMode)},isSidebarOpen:sessionStorage.getItem("sidebarOpen")==="true",handleSidebarToggle(){this.isSidebarOpen=!this.isSidebarOpen,sessionStorage.setItem("sidebarOpen",this.isSidebarOpen.toString())},isSidebarHovered:!1,handleSidebarHover(n){window.innerWidth<1024||(this.isSidebarHovered=n)},handleWindowResize(){window.innerWidth<=1024?this.isSidebarOpen=!1:this.isSidebarOpen=!0},scrollingDown:!1,scrollingUp:!1}});$i.plugin(Hm);window.Alpine=$i;$i.start()});export default L0();
