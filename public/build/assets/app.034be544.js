/* empty css            */function Du(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var za={exports:{}},ws={exports:{}},qa=function(t,e){return function(){for(var r=new Array(arguments.length),s=0;s<r.length;s++)r[s]=arguments[s];return t.apply(e,r)}},Lu=qa,As=Object.prototype.toString,Ss=function(n){return function(t){var e=As.call(t);return n[e]||(n[e]=e.slice(8,-1).toLowerCase())}}(Object.create(null));function xe(n){return n=n.toLowerCase(),function(e){return Ss(e)===n}}function Es(n){return Array.isArray(n)}function li(n){return typeof n>"u"}function _u(n){return n!==null&&!li(n)&&n.constructor!==null&&!li(n.constructor)&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}var Va=xe("ArrayBuffer");function ku(n){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&Va(n.buffer),t}function Ou(n){return typeof n=="string"}function Pu(n){return typeof n=="number"}function $a(n){return n!==null&&typeof n=="object"}function Jn(n){if(Ss(n)!=="object")return!1;var t=Object.getPrototypeOf(n);return t===null||t===Object.prototype}var Iu=xe("Date"),Mu=xe("File"),Nu=xe("Blob"),Fu=xe("FileList");function Cs(n){return As.call(n)==="[object Function]"}function Bu(n){return $a(n)&&Cs(n.pipe)}function Wu(n){var t="[object FormData]";return n&&(typeof FormData=="function"&&n instanceof FormData||As.call(n)===t||Cs(n.toString)&&n.toString()===t)}var ju=xe("URLSearchParams");function Hu(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function zu(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Ts(n,t){if(!(n===null||typeof n>"u"))if(typeof n!="object"&&(n=[n]),Es(n))for(var e=0,i=n.length;e<i;e++)t.call(null,n[e],e,n);else for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.call(null,n[r],r,n)}function qr(){var n={};function t(r,s){Jn(n[s])&&Jn(r)?n[s]=qr(n[s],r):Jn(r)?n[s]=qr({},r):Es(r)?n[s]=r.slice():n[s]=r}for(var e=0,i=arguments.length;e<i;e++)Ts(arguments[e],t);return n}function qu(n,t,e){return Ts(t,function(r,s){e&&typeof r=="function"?n[s]=Lu(r,e):n[s]=r}),n}function Vu(n){return n.charCodeAt(0)===65279&&(n=n.slice(1)),n}function $u(n,t,e,i){n.prototype=Object.create(t.prototype,i),n.prototype.constructor=n,e&&Object.assign(n.prototype,e)}function Uu(n,t,e){var i,r,s,o={};t=t||{};do{for(i=Object.getOwnPropertyNames(n),r=i.length;r-- >0;)s=i[r],o[s]||(t[s]=n[s],o[s]=!0);n=Object.getPrototypeOf(n)}while(n&&(!e||e(n,t))&&n!==Object.prototype);return t}function Yu(n,t,e){n=String(n),(e===void 0||e>n.length)&&(e=n.length),e-=t.length;var i=n.indexOf(t,e);return i!==-1&&i===e}function Xu(n){if(!n)return null;var t=n.length;if(li(t))return null;for(var e=new Array(t);t-- >0;)e[t]=n[t];return e}var Gu=function(n){return function(t){return n&&t instanceof n}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),rt={isArray:Es,isArrayBuffer:Va,isBuffer:_u,isFormData:Wu,isArrayBufferView:ku,isString:Ou,isNumber:Pu,isObject:$a,isPlainObject:Jn,isUndefined:li,isDate:Iu,isFile:Mu,isBlob:Nu,isFunction:Cs,isStream:Bu,isURLSearchParams:ju,isStandardBrowserEnv:zu,forEach:Ts,merge:qr,extend:qu,trim:Hu,stripBOM:Vu,inherits:$u,toFlatObject:Uu,kindOf:Ss,kindOfTest:xe,endsWith:Yu,toArray:Xu,isTypedArray:Gu,isFileList:Fu},Ce=rt;function ho(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Ua=function(t,e,i){if(!e)return t;var r;if(i)r=i(e);else if(Ce.isURLSearchParams(e))r=e.toString();else{var s=[];Ce.forEach(e,function(l,c){l===null||typeof l>"u"||(Ce.isArray(l)?c=c+"[]":l=[l],Ce.forEach(l,function(d){Ce.isDate(d)?d=d.toISOString():Ce.isObject(d)&&(d=JSON.stringify(d)),s.push(ho(c)+"="+ho(d))}))}),r=s.join("&")}if(r){var o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t},Ku=rt;function Ci(){this.handlers=[]}Ci.prototype.use=function(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1};Ci.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Ci.prototype.forEach=function(t){Ku.forEach(this.handlers,function(i){i!==null&&t(i)})};var Ju=Ci,Qu=rt,Zu=function(t,e){Qu.forEach(t,function(r,s){s!==e&&s.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[s])})},Ya=rt;function We(n,t,e,i,r){Error.call(this),this.message=n,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),i&&(this.request=i),r&&(this.response=r)}Ya.inherits(We,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Xa=We.prototype,Ga={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(n){Ga[n]={value:n}});Object.defineProperties(We,Ga);Object.defineProperty(Xa,"isAxiosError",{value:!0});We.from=function(n,t,e,i,r,s){var o=Object.create(Xa);return Ya.toFlatObject(n,o,function(l){return l!==Error.prototype}),We.call(o,n.message,t,e,i,r),o.name=n.name,s&&Object.assign(o,s),o};var $e=We,Ka={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Et=rt;function td(n,t){t=t||new FormData;var e=[];function i(s){return s===null?"":Et.isDate(s)?s.toISOString():Et.isArrayBuffer(s)||Et.isTypedArray(s)?typeof Blob=="function"?new Blob([s]):Buffer.from(s):s}function r(s,o){if(Et.isPlainObject(s)||Et.isArray(s)){if(e.indexOf(s)!==-1)throw Error("Circular reference detected in "+o);e.push(s),Et.forEach(s,function(l,c){if(!Et.isUndefined(l)){var u=o?o+"."+c:c,d;if(l&&!o&&typeof l=="object"){if(Et.endsWith(c,"{}"))l=JSON.stringify(l);else if(Et.endsWith(c,"[]")&&(d=Et.toArray(l))){d.forEach(function(h){!Et.isUndefined(h)&&t.append(u,i(h))});return}}r(l,u)}}),e.pop()}else t.append(o,i(s))}return r(n),t}var Ja=td,$i,fo;function ed(){if(fo)return $i;fo=1;var n=$e;return $i=function(e,i,r){var s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):i(new n("Request failed with status code "+r.status,[n.ERR_BAD_REQUEST,n.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))},$i}var Ui,po;function nd(){if(po)return Ui;po=1;var n=rt;return Ui=n.isStandardBrowserEnv()?function(){return{write:function(i,r,s,o,a,l){var c=[];c.push(i+"="+encodeURIComponent(r)),n.isNumber(s)&&c.push("expires="+new Date(s).toGMTString()),n.isString(o)&&c.push("path="+o),n.isString(a)&&c.push("domain="+a),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(i){var r=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Ui}var id=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},rd=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t},sd=id,od=rd,Qa=function(t,e){return t&&!sd(e)?od(t,e):e},Yi,go;function ad(){if(go)return Yi;go=1;var n=rt,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Yi=function(i){var r={},s,o,a;return i&&n.forEach(i.split(`
`),function(c){if(a=c.indexOf(":"),s=n.trim(c.substr(0,a)).toLowerCase(),o=n.trim(c.substr(a+1)),s){if(r[s]&&t.indexOf(s)>=0)return;s==="set-cookie"?r[s]=(r[s]?r[s]:[]).concat([o]):r[s]=r[s]?r[s]+", "+o:o}}),r},Yi}var Xi,mo;function ld(){if(mo)return Xi;mo=1;var n=rt;return Xi=n.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),r;function s(o){var a=o;return e&&(i.setAttribute("href",a),a=i.href),i.setAttribute("href",a),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return r=s(window.location.href),function(a){var l=n.isString(a)?s(a):a;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}(),Xi}var Gi,vo;function Ti(){if(vo)return Gi;vo=1;var n=$e,t=rt;function e(i){n.call(this,i==null?"canceled":i,n.ERR_CANCELED),this.name="CanceledError"}return t.inherits(e,n,{__CANCEL__:!0}),Gi=e,Gi}var Ki,bo;function cd(){return bo||(bo=1,Ki=function(t){var e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}),Ki}var Ji,yo;function xo(){if(yo)return Ji;yo=1;var n=rt,t=ed(),e=nd(),i=Ua,r=Qa,s=ad(),o=ld(),a=Ka,l=$e,c=Ti(),u=cd();return Ji=function(h){return new Promise(function(p,v){var b=h.data,m=h.headers,x=h.responseType,w;function A(){h.cancelToken&&h.cancelToken.unsubscribe(w),h.signal&&h.signal.removeEventListener("abort",w)}n.isFormData(b)&&n.isStandardBrowserEnv()&&delete m["Content-Type"];var y=new XMLHttpRequest;if(h.auth){var g=h.auth.username||"",E=h.auth.password?unescape(encodeURIComponent(h.auth.password)):"";m.Authorization="Basic "+btoa(g+":"+E)}var R=r(h.baseURL,h.url);y.open(h.method.toUpperCase(),i(R,h.params,h.paramsSerializer),!0),y.timeout=h.timeout;function D(){if(!!y){var T="getAllResponseHeaders"in y?s(y.getAllResponseHeaders()):null,k=!x||x==="text"||x==="json"?y.responseText:y.response,B={data:k,status:y.status,statusText:y.statusText,headers:T,config:h,request:y};t(function(U){p(U),A()},function(U){v(U),A()},B),y=null}}if("onloadend"in y?y.onloadend=D:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(D)},y.onabort=function(){!y||(v(new l("Request aborted",l.ECONNABORTED,h,y)),y=null)},y.onerror=function(){v(new l("Network Error",l.ERR_NETWORK,h,y,y)),y=null},y.ontimeout=function(){var k=h.timeout?"timeout of "+h.timeout+"ms exceeded":"timeout exceeded",B=h.transitional||a;h.timeoutErrorMessage&&(k=h.timeoutErrorMessage),v(new l(k,B.clarifyTimeoutError?l.ETIMEDOUT:l.ECONNABORTED,h,y)),y=null},n.isStandardBrowserEnv()){var $=(h.withCredentials||o(R))&&h.xsrfCookieName?e.read(h.xsrfCookieName):void 0;$&&(m[h.xsrfHeaderName]=$)}"setRequestHeader"in y&&n.forEach(m,function(k,B){typeof b>"u"&&B.toLowerCase()==="content-type"?delete m[B]:y.setRequestHeader(B,k)}),n.isUndefined(h.withCredentials)||(y.withCredentials=!!h.withCredentials),x&&x!=="json"&&(y.responseType=h.responseType),typeof h.onDownloadProgress=="function"&&y.addEventListener("progress",h.onDownloadProgress),typeof h.onUploadProgress=="function"&&y.upload&&y.upload.addEventListener("progress",h.onUploadProgress),(h.cancelToken||h.signal)&&(w=function(T){!y||(v(!T||T&&T.type?new c:T),y.abort(),y=null)},h.cancelToken&&h.cancelToken.subscribe(w),h.signal&&(h.signal.aborted?w():h.signal.addEventListener("abort",w))),b||(b=null);var C=u(R);if(C&&["http","https","file"].indexOf(C)===-1){v(new l("Unsupported protocol "+C+":",l.ERR_BAD_REQUEST,h));return}y.send(b)})},Ji}var Qi,wo;function ud(){return wo||(wo=1,Qi=null),Qi}var tt=rt,Ao=Zu,So=$e,dd=Ka,hd=Ja,fd={"Content-Type":"application/x-www-form-urlencoded"};function Eo(n,t){!tt.isUndefined(n)&&tt.isUndefined(n["Content-Type"])&&(n["Content-Type"]=t)}function pd(){var n;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(n=xo()),n}function gd(n,t,e){if(tt.isString(n))try{return(t||JSON.parse)(n),tt.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(e||JSON.stringify)(n)}var Ri={transitional:dd,adapter:pd(),transformRequest:[function(t,e){if(Ao(e,"Accept"),Ao(e,"Content-Type"),tt.isFormData(t)||tt.isArrayBuffer(t)||tt.isBuffer(t)||tt.isStream(t)||tt.isFile(t)||tt.isBlob(t))return t;if(tt.isArrayBufferView(t))return t.buffer;if(tt.isURLSearchParams(t))return Eo(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var i=tt.isObject(t),r=e&&e["Content-Type"],s;if((s=tt.isFileList(t))||i&&r==="multipart/form-data"){var o=this.env&&this.env.FormData;return hd(s?{"files[]":t}:t,o&&new o)}else if(i||r==="application/json")return Eo(e,"application/json"),gd(t);return t}],transformResponse:[function(t){var e=this.transitional||Ri.transitional,i=e&&e.silentJSONParsing,r=e&&e.forcedJSONParsing,s=!i&&this.responseType==="json";if(s||r&&tt.isString(t)&&t.length)try{return JSON.parse(t)}catch(o){if(s)throw o.name==="SyntaxError"?So.from(o,So.ERR_BAD_RESPONSE,this,null,this.response):o}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ud()},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};tt.forEach(["delete","get","head"],function(t){Ri.headers[t]={}});tt.forEach(["post","put","patch"],function(t){Ri.headers[t]=tt.merge(fd)});var Rs=Ri,md=rt,vd=Rs,bd=function(t,e,i){var r=this||vd;return md.forEach(i,function(o){t=o.call(r,t,e)}),t},Zi,Co;function Za(){return Co||(Co=1,Zi=function(t){return!!(t&&t.__CANCEL__)}),Zi}var To=rt,tr=bd,yd=Za(),xd=Rs,wd=Ti();function er(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new wd}var Ad=function(t){er(t),t.headers=t.headers||{},t.data=tr.call(t,t.data,t.headers,t.transformRequest),t.headers=To.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),To.forEach(["delete","get","head","post","put","patch","common"],function(r){delete t.headers[r]});var e=t.adapter||xd.adapter;return e(t).then(function(r){return er(t),r.data=tr.call(t,r.data,r.headers,t.transformResponse),r},function(r){return yd(r)||(er(t),r&&r.response&&(r.response.data=tr.call(t,r.response.data,r.response.headers,t.transformResponse))),Promise.reject(r)})},ft=rt,tl=function(t,e){e=e||{};var i={};function r(u,d){return ft.isPlainObject(u)&&ft.isPlainObject(d)?ft.merge(u,d):ft.isPlainObject(d)?ft.merge({},d):ft.isArray(d)?d.slice():d}function s(u){if(ft.isUndefined(e[u])){if(!ft.isUndefined(t[u]))return r(void 0,t[u])}else return r(t[u],e[u])}function o(u){if(!ft.isUndefined(e[u]))return r(void 0,e[u])}function a(u){if(ft.isUndefined(e[u])){if(!ft.isUndefined(t[u]))return r(void 0,t[u])}else return r(void 0,e[u])}function l(u){if(u in e)return r(t[u],e[u]);if(u in t)return r(void 0,t[u])}var c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return ft.forEach(Object.keys(t).concat(Object.keys(e)),function(d){var h=c[d]||s,f=h(d);ft.isUndefined(f)&&h!==l||(i[d]=f)}),i},nr,Ro;function el(){return Ro||(Ro=1,nr={version:"0.27.2"}),nr}var Sd=el().version,Vt=$e,Ds={};["object","boolean","number","function","string","symbol"].forEach(function(n,t){Ds[n]=function(i){return typeof i===n||"a"+(t<1?"n ":" ")+n}});var Do={};Ds.transitional=function(t,e,i){function r(s,o){return"[Axios v"+Sd+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return function(s,o,a){if(t===!1)throw new Vt(r(o," has been removed"+(e?" in "+e:"")),Vt.ERR_DEPRECATED);return e&&!Do[o]&&(Do[o]=!0,console.warn(r(o," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(s,o,a):!0}};function Ed(n,t,e){if(typeof n!="object")throw new Vt("options must be an object",Vt.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(n),r=i.length;r-- >0;){var s=i[r],o=t[s];if(o){var a=n[s],l=a===void 0||o(a,s,n);if(l!==!0)throw new Vt("option "+s+" must be "+l,Vt.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new Vt("Unknown option "+s,Vt.ERR_BAD_OPTION)}}var Cd={assertOptions:Ed,validators:Ds},nl=rt,Td=Ua,Lo=Ju,_o=Ad,Di=tl,Rd=Qa,il=Cd,Te=il.validators;function je(n){this.defaults=n,this.interceptors={request:new Lo,response:new Lo}}je.prototype.request=function(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=Di(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var i=e.transitional;i!==void 0&&il.assertOptions(i,{silentJSONParsing:Te.transitional(Te.boolean),forcedJSONParsing:Te.transitional(Te.boolean),clarifyTimeoutError:Te.transitional(Te.boolean)},!1);var r=[],s=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(e)===!1||(s=s&&f.synchronous,r.unshift(f.fulfilled,f.rejected))});var o=[];this.interceptors.response.forEach(function(f){o.push(f.fulfilled,f.rejected)});var a;if(!s){var l=[_o,void 0];for(Array.prototype.unshift.apply(l,r),l=l.concat(o),a=Promise.resolve(e);l.length;)a=a.then(l.shift(),l.shift());return a}for(var c=e;r.length;){var u=r.shift(),d=r.shift();try{c=u(c)}catch(h){d(h);break}}try{a=_o(c)}catch(h){return Promise.reject(h)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};je.prototype.getUri=function(t){t=Di(this.defaults,t);var e=Rd(t.baseURL,t.url);return Td(e,t.params,t.paramsSerializer)};nl.forEach(["delete","get","head","options"],function(t){je.prototype[t]=function(e,i){return this.request(Di(i||{},{method:t,url:e,data:(i||{}).data}))}});nl.forEach(["post","put","patch"],function(t){function e(i){return function(s,o,a){return this.request(Di(a||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}je.prototype[t]=e(),je.prototype[t+"Form"]=e(!0)});var Dd=je,ir,ko;function Ld(){if(ko)return ir;ko=1;var n=Ti();function t(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var i;this.promise=new Promise(function(o){i=o});var r=this;this.promise.then(function(s){if(!!r._listeners){var o,a=r._listeners.length;for(o=0;o<a;o++)r._listeners[o](s);r._listeners=null}}),this.promise.then=function(s){var o,a=new Promise(function(l){r.subscribe(l),o=l}).then(s);return a.cancel=function(){r.unsubscribe(o)},a},e(function(o){r.reason||(r.reason=new n(o),i(r.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]},t.prototype.unsubscribe=function(i){if(!!this._listeners){var r=this._listeners.indexOf(i);r!==-1&&this._listeners.splice(r,1)}},t.source=function(){var i,r=new t(function(o){i=o});return{token:r,cancel:i}},ir=t,ir}var rr,Oo;function _d(){return Oo||(Oo=1,rr=function(t){return function(i){return t.apply(null,i)}}),rr}var sr,Po;function kd(){if(Po)return sr;Po=1;var n=rt;return sr=function(e){return n.isObject(e)&&e.isAxiosError===!0},sr}var Io=rt,Od=qa,Qn=Dd,Pd=tl,Id=Rs;function rl(n){var t=new Qn(n),e=Od(Qn.prototype.request,t);return Io.extend(e,Qn.prototype,t),Io.extend(e,t),e.create=function(r){return rl(Pd(n,r))},e}var ht=rl(Id);ht.Axios=Qn;ht.CanceledError=Ti();ht.CancelToken=Ld();ht.isCancel=Za();ht.VERSION=el().version;ht.toFormData=Ja;ht.AxiosError=$e;ht.Cancel=ht.CanceledError;ht.all=function(t){return Promise.all(t)};ht.spread=_d();ht.isAxiosError=kd();ws.exports=ht;ws.exports.default=ht;(function(n){n.exports=ws.exports})(za);const Md=Du(za.exports);window.axios=Md;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";function Mo(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function Ls(n={},t={}){Object.keys(t).forEach(e=>{typeof n[e]>"u"?n[e]=t[e]:Mo(t[e])&&Mo(n[e])&&Object.keys(t[e]).length>0&&Ls(n[e],t[e])})}const sl={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function we(){const n=typeof document<"u"?document:{};return Ls(n,sl),n}const Nd={document:sl,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function xt(){const n=typeof window<"u"?window:{};return Ls(n,Nd),n}function Fd(n){const t=n;Object.keys(t).forEach(e=>{try{t[e]=null}catch{}try{delete t[e]}catch{}})}function Vr(n,t=0){return setTimeout(n,t)}function ci(){return Date.now()}function Bd(n){const t=xt();let e;return t.getComputedStyle&&(e=t.getComputedStyle(n,null)),!e&&n.currentStyle&&(e=n.currentStyle),e||(e=n.style),e}function Wd(n,t="x"){const e=xt();let i,r,s;const o=Bd(n);return e.WebKitCSSMatrix?(r=o.transform||o.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new e.WebKitCSSMatrix(r==="none"?"":r)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),t==="x"&&(e.WebKitCSSMatrix?r=s.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),t==="y"&&(e.WebKitCSSMatrix?r=s.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function Hn(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function jd(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function mt(...n){const t=Object(n[0]),e=["__proto__","constructor","prototype"];for(let i=1;i<n.length;i+=1){const r=n[i];if(r!=null&&!jd(r)){const s=Object.keys(Object(r)).filter(o=>e.indexOf(o)<0);for(let o=0,a=s.length;o<a;o+=1){const l=s[o],c=Object.getOwnPropertyDescriptor(r,l);c!==void 0&&c.enumerable&&(Hn(t[l])&&Hn(r[l])?r[l].__swiper__?t[l]=r[l]:mt(t[l],r[l]):!Hn(t[l])&&Hn(r[l])?(t[l]={},r[l].__swiper__?t[l]=r[l]:mt(t[l],r[l])):t[l]=r[l])}}}return t}function zn(n,t,e){n.style.setProperty(t,e)}function ol({swiper:n,targetPosition:t,side:e}){const i=xt(),r=-n.translate;let s=null,o;const a=n.params.speed;n.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(n.cssModeFrameID);const l=t>r?"next":"prev",c=(d,h)=>l==="next"&&d>=h||l==="prev"&&d<=h,u=()=>{o=new Date().getTime(),s===null&&(s=o);const d=Math.max(Math.min((o-s)/a,1),0),h=.5-Math.cos(d*Math.PI)/2;let f=r+h*(t-r);if(c(f,t)&&(f=t),n.wrapperEl.scrollTo({[e]:f}),c(f,t)){n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout(()=>{n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo({[e]:f})}),i.cancelAnimationFrame(n.cssModeFrameID);return}n.cssModeFrameID=i.requestAnimationFrame(u)};u()}function Mt(n,t=""){return[...n.children].filter(e=>e.matches(t))}function Hd(n,t=[]){const e=document.createElement(n);return e.classList.add(...Array.isArray(t)?t:[t]),e}function zd(n,t){const e=[];for(;n.previousElementSibling;){const i=n.previousElementSibling;t?i.matches(t)&&e.push(i):e.push(i),n=i}return e}function qd(n,t){const e=[];for(;n.nextElementSibling;){const i=n.nextElementSibling;t?i.matches(t)&&e.push(i):e.push(i),n=i}return e}function Xt(n,t){return xt().getComputedStyle(n,null).getPropertyValue(t)}function No(n){let t=n,e;if(t){for(e=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(e+=1);return e}}function Vd(n,t){const e=[];let i=n.parentElement;for(;i;)t?i.matches(t)&&e.push(i):e.push(i),i=i.parentElement;return e}function Fo(n,t,e){const i=xt();return e?n[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(n,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(n,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom")):n.offsetWidth}let or;function $d(){const n=xt(),t=we();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&t instanceof n.DocumentTouch)}}function al(){return or||(or=$d()),or}let ar;function Ud({userAgent:n}={}){const t=al(),e=xt(),i=e.navigator.platform,r=n||e.navigator.userAgent,s={ios:!1,android:!1},o=e.screen.width,a=e.screen.height,l=r.match(/(Android);?[\s\/]+([\d.]+)?/);let c=r.match(/(iPad).*OS\s([\d_]+)/);const u=r.match(/(iPod)(.*OS\s([\d_]+))?/),d=!c&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h=i==="Win32";let f=i==="MacIntel";const p=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&f&&t.touch&&p.indexOf(`${o}x${a}`)>=0&&(c=r.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),f=!1),l&&!h&&(s.os="android",s.android=!0),(c||d||u)&&(s.os="ios",s.ios=!0),s}function Yd(n={}){return ar||(ar=Ud(n)),ar}let lr;function Xd(){const n=xt();let t=!1;function e(){const i=n.navigator.userAgent.toLowerCase();return i.indexOf("safari")>=0&&i.indexOf("chrome")<0&&i.indexOf("android")<0}if(e()){const i=String(n.navigator.userAgent);if(i.includes("Version/")){const[r,s]=i.split("Version/")[1].split(" ")[0].split(".").map(o=>Number(o));t=r<16||r===16&&s<2}}return{isSafari:t||e(),needPerspectiveFix:t,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent)}}function Gd(){return lr||(lr=Xd()),lr}function Kd({swiper:n,on:t,emit:e}){const i=xt();let r=null,s=null;const o=()=>{!n||n.destroyed||!n.initialized||(e("beforeResize"),e("resize"))},a=()=>{!n||n.destroyed||!n.initialized||(r=new ResizeObserver(u=>{s=i.requestAnimationFrame(()=>{const{width:d,height:h}=n;let f=d,p=h;u.forEach(({contentBoxSize:v,contentRect:b,target:m})=>{m&&m!==n.el||(f=b?b.width:(v[0]||v).inlineSize,p=b?b.height:(v[0]||v).blockSize)}),(f!==d||p!==h)&&o()})}),r.observe(n.el))},l=()=>{s&&i.cancelAnimationFrame(s),r&&r.unobserve&&n.el&&(r.unobserve(n.el),r=null)},c=()=>{!n||n.destroyed||!n.initialized||e("orientationchange")};t("init",()=>{if(n.params.resizeObserver&&typeof i.ResizeObserver<"u"){a();return}i.addEventListener("resize",o),i.addEventListener("orientationchange",c)}),t("destroy",()=>{l(),i.removeEventListener("resize",o),i.removeEventListener("orientationchange",c)})}function Jd({swiper:n,extendParams:t,on:e,emit:i}){const r=[],s=xt(),o=(c,u={})=>{const d=s.MutationObserver||s.WebkitMutationObserver,h=new d(f=>{if(n.__preventObserver__)return;if(f.length===1){i("observerUpdate",f[0]);return}const p=function(){i("observerUpdate",f[0])};s.requestAnimationFrame?s.requestAnimationFrame(p):s.setTimeout(p,0)});h.observe(c,{attributes:typeof u.attributes>"u"?!0:u.attributes,childList:typeof u.childList>"u"?!0:u.childList,characterData:typeof u.characterData>"u"?!0:u.characterData}),r.push(h)},a=()=>{if(!!n.params.observer){if(n.params.observeParents){const c=Vd(n.el);for(let u=0;u<c.length;u+=1)o(c[u])}o(n.el,{childList:n.params.observeSlideChildren}),o(n.wrapperEl,{attributes:!1})}},l=()=>{r.forEach(c=>{c.disconnect()}),r.splice(0,r.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),e("init",a),e("destroy",l)}const Qd={on(n,t,e){const i=this;if(!i.eventsListeners||i.destroyed||typeof t!="function")return i;const r=e?"unshift":"push";return n.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](t)}),i},once(n,t,e){const i=this;if(!i.eventsListeners||i.destroyed||typeof t!="function")return i;function r(...s){i.off(n,r),r.__emitterProxy&&delete r.__emitterProxy,t.apply(i,s)}return r.__emitterProxy=t,i.on(n,r,e)},onAny(n,t){const e=this;if(!e.eventsListeners||e.destroyed||typeof n!="function")return e;const i=t?"unshift":"push";return e.eventsAnyListeners.indexOf(n)<0&&e.eventsAnyListeners[i](n),e},offAny(n){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const e=t.eventsAnyListeners.indexOf(n);return e>=0&&t.eventsAnyListeners.splice(e,1),t},off(n,t){const e=this;return!e.eventsListeners||e.destroyed||!e.eventsListeners||n.split(" ").forEach(i=>{typeof t>"u"?e.eventsListeners[i]=[]:e.eventsListeners[i]&&e.eventsListeners[i].forEach((r,s)=>{(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&e.eventsListeners[i].splice(s,1)})}),e},emit(...n){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,i,r;return typeof n[0]=="string"||Array.isArray(n[0])?(e=n[0],i=n.slice(1,n.length),r=t):(e=n[0].events,i=n[0].data,r=n[0].context||t),i.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(o=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(a=>{a.apply(r,[o,...i])}),t.eventsListeners&&t.eventsListeners[o]&&t.eventsListeners[o].forEach(a=>{a.apply(r,i)})}),t}};function Zd(){const n=this;let t,e;const i=n.el;typeof n.params.width<"u"&&n.params.width!==null?t=n.params.width:t=i.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?e=n.params.height:e=i.clientHeight,!(t===0&&n.isHorizontal()||e===0&&n.isVertical())&&(t=t-parseInt(Xt(i,"padding-left")||0,10)-parseInt(Xt(i,"padding-right")||0,10),e=e-parseInt(Xt(i,"padding-top")||0,10)-parseInt(Xt(i,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(e)&&(e=0),Object.assign(n,{width:t,height:e,size:n.isHorizontal()?t:e}))}function th(){const n=this;function t(C){return n.isHorizontal()?C:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[C]}function e(C,T){return parseFloat(C.getPropertyValue(t(T))||0)}const i=n.params,{wrapperEl:r,slidesEl:s,size:o,rtlTranslate:a,wrongRTL:l}=n,c=n.virtual&&i.virtual.enabled,u=c?n.virtual.slides.length:n.slides.length,d=Mt(s,`.${n.params.slideClass}, swiper-slide`),h=c?n.virtual.slides.length:d.length;let f=[];const p=[],v=[];let b=i.slidesOffsetBefore;typeof b=="function"&&(b=i.slidesOffsetBefore.call(n));let m=i.slidesOffsetAfter;typeof m=="function"&&(m=i.slidesOffsetAfter.call(n));const x=n.snapGrid.length,w=n.slidesGrid.length;let A=i.spaceBetween,y=-b,g=0,E=0;if(typeof o>"u")return;typeof A=="string"&&A.indexOf("%")>=0?A=parseFloat(A.replace("%",""))/100*o:typeof A=="string"&&(A=parseFloat(A)),n.virtualSize=-A,d.forEach(C=>{a?C.style.marginLeft="":C.style.marginRight="",C.style.marginBottom="",C.style.marginTop=""}),i.centeredSlides&&i.cssMode&&(zn(r,"--swiper-centered-offset-before",""),zn(r,"--swiper-centered-offset-after",""));const R=i.grid&&i.grid.rows>1&&n.grid;R&&n.grid.initSlides(h);let D;const $=i.slidesPerView==="auto"&&i.breakpoints&&Object.keys(i.breakpoints).filter(C=>typeof i.breakpoints[C].slidesPerView<"u").length>0;for(let C=0;C<h;C+=1){D=0;let T;if(d[C]&&(T=d[C]),R&&n.grid.updateSlide(C,T,h,t),!(d[C]&&Xt(T,"display")==="none")){if(i.slidesPerView==="auto"){$&&(d[C].style[t("width")]="");const k=getComputedStyle(T),B=T.style.transform,nt=T.style.webkitTransform;if(B&&(T.style.transform="none"),nt&&(T.style.webkitTransform="none"),i.roundLengths)D=n.isHorizontal()?Fo(T,"width",!0):Fo(T,"height",!0);else{const U=e(k,"width"),Ee=e(k,"padding-left"),re=e(k,"padding-right"),jn=e(k,"margin-left"),qi=e(k,"margin-right"),Ze=k.getPropertyValue("box-sizing");if(Ze&&Ze==="border-box")D=U+jn+qi;else{const{clientWidth:Vi,offsetWidth:Ru}=T;D=U+Ee+re+jn+qi+(Ru-Vi)}}B&&(T.style.transform=B),nt&&(T.style.webkitTransform=nt),i.roundLengths&&(D=Math.floor(D))}else D=(o-(i.slidesPerView-1)*A)/i.slidesPerView,i.roundLengths&&(D=Math.floor(D)),d[C]&&(d[C].style[t("width")]=`${D}px`);d[C]&&(d[C].swiperSlideSize=D),v.push(D),i.centeredSlides?(y=y+D/2+g/2+A,g===0&&C!==0&&(y=y-o/2-A),C===0&&(y=y-o/2-A),Math.abs(y)<1/1e3&&(y=0),i.roundLengths&&(y=Math.floor(y)),E%i.slidesPerGroup===0&&f.push(y),p.push(y)):(i.roundLengths&&(y=Math.floor(y)),(E-Math.min(n.params.slidesPerGroupSkip,E))%n.params.slidesPerGroup===0&&f.push(y),p.push(y),y=y+D+A),n.virtualSize+=D+A,g=D,E+=1}}if(n.virtualSize=Math.max(n.virtualSize,o)+m,a&&l&&(i.effect==="slide"||i.effect==="coverflow")&&(r.style.width=`${n.virtualSize+A}px`),i.setWrapperSize&&(r.style[t("width")]=`${n.virtualSize+A}px`),R&&n.grid.updateWrapperSize(D,f,t),!i.centeredSlides){const C=[];for(let T=0;T<f.length;T+=1){let k=f[T];i.roundLengths&&(k=Math.floor(k)),f[T]<=n.virtualSize-o&&C.push(k)}f=C,Math.floor(n.virtualSize-o)-Math.floor(f[f.length-1])>1&&f.push(n.virtualSize-o)}if(c&&i.loop){const C=v[0]+A;if(i.slidesPerGroup>1){const T=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/i.slidesPerGroup),k=C*i.slidesPerGroup;for(let B=0;B<T;B+=1)f.push(f[f.length-1]+k)}for(let T=0;T<n.virtual.slidesBefore+n.virtual.slidesAfter;T+=1)i.slidesPerGroup===1&&f.push(f[f.length-1]+C),p.push(p[p.length-1]+C),n.virtualSize+=C}if(f.length===0&&(f=[0]),A!==0){const C=n.isHorizontal()&&a?"marginLeft":t("marginRight");d.filter((T,k)=>!i.cssMode||i.loop?!0:k!==d.length-1).forEach(T=>{T.style[C]=`${A}px`})}if(i.centeredSlides&&i.centeredSlidesBounds){let C=0;v.forEach(k=>{C+=k+(A||0)}),C-=A;const T=C-o;f=f.map(k=>k<=0?-b:k>T?T+m:k)}if(i.centerInsufficientSlides){let C=0;if(v.forEach(T=>{C+=T+(A||0)}),C-=A,C<o){const T=(o-C)/2;f.forEach((k,B)=>{f[B]=k-T}),p.forEach((k,B)=>{p[B]=k+T})}}if(Object.assign(n,{slides:d,snapGrid:f,slidesGrid:p,slidesSizesGrid:v}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){zn(r,"--swiper-centered-offset-before",`${-f[0]}px`),zn(r,"--swiper-centered-offset-after",`${n.size/2-v[v.length-1]/2}px`);const C=-n.snapGrid[0],T=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(k=>k+C),n.slidesGrid=n.slidesGrid.map(k=>k+T)}if(h!==u&&n.emit("slidesLengthChange"),f.length!==x&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),p.length!==w&&n.emit("slidesGridLengthChange"),i.watchSlidesProgress&&n.updateSlidesOffset(),!c&&!i.cssMode&&(i.effect==="slide"||i.effect==="fade")){const C=`${i.containerModifierClass}backface-hidden`,T=n.el.classList.contains(C);h<=i.maxBackfaceHiddenSlides?T||n.el.classList.add(C):T&&n.el.classList.remove(C)}}function eh(n){const t=this,e=[],i=t.virtual&&t.params.virtual.enabled;let r=0,s;typeof n=="number"?t.setTransition(n):n===!0&&t.setTransition(t.params.speed);const o=a=>i?t.slides[t.getSlideIndexByData(a)]:t.slides[a];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(a=>{e.push(a)});else for(s=0;s<Math.ceil(t.params.slidesPerView);s+=1){const a=t.activeIndex+s;if(a>t.slides.length&&!i)break;e.push(o(a))}else e.push(o(t.activeIndex));for(s=0;s<e.length;s+=1)if(typeof e[s]<"u"){const a=e[s].offsetHeight;r=a>r?a:r}(r||r===0)&&(t.wrapperEl.style.height=`${r}px`)}function nh(){const n=this,t=n.slides,e=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let i=0;i<t.length;i+=1)t[i].swiperSlideOffset=(n.isHorizontal()?t[i].offsetLeft:t[i].offsetTop)-e-n.cssOverflowAdjustment()}function ih(n=this&&this.translate||0){const t=this,e=t.params,{slides:i,rtlTranslate:r,snapGrid:s}=t;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let o=-n;r&&(o=n),i.forEach(l=>{l.classList.remove(e.slideVisibleClass)}),t.visibleSlidesIndexes=[],t.visibleSlides=[];let a=e.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*t.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<i.length;l+=1){const c=i[l];let u=c.swiperSlideOffset;e.cssMode&&e.centeredSlides&&(u-=i[0].swiperSlideOffset);const d=(o+(e.centeredSlides?t.minTranslate():0)-u)/(c.swiperSlideSize+a),h=(o-s[0]+(e.centeredSlides?t.minTranslate():0)-u)/(c.swiperSlideSize+a),f=-(o-u),p=f+t.slidesSizesGrid[l];(f>=0&&f<t.size-1||p>1&&p<=t.size||f<=0&&p>=t.size)&&(t.visibleSlides.push(c),t.visibleSlidesIndexes.push(l),i[l].classList.add(e.slideVisibleClass)),c.progress=r?-d:d,c.originalProgress=r?-h:h}}function rh(n){const t=this;if(typeof n>"u"){const u=t.rtlTranslate?-1:1;n=t&&t.translate&&t.translate*u||0}const e=t.params,i=t.maxTranslate()-t.minTranslate();let{progress:r,isBeginning:s,isEnd:o,progressLoop:a}=t;const l=s,c=o;if(i===0)r=0,s=!0,o=!0;else{r=(n-t.minTranslate())/i;const u=Math.abs(n-t.minTranslate())<1,d=Math.abs(n-t.maxTranslate())<1;s=u||r<=0,o=d||r>=1,u&&(r=0),d&&(r=1)}if(e.loop){const u=t.getSlideIndexByData(0),d=t.getSlideIndexByData(t.slides.length-1),h=t.slidesGrid[u],f=t.slidesGrid[d],p=t.slidesGrid[t.slidesGrid.length-1],v=Math.abs(n);v>=h?a=(v-h)/p:a=(v+p-f)/p,a>1&&(a-=1)}Object.assign(t,{progress:r,progressLoop:a,isBeginning:s,isEnd:o}),(e.watchSlidesProgress||e.centeredSlides&&e.autoHeight)&&t.updateSlidesProgress(n),s&&!l&&t.emit("reachBeginning toEdge"),o&&!c&&t.emit("reachEnd toEdge"),(l&&!s||c&&!o)&&t.emit("fromEdge"),t.emit("progress",r)}function sh(){const n=this,{slides:t,params:e,slidesEl:i,activeIndex:r}=n,s=n.virtual&&e.virtual.enabled,o=l=>Mt(i,`.${e.slideClass}${l}, swiper-slide${l}`)[0];t.forEach(l=>{l.classList.remove(e.slideActiveClass,e.slideNextClass,e.slidePrevClass)});let a;if(s)if(e.loop){let l=r-n.virtual.slidesBefore;l<0&&(l=n.virtual.slides.length+l),l>=n.virtual.slides.length&&(l-=n.virtual.slides.length),a=o(`[data-swiper-slide-index="${l}"]`)}else a=o(`[data-swiper-slide-index="${r}"]`);else a=t[r];if(a){a.classList.add(e.slideActiveClass);let l=qd(a,`.${e.slideClass}, swiper-slide`)[0];e.loop&&!l&&(l=t[0]),l&&l.classList.add(e.slideNextClass);let c=zd(a,`.${e.slideClass}, swiper-slide`)[0];e.loop&&!c===0&&(c=t[t.length-1]),c&&c.classList.add(e.slidePrevClass)}n.emitSlidesClasses()}const Zn=(n,t)=>{if(!n||n.destroyed||!n.params)return;const e=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,i=t.closest(e());if(i){const r=i.querySelector(`.${n.params.lazyPreloaderClass}`);r&&r.remove()}},cr=(n,t)=>{if(!n.slides[t])return;const e=n.slides[t].querySelector('[loading="lazy"]');e&&e.removeAttribute("loading")},$r=n=>{if(!n||n.destroyed||!n.params)return;let t=n.params.lazyPreloadPrevNext;const e=n.slides.length;if(!e||!t||t<0)return;t=Math.min(t,e);const i=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),r=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const o=r,a=[o-t];a.push(...Array.from({length:t}).map((l,c)=>o+i+c)),n.slides.forEach((l,c)=>{a.includes(l.column)&&cr(n,c)});return}const s=r+i-1;if(n.params.rewind||n.params.loop)for(let o=r-t;o<=s+t;o+=1){const a=(o%e+e)%e;(a<r||a>s)&&cr(n,a)}else for(let o=Math.max(r-t,0);o<=Math.min(s+t,e-1);o+=1)o!==r&&(o>s||o<r)&&cr(n,o)};function oh(n){const{slidesGrid:t,params:e}=n,i=n.rtlTranslate?n.translate:-n.translate;let r;for(let s=0;s<t.length;s+=1)typeof t[s+1]<"u"?i>=t[s]&&i<t[s+1]-(t[s+1]-t[s])/2?r=s:i>=t[s]&&i<t[s+1]&&(r=s+1):i>=t[s]&&(r=s);return e.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function ah(n){const t=this,e=t.rtlTranslate?t.translate:-t.translate,{snapGrid:i,params:r,activeIndex:s,realIndex:o,snapIndex:a}=t;let l=n,c;const u=h=>{let f=h-t.virtual.slidesBefore;return f<0&&(f=t.virtual.slides.length+f),f>=t.virtual.slides.length&&(f-=t.virtual.slides.length),f};if(typeof l>"u"&&(l=oh(t)),i.indexOf(e)>=0)c=i.indexOf(e);else{const h=Math.min(r.slidesPerGroupSkip,l);c=h+Math.floor((l-h)/r.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),l===s){c!==a&&(t.snapIndex=c,t.emit("snapIndexChange")),t.params.loop&&t.virtual&&t.params.virtual.enabled&&(t.realIndex=u(l));return}let d;t.virtual&&r.virtual.enabled&&r.loop?d=u(l):t.slides[l]?d=parseInt(t.slides[l].getAttribute("data-swiper-slide-index")||l,10):d=l,Object.assign(t,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:d,previousIndex:s,activeIndex:l}),t.initialized&&$r(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),o!==d&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")}function lh(n){const t=this,e=t.params,i=n.closest(`.${e.slideClass}, swiper-slide`);let r=!1,s;if(i){for(let o=0;o<t.slides.length;o+=1)if(t.slides[o]===i){r=!0,s=o;break}}if(i&&r)t.clickedSlide=i,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=s;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}e.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}const ch={updateSize:Zd,updateSlides:th,updateAutoHeight:eh,updateSlidesOffset:nh,updateSlidesProgress:ih,updateProgress:rh,updateSlidesClasses:sh,updateActiveIndex:ah,updateClickedSlide:lh};function uh(n=this.isHorizontal()?"x":"y"){const t=this,{params:e,rtlTranslate:i,translate:r,wrapperEl:s}=t;if(e.virtualTranslate)return i?-r:r;if(e.cssMode)return r;let o=Wd(s,n);return o+=t.cssOverflowAdjustment(),i&&(o=-o),o||0}function dh(n,t){const e=this,{rtlTranslate:i,params:r,wrapperEl:s,progress:o}=e;let a=0,l=0;const c=0;e.isHorizontal()?a=i?-n:n:l=n,r.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),e.previousTranslate=e.translate,e.translate=e.isHorizontal()?a:l,r.cssMode?s[e.isHorizontal()?"scrollLeft":"scrollTop"]=e.isHorizontal()?-a:-l:r.virtualTranslate||(e.isHorizontal()?a-=e.cssOverflowAdjustment():l-=e.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let u;const d=e.maxTranslate()-e.minTranslate();d===0?u=0:u=(n-e.minTranslate())/d,u!==o&&e.updateProgress(n),e.emit("setTranslate",e.translate,t)}function hh(){return-this.snapGrid[0]}function fh(){return-this.snapGrid[this.snapGrid.length-1]}function ph(n=0,t=this.params.speed,e=!0,i=!0,r){const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const l=s.minTranslate(),c=s.maxTranslate();let u;if(i&&n>l?u=l:i&&n<c?u=c:u=n,s.updateProgress(u),o.cssMode){const d=s.isHorizontal();if(t===0)a[d?"scrollLeft":"scrollTop"]=-u;else{if(!s.support.smoothScroll)return ol({swiper:s,targetPosition:-u,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return t===0?(s.setTransition(0),s.setTranslate(u),e&&(s.emit("beforeTransitionStart",t,r),s.emit("transitionEnd"))):(s.setTransition(t),s.setTranslate(u),e&&(s.emit("beforeTransitionStart",t,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(h){!s||s.destroyed||h.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,e&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}const gh={getTranslate:uh,setTranslate:dh,minTranslate:hh,maxTranslate:fh,translateTo:ph};function mh(n,t){const e=this;e.params.cssMode||(e.wrapperEl.style.transitionDuration=`${n}ms`),e.emit("setTransition",n,t)}function ll({swiper:n,runCallbacks:t,direction:e,step:i}){const{activeIndex:r,previousIndex:s}=n;let o=e;if(o||(r>s?o="next":r<s?o="prev":o="reset"),n.emit(`transition${i}`),t&&r!==s){if(o==="reset"){n.emit(`slideResetTransition${i}`);return}n.emit(`slideChangeTransition${i}`),o==="next"?n.emit(`slideNextTransition${i}`):n.emit(`slidePrevTransition${i}`)}}function vh(n=!0,t){const e=this,{params:i}=e;i.cssMode||(i.autoHeight&&e.updateAutoHeight(),ll({swiper:e,runCallbacks:n,direction:t,step:"Start"}))}function bh(n=!0,t){const e=this,{params:i}=e;e.animating=!1,!i.cssMode&&(e.setTransition(0),ll({swiper:e,runCallbacks:n,direction:t,step:"End"}))}const yh={setTransition:mh,transitionStart:vh,transitionEnd:bh};function xh(n=0,t=this.params.speed,e=!0,i,r){typeof n=="string"&&(n=parseInt(n,10));const s=this;let o=n;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:h,wrapperEl:f,enabled:p}=s;if(s.animating&&a.preventInteractionOnTransition||!p&&!i&&!r)return!1;const v=Math.min(s.params.slidesPerGroupSkip,o);let b=v+Math.floor((o-v)/s.params.slidesPerGroup);b>=l.length&&(b=l.length-1);const m=-l[b];if(a.normalizeSlideIndex)for(let w=0;w<c.length;w+=1){const A=-Math.floor(m*100),y=Math.floor(c[w]*100),g=Math.floor(c[w+1]*100);typeof c[w+1]<"u"?A>=y&&A<g-(g-y)/2?o=w:A>=y&&A<g&&(o=w+1):A>=y&&(o=w)}if(s.initialized&&o!==d&&(!s.allowSlideNext&&(h?m>s.translate&&m>s.minTranslate():m<s.translate&&m<s.minTranslate())||!s.allowSlidePrev&&m>s.translate&&m>s.maxTranslate()&&(d||0)!==o))return!1;o!==(u||0)&&e&&s.emit("beforeSlideChangeStart"),s.updateProgress(m);let x;if(o>d?x="next":o<d?x="prev":x="reset",h&&-m===s.translate||!h&&m===s.translate)return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(m),x!=="reset"&&(s.transitionStart(e,x),s.transitionEnd(e,x)),!1;if(a.cssMode){const w=s.isHorizontal(),A=h?m:-m;if(t===0){const y=s.virtual&&s.params.virtual.enabled;y&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),y&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{f[w?"scrollLeft":"scrollTop"]=A})):f[w?"scrollLeft":"scrollTop"]=A,y&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1})}else{if(!s.support.smoothScroll)return ol({swiper:s,targetPosition:A,side:w?"left":"top"}),!0;f.scrollTo({[w?"left":"top"]:A,behavior:"smooth"})}return!0}return s.setTransition(t),s.setTranslate(m),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,i),s.transitionStart(e,x),t===0?s.transitionEnd(e,x):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(A){!s||s.destroyed||A.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(e,x))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function wh(n=0,t=this.params.speed,e=!0,i){typeof n=="string"&&(n=parseInt(n,10));const r=this;let s=n;return r.params.loop&&(r.virtual&&r.params.virtual.enabled?s=s+r.virtual.slidesBefore:s=r.getSlideIndexByData(s)),r.slideTo(s,t,e,i)}function Ah(n=this.params.speed,t=!0,e){const i=this,{enabled:r,params:s,animating:o}=i;if(!r)return i;let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<s.slidesPerGroupSkip?1:a,c=i.virtual&&s.virtual.enabled;if(s.loop){if(o&&!c&&s.loopPreventsSliding)return!1;i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft}return s.rewind&&i.isEnd?i.slideTo(0,n,t,e):i.slideTo(i.activeIndex+l,n,t,e)}function Sh(n=this.params.speed,t=!0,e){const i=this,{params:r,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=i;if(!l)return i;const u=i.virtual&&r.virtual.enabled;if(r.loop){if(c&&!u&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const d=a?i.translate:-i.translate;function h(m){return m<0?-Math.floor(Math.abs(m)):Math.floor(m)}const f=h(d),p=s.map(m=>h(m));let v=s[p.indexOf(f)-1];if(typeof v>"u"&&r.cssMode){let m;s.forEach((x,w)=>{f>=x&&(m=w)}),typeof m<"u"&&(v=s[m>0?m-1:m])}let b=0;if(typeof v<"u"&&(b=o.indexOf(v),b<0&&(b=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(b=b-i.slidesPerViewDynamic("previous",!0)+1,b=Math.max(b,0))),r.rewind&&i.isBeginning){const m=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(m,n,t,e)}return i.slideTo(b,n,t,e)}function Eh(n=this.params.speed,t=!0,e){const i=this;return i.slideTo(i.activeIndex,n,t,e)}function Ch(n=this.params.speed,t=!0,e,i=.5){const r=this;let s=r.activeIndex;const o=Math.min(r.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[a]){const c=r.snapGrid[a],u=r.snapGrid[a+1];l-c>(u-c)*i&&(s+=r.params.slidesPerGroup)}else{const c=r.snapGrid[a-1],u=r.snapGrid[a];l-c<=(u-c)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,n,t,e)}function Th(){const n=this,{params:t,slidesEl:e}=n,i=t.slidesPerView==="auto"?n.slidesPerViewDynamic():t.slidesPerView;let r=n.clickedIndex,s;const o=n.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(n.animating)return;s=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?r<n.loopedSlides-i/2||r>n.slides.length-n.loopedSlides+i/2?(n.loopFix(),r=n.getSlideIndex(Mt(e,`${o}[data-swiper-slide-index="${s}"]`)[0]),Vr(()=>{n.slideTo(r)})):n.slideTo(r):r>n.slides.length-i?(n.loopFix(),r=n.getSlideIndex(Mt(e,`${o}[data-swiper-slide-index="${s}"]`)[0]),Vr(()=>{n.slideTo(r)})):n.slideTo(r)}else n.slideTo(r)}const Rh={slideTo:xh,slideToLoop:wh,slideNext:Ah,slidePrev:Sh,slideReset:Eh,slideToClosest:Ch,slideToClickedSlide:Th};function Dh(n){const t=this,{params:e,slidesEl:i}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;Mt(i,`.${e.slideClass}, swiper-slide`).forEach((s,o)=>{s.setAttribute("data-swiper-slide-index",o)}),t.loopFix({slideRealIndex:n,direction:e.centeredSlides?void 0:"next"})}function Lh({slideRealIndex:n,slideTo:t=!0,direction:e,setTranslate:i,activeSlideIndex:r,byController:s,byMousewheel:o}={}){const a=this;if(!a.params.loop)return;a.emit("beforeLoopFix");const{slides:l,allowSlidePrev:c,allowSlideNext:u,slidesEl:d,params:h}=a;if(a.allowSlidePrev=!0,a.allowSlideNext=!0,a.virtual&&h.virtual.enabled){t&&(!h.centeredSlides&&a.snapIndex===0?a.slideTo(a.virtual.slides.length,0,!1,!0):h.centeredSlides&&a.snapIndex<h.slidesPerView?a.slideTo(a.virtual.slides.length+a.snapIndex,0,!1,!0):a.snapIndex===a.snapGrid.length-1&&a.slideTo(a.virtual.slidesBefore,0,!1,!0)),a.allowSlidePrev=c,a.allowSlideNext=u,a.emit("loopFix");return}const f=h.slidesPerView==="auto"?a.slidesPerViewDynamic():Math.ceil(parseFloat(h.slidesPerView,10));let p=h.loopedSlides||f;p%h.slidesPerGroup!==0&&(p+=h.slidesPerGroup-p%h.slidesPerGroup),a.loopedSlides=p;const v=[],b=[];let m=a.activeIndex;typeof r>"u"?r=a.getSlideIndex(a.slides.filter(g=>g.classList.contains(h.slideActiveClass))[0]):m=r;const x=e==="next"||!e,w=e==="prev"||!e;let A=0,y=0;if(r<p){A=Math.max(p-r,h.slidesPerGroup);for(let g=0;g<p-r;g+=1){const E=g-Math.floor(g/l.length)*l.length;v.push(l.length-E-1)}}else if(r>a.slides.length-p*2){y=Math.max(r-(a.slides.length-p*2),h.slidesPerGroup);for(let g=0;g<y;g+=1){const E=g-Math.floor(g/l.length)*l.length;b.push(E)}}if(w&&v.forEach(g=>{a.slides[g].swiperLoopMoveDOM=!0,d.prepend(a.slides[g]),a.slides[g].swiperLoopMoveDOM=!1}),x&&b.forEach(g=>{a.slides[g].swiperLoopMoveDOM=!0,d.append(a.slides[g]),a.slides[g].swiperLoopMoveDOM=!1}),a.recalcSlides(),h.slidesPerView==="auto"&&a.updateSlides(),h.watchSlidesProgress&&a.updateSlidesOffset(),t){if(v.length>0&&w)if(typeof n>"u"){const g=a.slidesGrid[m],R=a.slidesGrid[m+A]-g;o?a.setTranslate(a.translate-R):(a.slideTo(m+A,0,!1,!0),i&&(a.touches[a.isHorizontal()?"startX":"startY"]+=R))}else i&&a.slideToLoop(n,0,!1,!0);else if(b.length>0&&x)if(typeof n>"u"){const g=a.slidesGrid[m],R=a.slidesGrid[m-y]-g;o?a.setTranslate(a.translate-R):(a.slideTo(m-y,0,!1,!0),i&&(a.touches[a.isHorizontal()?"startX":"startY"]+=R))}else a.slideToLoop(n,0,!1,!0)}if(a.allowSlidePrev=c,a.allowSlideNext=u,a.controller&&a.controller.control&&!s){const g={slideRealIndex:n,slideTo:!1,direction:e,setTranslate:i,activeSlideIndex:r,byController:!0};Array.isArray(a.controller.control)?a.controller.control.forEach(E=>{!E.destroyed&&E.params.loop&&E.loopFix(g)}):a.controller.control instanceof a.constructor&&a.controller.control.params.loop&&a.controller.control.loopFix(g)}a.emit("loopFix")}function _h(){const n=this,{params:t,slidesEl:e}=n;if(!t.loop||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const i=[];n.slides.forEach(r=>{const s=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[s]=r}),n.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{e.append(r)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}const kh={loopCreate:Dh,loopFix:Lh,loopDestroy:_h};function Oh(n){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const e=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),e.style.cursor="move",e.style.cursor=n?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function Ph(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}const Ih={setGrabCursor:Oh,unsetGrabCursor:Ph};function Mh(n,t=this){function e(i){if(!i||i===we()||i===xt())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(n);return!r&&!i.getRootNode?null:r||e(i.getRootNode().host)}return e(t)}function Nh(n){const t=this,e=we(),i=xt(),r=t.touchEventsData;r.evCache.push(n);const{params:s,touches:o,enabled:a}=t;if(!a||!s.simulateTouch&&n.pointerType==="mouse"||t.animating&&s.preventInteractionOnTransition)return;!t.animating&&s.cssMode&&s.loop&&t.loopFix();let l=n;l.originalEvent&&(l=l.originalEvent);let c=l.target;if(s.touchEventsTarget==="wrapper"&&!t.wrapperEl.contains(c)||"which"in l&&l.which===3||"button"in l&&l.button>0||r.isTouched&&r.isMoved)return;const u=!!s.noSwipingClass&&s.noSwipingClass!=="",d=n.composedPath?n.composedPath():n.path;u&&l.target&&l.target.shadowRoot&&d&&(c=d[0]);const h=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,f=!!(l.target&&l.target.shadowRoot);if(s.noSwiping&&(f?Mh(h,c):c.closest(h))){t.allowClick=!0;return}if(s.swipeHandler&&!c.closest(s.swipeHandler))return;o.currentX=l.pageX,o.currentY=l.pageY;const p=o.currentX,v=o.currentY,b=s.edgeSwipeDetection||s.iOSEdgeSwipeDetection,m=s.edgeSwipeThreshold||s.iOSEdgeSwipeThreshold;if(b&&(p<=m||p>=i.innerWidth-m))if(b==="prevent")n.preventDefault();else return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=p,o.startY=v,r.touchStartTime=ci(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1);let x=!0;c.matches(r.focusableElements)&&(x=!1,c.nodeName==="SELECT"&&(r.isTouched=!1)),e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==c&&e.activeElement.blur();const w=x&&t.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||w)&&!c.isContentEditable&&l.preventDefault(),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.animating&&!s.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",l)}function Fh(n){const t=we(),e=this,i=e.touchEventsData,{params:r,touches:s,rtlTranslate:o,enabled:a}=e;if(!a||!r.simulateTouch&&n.pointerType==="mouse")return;let l=n;if(l.originalEvent&&(l=l.originalEvent),!i.isTouched){i.startMoving&&i.isScrolling&&e.emit("touchMoveOpposite",l);return}const c=i.evCache.findIndex(g=>g.pointerId===l.pointerId);c>=0&&(i.evCache[c]=l);const u=i.evCache.length>1?i.evCache[0]:l,d=u.pageX,h=u.pageY;if(l.preventedByNestedSwiper){s.startX=d,s.startY=h;return}if(!e.allowTouchMove){l.target.matches(i.focusableElements)||(e.allowClick=!1),i.isTouched&&(Object.assign(s,{startX:d,startY:h,prevX:e.touches.currentX,prevY:e.touches.currentY,currentX:d,currentY:h}),i.touchStartTime=ci());return}if(r.touchReleaseOnEdges&&!r.loop){if(e.isVertical()){if(h<s.startY&&e.translate<=e.maxTranslate()||h>s.startY&&e.translate>=e.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(d<s.startX&&e.translate<=e.maxTranslate()||d>s.startX&&e.translate>=e.minTranslate())return}if(t.activeElement&&l.target===t.activeElement&&l.target.matches(i.focusableElements)){i.isMoved=!0,e.allowClick=!1;return}if(i.allowTouchCallbacks&&e.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;s.currentX=d,s.currentY=h;const f=s.currentX-s.startX,p=s.currentY-s.startY;if(e.params.threshold&&Math.sqrt(f**2+p**2)<e.params.threshold)return;if(typeof i.isScrolling>"u"){let g;e.isHorizontal()&&s.currentY===s.startY||e.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:f*f+p*p>=25&&(g=Math.atan2(Math.abs(p),Math.abs(f))*180/Math.PI,i.isScrolling=e.isHorizontal()?g>r.touchAngle:90-g>r.touchAngle)}if(i.isScrolling&&e.emit("touchMoveOpposite",l),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling||e.zoom&&e.params.zoom&&e.params.zoom.enabled&&i.evCache.length>1){i.isTouched=!1;return}if(!i.startMoving)return;e.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation();let v=e.isHorizontal()?f:p,b=e.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(v=Math.abs(v)*(o?1:-1),b=Math.abs(b)*(o?1:-1)),s.diff=v,v*=r.touchRatio,o&&(v=-v,b=-b);const m=e.touchesDirection;e.swipeDirection=v>0?"prev":"next",e.touchesDirection=b>0?"prev":"next";const x=e.params.loop&&!r.cssMode;if(!i.isMoved){if(x&&e.loopFix({direction:e.swipeDirection}),i.startTranslate=e.getTranslate(),e.setTransition(0),e.animating){const g=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(g)}i.allowMomentumBounce=!1,r.grabCursor&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!0),e.emit("sliderFirstMove",l)}let w;i.isMoved&&m!==e.touchesDirection&&x&&Math.abs(v)>=1&&(e.loopFix({direction:e.swipeDirection,setTranslate:!0}),w=!0),e.emit("sliderMove",l),i.isMoved=!0,i.currentTranslate=v+i.startTranslate;let A=!0,y=r.resistanceRatio;if(r.touchReleaseOnEdges&&(y=0),v>0?(x&&!w&&i.currentTranslate>(r.centeredSlides?e.minTranslate()-e.size/2:e.minTranslate())&&e.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>e.minTranslate()&&(A=!1,r.resistance&&(i.currentTranslate=e.minTranslate()-1+(-e.minTranslate()+i.startTranslate+v)**y))):v<0&&(x&&!w&&i.currentTranslate<(r.centeredSlides?e.maxTranslate()+e.size/2:e.maxTranslate())&&e.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:e.slides.length-(r.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<e.maxTranslate()&&(A=!1,r.resistance&&(i.currentTranslate=e.maxTranslate()+1-(e.maxTranslate()-i.startTranslate-v)**y))),A&&(l.preventedByNestedSwiper=!0),!e.allowSlideNext&&e.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!e.allowSlidePrev&&e.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!e.allowSlidePrev&&!e.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(v)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,s.diff=e.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&e.freeMode||r.watchSlidesProgress)&&(e.updateActiveIndex(),e.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.freeMode.onTouchMove(),e.updateProgress(i.currentTranslate),e.setTranslate(i.currentTranslate))}function Bh(n){const t=this,e=t.touchEventsData,i=e.evCache.findIndex(w=>w.pointerId===n.pointerId);if(i>=0&&e.evCache.splice(i,1),["pointercancel","pointerout","pointerleave"].includes(n.type)&&!(n.type==="pointercancel"&&(t.browser.isSafari||t.browser.isWebView)))return;const{params:r,touches:s,rtlTranslate:o,slidesGrid:a,enabled:l}=t;if(!l||!r.simulateTouch&&n.pointerType==="mouse")return;let c=n;if(c.originalEvent&&(c=c.originalEvent),e.allowTouchCallbacks&&t.emit("touchEnd",c),e.allowTouchCallbacks=!1,!e.isTouched){e.isMoved&&r.grabCursor&&t.setGrabCursor(!1),e.isMoved=!1,e.startMoving=!1;return}r.grabCursor&&e.isMoved&&e.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const u=ci(),d=u-e.touchStartTime;if(t.allowClick){const w=c.path||c.composedPath&&c.composedPath();t.updateClickedSlide(w&&w[0]||c.target),t.emit("tap click",c),d<300&&u-e.lastClickTime<300&&t.emit("doubleTap doubleClick",c)}if(e.lastClickTime=ci(),Vr(()=>{t.destroyed||(t.allowClick=!0)}),!e.isTouched||!e.isMoved||!t.swipeDirection||s.diff===0||e.currentTranslate===e.startTranslate){e.isTouched=!1,e.isMoved=!1,e.startMoving=!1;return}e.isTouched=!1,e.isMoved=!1,e.startMoving=!1;let h;if(r.followFinger?h=o?t.translate:-t.translate:h=-e.currentTranslate,r.cssMode)return;if(r.freeMode&&r.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:h});return}let f=0,p=t.slidesSizesGrid[0];for(let w=0;w<a.length;w+=w<r.slidesPerGroupSkip?1:r.slidesPerGroup){const A=w<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof a[w+A]<"u"?h>=a[w]&&h<a[w+A]&&(f=w,p=a[w+A]-a[w]):h>=a[w]&&(f=w,p=a[a.length-1]-a[a.length-2])}let v=null,b=null;r.rewind&&(t.isBeginning?b=r.virtual&&r.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(v=0));const m=(h-a[f])/p,x=f<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(d>r.longSwipesMs){if(!r.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(m>=r.longSwipesRatio?t.slideTo(r.rewind&&t.isEnd?v:f+x):t.slideTo(f)),t.swipeDirection==="prev"&&(m>1-r.longSwipesRatio?t.slideTo(f+x):b!==null&&m<0&&Math.abs(m)>r.longSwipesRatio?t.slideTo(b):t.slideTo(f))}else{if(!r.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(c.target===t.navigation.nextEl||c.target===t.navigation.prevEl)?c.target===t.navigation.nextEl?t.slideTo(f+x):t.slideTo(f):(t.swipeDirection==="next"&&t.slideTo(v!==null?v:f+x),t.swipeDirection==="prev"&&t.slideTo(b!==null?b:f))}}function Bo(){const n=this,{params:t,el:e}=n;if(e&&e.offsetWidth===0)return;t.breakpoints&&n.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=n,o=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const a=o&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!a?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!o?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=r,n.allowSlideNext=i,n.params.watchOverflow&&s!==n.snapGrid&&n.checkOverflow()}function Wh(n){const t=this;!t.enabled||t.allowClick||(t.params.preventClicks&&n.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(n.stopPropagation(),n.stopImmediatePropagation()))}function jh(){const n=this,{wrapperEl:t,rtlTranslate:e,enabled:i}=n;if(!i)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-t.scrollLeft:n.translate=-t.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let r;const s=n.maxTranslate()-n.minTranslate();s===0?r=0:r=(n.translate-n.minTranslate())/s,r!==n.progress&&n.updateProgress(e?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function Hh(n){const t=this;Zn(t,n.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}let Wo=!1;function zh(){}const cl=(n,t)=>{const e=we(),{params:i,el:r,wrapperEl:s,device:o}=n,a=!!i.nested,l=t==="on"?"addEventListener":"removeEventListener",c=t;r[l]("pointerdown",n.onTouchStart,{passive:!1}),e[l]("pointermove",n.onTouchMove,{passive:!1,capture:a}),e[l]("pointerup",n.onTouchEnd,{passive:!0}),e[l]("pointercancel",n.onTouchEnd,{passive:!0}),e[l]("pointerout",n.onTouchEnd,{passive:!0}),e[l]("pointerleave",n.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[l]("click",n.onClick,!0),i.cssMode&&s[l]("scroll",n.onScroll),i.updateOnWindowResize?n[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",Bo,!0):n[c]("observerUpdate",Bo,!0),r[l]("load",n.onLoad,{capture:!0})};function qh(){const n=this,t=we(),{params:e}=n;n.onTouchStart=Nh.bind(n),n.onTouchMove=Fh.bind(n),n.onTouchEnd=Bh.bind(n),e.cssMode&&(n.onScroll=jh.bind(n)),n.onClick=Wh.bind(n),n.onLoad=Hh.bind(n),Wo||(t.addEventListener("touchstart",zh),Wo=!0),cl(n,"on")}function Vh(){cl(this,"off")}const $h={attachEvents:qh,detachEvents:Vh},jo=(n,t)=>n.grid&&t.grid&&t.grid.rows>1;function Uh(){const n=this,{realIndex:t,initialized:e,params:i,el:r}=n,s=i.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=n.getBreakpoint(s,n.params.breakpointsBase,n.el);if(!o||n.currentBreakpoint===o)return;const l=(o in s?s[o]:void 0)||n.originalParams,c=jo(n,i),u=jo(n,l),d=i.enabled;c&&!u?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),n.emitContainerClasses()):!c&&u&&(r.classList.add(`${i.containerModifierClass}grid`),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&i.grid.fill==="column")&&r.classList.add(`${i.containerModifierClass}grid-column`),n.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(v=>{if(typeof l[v]>"u")return;const b=i[v]&&i[v].enabled,m=l[v]&&l[v].enabled;b&&!m&&n[v].disable(),!b&&m&&n[v].enable()});const h=l.direction&&l.direction!==i.direction,f=i.loop&&(l.slidesPerView!==i.slidesPerView||h);h&&e&&n.changeDirection(),mt(n.params,l);const p=n.params.enabled;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),d&&!p?n.disable():!d&&p&&n.enable(),n.currentBreakpoint=o,n.emit("_beforeBreakpoint",l),f&&e&&(n.loopDestroy(),n.loopCreate(t),n.updateSlides()),n.emit("breakpoint",l)}function Yh(n,t="window",e){if(!n||t==="container"&&!e)return;let i=!1;const r=xt(),s=t==="window"?r.innerHeight:e.clientHeight,o=Object.keys(n).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];t==="window"?r.matchMedia(`(min-width: ${c}px)`).matches&&(i=l):c<=e.clientWidth&&(i=l)}return i||"max"}const Xh={setBreakpoint:Uh,getBreakpoint:Yh};function Gh(n,t){const e=[];return n.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&e.push(t+r)}):typeof i=="string"&&e.push(t+i)}),e}function Kh(){const n=this,{classNames:t,params:e,rtl:i,el:r,device:s}=n,o=Gh(["initialized",e.direction,{"free-mode":n.params.freeMode&&e.freeMode.enabled},{autoheight:e.autoHeight},{rtl:i},{grid:e.grid&&e.grid.rows>1},{"grid-column":e.grid&&e.grid.rows>1&&e.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":e.cssMode},{centered:e.cssMode&&e.centeredSlides},{"watch-progress":e.watchSlidesProgress}],e.containerModifierClass);t.push(...o),r.classList.add(...t),n.emitContainerClasses()}function Jh(){const n=this,{el:t,classNames:e}=n;t.classList.remove(...e),n.emitContainerClasses()}const Qh={addClasses:Kh,removeClasses:Jh};function Zh(){const n=this,{isLocked:t,params:e}=n,{slidesOffsetBefore:i}=e;if(i){const r=n.slides.length-1,s=n.slidesGrid[r]+n.slidesSizesGrid[r]+i*2;n.isLocked=n.size>s}else n.isLocked=n.snapGrid.length===1;e.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),e.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),t&&t!==n.isLocked&&(n.isEnd=!1),t!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}const tf={checkOverflow:Zh},Ho={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function ef(n,t){return function(i={}){const r=Object.keys(i)[0],s=i[r];if(typeof s!="object"||s===null){mt(t,i);return}if(["navigation","pagination","scrollbar"].indexOf(r)>=0&&n[r]===!0&&(n[r]={auto:!0}),!(r in n&&"enabled"in s)){mt(t,i);return}n[r]===!0&&(n[r]={enabled:!0}),typeof n[r]=="object"&&!("enabled"in n[r])&&(n[r].enabled=!0),n[r]||(n[r]={enabled:!1}),mt(t,i)}}const ur={eventsEmitter:Qd,update:ch,translate:gh,transition:yh,slide:Rh,loop:kh,grabCursor:Ih,events:$h,breakpoints:Xh,checkOverflow:tf,classes:Qh},dr={};class At{constructor(...t){let e,i;t.length===1&&t[0].constructor&&Object.prototype.toString.call(t[0]).slice(8,-1)==="Object"?i=t[0]:[e,i]=t,i||(i={}),i=mt({},i),e&&!i.el&&(i.el=e);const r=we();if(i.el&&typeof i.el=="string"&&r.querySelectorAll(i.el).length>1){const l=[];return r.querySelectorAll(i.el).forEach(c=>{const u=mt({},i,{el:c});l.push(new At(u))}),l}const s=this;s.__swiper__=!0,s.support=al(),s.device=Yd({userAgent:i.userAgent}),s.browser=Gd(),s.eventsListeners={},s.eventsAnyListeners=[],s.modules=[...s.__modules__],i.modules&&Array.isArray(i.modules)&&s.modules.push(...i.modules);const o={};s.modules.forEach(l=>{l({params:i,swiper:s,extendParams:ef(i,o),on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),emit:s.emit.bind(s)})});const a=mt({},Ho,o);return s.params=mt({},a,dr,i),s.originalParams=mt({},s.params),s.passedParams=mt({},i),s.params&&s.params.on&&Object.keys(s.params.on).forEach(l=>{s.on(l,s.params.on[l])}),s.params&&s.params.onAny&&s.onAny(s.params.onAny),Object.assign(s,{enabled:s.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return s.params.direction==="horizontal"},isVertical(){return s.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.emit("_swiper"),s.params.init&&s.init(),s}getSlideIndex(t){const{slidesEl:e,params:i}=this,r=Mt(e,`.${i.slideClass}, swiper-slide`),s=No(r[0]);return No(t)-s}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter(e=>e.getAttribute("data-swiper-slide-index")*1===t)[0])}recalcSlides(){const t=this,{slidesEl:e,params:i}=t;t.slides=Mt(e,`.${i.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;!t.enabled||(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,e){const i=this;t=Math.min(Math.max(t,0),1);const r=i.minTranslate(),o=(i.maxTranslate()-r)*t+r;i.translateTo(o,typeof e>"u"?0:e),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=t.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",e.join(" "))}getSlideClasses(t){const e=this;return e.destroyed?"":t.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(e.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=[];t.slides.forEach(i=>{const r=t.getSlideClasses(i);e.push({slideEl:i,classNames:r}),t.emit("_slideClass",i,r)}),t.emit("_slideClasses",e)}slidesPerViewDynamic(t="current",e=!1){const i=this,{params:r,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=i;let u=1;if(r.centeredSlides){let d=s[c]?s[c].swiperSlideSize:0,h;for(let f=c+1;f<s.length;f+=1)s[f]&&!h&&(d+=s[f].swiperSlideSize,u+=1,d>l&&(h=!0));for(let f=c-1;f>=0;f-=1)s[f]&&!h&&(d+=s[f].swiperSlideSize,u+=1,d>l&&(h=!0))}else if(t==="current")for(let d=c+1;d<s.length;d+=1)(e?o[d]+a[d]-o[c]<l:o[d]-o[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)o[c]-o[d]<l&&(u+=1);return u}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:e,params:i}=t;i.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Zn(t,o)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function r(){const o=t.rtlTranslate?t.translate*-1:t.translate,a=Math.min(Math.max(o,t.maxTranslate()),t.minTranslate());t.setTranslate(a),t.updateActiveIndex(),t.updateSlidesClasses()}let s;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&t.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&t.isEnd&&!i.centeredSlides){const o=t.virtual&&i.virtual.enabled?t.virtual.slides:t.slides;s=t.slideTo(o.length-1,0,!1,!0)}else s=t.slideTo(t.activeIndex,0,!1,!0);s||r()}i.watchOverflow&&e!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,e=!0){const i=this,r=i.params.direction;return t||(t=r==="horizontal"?"vertical":"horizontal"),t===r||t!=="horizontal"&&t!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${t}`),i.emitContainerClasses(),i.params.direction=t,i.slides.forEach(s=>{t==="vertical"?s.style.width="":s.style.height=""}),i.emit("changeDirection"),e&&i.update()),i}changeLanguageDirection(t){const e=this;e.rtl&&t==="rtl"||!e.rtl&&t==="ltr"||(e.rtl=t==="rtl",e.rtlTranslate=e.params.direction==="horizontal"&&e.rtl,e.rtl?(e.el.classList.add(`${e.params.containerModifierClass}rtl`),e.el.dir="rtl"):(e.el.classList.remove(`${e.params.containerModifierClass}rtl`),e.el.dir="ltr"),e.update())}mount(t){const e=this;if(e.mounted)return!0;let i=t||e.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=e,i.shadowEl&&(e.isElement=!0);const r=()=>`.${(e.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=(()=>i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):Mt(i,r())[0])();return!o&&e.params.createElements&&(o=Hd("div",e.params.wrapperClass),i.append(o),Mt(i,`.${e.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(e,{el:i,wrapperEl:o,slidesEl:e.isElement?i:o,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||Xt(i,"direction")==="rtl",rtlTranslate:e.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||Xt(i,"direction")==="rtl"),wrongRTL:Xt(o,"display")==="-webkit-box"}),!0}init(t){const e=this;return e.initialized||e.mount(t)===!1||(e.emit("beforeInit"),e.params.breakpoints&&e.setBreakpoint(),e.addClasses(),e.updateSize(),e.updateSlides(),e.params.watchOverflow&&e.checkOverflow(),e.params.grabCursor&&e.enabled&&e.setGrabCursor(),e.params.loop&&e.virtual&&e.params.virtual.enabled?e.slideTo(e.params.initialSlide+e.virtual.slidesBefore,0,e.params.runCallbacksOnInit,!1,!0):e.slideTo(e.params.initialSlide,0,e.params.runCallbacksOnInit,!1,!0),e.params.loop&&e.loopCreate(),e.attachEvents(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(r=>{r.complete?Zn(e,r):r.addEventListener("load",s=>{Zn(e,s.target)})}),$r(e),e.initialized=!0,$r(e),e.emit("init"),e.emit("afterInit")),e}destroy(t=!0,e=!0){const i=this,{params:r,el:s,wrapperEl:o,slides:a}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),e&&(i.removeClasses(),s.removeAttribute("style"),o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),t!==!1&&(i.el.swiper=null,Fd(i)),i.destroyed=!0),null}static extendDefaults(t){mt(dr,t)}static get extendedDefaults(){return dr}static get defaults(){return Ho}static installModule(t){At.prototype.__modules__||(At.prototype.__modules__=[]);const e=At.prototype.__modules__;typeof t=="function"&&e.indexOf(t)<0&&e.push(t)}static use(t){return Array.isArray(t)?(t.forEach(e=>At.installModule(e)),At):(At.installModule(t),At)}}Object.keys(ur).forEach(n=>{Object.keys(ur[n]).forEach(t=>{At.prototype[t]=ur[n][t]})});At.use([Kd,Jd]);var Ur=!1,Yr=!1,fe=[],Xr=-1;function nf(n){rf(n)}function rf(n){fe.includes(n)||fe.push(n),sf()}function ul(n){let t=fe.indexOf(n);t!==-1&&t>Xr&&fe.splice(t,1)}function sf(){!Yr&&!Ur&&(Ur=!0,queueMicrotask(of))}function of(){Ur=!1,Yr=!0;for(let n=0;n<fe.length;n++)fe[n](),Xr=n;fe.length=0,Xr=-1,Yr=!1}var Ue,Ye,Dn,dl,Gr=!0;function af(n){Gr=!1,n(),Gr=!0}function lf(n){Ue=n.reactive,Dn=n.release,Ye=t=>n.effect(t,{scheduler:e=>{Gr?nf(e):e()}}),dl=n.raw}function zo(n){Ye=n}function cf(n){let t=()=>{};return[i=>{let r=Ye(i);return n._x_effects||(n._x_effects=new Set,n._x_runEffects=()=>{n._x_effects.forEach(s=>s())}),n._x_effects.add(r),t=()=>{r!==void 0&&(n._x_effects.delete(r),Dn(r))},r},()=>{t()}]}var hl=[],fl=[],pl=[];function uf(n){pl.push(n)}function gl(n,t){typeof t=="function"?(n._x_cleanups||(n._x_cleanups=[]),n._x_cleanups.push(t)):(t=n,fl.push(t))}function df(n){hl.push(n)}function hf(n,t,e){n._x_attributeCleanups||(n._x_attributeCleanups={}),n._x_attributeCleanups[t]||(n._x_attributeCleanups[t]=[]),n._x_attributeCleanups[t].push(e)}function ml(n,t){!n._x_attributeCleanups||Object.entries(n._x_attributeCleanups).forEach(([e,i])=>{(t===void 0||t.includes(e))&&(i.forEach(r=>r()),delete n._x_attributeCleanups[e])})}var _s=new MutationObserver(Is),ks=!1;function Os(){_s.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),ks=!0}function vl(){ff(),_s.disconnect(),ks=!1}var dn=[],hr=!1;function ff(){dn=dn.concat(_s.takeRecords()),dn.length&&!hr&&(hr=!0,queueMicrotask(()=>{pf(),hr=!1}))}function pf(){Is(dn),dn.length=0}function et(n){if(!ks)return n();vl();let t=n();return Os(),t}var Ps=!1,ui=[];function gf(){Ps=!0}function mf(){Ps=!1,Is(ui),ui=[]}function Is(n){if(Ps){ui=ui.concat(n);return}let t=[],e=[],i=new Map,r=new Map;for(let s=0;s<n.length;s++)if(!n[s].target._x_ignoreMutationObserver&&(n[s].type==="childList"&&(n[s].addedNodes.forEach(o=>o.nodeType===1&&t.push(o)),n[s].removedNodes.forEach(o=>o.nodeType===1&&e.push(o))),n[s].type==="attributes")){let o=n[s].target,a=n[s].attributeName,l=n[s].oldValue,c=()=>{i.has(o)||i.set(o,[]),i.get(o).push({name:a,value:o.getAttribute(a)})},u=()=>{r.has(o)||r.set(o,[]),r.get(o).push(a)};o.hasAttribute(a)&&l===null?c():o.hasAttribute(a)?(u(),c()):u()}r.forEach((s,o)=>{ml(o,s)}),i.forEach((s,o)=>{hl.forEach(a=>a(o,s))});for(let s of e)if(!t.includes(s)&&(fl.forEach(o=>o(s)),s._x_cleanups))for(;s._x_cleanups.length;)s._x_cleanups.pop()();t.forEach(s=>{s._x_ignoreSelf=!0,s._x_ignore=!0});for(let s of t)e.includes(s)||!s.isConnected||(delete s._x_ignoreSelf,delete s._x_ignore,pl.forEach(o=>o(s)),s._x_ignore=!0,s._x_ignoreSelf=!0);t.forEach(s=>{delete s._x_ignoreSelf,delete s._x_ignore}),t=null,e=null,i=null,r=null}function bl(n){return _n(He(n))}function Ln(n,t,e){return n._x_dataStack=[t,...He(e||n)],()=>{n._x_dataStack=n._x_dataStack.filter(i=>i!==t)}}function He(n){return n._x_dataStack?n._x_dataStack:typeof ShadowRoot=="function"&&n instanceof ShadowRoot?He(n.host):n.parentNode?He(n.parentNode):[]}function _n(n){let t=new Proxy({},{ownKeys:()=>Array.from(new Set(n.flatMap(e=>Object.keys(e)))),has:(e,i)=>n.some(r=>r.hasOwnProperty(i)),get:(e,i)=>(n.find(r=>{if(r.hasOwnProperty(i)){let s=Object.getOwnPropertyDescriptor(r,i);if(s.get&&s.get._x_alreadyBound||s.set&&s.set._x_alreadyBound)return!0;if((s.get||s.set)&&s.enumerable){let o=s.get,a=s.set,l=s;o=o&&o.bind(t),a=a&&a.bind(t),o&&(o._x_alreadyBound=!0),a&&(a._x_alreadyBound=!0),Object.defineProperty(r,i,{...l,get:o,set:a})}return!0}return!1})||{})[i],set:(e,i,r)=>{let s=n.find(o=>o.hasOwnProperty(i));return s?s[i]=r:n[n.length-1][i]=r,!0}});return t}function yl(n){let t=i=>typeof i=="object"&&!Array.isArray(i)&&i!==null,e=(i,r="")=>{Object.entries(Object.getOwnPropertyDescriptors(i)).forEach(([s,{value:o,enumerable:a}])=>{if(a===!1||o===void 0)return;let l=r===""?s:`${r}.${s}`;typeof o=="object"&&o!==null&&o._x_interceptor?i[s]=o.initialize(n,l,s):t(o)&&o!==i&&!(o instanceof Element)&&e(o,l)})};return e(n)}function xl(n,t=()=>{}){let e={initialValue:void 0,_x_interceptor:!0,initialize(i,r,s){return n(this.initialValue,()=>vf(i,r),o=>Kr(i,r,o),r,s)}};return t(e),i=>{if(typeof i=="object"&&i!==null&&i._x_interceptor){let r=e.initialize.bind(e);e.initialize=(s,o,a)=>{let l=i.initialize(s,o,a);return e.initialValue=l,r(s,o,a)}}else e.initialValue=i;return e}}function vf(n,t){return t.split(".").reduce((e,i)=>e[i],n)}function Kr(n,t,e){if(typeof t=="string"&&(t=t.split(".")),t.length===1)n[t[0]]=e;else{if(t.length===0)throw error;return n[t[0]]||(n[t[0]]={}),Kr(n[t[0]],t.slice(1),e)}}var wl={};function Dt(n,t){wl[n]=t}function Jr(n,t){return Object.entries(wl).forEach(([e,i])=>{let r=null;function s(){if(r)return r;{let[o,a]=Tl(t);return r={interceptor:xl,...o},gl(t,a),r}}Object.defineProperty(n,`$${e}`,{get(){return i(t,s())},enumerable:!1})}),n}function bf(n,t,e,...i){try{return e(...i)}catch(r){En(r,n,t)}}function En(n,t,e=void 0){Object.assign(n,{el:t,expression:e}),console.warn(`Alpine Expression Error: ${n.message}

${e?'Expression: "'+e+`"

`:""}`,t),setTimeout(()=>{throw n},0)}var ti=!0;function yf(n){let t=ti;ti=!1,n(),ti=t}function Ie(n,t,e={}){let i;return at(n,t)(r=>i=r,e),i}function at(...n){return Al(...n)}var Al=Sl;function xf(n){Al=n}function Sl(n,t){let e={};Jr(e,n);let i=[e,...He(n)],r=typeof t=="function"?wf(i,t):Sf(i,t,n);return bf.bind(null,n,t,r)}function wf(n,t){return(e=()=>{},{scope:i={},params:r=[]}={})=>{let s=t.apply(_n([i,...n]),r);di(e,s)}}var fr={};function Af(n,t){if(fr[n])return fr[n];let e=Object.getPrototypeOf(async function(){}).constructor,i=/^[\n\s]*if.*\(.*\)/.test(n)||/^(let|const)\s/.test(n)?`(async()=>{ ${n} })()`:n,s=(()=>{try{return new e(["__self","scope"],`with (scope) { __self.result = ${i} }; __self.finished = true; return __self.result;`)}catch(o){return En(o,t,n),Promise.resolve()}})();return fr[n]=s,s}function Sf(n,t,e){let i=Af(t,e);return(r=()=>{},{scope:s={},params:o=[]}={})=>{i.result=void 0,i.finished=!1;let a=_n([s,...n]);if(typeof i=="function"){let l=i(i,a).catch(c=>En(c,e,t));i.finished?(di(r,i.result,a,o,e),i.result=void 0):l.then(c=>{di(r,c,a,o,e)}).catch(c=>En(c,e,t)).finally(()=>i.result=void 0)}}}function di(n,t,e,i,r){if(ti&&typeof t=="function"){let s=t.apply(e,i);s instanceof Promise?s.then(o=>di(n,o,e,i)).catch(o=>En(o,r,t)):n(s)}else typeof t=="object"&&t instanceof Promise?t.then(s=>n(s)):n(t)}var Ms="x-";function Xe(n=""){return Ms+n}function Ef(n){Ms=n}var Qr={};function J(n,t){return Qr[n]=t,{before(e){if(!Qr[e]){console.warn("Cannot find directive `${directive}`. `${name}` will use the default order of execution");return}const i=de.indexOf(e);de.splice(i>=0?i:de.indexOf("DEFAULT"),0,n)}}}function Ns(n,t,e){if(t=Array.from(t),n._x_virtualDirectives){let s=Object.entries(n._x_virtualDirectives).map(([a,l])=>({name:a,value:l})),o=El(s);s=s.map(a=>o.find(l=>l.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),t=t.concat(s)}let i={};return t.map(Ll((s,o)=>i[s]=o)).filter(kl).map(Rf(i,e)).sort(Df).map(s=>Tf(n,s))}function El(n){return Array.from(n).map(Ll()).filter(t=>!kl(t))}var Zr=!1,on=new Map,Cl=Symbol();function Cf(n){Zr=!0;let t=Symbol();Cl=t,on.set(t,[]);let e=()=>{for(;on.get(t).length;)on.get(t).shift()();on.delete(t)},i=()=>{Zr=!1,e()};n(e),i()}function Tl(n){let t=[],e=a=>t.push(a),[i,r]=cf(n);return t.push(r),[{Alpine:On,effect:i,cleanup:e,evaluateLater:at.bind(at,n),evaluate:Ie.bind(Ie,n)},()=>t.forEach(a=>a())]}function Tf(n,t){let e=()=>{},i=Qr[t.type]||e,[r,s]=Tl(n);hf(n,t.original,s);let o=()=>{n._x_ignore||n._x_ignoreSelf||(i.inline&&i.inline(n,t,r),i=i.bind(i,n,t,r),Zr?on.get(Cl).push(i):i())};return o.runCleanups=s,o}var Rl=(n,t)=>({name:e,value:i})=>(e.startsWith(n)&&(e=e.replace(n,t)),{name:e,value:i}),Dl=n=>n;function Ll(n=()=>{}){return({name:t,value:e})=>{let{name:i,value:r}=_l.reduce((s,o)=>o(s),{name:t,value:e});return i!==t&&n(i,t),{name:i,value:r}}}var _l=[];function Fs(n){_l.push(n)}function kl({name:n}){return Ol().test(n)}var Ol=()=>new RegExp(`^${Ms}([^:^.]+)\\b`);function Rf(n,t){return({name:e,value:i})=>{let r=e.match(Ol()),s=e.match(/:([a-zA-Z0-9\-:]+)/),o=e.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=t||n[e]||e;return{type:r?r[1]:null,value:s?s[1]:null,modifiers:o.map(l=>l.replace(".","")),expression:i,original:a}}}var ts="DEFAULT",de=["ignore","ref","data","id","bind","init","for","model","modelable","transition","show","if",ts,"teleport"];function Df(n,t){let e=de.indexOf(n.type)===-1?ts:n.type,i=de.indexOf(t.type)===-1?ts:t.type;return de.indexOf(e)-de.indexOf(i)}function hn(n,t,e={}){n.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:!0,composed:!0,cancelable:!0}))}function Qt(n,t){if(typeof ShadowRoot=="function"&&n instanceof ShadowRoot){Array.from(n.children).forEach(r=>Qt(r,t));return}let e=!1;if(t(n,()=>e=!0),e)return;let i=n.firstElementChild;for(;i;)Qt(i,t),i=i.nextElementSibling}function Zt(n,...t){console.warn(`Alpine Warning: ${n}`,...t)}var qo=!1;function Lf(){qo&&Zt("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),qo=!0,document.body||Zt("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),hn(document,"alpine:init"),hn(document,"alpine:initializing"),Os(),uf(t=>te(t,Qt)),gl(t=>Wl(t)),df((t,e)=>{Ns(t,e).forEach(i=>i())});let n=t=>!Li(t.parentElement,!0);Array.from(document.querySelectorAll(Ml())).filter(n).forEach(t=>{te(t)}),hn(document,"alpine:initialized")}var Bs=[],Pl=[];function Il(){return Bs.map(n=>n())}function Ml(){return Bs.concat(Pl).map(n=>n())}function Nl(n){Bs.push(n)}function Fl(n){Pl.push(n)}function Li(n,t=!1){return _i(n,e=>{if((t?Ml():Il()).some(r=>e.matches(r)))return!0})}function _i(n,t){if(!!n){if(t(n))return n;if(n._x_teleportBack&&(n=n._x_teleportBack),!!n.parentElement)return _i(n.parentElement,t)}}function _f(n){return Il().some(t=>n.matches(t))}var Bl=[];function kf(n){Bl.push(n)}function te(n,t=Qt,e=()=>{}){Cf(()=>{t(n,(i,r)=>{e(i,r),Bl.forEach(s=>s(i,r)),Ns(i,i.attributes).forEach(s=>s()),i._x_ignore&&r()})})}function Wl(n){Qt(n,t=>ml(t))}var es=[],Ws=!1;function js(n=()=>{}){return queueMicrotask(()=>{Ws||setTimeout(()=>{ns()})}),new Promise(t=>{es.push(()=>{n(),t()})})}function ns(){for(Ws=!1;es.length;)es.shift()()}function Of(){Ws=!0}function Hs(n,t){return Array.isArray(t)?Vo(n,t.join(" ")):typeof t=="object"&&t!==null?Pf(n,t):typeof t=="function"?Hs(n,t()):Vo(n,t)}function Vo(n,t){let e=r=>r.split(" ").filter(s=>!n.classList.contains(s)).filter(Boolean),i=r=>(n.classList.add(...r),()=>{n.classList.remove(...r)});return t=t===!0?t="":t||"",i(e(t))}function Pf(n,t){let e=a=>a.split(" ").filter(Boolean),i=Object.entries(t).flatMap(([a,l])=>l?e(a):!1).filter(Boolean),r=Object.entries(t).flatMap(([a,l])=>l?!1:e(a)).filter(Boolean),s=[],o=[];return r.forEach(a=>{n.classList.contains(a)&&(n.classList.remove(a),o.push(a))}),i.forEach(a=>{n.classList.contains(a)||(n.classList.add(a),s.push(a))}),()=>{o.forEach(a=>n.classList.add(a)),s.forEach(a=>n.classList.remove(a))}}function ki(n,t){return typeof t=="object"&&t!==null?If(n,t):Mf(n,t)}function If(n,t){let e={};return Object.entries(t).forEach(([i,r])=>{e[i]=n.style[i],i.startsWith("--")||(i=Nf(i)),n.style.setProperty(i,r)}),setTimeout(()=>{n.style.length===0&&n.removeAttribute("style")}),()=>{ki(n,e)}}function Mf(n,t){let e=n.getAttribute("style",t);return n.setAttribute("style",t),()=>{n.setAttribute("style",e||"")}}function Nf(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function is(n,t=()=>{}){let e=!1;return function(){e?t.apply(this,arguments):(e=!0,n.apply(this,arguments))}}J("transition",(n,{value:t,modifiers:e,expression:i},{evaluate:r})=>{typeof i=="function"&&(i=r(i)),i!==!1&&(!i||typeof i=="boolean"?Bf(n,e,t):Ff(n,i,t))});function Ff(n,t,e){jl(n,Hs,""),{enter:r=>{n._x_transition.enter.during=r},"enter-start":r=>{n._x_transition.enter.start=r},"enter-end":r=>{n._x_transition.enter.end=r},leave:r=>{n._x_transition.leave.during=r},"leave-start":r=>{n._x_transition.leave.start=r},"leave-end":r=>{n._x_transition.leave.end=r}}[e](t)}function Bf(n,t,e){jl(n,ki);let i=!t.includes("in")&&!t.includes("out")&&!e,r=i||t.includes("in")||["enter"].includes(e),s=i||t.includes("out")||["leave"].includes(e);t.includes("in")&&!i&&(t=t.filter((m,x)=>x<t.indexOf("out"))),t.includes("out")&&!i&&(t=t.filter((m,x)=>x>t.indexOf("out")));let o=!t.includes("opacity")&&!t.includes("scale"),a=o||t.includes("opacity"),l=o||t.includes("scale"),c=a?0:1,u=l?tn(t,"scale",95)/100:1,d=tn(t,"delay",0)/1e3,h=tn(t,"origin","center"),f="opacity, transform",p=tn(t,"duration",150)/1e3,v=tn(t,"duration",75)/1e3,b="cubic-bezier(0.4, 0.0, 0.2, 1)";r&&(n._x_transition.enter.during={transformOrigin:h,transitionDelay:`${d}s`,transitionProperty:f,transitionDuration:`${p}s`,transitionTimingFunction:b},n._x_transition.enter.start={opacity:c,transform:`scale(${u})`},n._x_transition.enter.end={opacity:1,transform:"scale(1)"}),s&&(n._x_transition.leave.during={transformOrigin:h,transitionDelay:`${d}s`,transitionProperty:f,transitionDuration:`${v}s`,transitionTimingFunction:b},n._x_transition.leave.start={opacity:1,transform:"scale(1)"},n._x_transition.leave.end={opacity:c,transform:`scale(${u})`})}function jl(n,t,e={}){n._x_transition||(n._x_transition={enter:{during:e,start:e,end:e},leave:{during:e,start:e,end:e},in(i=()=>{},r=()=>{}){rs(n,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},i,r)},out(i=()=>{},r=()=>{}){rs(n,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},i,r)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(n,t,e,i){const r=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let s=()=>r(e);if(t){n._x_transition&&(n._x_transition.enter||n._x_transition.leave)?n._x_transition.enter&&(Object.entries(n._x_transition.enter.during).length||Object.entries(n._x_transition.enter.start).length||Object.entries(n._x_transition.enter.end).length)?n._x_transition.in(e):s():n._x_transition?n._x_transition.in(e):s();return}n._x_hidePromise=n._x_transition?new Promise((o,a)=>{n._x_transition.out(()=>{},()=>o(i)),n._x_transitioning.beforeCancel(()=>a({isFromCancelledTransition:!0}))}):Promise.resolve(i),queueMicrotask(()=>{let o=Hl(n);o?(o._x_hideChildren||(o._x_hideChildren=[]),o._x_hideChildren.push(n)):r(()=>{let a=l=>{let c=Promise.all([l._x_hidePromise,...(l._x_hideChildren||[]).map(a)]).then(([u])=>u());return delete l._x_hidePromise,delete l._x_hideChildren,c};a(n).catch(l=>{if(!l.isFromCancelledTransition)throw l})})})};function Hl(n){let t=n.parentNode;if(!!t)return t._x_hidePromise?t:Hl(t)}function rs(n,t,{during:e,start:i,end:r}={},s=()=>{},o=()=>{}){if(n._x_transitioning&&n._x_transitioning.cancel(),Object.keys(e).length===0&&Object.keys(i).length===0&&Object.keys(r).length===0){s(),o();return}let a,l,c;Wf(n,{start(){a=t(n,i)},during(){l=t(n,e)},before:s,end(){a(),c=t(n,r)},after:o,cleanup(){l(),c()}})}function Wf(n,t){let e,i,r,s=is(()=>{et(()=>{e=!0,i||t.before(),r||(t.end(),ns()),t.after(),n.isConnected&&t.cleanup(),delete n._x_transitioning})});n._x_transitioning={beforeCancels:[],beforeCancel(o){this.beforeCancels.push(o)},cancel:is(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();s()}),finish:s},et(()=>{t.start(),t.during()}),Of(),requestAnimationFrame(()=>{if(e)return;let o=Number(getComputedStyle(n).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,a=Number(getComputedStyle(n).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;o===0&&(o=Number(getComputedStyle(n).animationDuration.replace("s",""))*1e3),et(()=>{t.before()}),i=!0,requestAnimationFrame(()=>{e||(et(()=>{t.end()}),ns(),setTimeout(n._x_transitioning.finish,o+a),r=!0)})})}function tn(n,t,e){if(n.indexOf(t)===-1)return e;const i=n[n.indexOf(t)+1];if(!i||t==="scale"&&isNaN(i))return e;if(t==="duration"||t==="delay"){let r=i.match(/([0-9]+)ms/);if(r)return r[1]}return t==="origin"&&["top","right","left","center","bottom"].includes(n[n.indexOf(t)+2])?[i,n[n.indexOf(t)+2]].join(" "):i}var Cn=!1;function kn(n,t=()=>{}){return(...e)=>Cn?t(...e):n(...e)}function jf(n){return(...t)=>Cn&&n(...t)}function Hf(n,t){t._x_dataStack||(t._x_dataStack=n._x_dataStack),Cn=!0,qf(()=>{zf(t)}),Cn=!1}function zf(n){let t=!1;te(n,(i,r)=>{Qt(i,(s,o)=>{if(t&&_f(s))return o();t=!0,r(s,o)})})}function qf(n){let t=Ye;zo((e,i)=>{let r=t(e);return Dn(r),()=>{}}),n(),zo(t)}function zl(n,t,e,i=[]){switch(n._x_bindings||(n._x_bindings=Ue({})),n._x_bindings[t]=e,t=i.includes("camel")?Jf(t):t,t){case"value":Vf(n,e);break;case"style":Uf(n,e);break;case"class":$f(n,e);break;case"selected":case"checked":Yf(n,t,e);break;default:ql(n,t,e);break}}function Vf(n,t){if(n.type==="radio")n.attributes.value===void 0&&(n.value=t),window.fromModel&&(n.checked=$o(n.value,t));else if(n.type==="checkbox")Number.isInteger(t)?n.value=t:!Number.isInteger(t)&&!Array.isArray(t)&&typeof t!="boolean"&&![null,void 0].includes(t)?n.value=String(t):Array.isArray(t)?n.checked=t.some(e=>$o(e,n.value)):n.checked=!!t;else if(n.tagName==="SELECT")Kf(n,t);else{if(n.value===t)return;n.value=t}}function $f(n,t){n._x_undoAddedClasses&&n._x_undoAddedClasses(),n._x_undoAddedClasses=Hs(n,t)}function Uf(n,t){n._x_undoAddedStyles&&n._x_undoAddedStyles(),n._x_undoAddedStyles=ki(n,t)}function Yf(n,t,e){ql(n,t,e),Gf(n,t,e)}function ql(n,t,e){[null,void 0,!1].includes(e)&&Qf(t)?n.removeAttribute(t):(Vl(t)&&(e=t),Xf(n,t,e))}function Xf(n,t,e){n.getAttribute(t)!=e&&n.setAttribute(t,e)}function Gf(n,t,e){n[t]!==e&&(n[t]=e)}function Kf(n,t){const e=[].concat(t).map(i=>i+"");Array.from(n.options).forEach(i=>{i.selected=e.includes(i.value)})}function Jf(n){return n.toLowerCase().replace(/-(\w)/g,(t,e)=>e.toUpperCase())}function $o(n,t){return n==t}function Vl(n){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(n)}function Qf(n){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(n)}function Zf(n,t,e){if(n._x_bindings&&n._x_bindings[t]!==void 0)return n._x_bindings[t];let i=n.getAttribute(t);return i===null?typeof e=="function"?e():e:i===""?!0:Vl(t)?!![t,"true"].includes(i):i}function $l(n,t){var e;return function(){var i=this,r=arguments,s=function(){e=null,n.apply(i,r)};clearTimeout(e),e=setTimeout(s,t)}}function Ul(n,t){let e;return function(){let i=this,r=arguments;e||(n.apply(i,r),e=!0,setTimeout(()=>e=!1,t))}}function tp(n){(Array.isArray(n)?n:[n]).forEach(e=>e(On))}var le={},Uo=!1;function ep(n,t){if(Uo||(le=Ue(le),Uo=!0),t===void 0)return le[n];le[n]=t,typeof t=="object"&&t!==null&&t.hasOwnProperty("init")&&typeof t.init=="function"&&le[n].init(),yl(le[n])}function np(){return le}var Yl={};function ip(n,t){let e=typeof t!="function"?()=>t:t;n instanceof Element?Xl(n,e()):Yl[n]=e}function rp(n){return Object.entries(Yl).forEach(([t,e])=>{Object.defineProperty(n,t,{get(){return(...i)=>e(...i)}})}),n}function Xl(n,t,e){let i=[];for(;i.length;)i.pop()();let r=Object.entries(t).map(([o,a])=>({name:o,value:a})),s=El(r);r=r.map(o=>s.find(a=>a.name===o.name)?{name:`x-bind:${o.name}`,value:`"${o.value}"`}:o),Ns(n,r,e).map(o=>{i.push(o.runCleanups),o()})}var Gl={};function sp(n,t){Gl[n]=t}function op(n,t){return Object.entries(Gl).forEach(([e,i])=>{Object.defineProperty(n,e,{get(){return(...r)=>i.bind(t)(...r)},enumerable:!1})}),n}var ap={get reactive(){return Ue},get release(){return Dn},get effect(){return Ye},get raw(){return dl},version:"3.12.2",flushAndStopDeferringMutations:mf,dontAutoEvaluateFunctions:yf,disableEffectScheduling:af,startObservingMutations:Os,stopObservingMutations:vl,setReactivityEngine:lf,closestDataStack:He,skipDuringClone:kn,onlyDuringClone:jf,addRootSelector:Nl,addInitSelector:Fl,addScopeToNode:Ln,deferMutations:gf,mapAttributes:Fs,evaluateLater:at,interceptInit:kf,setEvaluator:xf,mergeProxies:_n,findClosest:_i,closestRoot:Li,destroyTree:Wl,interceptor:xl,transition:rs,setStyles:ki,mutateDom:et,directive:J,throttle:Ul,debounce:$l,evaluate:Ie,initTree:te,nextTick:js,prefixed:Xe,prefix:Ef,plugin:tp,magic:Dt,store:ep,start:Lf,clone:Hf,bound:Zf,$data:bl,walk:Qt,data:sp,bind:ip},On=ap;function lp(n,t){const e=Object.create(null),i=n.split(",");for(let r=0;r<i.length;r++)e[i[r]]=!0;return t?r=>!!e[r.toLowerCase()]:r=>!!e[r]}var cp=Object.freeze({});Object.freeze([]);var Kl=Object.assign,up=Object.prototype.hasOwnProperty,Oi=(n,t)=>up.call(n,t),pe=Array.isArray,fn=n=>Jl(n)==="[object Map]",dp=n=>typeof n=="string",zs=n=>typeof n=="symbol",Pi=n=>n!==null&&typeof n=="object",hp=Object.prototype.toString,Jl=n=>hp.call(n),Ql=n=>Jl(n).slice(8,-1),qs=n=>dp(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,fp=n=>{const t=Object.create(null);return e=>t[e]||(t[e]=n(e))},pp=fp(n=>n.charAt(0).toUpperCase()+n.slice(1)),Zl=(n,t)=>n!==t&&(n===n||t===t),ss=new WeakMap,en=[],Lt,ge=Symbol("iterate"),os=Symbol("Map key iterate");function gp(n){return n&&n._isEffect===!0}function mp(n,t=cp){gp(n)&&(n=n.raw);const e=yp(n,t);return t.lazy||e(),e}function vp(n){n.active&&(tc(n),n.options.onStop&&n.options.onStop(),n.active=!1)}var bp=0;function yp(n,t){const e=function(){if(!e.active)return n();if(!en.includes(e)){tc(e);try{return wp(),en.push(e),Lt=e,n()}finally{en.pop(),ec(),Lt=en[en.length-1]}}};return e.id=bp++,e.allowRecurse=!!t.allowRecurse,e._isEffect=!0,e.active=!0,e.raw=n,e.deps=[],e.options=t,e}function tc(n){const{deps:t}=n;if(t.length){for(let e=0;e<t.length;e++)t[e].delete(n);t.length=0}}var ze=!0,Vs=[];function xp(){Vs.push(ze),ze=!1}function wp(){Vs.push(ze),ze=!0}function ec(){const n=Vs.pop();ze=n===void 0?!0:n}function Rt(n,t,e){if(!ze||Lt===void 0)return;let i=ss.get(n);i||ss.set(n,i=new Map);let r=i.get(e);r||i.set(e,r=new Set),r.has(Lt)||(r.add(Lt),Lt.deps.push(r),Lt.options.onTrack&&Lt.options.onTrack({effect:Lt,target:n,type:t,key:e}))}function ee(n,t,e,i,r,s){const o=ss.get(n);if(!o)return;const a=new Set,l=u=>{u&&u.forEach(d=>{(d!==Lt||d.allowRecurse)&&a.add(d)})};if(t==="clear")o.forEach(l);else if(e==="length"&&pe(n))o.forEach((u,d)=>{(d==="length"||d>=i)&&l(u)});else switch(e!==void 0&&l(o.get(e)),t){case"add":pe(n)?qs(e)&&l(o.get("length")):(l(o.get(ge)),fn(n)&&l(o.get(os)));break;case"delete":pe(n)||(l(o.get(ge)),fn(n)&&l(o.get(os)));break;case"set":fn(n)&&l(o.get(ge));break}const c=u=>{u.options.onTrigger&&u.options.onTrigger({effect:u,target:n,key:e,type:t,newValue:i,oldValue:r,oldTarget:s}),u.options.scheduler?u.options.scheduler(u):u()};a.forEach(c)}var Ap=lp("__proto__,__v_isRef,__isVue"),nc=new Set(Object.getOwnPropertyNames(Symbol).map(n=>Symbol[n]).filter(zs)),Sp=Ii(),Ep=Ii(!1,!0),Cp=Ii(!0),Tp=Ii(!0,!0),hi={};["includes","indexOf","lastIndexOf"].forEach(n=>{const t=Array.prototype[n];hi[n]=function(...e){const i=j(this);for(let s=0,o=this.length;s<o;s++)Rt(i,"get",s+"");const r=t.apply(i,e);return r===-1||r===!1?t.apply(i,e.map(j)):r}});["push","pop","shift","unshift","splice"].forEach(n=>{const t=Array.prototype[n];hi[n]=function(...e){xp();const i=t.apply(this,e);return ec(),i}});function Ii(n=!1,t=!1){return function(i,r,s){if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_raw"&&s===(n?t?Np:vc:t?Mp:mc).get(i))return i;const o=pe(i);if(!n&&o&&Oi(hi,r))return Reflect.get(hi,r,s);const a=Reflect.get(i,r,s);return(zs(r)?nc.has(r):Ap(r))||(n||Rt(i,"get",r),t)?a:as(a)?!o||!qs(r)?a.value:a:Pi(a)?n?bc(a):Xs(a):a}}var Rp=ic(),Dp=ic(!0);function ic(n=!1){return function(e,i,r,s){let o=e[i];if(!n&&(r=j(r),o=j(o),!pe(e)&&as(o)&&!as(r)))return o.value=r,!0;const a=pe(e)&&qs(i)?Number(i)<e.length:Oi(e,i),l=Reflect.set(e,i,r,s);return e===j(s)&&(a?Zl(r,o)&&ee(e,"set",i,r,o):ee(e,"add",i,r)),l}}function Lp(n,t){const e=Oi(n,t),i=n[t],r=Reflect.deleteProperty(n,t);return r&&e&&ee(n,"delete",t,void 0,i),r}function _p(n,t){const e=Reflect.has(n,t);return(!zs(t)||!nc.has(t))&&Rt(n,"has",t),e}function kp(n){return Rt(n,"iterate",pe(n)?"length":ge),Reflect.ownKeys(n)}var rc={get:Sp,set:Rp,deleteProperty:Lp,has:_p,ownKeys:kp},sc={get:Cp,set(n,t){return console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,n),!0},deleteProperty(n,t){return console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,n),!0}};Kl({},rc,{get:Ep,set:Dp});Kl({},sc,{get:Tp});var $s=n=>Pi(n)?Xs(n):n,Us=n=>Pi(n)?bc(n):n,Ys=n=>n,Mi=n=>Reflect.getPrototypeOf(n);function Ni(n,t,e=!1,i=!1){n=n.__v_raw;const r=j(n),s=j(t);t!==s&&!e&&Rt(r,"get",t),!e&&Rt(r,"get",s);const{has:o}=Mi(r),a=i?Ys:e?Us:$s;if(o.call(r,t))return a(n.get(t));if(o.call(r,s))return a(n.get(s));n!==r&&n.get(t)}function Fi(n,t=!1){const e=this.__v_raw,i=j(e),r=j(n);return n!==r&&!t&&Rt(i,"has",n),!t&&Rt(i,"has",r),n===r?e.has(n):e.has(n)||e.has(r)}function Bi(n,t=!1){return n=n.__v_raw,!t&&Rt(j(n),"iterate",ge),Reflect.get(n,"size",n)}function oc(n){n=j(n);const t=j(this);return Mi(t).has.call(t,n)||(t.add(n),ee(t,"add",n,n)),this}function ac(n,t){t=j(t);const e=j(this),{has:i,get:r}=Mi(e);let s=i.call(e,n);s?gc(e,i,n):(n=j(n),s=i.call(e,n));const o=r.call(e,n);return e.set(n,t),s?Zl(t,o)&&ee(e,"set",n,t,o):ee(e,"add",n,t),this}function lc(n){const t=j(this),{has:e,get:i}=Mi(t);let r=e.call(t,n);r?gc(t,e,n):(n=j(n),r=e.call(t,n));const s=i?i.call(t,n):void 0,o=t.delete(n);return r&&ee(t,"delete",n,void 0,s),o}function cc(){const n=j(this),t=n.size!==0,e=fn(n)?new Map(n):new Set(n),i=n.clear();return t&&ee(n,"clear",void 0,void 0,e),i}function Wi(n,t){return function(i,r){const s=this,o=s.__v_raw,a=j(o),l=t?Ys:n?Us:$s;return!n&&Rt(a,"iterate",ge),o.forEach((c,u)=>i.call(r,l(c),l(u),s))}}function qn(n,t,e){return function(...i){const r=this.__v_raw,s=j(r),o=fn(s),a=n==="entries"||n===Symbol.iterator&&o,l=n==="keys"&&o,c=r[n](...i),u=e?Ys:t?Us:$s;return!t&&Rt(s,"iterate",l?os:ge),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:a?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function Gt(n){return function(...t){{const e=t[0]?`on key "${t[0]}" `:"";console.warn(`${pp(n)} operation ${e}failed: target is readonly.`,j(this))}return n==="delete"?!1:this}}var uc={get(n){return Ni(this,n)},get size(){return Bi(this)},has:Fi,add:oc,set:ac,delete:lc,clear:cc,forEach:Wi(!1,!1)},dc={get(n){return Ni(this,n,!1,!0)},get size(){return Bi(this)},has:Fi,add:oc,set:ac,delete:lc,clear:cc,forEach:Wi(!1,!0)},hc={get(n){return Ni(this,n,!0)},get size(){return Bi(this,!0)},has(n){return Fi.call(this,n,!0)},add:Gt("add"),set:Gt("set"),delete:Gt("delete"),clear:Gt("clear"),forEach:Wi(!0,!1)},fc={get(n){return Ni(this,n,!0,!0)},get size(){return Bi(this,!0)},has(n){return Fi.call(this,n,!0)},add:Gt("add"),set:Gt("set"),delete:Gt("delete"),clear:Gt("clear"),forEach:Wi(!0,!0)},Op=["keys","values","entries",Symbol.iterator];Op.forEach(n=>{uc[n]=qn(n,!1,!1),hc[n]=qn(n,!0,!1),dc[n]=qn(n,!1,!0),fc[n]=qn(n,!0,!0)});function pc(n,t){const e=t?n?fc:dc:n?hc:uc;return(i,r,s)=>r==="__v_isReactive"?!n:r==="__v_isReadonly"?n:r==="__v_raw"?i:Reflect.get(Oi(e,r)&&r in i?e:i,r,s)}var Pp={get:pc(!1,!1)},Ip={get:pc(!0,!1)};function gc(n,t,e){const i=j(e);if(i!==e&&t.call(n,i)){const r=Ql(n);console.warn(`Reactive ${r} contains both the raw and reactive versions of the same object${r==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var mc=new WeakMap,Mp=new WeakMap,vc=new WeakMap,Np=new WeakMap;function Fp(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Bp(n){return n.__v_skip||!Object.isExtensible(n)?0:Fp(Ql(n))}function Xs(n){return n&&n.__v_isReadonly?n:yc(n,!1,rc,Pp,mc)}function bc(n){return yc(n,!0,sc,Ip,vc)}function yc(n,t,e,i,r){if(!Pi(n))return console.warn(`value cannot be made reactive: ${String(n)}`),n;if(n.__v_raw&&!(t&&n.__v_isReactive))return n;const s=r.get(n);if(s)return s;const o=Bp(n);if(o===0)return n;const a=new Proxy(n,o===2?i:e);return r.set(n,a),a}function j(n){return n&&j(n.__v_raw)||n}function as(n){return Boolean(n&&n.__v_isRef===!0)}Dt("nextTick",()=>js);Dt("dispatch",n=>hn.bind(hn,n));Dt("watch",(n,{evaluateLater:t,effect:e})=>(i,r)=>{let s=t(i),o=!0,a,l=e(()=>s(c=>{JSON.stringify(c),o?a=c:queueMicrotask(()=>{r(c,a),a=c}),o=!1}));n._x_effects.delete(l)});Dt("store",np);Dt("data",n=>bl(n));Dt("root",n=>Li(n));Dt("refs",n=>(n._x_refs_proxy||(n._x_refs_proxy=_n(Wp(n))),n._x_refs_proxy));function Wp(n){let t=[],e=n;for(;e;)e._x_refs&&t.push(e._x_refs),e=e.parentNode;return t}var pr={};function xc(n){return pr[n]||(pr[n]=0),++pr[n]}function jp(n,t){return _i(n,e=>{if(e._x_ids&&e._x_ids[t])return!0})}function Hp(n,t){n._x_ids||(n._x_ids={}),n._x_ids[t]||(n._x_ids[t]=xc(t))}Dt("id",n=>(t,e=null)=>{let i=jp(n,t),r=i?i._x_ids[t]:xc(t);return e?`${t}-${r}-${e}`:`${t}-${r}`});Dt("el",n=>n);wc("Focus","focus","focus");wc("Persist","persist","persist");function wc(n,t,e){Dt(t,i=>Zt(`You can't use [$${directiveName}] without first installing the "${n}" plugin here: https://alpinejs.dev/plugins/${e}`,i))}function zp({get:n,set:t},{get:e,set:i}){let r=!0,s,o,a=Ye(()=>{let l,c;r?(l=n(),i(l),c=e(),r=!1):(l=n(),c=e(),o=JSON.stringify(l),JSON.stringify(c),o!==s?(c=e(),i(l),c=l):(t(c),l=c)),s=JSON.stringify(l),JSON.stringify(c)});return()=>{Dn(a)}}J("modelable",(n,{expression:t},{effect:e,evaluateLater:i,cleanup:r})=>{let s=i(t),o=()=>{let u;return s(d=>u=d),u},a=i(`${t} = __placeholder`),l=u=>a(()=>{},{scope:{__placeholder:u}}),c=o();l(c),queueMicrotask(()=>{if(!n._x_model)return;n._x_removeModelListeners.default();let u=n._x_model.get,d=n._x_model.set,h=zp({get(){return u()},set(f){d(f)}},{get(){return o()},set(f){l(f)}});r(h)})});var qp=document.createElement("div");J("teleport",(n,{modifiers:t,expression:e},{cleanup:i})=>{n.tagName.toLowerCase()!=="template"&&Zt("x-teleport can only be used on a <template> tag",n);let r=kn(()=>document.querySelector(e),()=>qp)();r||Zt(`Cannot find x-teleport element for selector: "${e}"`);let s=n.content.cloneNode(!0).firstElementChild;n._x_teleport=s,s._x_teleportBack=n,n._x_forwardEvents&&n._x_forwardEvents.forEach(o=>{s.addEventListener(o,a=>{a.stopPropagation(),n.dispatchEvent(new a.constructor(a.type,a))})}),Ln(s,{},n),et(()=>{t.includes("prepend")?r.parentNode.insertBefore(s,r):t.includes("append")?r.parentNode.insertBefore(s,r.nextSibling):r.appendChild(s),te(s),s._x_ignore=!0}),i(()=>s.remove())});var Ac=()=>{};Ac.inline=(n,{modifiers:t},{cleanup:e})=>{t.includes("self")?n._x_ignoreSelf=!0:n._x_ignore=!0,e(()=>{t.includes("self")?delete n._x_ignoreSelf:delete n._x_ignore})};J("ignore",Ac);J("effect",(n,{expression:t},{effect:e})=>e(at(n,t)));function ls(n,t,e,i){let r=n,s=l=>i(l),o={},a=(l,c)=>u=>c(l,u);if(e.includes("dot")&&(t=Vp(t)),e.includes("camel")&&(t=$p(t)),e.includes("passive")&&(o.passive=!0),e.includes("capture")&&(o.capture=!0),e.includes("window")&&(r=window),e.includes("document")&&(r=document),e.includes("debounce")){let l=e[e.indexOf("debounce")+1]||"invalid-wait",c=fi(l.split("ms")[0])?Number(l.split("ms")[0]):250;s=$l(s,c)}if(e.includes("throttle")){let l=e[e.indexOf("throttle")+1]||"invalid-wait",c=fi(l.split("ms")[0])?Number(l.split("ms")[0]):250;s=Ul(s,c)}return e.includes("prevent")&&(s=a(s,(l,c)=>{c.preventDefault(),l(c)})),e.includes("stop")&&(s=a(s,(l,c)=>{c.stopPropagation(),l(c)})),e.includes("self")&&(s=a(s,(l,c)=>{c.target===n&&l(c)})),(e.includes("away")||e.includes("outside"))&&(r=document,s=a(s,(l,c)=>{n.contains(c.target)||c.target.isConnected!==!1&&(n.offsetWidth<1&&n.offsetHeight<1||n._x_isShown!==!1&&l(c))})),e.includes("once")&&(s=a(s,(l,c)=>{l(c),r.removeEventListener(t,s,o)})),s=a(s,(l,c)=>{Yp(t)&&Xp(c,e)||l(c)}),r.addEventListener(t,s,o),()=>{r.removeEventListener(t,s,o)}}function Vp(n){return n.replace(/-/g,".")}function $p(n){return n.toLowerCase().replace(/-(\w)/g,(t,e)=>e.toUpperCase())}function fi(n){return!Array.isArray(n)&&!isNaN(n)}function Up(n){return[" ","_"].includes(n)?n:n.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function Yp(n){return["keydown","keyup"].includes(n)}function Xp(n,t){let e=t.filter(s=>!["window","document","prevent","stop","once","capture"].includes(s));if(e.includes("debounce")){let s=e.indexOf("debounce");e.splice(s,fi((e[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(e.includes("throttle")){let s=e.indexOf("throttle");e.splice(s,fi((e[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(e.length===0||e.length===1&&Yo(n.key).includes(e[0]))return!1;const r=["ctrl","shift","alt","meta","cmd","super"].filter(s=>e.includes(s));return e=e.filter(s=>!r.includes(s)),!(r.length>0&&r.filter(o=>((o==="cmd"||o==="super")&&(o="meta"),n[`${o}Key`])).length===r.length&&Yo(n.key).includes(e[0]))}function Yo(n){if(!n)return[];n=Up(n);let t={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return t[n]=n,Object.keys(t).map(e=>{if(t[e]===n)return e}).filter(e=>e)}J("model",(n,{modifiers:t,expression:e},{effect:i,cleanup:r})=>{let s=n;t.includes("parent")&&(s=n.parentNode);let o=at(s,e),a;typeof e=="string"?a=at(s,`${e} = __placeholder`):typeof e=="function"&&typeof e()=="string"?a=at(s,`${e()} = __placeholder`):a=()=>{};let l=()=>{let h;return o(f=>h=f),Xo(h)?h.get():h},c=h=>{let f;o(p=>f=p),Xo(f)?f.set(h):a(()=>{},{scope:{__placeholder:h}})};typeof e=="string"&&n.type==="radio"&&et(()=>{n.hasAttribute("name")||n.setAttribute("name",e)});var u=n.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(n.type)||t.includes("lazy")?"change":"input";let d=Cn?()=>{}:ls(n,u,t,h=>{c(Gp(n,t,h,l()))});if(t.includes("fill")&&[null,""].includes(l())&&n.dispatchEvent(new Event(u,{})),n._x_removeModelListeners||(n._x_removeModelListeners={}),n._x_removeModelListeners.default=d,r(()=>n._x_removeModelListeners.default()),n.form){let h=ls(n.form,"reset",[],f=>{js(()=>n._x_model&&n._x_model.set(n.value))});r(()=>h())}n._x_model={get(){return l()},set(h){c(h)}},n._x_forceModelUpdate=h=>{h=h===void 0?l():h,h===void 0&&typeof e=="string"&&e.match(/\./)&&(h=""),window.fromModel=!0,et(()=>zl(n,"value",h)),delete window.fromModel},i(()=>{let h=l();t.includes("unintrusive")&&document.activeElement.isSameNode(n)||n._x_forceModelUpdate(h)})});function Gp(n,t,e,i){return et(()=>{var r;if(e instanceof CustomEvent&&e.detail!==void 0)return(r=e.detail)!=null?r:e.target.value;if(n.type==="checkbox")if(Array.isArray(i)){let s=t.includes("number")?gr(e.target.value):e.target.value;return e.target.checked?i.concat([s]):i.filter(o=>!Kp(o,s))}else return e.target.checked;else{if(n.tagName.toLowerCase()==="select"&&n.multiple)return t.includes("number")?Array.from(e.target.selectedOptions).map(s=>{let o=s.value||s.text;return gr(o)}):Array.from(e.target.selectedOptions).map(s=>s.value||s.text);{let s=e.target.value;return t.includes("number")?gr(s):t.includes("trim")?s.trim():s}}})}function gr(n){let t=n?parseFloat(n):null;return Jp(t)?t:n}function Kp(n,t){return n==t}function Jp(n){return!Array.isArray(n)&&!isNaN(n)}function Xo(n){return n!==null&&typeof n=="object"&&typeof n.get=="function"&&typeof n.set=="function"}J("cloak",n=>queueMicrotask(()=>et(()=>n.removeAttribute(Xe("cloak")))));Fl(()=>`[${Xe("init")}]`);J("init",kn((n,{expression:t},{evaluate:e})=>typeof t=="string"?!!t.trim()&&e(t,{},!1):e(t,{},!1)));J("text",(n,{expression:t},{effect:e,evaluateLater:i})=>{let r=i(t);e(()=>{r(s=>{et(()=>{n.textContent=s})})})});J("html",(n,{expression:t},{effect:e,evaluateLater:i})=>{let r=i(t);e(()=>{r(s=>{et(()=>{n.innerHTML=s,n._x_ignoreSelf=!0,te(n),delete n._x_ignoreSelf})})})});Fs(Rl(":",Dl(Xe("bind:"))));J("bind",(n,{value:t,modifiers:e,expression:i,original:r},{effect:s})=>{if(!t){let a={};rp(a),at(n,i)(c=>{Xl(n,c,r)},{scope:a});return}if(t==="key")return Qp(n,i);let o=at(n,i);s(()=>o(a=>{a===void 0&&typeof i=="string"&&i.match(/\./)&&(a=""),et(()=>zl(n,t,a,e))}))});function Qp(n,t){n._x_keyExpression=t}Nl(()=>`[${Xe("data")}]`);J("data",kn((n,{expression:t},{cleanup:e})=>{t=t===""?"{}":t;let i={};Jr(i,n);let r={};op(r,i);let s=Ie(n,t,{scope:r});(s===void 0||s===!0)&&(s={}),Jr(s,n);let o=Ue(s);yl(o);let a=Ln(n,o);o.init&&Ie(n,o.init),e(()=>{o.destroy&&Ie(n,o.destroy),a()})}));J("show",(n,{modifiers:t,expression:e},{effect:i})=>{let r=at(n,e);n._x_doHide||(n._x_doHide=()=>{et(()=>{n.style.setProperty("display","none",t.includes("important")?"important":void 0)})}),n._x_doShow||(n._x_doShow=()=>{et(()=>{n.style.length===1&&n.style.display==="none"?n.removeAttribute("style"):n.style.removeProperty("display")})});let s=()=>{n._x_doHide(),n._x_isShown=!1},o=()=>{n._x_doShow(),n._x_isShown=!0},a=()=>setTimeout(o),l=is(d=>d?o():s(),d=>{typeof n._x_toggleAndCascadeWithTransitions=="function"?n._x_toggleAndCascadeWithTransitions(n,d,o,s):d?a():s()}),c,u=!0;i(()=>r(d=>{!u&&d===c||(t.includes("immediate")&&(d?a():s()),l(d),c=d,u=!1)}))});J("for",(n,{expression:t},{effect:e,cleanup:i})=>{let r=tg(t),s=at(n,r.items),o=at(n,n._x_keyExpression||"index");n._x_prevKeys=[],n._x_lookup={},e(()=>Zp(n,r,s,o)),i(()=>{Object.values(n._x_lookup).forEach(a=>a.remove()),delete n._x_prevKeys,delete n._x_lookup})});function Zp(n,t,e,i){let r=o=>typeof o=="object"&&!Array.isArray(o),s=n;e(o=>{eg(o)&&o>=0&&(o=Array.from(Array(o).keys(),b=>b+1)),o===void 0&&(o=[]);let a=n._x_lookup,l=n._x_prevKeys,c=[],u=[];if(r(o))o=Object.entries(o).map(([b,m])=>{let x=Go(t,m,b,o);i(w=>u.push(w),{scope:{index:b,...x}}),c.push(x)});else for(let b=0;b<o.length;b++){let m=Go(t,o[b],b,o);i(x=>u.push(x),{scope:{index:b,...m}}),c.push(m)}let d=[],h=[],f=[],p=[];for(let b=0;b<l.length;b++){let m=l[b];u.indexOf(m)===-1&&f.push(m)}l=l.filter(b=>!f.includes(b));let v="template";for(let b=0;b<u.length;b++){let m=u[b],x=l.indexOf(m);if(x===-1)l.splice(b,0,m),d.push([v,b]);else if(x!==b){let w=l.splice(b,1)[0],A=l.splice(x-1,1)[0];l.splice(b,0,A),l.splice(x,0,w),h.push([w,A])}else p.push(m);v=m}for(let b=0;b<f.length;b++){let m=f[b];a[m]._x_effects&&a[m]._x_effects.forEach(ul),a[m].remove(),a[m]=null,delete a[m]}for(let b=0;b<h.length;b++){let[m,x]=h[b],w=a[m],A=a[x],y=document.createElement("div");et(()=>{A||Zt('x-for ":key" is undefined or invalid',s),A.after(y),w.after(A),A._x_currentIfEl&&A.after(A._x_currentIfEl),y.before(w),w._x_currentIfEl&&w.after(w._x_currentIfEl),y.remove()}),A._x_refreshXForScope(c[u.indexOf(x)])}for(let b=0;b<d.length;b++){let[m,x]=d[b],w=m==="template"?s:a[m];w._x_currentIfEl&&(w=w._x_currentIfEl);let A=c[x],y=u[x],g=document.importNode(s.content,!0).firstElementChild,E=Ue(A);Ln(g,E,s),g._x_refreshXForScope=R=>{Object.entries(R).forEach(([D,$])=>{E[D]=$})},et(()=>{w.after(g),te(g)}),typeof y=="object"&&Zt("x-for key cannot be an object, it must be a string or an integer",s),a[y]=g}for(let b=0;b<p.length;b++)a[p[b]]._x_refreshXForScope(c[u.indexOf(p[b])]);s._x_prevKeys=u})}function tg(n){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,e=/^\s*\(|\)\s*$/g,i=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,r=n.match(i);if(!r)return;let s={};s.items=r[2].trim();let o=r[1].replace(e,"").trim(),a=o.match(t);return a?(s.item=o.replace(t,"").trim(),s.index=a[1].trim(),a[2]&&(s.collection=a[2].trim())):s.item=o,s}function Go(n,t,e,i){let r={};return/^\[.*\]$/.test(n.item)&&Array.isArray(t)?n.item.replace("[","").replace("]","").split(",").map(o=>o.trim()).forEach((o,a)=>{r[o]=t[a]}):/^\{.*\}$/.test(n.item)&&!Array.isArray(t)&&typeof t=="object"?n.item.replace("{","").replace("}","").split(",").map(o=>o.trim()).forEach(o=>{r[o]=t[o]}):r[n.item]=t,n.index&&(r[n.index]=e),n.collection&&(r[n.collection]=i),r}function eg(n){return!Array.isArray(n)&&!isNaN(n)}function Sc(){}Sc.inline=(n,{expression:t},{cleanup:e})=>{let i=Li(n);i._x_refs||(i._x_refs={}),i._x_refs[t]=n,e(()=>delete i._x_refs[t])};J("ref",Sc);J("if",(n,{expression:t},{effect:e,cleanup:i})=>{let r=at(n,t),s=()=>{if(n._x_currentIfEl)return n._x_currentIfEl;let a=n.content.cloneNode(!0).firstElementChild;return Ln(a,{},n),et(()=>{n.after(a),te(a)}),n._x_currentIfEl=a,n._x_undoIf=()=>{Qt(a,l=>{l._x_effects&&l._x_effects.forEach(ul)}),a.remove(),delete n._x_currentIfEl},a},o=()=>{!n._x_undoIf||(n._x_undoIf(),delete n._x_undoIf)};e(()=>r(a=>{a?s():o()})),i(()=>n._x_undoIf&&n._x_undoIf())});J("id",(n,{expression:t},{evaluate:e})=>{e(t).forEach(r=>Hp(n,r))});Fs(Rl("@",Dl(Xe("on:"))));J("on",kn((n,{value:t,modifiers:e,expression:i},{cleanup:r})=>{let s=i?at(n,i):()=>{};n.tagName.toLowerCase()==="template"&&(n._x_forwardEvents||(n._x_forwardEvents=[]),n._x_forwardEvents.includes(t)||n._x_forwardEvents.push(t));let o=ls(n,t,e,a=>{s(()=>{},{scope:{$event:a},params:[a]})});r(()=>o())}));ji("Collapse","collapse","collapse");ji("Intersect","intersect","intersect");ji("Focus","trap","focus");ji("Mask","mask","mask");function ji(n,t,e){J(t,i=>Zt(`You can't use [x-${t}] without first installing the "${n}" plugin here: https://alpinejs.dev/plugins/${e}`,i))}On.setEvaluator(Sl);On.setReactivityEngine({reactive:Xs,effect:mp,release:vp,raw:j});var ng=On,Ge=ng;function ig(n){n.directive("collapse",t),t.inline=(e,{modifiers:i})=>{!i.includes("min")||(e._x_doShow=()=>{},e._x_doHide=()=>{})};function t(e,{modifiers:i}){let r=Ko(i,"duration",250)/1e3,s=Ko(i,"min",0),o=!i.includes("min");e._x_isShown||(e.style.height=`${s}px`),!e._x_isShown&&o&&(e.hidden=!0),e._x_isShown||(e.style.overflow="hidden");let a=(c,u)=>{let d=n.setStyles(c,u);return u.height?()=>{}:d},l={transitionProperty:"height",transitionDuration:`${r}s`,transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)"};e._x_transition={in(c=()=>{},u=()=>{}){o&&(e.hidden=!1),o&&(e.style.display=null);let d=e.getBoundingClientRect().height;e.style.height="auto";let h=e.getBoundingClientRect().height;d===h&&(d=s),n.transition(e,n.setStyles,{during:l,start:{height:d+"px"},end:{height:h+"px"}},()=>e._x_isShown=!0,()=>{e.getBoundingClientRect().height==h&&(e.style.overflow=null)})},out(c=()=>{},u=()=>{}){let d=e.getBoundingClientRect().height;n.transition(e,a,{during:l,start:{height:d+"px"},end:{height:s+"px"}},()=>e.style.overflow="hidden",()=>{e._x_isShown=!1,e.style.height==`${s}px`&&o&&(e.style.display="none",e.hidden=!0)})}}}}function Ko(n,t,e){if(n.indexOf(t)===-1)return e;const i=n[n.indexOf(t)+1];if(!i)return e;if(t==="duration"){let r=i.match(/([0-9]+)ms/);if(r)return r[1]}if(t==="min"){let r=i.match(/([0-9]+)px/);if(r)return r[1]}return i}var rg=ig;/*!
* tabbable 5.2.1
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Ec=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],Jo=Ec.join(","),pi=typeof Element>"u"?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Cc=function(t,e,i){var r=Array.prototype.slice.apply(t.querySelectorAll(Jo));return e&&pi.call(t,Jo)&&r.unshift(t),r=r.filter(i),r},sg=function(t){return t.contentEditable==="true"},Tc=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return isNaN(e)?sg(t)||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e},og=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},Gs=function(t){return t.tagName==="INPUT"},ag=function(t){return Gs(t)&&t.type==="hidden"},lg=function(t){var e=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(i){return i.tagName==="SUMMARY"});return e},cg=function(t,e){for(var i=0;i<t.length;i++)if(t[i].checked&&t[i].form===e)return t[i]},ug=function(t){if(!t.name)return!0;var e=t.form||t.ownerDocument,i=function(a){return e.querySelectorAll('input[type="radio"][name="'+a+'"]')},r;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")r=i(window.CSS.escape(t.name));else try{r=i(t.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=cg(r,t.form);return!s||s===t},dg=function(t){return Gs(t)&&t.type==="radio"},hg=function(t){return dg(t)&&!ug(t)},fg=function(t,e){if(getComputedStyle(t).visibility==="hidden")return!0;var i=pi.call(t,"details>summary:first-of-type"),r=i?t.parentElement:t;if(pi.call(r,"details:not([open]) *"))return!0;if(!e||e==="full")for(;t;){if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}else if(e==="non-zero-area"){var s=t.getBoundingClientRect(),o=s.width,a=s.height;return o===0&&a===0}return!1},pg=function(t){if(Gs(t)||t.tagName==="SELECT"||t.tagName==="TEXTAREA"||t.tagName==="BUTTON")for(var e=t.parentElement;e;){if(e.tagName==="FIELDSET"&&e.disabled){for(var i=0;i<e.children.length;i++){var r=e.children.item(i);if(r.tagName==="LEGEND")return!r.contains(t)}return!0}e=e.parentElement}return!1},Ks=function(t,e){return!(e.disabled||ag(e)||fg(e,t.displayCheck)||lg(e)||pg(e))},gg=function(t,e){return!(!Ks(t,e)||hg(e)||Tc(e)<0)},mg=function(t,e){e=e||{};var i=[],r=[],s=Cc(t,e.includeContainer,gg.bind(null,e));s.forEach(function(a,l){var c=Tc(a);c===0?i.push(a):r.push({documentOrder:l,tabIndex:c,node:a})});var o=r.sort(og).map(function(a){return a.node}).concat(i);return o},vg=function(t,e){e=e||{};var i=Cc(t,e.includeContainer,Ks.bind(null,e));return i},bg=Ec.concat("iframe").join(","),Rc=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return pi.call(t,bg)===!1?!1:Ks(e,t)};/*!
* focus-trap 6.6.1
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Qo(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function yg(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Qo(Object(e),!0).forEach(function(i){xg(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Qo(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function xg(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Zo=function(){var n=[];return{activateTrap:function(e){if(n.length>0){var i=n[n.length-1];i!==e&&i.pause()}var r=n.indexOf(e);r===-1||n.splice(r,1),n.push(e)},deactivateTrap:function(e){var i=n.indexOf(e);i!==-1&&n.splice(i,1),n.length>0&&n[n.length-1].unpause()}}}(),wg=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},Ag=function(t){return t.key==="Escape"||t.key==="Esc"||t.keyCode===27},Sg=function(t){return t.key==="Tab"||t.keyCode===9},ta=function(t){return setTimeout(t,0)},mr=function(t,e){var i=-1;return t.every(function(r,s){return e(r)?(i=s,!1):!0}),i},nn=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return typeof t=="function"?t.apply(void 0,i):t},Eg=function(t,e){var i=document,r=yg({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},e),s={containers:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},o,a=function(g,E,R){return g&&g[E]!==void 0?g[E]:r[R||E]},l=function(g){return s.containers.some(function(E){return E.contains(g)})},c=function(g){var E=r[g];if(!E)return null;var R=E;if(typeof E=="string"&&(R=i.querySelector(E),!R))throw new Error("`".concat(g,"` refers to no known node"));if(typeof E=="function"&&(R=E(),!R))throw new Error("`".concat(g,"` did not return a node"));return R},u=function(){var g;if(a({},"initialFocus")===!1)return!1;if(c("initialFocus")!==null)g=c("initialFocus");else if(l(i.activeElement))g=i.activeElement;else{var E=s.tabbableGroups[0],R=E&&E.firstTabbableNode;g=R||c("fallbackFocus")}if(!g)throw new Error("Your focus-trap needs to have at least one focusable element");return g},d=function(){if(s.tabbableGroups=s.containers.map(function(g){var E=mg(g);if(E.length>0)return{container:g,firstTabbableNode:E[0],lastTabbableNode:E[E.length-1]}}).filter(function(g){return!!g}),s.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},h=function y(g){if(g!==!1&&g!==i.activeElement){if(!g||!g.focus){y(u());return}g.focus({preventScroll:!!r.preventScroll}),s.mostRecentlyFocusedNode=g,wg(g)&&g.select()}},f=function(g){var E=c("setReturnFocus");return E||g},p=function(g){if(!l(g.target)){if(nn(r.clickOutsideDeactivates,g)){o.deactivate({returnFocus:r.returnFocusOnDeactivate&&!Rc(g.target)});return}nn(r.allowOutsideClick,g)||g.preventDefault()}},v=function(g){var E=l(g.target);E||g.target instanceof Document?E&&(s.mostRecentlyFocusedNode=g.target):(g.stopImmediatePropagation(),h(s.mostRecentlyFocusedNode||u()))},b=function(g){d();var E=null;if(s.tabbableGroups.length>0){var R=mr(s.tabbableGroups,function(nt){var U=nt.container;return U.contains(g.target)});if(R<0)g.shiftKey?E=s.tabbableGroups[s.tabbableGroups.length-1].lastTabbableNode:E=s.tabbableGroups[0].firstTabbableNode;else if(g.shiftKey){var D=mr(s.tabbableGroups,function(nt){var U=nt.firstTabbableNode;return g.target===U});if(D<0&&s.tabbableGroups[R].container===g.target&&(D=R),D>=0){var $=D===0?s.tabbableGroups.length-1:D-1,C=s.tabbableGroups[$];E=C.lastTabbableNode}}else{var T=mr(s.tabbableGroups,function(nt){var U=nt.lastTabbableNode;return g.target===U});if(T<0&&s.tabbableGroups[R].container===g.target&&(T=R),T>=0){var k=T===s.tabbableGroups.length-1?0:T+1,B=s.tabbableGroups[k];E=B.firstTabbableNode}}}else E=c("fallbackFocus");E&&(g.preventDefault(),h(E))},m=function(g){if(Ag(g)&&nn(r.escapeDeactivates)!==!1){g.preventDefault(),o.deactivate();return}if(Sg(g)){b(g);return}},x=function(g){nn(r.clickOutsideDeactivates,g)||l(g.target)||nn(r.allowOutsideClick,g)||(g.preventDefault(),g.stopImmediatePropagation())},w=function(){if(!!s.active)return Zo.activateTrap(o),s.delayInitialFocusTimer=r.delayInitialFocus?ta(function(){h(u())}):h(u()),i.addEventListener("focusin",v,!0),i.addEventListener("mousedown",p,{capture:!0,passive:!1}),i.addEventListener("touchstart",p,{capture:!0,passive:!1}),i.addEventListener("click",x,{capture:!0,passive:!1}),i.addEventListener("keydown",m,{capture:!0,passive:!1}),o},A=function(){if(!!s.active)return i.removeEventListener("focusin",v,!0),i.removeEventListener("mousedown",p,!0),i.removeEventListener("touchstart",p,!0),i.removeEventListener("click",x,!0),i.removeEventListener("keydown",m,!0),o};return o={activate:function(g){if(s.active)return this;var E=a(g,"onActivate"),R=a(g,"onPostActivate"),D=a(g,"checkCanFocusTrap");D||d(),s.active=!0,s.paused=!1,s.nodeFocusedBeforeActivation=i.activeElement,E&&E();var $=function(){D&&d(),w(),R&&R()};return D?(D(s.containers.concat()).then($,$),this):($(),this)},deactivate:function(g){if(!s.active)return this;clearTimeout(s.delayInitialFocusTimer),s.delayInitialFocusTimer=void 0,A(),s.active=!1,s.paused=!1,Zo.deactivateTrap(o);var E=a(g,"onDeactivate"),R=a(g,"onPostDeactivate"),D=a(g,"checkCanReturnFocus");E&&E();var $=a(g,"returnFocus","returnFocusOnDeactivate"),C=function(){ta(function(){$&&h(f(s.nodeFocusedBeforeActivation)),R&&R()})};return $&&D?(D(f(s.nodeFocusedBeforeActivation)).then(C,C),this):(C(),this)},pause:function(){return s.paused||!s.active?this:(s.paused=!0,A(),this)},unpause:function(){return!s.paused||!s.active?this:(s.paused=!1,d(),w(),this)},updateContainerElements:function(g){var E=[].concat(g).filter(Boolean);return s.containers=E.map(function(R){return typeof R=="string"?i.querySelector(R):R}),s.active&&d(),this}},o.updateContainerElements(t),o};function Cg(n){let t,e;window.addEventListener("focusin",()=>{t=e,e=document.activeElement}),n.magic("focus",i=>{let r=i;return{__noscroll:!1,__wrapAround:!1,within(s){return r=s,this},withoutScrolling(){return this.__noscroll=!0,this},noscroll(){return this.__noscroll=!0,this},withWrapAround(){return this.__wrapAround=!0,this},wrap(){return this.withWrapAround()},focusable(s){return Rc(s)},previouslyFocused(){return t},lastFocused(){return t},focused(){return e},focusables(){return Array.isArray(r)?r:vg(r,{displayCheck:"none"})},all(){return this.focusables()},isFirst(s){let o=this.all();return o[0]&&o[0].isSameNode(s)},isLast(s){let o=this.all();return o.length&&o.slice(-1)[0].isSameNode(s)},getFirst(){return this.all()[0]},getLast(){return this.all().slice(-1)[0]},getNext(){let s=this.all(),o=document.activeElement;if(s.indexOf(o)!==-1)return this.__wrapAround&&s.indexOf(o)===s.length-1?s[0]:s[s.indexOf(o)+1]},getPrevious(){let s=this.all(),o=document.activeElement;if(s.indexOf(o)!==-1)return this.__wrapAround&&s.indexOf(o)===0?s.slice(-1)[0]:s[s.indexOf(o)-1]},first(){this.focus(this.getFirst())},last(){this.focus(this.getLast())},next(){this.focus(this.getNext())},previous(){this.focus(this.getPrevious())},prev(){return this.previous()},focus(s){!s||setTimeout(()=>{s.hasAttribute("tabindex")||s.setAttribute("tabindex","0"),s.focus({preventScroll:this._noscroll})})}}}),n.directive("trap",n.skipDuringClone((i,{expression:r,modifiers:s},{effect:o,evaluateLater:a,cleanup:l})=>{let c=a(r),u=!1,d={escapeDeactivates:!1,allowOutsideClick:!0,fallbackFocus:()=>i},h=i.querySelector("[autofocus]");h&&(d.initialFocus=h);let f=Eg(i,d),p=()=>{},v=()=>{};const b=()=>{p(),p=()=>{},v(),v=()=>{},f.deactivate({returnFocus:!s.includes("noreturn")})};o(()=>c(m=>{u!==m&&(m&&!u&&setTimeout(()=>{s.includes("inert")&&(p=ea(i)),s.includes("noscroll")&&(v=Tg()),f.activate()}),!m&&u&&b(),u=!!m)})),l(b)},(i,{expression:r,modifiers:s},{evaluate:o})=>{s.includes("inert")&&o(r)&&ea(i)}))}function ea(n){let t=[];return Dc(n,e=>{let i=e.hasAttribute("aria-hidden");e.setAttribute("aria-hidden","true"),t.push(()=>i||e.removeAttribute("aria-hidden"))}),()=>{for(;t.length;)t.pop()()}}function Dc(n,t){n.isSameNode(document.body)||!n.parentNode||Array.from(n.parentNode.children).forEach(e=>{e.isSameNode(n)?Dc(n.parentNode,t):t(e)})}function Tg(){let n=document.documentElement.style.overflow,t=document.documentElement.style.paddingRight,e=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${e}px`,()=>{document.documentElement.style.overflow=n,document.documentElement.style.paddingRight=t}}var Rg=Cg;function Dg(n){n.directive("intersect",(t,{value:e,expression:i,modifiers:r},{evaluateLater:s,cleanup:o})=>{let a=s(i),l={rootMargin:kg(r),threshold:Lg(r)},c=new IntersectionObserver(u=>{u.forEach(d=>{d.isIntersecting!==(e==="leave")&&(a(),r.includes("once")&&c.disconnect())})},l);c.observe(t),o(()=>{c.disconnect()})})}function Lg(n){if(n.includes("full"))return .99;if(n.includes("half"))return .5;if(!n.includes("threshold"))return 0;let t=n[n.indexOf("threshold")+1];return t==="100"?1:t==="0"?0:Number(`.${t}`)}function _g(n){let t=n.match(/^(-?[0-9]+)(px|%)?$/);return t?t[1]+(t[2]||"px"):void 0}function kg(n){const t="margin",e="0px 0px 0px 0px",i=n.indexOf(t);if(i===-1)return e;let r=[];for(let s=1;s<5;s++)r.push(_g(n[i+s]||""));return r=r.filter(s=>s!==void 0),r.length?r.join(" ").trim():e}var Og=Dg;/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function na(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Pt(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?na(Object(e),!0).forEach(function(i){Pg(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):na(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function ei(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ei=function(t){return typeof t}:ei=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ei(n)}function Pg(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Wt(){return Wt=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Wt.apply(this,arguments)}function Ig(n,t){if(n==null)return{};var e={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&(e[r]=n[r]);return e}function Mg(n,t){if(n==null)return{};var e=Ig(n,t),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(t.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,i)||(e[i]=n[i]))}return e}var Ng="1.15.0";function Bt(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var Ht=Bt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Pn=Bt(/Edge/i),ia=Bt(/firefox/i),pn=Bt(/safari/i)&&!Bt(/chrome/i)&&!Bt(/android/i),Lc=Bt(/iP(ad|od|hone)/i),_c=Bt(/chrome/i)&&Bt(/android/i),kc={capture:!1,passive:!1};function N(n,t,e){n.addEventListener(t,e,!Ht&&kc)}function M(n,t,e){n.removeEventListener(t,e,!Ht&&kc)}function gi(n,t){if(!!t){if(t[0]===">"&&(t=t.substring(1)),n)try{if(n.matches)return n.matches(t);if(n.msMatchesSelector)return n.msMatchesSelector(t);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(t)}catch{return!1}return!1}}function Fg(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function _t(n,t,e,i){if(n){e=e||document;do{if(t!=null&&(t[0]===">"?n.parentNode===e&&gi(n,t):gi(n,t))||i&&n===e)return n;if(n===e)break}while(n=Fg(n))}return null}var ra=/\s+/g;function pt(n,t,e){if(n&&t)if(n.classList)n.classList[e?"add":"remove"](t);else{var i=(" "+n.className+" ").replace(ra," ").replace(" "+t+" "," ");n.className=(i+(e?" "+t:"")).replace(ra," ")}}function L(n,t,e){var i=n&&n.style;if(i){if(e===void 0)return document.defaultView&&document.defaultView.getComputedStyle?e=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(e=n.currentStyle),t===void 0?e:e[t];!(t in i)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),i[t]=e+(typeof e=="string"?"":"px")}}function Me(n,t){var e="";if(typeof n=="string")e=n;else do{var i=L(n,"transform");i&&i!=="none"&&(e=i+" "+e)}while(!t&&(n=n.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(e)}function Oc(n,t,e){if(n){var i=n.getElementsByTagName(t),r=0,s=i.length;if(e)for(;r<s;r++)e(i[r],r);return i}return[]}function Ot(){var n=document.scrollingElement;return n||document.documentElement}function Z(n,t,e,i,r){if(!(!n.getBoundingClientRect&&n!==window)){var s,o,a,l,c,u,d;if(n!==window&&n.parentNode&&n!==Ot()?(s=n.getBoundingClientRect(),o=s.top,a=s.left,l=s.bottom,c=s.right,u=s.height,d=s.width):(o=0,a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||e)&&n!==window&&(r=r||n.parentNode,!Ht))do if(r&&r.getBoundingClientRect&&(L(r,"transform")!=="none"||e&&L(r,"position")!=="static")){var h=r.getBoundingClientRect();o-=h.top+parseInt(L(r,"border-top-width")),a-=h.left+parseInt(L(r,"border-left-width")),l=o+s.height,c=a+s.width;break}while(r=r.parentNode);if(i&&n!==window){var f=Me(r||n),p=f&&f.a,v=f&&f.d;f&&(o/=v,a/=p,d/=p,u/=v,l=o+u,c=a+d)}return{top:o,left:a,bottom:l,right:c,width:d,height:u}}}function sa(n,t,e){for(var i=Kt(n,!0),r=Z(n)[t];i;){var s=Z(i)[e],o=void 0;if(e==="top"||e==="left"?o=r>=s:o=r<=s,!o)return i;if(i===Ot())break;i=Kt(i,!1)}return!1}function qe(n,t,e,i){for(var r=0,s=0,o=n.children;s<o.length;){if(o[s].style.display!=="none"&&o[s]!==_.ghost&&(i||o[s]!==_.dragged)&&_t(o[s],e.draggable,n,!1)){if(r===t)return o[s];r++}s++}return null}function Js(n,t){for(var e=n.lastElementChild;e&&(e===_.ghost||L(e,"display")==="none"||t&&!gi(e,t));)e=e.previousElementSibling;return e||null}function wt(n,t){var e=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==_.clone&&(!t||gi(n,t))&&e++;return e}function oa(n){var t=0,e=0,i=Ot();if(n)do{var r=Me(n),s=r.a,o=r.d;t+=n.scrollLeft*s,e+=n.scrollTop*o}while(n!==i&&(n=n.parentNode));return[t,e]}function Bg(n,t){for(var e in n)if(!!n.hasOwnProperty(e)){for(var i in t)if(t.hasOwnProperty(i)&&t[i]===n[e][i])return Number(e)}return-1}function Kt(n,t){if(!n||!n.getBoundingClientRect)return Ot();var e=n,i=!1;do if(e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight){var r=L(e);if(e.clientWidth<e.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||e.clientHeight<e.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!e.getBoundingClientRect||e===document.body)return Ot();if(i||t)return e;i=!0}}while(e=e.parentNode);return Ot()}function Wg(n,t){if(n&&t)for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function vr(n,t){return Math.round(n.top)===Math.round(t.top)&&Math.round(n.left)===Math.round(t.left)&&Math.round(n.height)===Math.round(t.height)&&Math.round(n.width)===Math.round(t.width)}var gn;function Pc(n,t){return function(){if(!gn){var e=arguments,i=this;e.length===1?n.call(i,e[0]):n.apply(i,e),gn=setTimeout(function(){gn=void 0},t)}}}function jg(){clearTimeout(gn),gn=void 0}function Ic(n,t,e){n.scrollLeft+=t,n.scrollTop+=e}function Mc(n){var t=window.Polymer,e=window.jQuery||window.Zepto;return t&&t.dom?t.dom(n).cloneNode(!0):e?e(n).clone(!0)[0]:n.cloneNode(!0)}var vt="Sortable"+new Date().getTime();function Hg(){var n=[],t;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(r){if(!(L(r,"display")==="none"||r===_.ghost)){n.push({target:r,rect:Z(r)});var s=Pt({},n[n.length-1].rect);if(r.thisAnimationDuration){var o=Me(r,!0);o&&(s.top-=o.f,s.left-=o.e)}r.fromRect=s}})}},addAnimationState:function(i){n.push(i)},removeAnimationState:function(i){n.splice(Bg(n,{target:i}),1)},animateAll:function(i){var r=this;if(!this.options.animation){clearTimeout(t),typeof i=="function"&&i();return}var s=!1,o=0;n.forEach(function(a){var l=0,c=a.target,u=c.fromRect,d=Z(c),h=c.prevFromRect,f=c.prevToRect,p=a.rect,v=Me(c,!0);v&&(d.top-=v.f,d.left-=v.e),c.toRect=d,c.thisAnimationDuration&&vr(h,d)&&!vr(u,d)&&(p.top-d.top)/(p.left-d.left)===(u.top-d.top)/(u.left-d.left)&&(l=qg(p,h,f,r.options)),vr(d,u)||(c.prevFromRect=u,c.prevToRect=d,l||(l=r.options.animation),r.animate(c,p,d,l)),l&&(s=!0,o=Math.max(o,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(t),s?t=setTimeout(function(){typeof i=="function"&&i()},o):typeof i=="function"&&i(),n=[]},animate:function(i,r,s,o){if(o){L(i,"transition",""),L(i,"transform","");var a=Me(this.el),l=a&&a.a,c=a&&a.d,u=(r.left-s.left)/(l||1),d=(r.top-s.top)/(c||1);i.animatingX=!!u,i.animatingY=!!d,L(i,"transform","translate3d("+u+"px,"+d+"px,0)"),this.forRepaintDummy=zg(i),L(i,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),L(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){L(i,"transition",""),L(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},o)}}}}function zg(n){return n.offsetWidth}function qg(n,t,e,i){return Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))/Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))*i.animation}var Re=[],br={initializeByDefault:!0},In={mount:function(t){for(var e in br)br.hasOwnProperty(e)&&!(e in t)&&(t[e]=br[e]);Re.forEach(function(i){if(i.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Re.push(t)},pluginEvent:function(t,e,i){var r=this;this.eventCanceled=!1,i.cancel=function(){r.eventCanceled=!0};var s=t+"Global";Re.forEach(function(o){!e[o.pluginName]||(e[o.pluginName][s]&&e[o.pluginName][s](Pt({sortable:e},i)),e.options[o.pluginName]&&e[o.pluginName][t]&&e[o.pluginName][t](Pt({sortable:e},i)))})},initializePlugins:function(t,e,i,r){Re.forEach(function(a){var l=a.pluginName;if(!(!t.options[l]&&!a.initializeByDefault)){var c=new a(t,e,t.options);c.sortable=t,c.options=t.options,t[l]=c,Wt(i,c.defaults)}});for(var s in t.options)if(!!t.options.hasOwnProperty(s)){var o=this.modifyOption(t,s,t.options[s]);typeof o<"u"&&(t.options[s]=o)}},getEventProperties:function(t,e){var i={};return Re.forEach(function(r){typeof r.eventProperties=="function"&&Wt(i,r.eventProperties.call(e[r.pluginName],t))}),i},modifyOption:function(t,e,i){var r;return Re.forEach(function(s){!t[s.pluginName]||s.optionListeners&&typeof s.optionListeners[e]=="function"&&(r=s.optionListeners[e].call(t[s.pluginName],i))}),r}};function Vg(n){var t=n.sortable,e=n.rootEl,i=n.name,r=n.targetEl,s=n.cloneEl,o=n.toEl,a=n.fromEl,l=n.oldIndex,c=n.newIndex,u=n.oldDraggableIndex,d=n.newDraggableIndex,h=n.originalEvent,f=n.putSortable,p=n.extraEventProperties;if(t=t||e&&e[vt],!!t){var v,b=t.options,m="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!Ht&&!Pn?v=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent(i,!0,!0)),v.to=o||e,v.from=a||e,v.item=r||e,v.clone=s,v.oldIndex=l,v.newIndex=c,v.oldDraggableIndex=u,v.newDraggableIndex=d,v.originalEvent=h,v.pullMode=f?f.lastPutMode:void 0;var x=Pt(Pt({},p),In.getEventProperties(i,t));for(var w in x)v[w]=x[w];e&&e.dispatchEvent(v),b[m]&&b[m].call(t,v)}}var $g=["evt"],lt=function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=i.evt,s=Mg(i,$g);In.pluginEvent.bind(_)(t,e,Pt({dragEl:S,parentEl:V,ghostEl:O,rootEl:W,nextEl:ce,lastDownEl:ni,cloneEl:H,cloneHidden:Yt,dragStarted:an,putSortable:it,activeSortable:_.active,originalEvent:r,oldIndex:Oe,oldDraggableIndex:mn,newIndex:gt,newDraggableIndex:$t,hideGhostForTarget:Wc,unhideGhostForTarget:jc,cloneNowHidden:function(){Yt=!0},cloneNowShown:function(){Yt=!1},dispatchSortableEvent:function(a){ot({sortable:e,name:a,originalEvent:r})}},s))};function ot(n){Vg(Pt({putSortable:it,cloneEl:H,targetEl:S,rootEl:W,oldIndex:Oe,oldDraggableIndex:mn,newIndex:gt,newDraggableIndex:$t},n))}var S,V,O,W,ce,ni,H,Yt,Oe,gt,mn,$t,Vn,it,Le=!1,mi=!1,vi=[],se,Ct,yr,xr,aa,la,an,De,vn,bn=!1,$n=!1,ii,st,wr=[],cs=!1,bi=[],Hi=typeof document<"u",Un=Lc,ca=Pn||Ht?"cssFloat":"float",Ug=Hi&&!_c&&!Lc&&"draggable"in document.createElement("div"),Nc=function(){if(!!Hi){if(Ht)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),Fc=function(t,e){var i=L(t),r=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),s=qe(t,0,e),o=qe(t,1,e),a=s&&L(s),l=o&&L(o),c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Z(s).width,u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Z(o).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||c>=r&&i[ca]==="none"||o&&i[ca]==="none"&&c+u>r)?"vertical":"horizontal"},Yg=function(t,e,i){var r=i?t.left:t.top,s=i?t.right:t.bottom,o=i?t.width:t.height,a=i?e.left:e.top,l=i?e.right:e.bottom,c=i?e.width:e.height;return r===a||s===l||r+o/2===a+c/2},Xg=function(t,e){var i;return vi.some(function(r){var s=r[vt].options.emptyInsertThreshold;if(!(!s||Js(r))){var o=Z(r),a=t>=o.left-s&&t<=o.right+s,l=e>=o.top-s&&e<=o.bottom+s;if(a&&l)return i=r}}),i},Bc=function(t){function e(s,o){return function(a,l,c,u){var d=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(s==null&&(o||d))return!0;if(s==null||s===!1)return!1;if(o&&s==="clone")return s;if(typeof s=="function")return e(s(a,l,c,u),o)(a,l,c,u);var h=(o?a:l).options.group.name;return s===!0||typeof s=="string"&&s===h||s.join&&s.indexOf(h)>-1}}var i={},r=t.group;(!r||ei(r)!="object")&&(r={name:r}),i.name=r.name,i.checkPull=e(r.pull,!0),i.checkPut=e(r.put),i.revertClone=r.revertClone,t.group=i},Wc=function(){!Nc&&O&&L(O,"display","none")},jc=function(){!Nc&&O&&L(O,"display","")};Hi&&!_c&&document.addEventListener("click",function(n){if(mi)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),mi=!1,!1},!0);var oe=function(t){if(S){t=t.touches?t.touches[0]:t;var e=Xg(t.clientX,t.clientY);if(e){var i={};for(var r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);i.target=i.rootEl=e,i.preventDefault=void 0,i.stopPropagation=void 0,e[vt]._onDragOver(i)}}},Gg=function(t){S&&S.parentNode[vt]._isOutsideThisEl(t.target)};function _(n,t){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=t=Wt({},t),n[vt]=this;var e={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Fc(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:_.supportPointer!==!1&&"PointerEvent"in window&&!pn,emptyInsertThreshold:5};In.initializePlugins(this,n,e);for(var i in e)!(i in t)&&(t[i]=e[i]);Bc(t);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=t.forceFallback?!1:Ug,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?N(n,"pointerdown",this._onTapStart):(N(n,"mousedown",this._onTapStart),N(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(N(n,"dragover",this),N(n,"dragenter",this)),vi.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Wt(this,Hg())}_.prototype={constructor:_,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(De=null)},_getDirection:function(t,e){return typeof this.options.direction=="function"?this.options.direction.call(this,t,e,S):this.options.direction},_onTapStart:function(t){if(!!t.cancelable){var e=this,i=this.el,r=this.options,s=r.preventOnFilter,o=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(a||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,u=r.filter;if(im(i),!S&&!(/mousedown|pointerdown/.test(o)&&t.button!==0||r.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&pn&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=_t(l,r.draggable,i,!1),!(l&&l.animated)&&ni!==l)){if(Oe=wt(l),mn=wt(l,r.draggable),typeof u=="function"){if(u.call(this,t,l,this)){ot({sortable:e,rootEl:c,name:"filter",targetEl:l,toEl:i,fromEl:i}),lt("filter",e,{evt:t}),s&&t.cancelable&&t.preventDefault();return}}else if(u&&(u=u.split(",").some(function(d){if(d=_t(c,d.trim(),i,!1),d)return ot({sortable:e,rootEl:d,name:"filter",targetEl:l,fromEl:i,toEl:i}),lt("filter",e,{evt:t}),!0}),u)){s&&t.cancelable&&t.preventDefault();return}r.handle&&!_t(c,r.handle,i,!1)||this._prepareDragStart(t,a,l)}}},_prepareDragStart:function(t,e,i){var r=this,s=r.el,o=r.options,a=s.ownerDocument,l;if(i&&!S&&i.parentNode===s){var c=Z(i);if(W=s,S=i,V=S.parentNode,ce=S.nextSibling,ni=i,Vn=o.group,_.dragged=S,se={target:S,clientX:(e||t).clientX,clientY:(e||t).clientY},aa=se.clientX-c.left,la=se.clientY-c.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,S.style["will-change"]="all",l=function(){if(lt("delayEnded",r,{evt:t}),_.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!ia&&r.nativeDraggable&&(S.draggable=!0),r._triggerDragStart(t,e),ot({sortable:r,name:"choose",originalEvent:t}),pt(S,o.chosenClass,!0)},o.ignore.split(",").forEach(function(u){Oc(S,u.trim(),Ar)}),N(a,"dragover",oe),N(a,"mousemove",oe),N(a,"touchmove",oe),N(a,"mouseup",r._onDrop),N(a,"touchend",r._onDrop),N(a,"touchcancel",r._onDrop),ia&&this.nativeDraggable&&(this.options.touchStartThreshold=4,S.draggable=!0),lt("delayStart",this,{evt:t}),o.delay&&(!o.delayOnTouchOnly||e)&&(!this.nativeDraggable||!(Pn||Ht))){if(_.eventCanceled){this._onDrop();return}N(a,"mouseup",r._disableDelayedDrag),N(a,"touchend",r._disableDelayedDrag),N(a,"touchcancel",r._disableDelayedDrag),N(a,"mousemove",r._delayedDragTouchMoveHandler),N(a,"touchmove",r._delayedDragTouchMoveHandler),o.supportPointer&&N(a,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){S&&Ar(S),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;M(t,"mouseup",this._disableDelayedDrag),M(t,"touchend",this._disableDelayedDrag),M(t,"touchcancel",this._disableDelayedDrag),M(t,"mousemove",this._delayedDragTouchMoveHandler),M(t,"touchmove",this._delayedDragTouchMoveHandler),M(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||t.pointerType=="touch"&&t,!this.nativeDraggable||e?this.options.supportPointer?N(document,"pointermove",this._onTouchMove):e?N(document,"touchmove",this._onTouchMove):N(document,"mousemove",this._onTouchMove):(N(S,"dragend",this),N(W,"dragstart",this._onDragStart));try{document.selection?ri(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,e){if(Le=!1,W&&S){lt("dragStarted",this,{evt:e}),this.nativeDraggable&&N(document,"dragover",Gg);var i=this.options;!t&&pt(S,i.dragClass,!1),pt(S,i.ghostClass,!0),_.active=this,t&&this._appendGhost(),ot({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(Ct){this._lastX=Ct.clientX,this._lastY=Ct.clientY,Wc();for(var t=document.elementFromPoint(Ct.clientX,Ct.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Ct.clientX,Ct.clientY),t!==e);)e=t;if(S.parentNode[vt]._isOutsideThisEl(t),e)do{if(e[vt]){var i=void 0;if(i=e[vt]._onDragOver({clientX:Ct.clientX,clientY:Ct.clientY,target:t,rootEl:e}),i&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);jc()}},_onTouchMove:function(t){if(se){var e=this.options,i=e.fallbackTolerance,r=e.fallbackOffset,s=t.touches?t.touches[0]:t,o=O&&Me(O,!0),a=O&&o&&o.a,l=O&&o&&o.d,c=Un&&st&&oa(st),u=(s.clientX-se.clientX+r.x)/(a||1)+(c?c[0]-wr[0]:0)/(a||1),d=(s.clientY-se.clientY+r.y)/(l||1)+(c?c[1]-wr[1]:0)/(l||1);if(!_.active&&!Le){if(i&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<i)return;this._onDragStart(t,!0)}if(O){o?(o.e+=u-(yr||0),o.f+=d-(xr||0)):o={a:1,b:0,c:0,d:1,e:u,f:d};var h="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");L(O,"webkitTransform",h),L(O,"mozTransform",h),L(O,"msTransform",h),L(O,"transform",h),yr=u,xr=d,Ct=s}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!O){var t=this.options.fallbackOnBody?document.body:W,e=Z(S,!0,Un,!0,t),i=this.options;if(Un){for(st=t;L(st,"position")==="static"&&L(st,"transform")==="none"&&st!==document;)st=st.parentNode;st!==document.body&&st!==document.documentElement?(st===document&&(st=Ot()),e.top+=st.scrollTop,e.left+=st.scrollLeft):st=Ot(),wr=oa(st)}O=S.cloneNode(!0),pt(O,i.ghostClass,!1),pt(O,i.fallbackClass,!0),pt(O,i.dragClass,!0),L(O,"transition",""),L(O,"transform",""),L(O,"box-sizing","border-box"),L(O,"margin",0),L(O,"top",e.top),L(O,"left",e.left),L(O,"width",e.width),L(O,"height",e.height),L(O,"opacity","0.8"),L(O,"position",Un?"absolute":"fixed"),L(O,"zIndex","100000"),L(O,"pointerEvents","none"),_.ghost=O,t.appendChild(O),L(O,"transform-origin",aa/parseInt(O.style.width)*100+"% "+la/parseInt(O.style.height)*100+"%")}},_onDragStart:function(t,e){var i=this,r=t.dataTransfer,s=i.options;if(lt("dragStart",this,{evt:t}),_.eventCanceled){this._onDrop();return}lt("setupClone",this),_.eventCanceled||(H=Mc(S),H.removeAttribute("id"),H.draggable=!1,H.style["will-change"]="",this._hideClone(),pt(H,this.options.chosenClass,!1),_.clone=H),i.cloneId=ri(function(){lt("clone",i),!_.eventCanceled&&(i.options.removeCloneOnHide||W.insertBefore(H,S),i._hideClone(),ot({sortable:i,name:"clone"}))}),!e&&pt(S,s.dragClass,!0),e?(mi=!0,i._loopId=setInterval(i._emulateDragOver,50)):(M(document,"mouseup",i._onDrop),M(document,"touchend",i._onDrop),M(document,"touchcancel",i._onDrop),r&&(r.effectAllowed="move",s.setData&&s.setData.call(i,r,S)),N(document,"drop",i),L(S,"transform","translateZ(0)")),Le=!0,i._dragStartId=ri(i._dragStarted.bind(i,e,t)),N(document,"selectstart",i),an=!0,pn&&L(document.body,"user-select","none")},_onDragOver:function(t){var e=this.el,i=t.target,r,s,o,a=this.options,l=a.group,c=_.active,u=Vn===l,d=a.sort,h=it||c,f,p=this,v=!1;if(cs)return;function b(re,jn){lt(re,p,Pt({evt:t,isOwner:u,axis:f?"vertical":"horizontal",revert:o,dragRect:r,targetRect:s,canSort:d,fromSortable:h,target:i,completed:x,onMove:function(Ze,Vi){return Yn(W,e,S,r,Ze,Z(Ze),t,Vi)},changed:w},jn))}function m(){b("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function x(re){return b("dragOverCompleted",{insertion:re}),re&&(u?c._hideClone():c._showClone(p),p!==h&&(pt(S,it?it.options.ghostClass:c.options.ghostClass,!1),pt(S,a.ghostClass,!0)),it!==p&&p!==_.active?it=p:p===_.active&&it&&(it=null),h===p&&(p._ignoreWhileAnimating=i),p.animateAll(function(){b("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(i===S&&!S.animated||i===e&&!i.animated)&&(De=null),!a.dragoverBubble&&!t.rootEl&&i!==document&&(S.parentNode[vt]._isOutsideThisEl(t.target),!re&&oe(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),v=!0}function w(){gt=wt(S),$t=wt(S,a.draggable),ot({sortable:p,name:"change",toEl:e,newIndex:gt,newDraggableIndex:$t,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),i=_t(i,a.draggable,e,!0),b("dragOver"),_.eventCanceled)return v;if(S.contains(t.target)||i.animated&&i.animatingX&&i.animatingY||p._ignoreWhileAnimating===i)return x(!1);if(mi=!1,c&&!a.disabled&&(u?d||(o=V!==W):it===this||(this.lastPutMode=Vn.checkPull(this,c,S,t))&&l.checkPut(this,c,S,t))){if(f=this._getDirection(t,i)==="vertical",r=Z(S),b("dragOverValid"),_.eventCanceled)return v;if(o)return V=W,m(),this._hideClone(),b("revert"),_.eventCanceled||(ce?W.insertBefore(S,ce):W.appendChild(S)),x(!0);var A=Js(e,a.draggable);if(!A||Zg(t,f,this)&&!A.animated){if(A===S)return x(!1);if(A&&e===t.target&&(i=A),i&&(s=Z(i)),Yn(W,e,S,r,i,s,t,!!i)!==!1)return m(),A&&A.nextSibling?e.insertBefore(S,A.nextSibling):e.appendChild(S),V=e,w(),x(!0)}else if(A&&Qg(t,f,this)){var y=qe(e,0,a,!0);if(y===S)return x(!1);if(i=y,s=Z(i),Yn(W,e,S,r,i,s,t,!1)!==!1)return m(),e.insertBefore(S,y),V=e,w(),x(!0)}else if(i.parentNode===e){s=Z(i);var g=0,E,R=S.parentNode!==e,D=!Yg(S.animated&&S.toRect||r,i.animated&&i.toRect||s,f),$=f?"top":"left",C=sa(i,"top","top")||sa(S,"top","top"),T=C?C.scrollTop:void 0;De!==i&&(E=s[$],bn=!1,$n=!D&&a.invertSwap||R),g=tm(t,i,s,f,D?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,$n,De===i);var k;if(g!==0){var B=wt(S);do B-=g,k=V.children[B];while(k&&(L(k,"display")==="none"||k===O))}if(g===0||k===i)return x(!1);De=i,vn=g;var nt=i.nextElementSibling,U=!1;U=g===1;var Ee=Yn(W,e,S,r,i,s,t,U);if(Ee!==!1)return(Ee===1||Ee===-1)&&(U=Ee===1),cs=!0,setTimeout(Jg,30),m(),U&&!nt?e.appendChild(S):i.parentNode.insertBefore(S,U?nt:i),C&&Ic(C,0,T-C.scrollTop),V=S.parentNode,E!==void 0&&!$n&&(ii=Math.abs(E-Z(i)[$])),w(),x(!0)}if(e.contains(S))return x(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){M(document,"mousemove",this._onTouchMove),M(document,"touchmove",this._onTouchMove),M(document,"pointermove",this._onTouchMove),M(document,"dragover",oe),M(document,"mousemove",oe),M(document,"touchmove",oe)},_offUpEvents:function(){var t=this.el.ownerDocument;M(t,"mouseup",this._onDrop),M(t,"touchend",this._onDrop),M(t,"pointerup",this._onDrop),M(t,"touchcancel",this._onDrop),M(document,"selectstart",this)},_onDrop:function(t){var e=this.el,i=this.options;if(gt=wt(S),$t=wt(S,i.draggable),lt("drop",this,{evt:t}),V=S&&S.parentNode,gt=wt(S),$t=wt(S,i.draggable),_.eventCanceled){this._nulling();return}Le=!1,$n=!1,bn=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),us(this.cloneId),us(this._dragStartId),this.nativeDraggable&&(M(document,"drop",this),M(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),pn&&L(document.body,"user-select",""),L(S,"transform",""),t&&(an&&(t.cancelable&&t.preventDefault(),!i.dropBubble&&t.stopPropagation()),O&&O.parentNode&&O.parentNode.removeChild(O),(W===V||it&&it.lastPutMode!=="clone")&&H&&H.parentNode&&H.parentNode.removeChild(H),S&&(this.nativeDraggable&&M(S,"dragend",this),Ar(S),S.style["will-change"]="",an&&!Le&&pt(S,it?it.options.ghostClass:this.options.ghostClass,!1),pt(S,this.options.chosenClass,!1),ot({sortable:this,name:"unchoose",toEl:V,newIndex:null,newDraggableIndex:null,originalEvent:t}),W!==V?(gt>=0&&(ot({rootEl:V,name:"add",toEl:V,fromEl:W,originalEvent:t}),ot({sortable:this,name:"remove",toEl:V,originalEvent:t}),ot({rootEl:V,name:"sort",toEl:V,fromEl:W,originalEvent:t}),ot({sortable:this,name:"sort",toEl:V,originalEvent:t})),it&&it.save()):gt!==Oe&&gt>=0&&(ot({sortable:this,name:"update",toEl:V,originalEvent:t}),ot({sortable:this,name:"sort",toEl:V,originalEvent:t})),_.active&&((gt==null||gt===-1)&&(gt=Oe,$t=mn),ot({sortable:this,name:"end",toEl:V,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){lt("nulling",this),W=S=V=O=ce=H=ni=Yt=se=Ct=an=gt=$t=Oe=mn=De=vn=it=Vn=_.dragged=_.ghost=_.clone=_.active=null,bi.forEach(function(t){t.checked=!0}),bi.length=yr=xr=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":S&&(this._onDragOver(t),Kg(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],e,i=this.el.children,r=0,s=i.length,o=this.options;r<s;r++)e=i[r],_t(e,o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||nm(e));return t},sort:function(t,e){var i={},r=this.el;this.toArray().forEach(function(s,o){var a=r.children[o];_t(a,this.options.draggable,r,!1)&&(i[s]=a)},this),e&&this.captureAnimationState(),t.forEach(function(s){i[s]&&(r.removeChild(i[s]),r.appendChild(i[s]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return _t(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var i=this.options;if(e===void 0)return i[t];var r=In.modifyOption(this,t,e);typeof r<"u"?i[t]=r:i[t]=e,t==="group"&&Bc(i)},destroy:function(){lt("destroy",this);var t=this.el;t[vt]=null,M(t,"mousedown",this._onTapStart),M(t,"touchstart",this._onTapStart),M(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(M(t,"dragover",this),M(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),vi.splice(vi.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Yt){if(lt("hideClone",this),_.eventCanceled)return;L(H,"display","none"),this.options.removeCloneOnHide&&H.parentNode&&H.parentNode.removeChild(H),Yt=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Yt){if(lt("showClone",this),_.eventCanceled)return;S.parentNode==W&&!this.options.group.revertClone?W.insertBefore(H,S):ce?W.insertBefore(H,ce):W.appendChild(H),this.options.group.revertClone&&this.animate(S,H),L(H,"display",""),Yt=!1}}};function Kg(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function Yn(n,t,e,i,r,s,o,a){var l,c=n[vt],u=c.options.onMove,d;return window.CustomEvent&&!Ht&&!Pn?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=n,l.dragged=e,l.draggedRect=i,l.related=r||t,l.relatedRect=s||Z(t),l.willInsertAfter=a,l.originalEvent=o,n.dispatchEvent(l),u&&(d=u.call(c,l,o)),d}function Ar(n){n.draggable=!1}function Jg(){cs=!1}function Qg(n,t,e){var i=Z(qe(e.el,0,e.options,!0)),r=10;return t?n.clientX<i.left-r||n.clientY<i.top&&n.clientX<i.right:n.clientY<i.top-r||n.clientY<i.bottom&&n.clientX<i.left}function Zg(n,t,e){var i=Z(Js(e.el,e.options.draggable)),r=10;return t?n.clientX>i.right+r||n.clientX<=i.right&&n.clientY>i.bottom&&n.clientX>=i.left:n.clientX>i.right&&n.clientY>i.top||n.clientX<=i.right&&n.clientY>i.bottom+r}function tm(n,t,e,i,r,s,o,a){var l=i?n.clientY:n.clientX,c=i?e.height:e.width,u=i?e.top:e.left,d=i?e.bottom:e.right,h=!1;if(!o){if(a&&ii<c*r){if(!bn&&(vn===1?l>u+c*s/2:l<d-c*s/2)&&(bn=!0),bn)h=!0;else if(vn===1?l<u+ii:l>d-ii)return-vn}else if(l>u+c*(1-r)/2&&l<d-c*(1-r)/2)return em(t)}return h=h||o,h&&(l<u+c*s/2||l>d-c*s/2)?l>u+c/2?1:-1:0}function em(n){return wt(S)<wt(n)?1:-1}function nm(n){for(var t=n.tagName+n.className+n.src+n.href+n.textContent,e=t.length,i=0;e--;)i+=t.charCodeAt(e);return i.toString(36)}function im(n){bi.length=0;for(var t=n.getElementsByTagName("input"),e=t.length;e--;){var i=t[e];i.checked&&bi.push(i)}}function ri(n){return setTimeout(n,0)}function us(n){return clearTimeout(n)}Hi&&N(document,"touchmove",function(n){(_.active||Le)&&n.cancelable&&n.preventDefault()});_.utils={on:N,off:M,css:L,find:Oc,is:function(t,e){return!!_t(t,e,t,!1)},extend:Wg,throttle:Pc,closest:_t,toggleClass:pt,clone:Mc,index:wt,nextTick:ri,cancelNextTick:us,detectDirection:Fc,getChild:qe};_.get=function(n){return n[vt]};_.mount=function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];t[0].constructor===Array&&(t=t[0]),t.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(_.utils=Pt(Pt({},_.utils),i.utils)),In.mount(i)})};_.create=function(n,t){return new _(n,t)};_.version=Ng;var X=[],ln,ds,hs=!1,Sr,Er,yi,cn;function rm(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return n.prototype={dragStarted:function(e){var i=e.originalEvent;this.sortable.nativeDraggable?N(document,"dragover",this._handleAutoScroll):this.options.supportPointer?N(document,"pointermove",this._handleFallbackAutoScroll):i.touches?N(document,"touchmove",this._handleFallbackAutoScroll):N(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var i=e.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?M(document,"dragover",this._handleAutoScroll):(M(document,"pointermove",this._handleFallbackAutoScroll),M(document,"touchmove",this._handleFallbackAutoScroll),M(document,"mousemove",this._handleFallbackAutoScroll)),ua(),si(),jg()},nulling:function(){yi=ds=ln=hs=cn=Sr=Er=null,X.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,i){var r=this,s=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,a=document.elementFromPoint(s,o);if(yi=e,i||this.options.forceAutoScrollFallback||Pn||Ht||pn){Cr(e,this.options,a,i);var l=Kt(a,!0);hs&&(!cn||s!==Sr||o!==Er)&&(cn&&ua(),cn=setInterval(function(){var c=Kt(document.elementFromPoint(s,o),!0);c!==l&&(l=c,si()),Cr(e,r.options,c,i)},10),Sr=s,Er=o)}else{if(!this.options.bubbleScroll||Kt(a,!0)===Ot()){si();return}Cr(e,this.options,Kt(a,!1),!1)}}},Wt(n,{pluginName:"scroll",initializeByDefault:!0})}function si(){X.forEach(function(n){clearInterval(n.pid)}),X=[]}function ua(){clearInterval(cn)}var Cr=Pc(function(n,t,e,i){if(!!t.scroll){var r=(n.touches?n.touches[0]:n).clientX,s=(n.touches?n.touches[0]:n).clientY,o=t.scrollSensitivity,a=t.scrollSpeed,l=Ot(),c=!1,u;ds!==e&&(ds=e,si(),ln=t.scroll,u=t.scrollFn,ln===!0&&(ln=Kt(e,!0)));var d=0,h=ln;do{var f=h,p=Z(f),v=p.top,b=p.bottom,m=p.left,x=p.right,w=p.width,A=p.height,y=void 0,g=void 0,E=f.scrollWidth,R=f.scrollHeight,D=L(f),$=f.scrollLeft,C=f.scrollTop;f===l?(y=w<E&&(D.overflowX==="auto"||D.overflowX==="scroll"||D.overflowX==="visible"),g=A<R&&(D.overflowY==="auto"||D.overflowY==="scroll"||D.overflowY==="visible")):(y=w<E&&(D.overflowX==="auto"||D.overflowX==="scroll"),g=A<R&&(D.overflowY==="auto"||D.overflowY==="scroll"));var T=y&&(Math.abs(x-r)<=o&&$+w<E)-(Math.abs(m-r)<=o&&!!$),k=g&&(Math.abs(b-s)<=o&&C+A<R)-(Math.abs(v-s)<=o&&!!C);if(!X[d])for(var B=0;B<=d;B++)X[B]||(X[B]={});(X[d].vx!=T||X[d].vy!=k||X[d].el!==f)&&(X[d].el=f,X[d].vx=T,X[d].vy=k,clearInterval(X[d].pid),(T!=0||k!=0)&&(c=!0,X[d].pid=setInterval(function(){i&&this.layer===0&&_.active._onTouchMove(yi);var nt=X[this.layer].vy?X[this.layer].vy*a:0,U=X[this.layer].vx?X[this.layer].vx*a:0;typeof u=="function"&&u.call(_.dragged.parentNode[vt],U,nt,n,yi,X[this.layer].el)!=="continue"||Ic(X[this.layer].el,U,nt)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==l&&(h=Kt(h,!1)));hs=c}},30),Hc=function(t){var e=t.originalEvent,i=t.putSortable,r=t.dragEl,s=t.activeSortable,o=t.dispatchSortableEvent,a=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(!!e){var c=i||s;a();var u=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,d=document.elementFromPoint(u.clientX,u.clientY);l(),c&&!c.el.contains(d)&&(o("spill"),this.onSpill({dragEl:r,putSortable:i}))}};function Qs(){}Qs.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,i=t.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var r=qe(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(e,r):this.sortable.el.appendChild(e),this.sortable.animateAll(),i&&i.animateAll()},drop:Hc};Wt(Qs,{pluginName:"revertOnSpill"});function Zs(){}Zs.prototype={onSpill:function(t){var e=t.dragEl,i=t.putSortable,r=i||this.sortable;r.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),r.animateAll()},drop:Hc};Wt(Zs,{pluginName:"removeOnSpill"});_.mount(new rm);_.mount(Zs,Qs);const to={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}},dt={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test(n){return da(n.parentNode)===dt[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test(n){return da(n.parentNode)===dt[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}},da=n=>{var t;return n==null||(t=n.tagName)===null||t===void 0?void 0:t.toLowerCase()},ha=navigator.userAgent.match(/android\s([0-9]+.*Chrome)/i),Tr=ha&&parseInt(ha[1]);var Mn={composesExistingText:/Android.*Chrome/.test(navigator.userAgent),recentAndroid:Tr&&Tr>12,samsungAndroid:Tr&&navigator.userAgent.match(/Android.*SM-/),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:typeof InputEvent<"u"&&["data","getTargetRanges","inputType"].every(n=>n in InputEvent.prototype)},P={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption\u2026",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL\u2026",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"};const sm=[P.bytes,P.KB,P.MB,P.GB,P.TB,P.PB];var zc={prefix:"IEC",precision:2,formatter(n){switch(n){case 0:return"0 ".concat(P.bytes);case 1:return"1 ".concat(P.byte);default:let t;this.prefix==="SI"?t=1e3:this.prefix==="IEC"&&(t=1024);const e=Math.floor(Math.log(n)/Math.log(t)),i=(n/Math.pow(t,e)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"");return"".concat(i," ").concat(sm[e])}}};const qc=function(n){for(const t in n){const e=n[t];this[t]=e}return this},eo=document.documentElement,om=eo.matches,q=function(n){let{onElement:t,matchingSelector:e,withCallback:i,inPhase:r,preventDefault:s,times:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=t||eo,l=e,c=r==="capturing",u=function(d){o!=null&&--o==0&&u.destroy();const h=ne(d.target,{matchingSelector:l});h!=null&&(i==null||i.call(h,d,h),s&&d.preventDefault())};return u.destroy=()=>a.removeEventListener(n,u,c),a.addEventListener(n,u,c),u},yn=function(n){let{onElement:t,bubbles:e,cancelable:i,attributes:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=t!=null?t:eo;e=e!==!1,i=i!==!1;const o=document.createEvent("Events");return o.initEvent(n,e,i),r!=null&&qc.call(o,r),s.dispatchEvent(o)},Vc=function(n,t){if((n==null?void 0:n.nodeType)===1)return om.call(n,t)},ne=function(n){let{matchingSelector:t,untilNode:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(;n&&n.nodeType!==Node.ELEMENT_NODE;)n=n.parentNode;if(n!=null){if(t==null)return n;if(n.closest&&e==null)return n.closest(t);for(;n&&n!==e;){if(Vc(n,t))return n;n=n.parentNode}}},no=n=>document.activeElement!==n&&he(n,document.activeElement),he=function(n,t){if(n&&t)for(;t;){if(t===n)return!0;t=t.parentNode}},Rr=function(n){var t;if((t=n)===null||t===void 0||!t.parentNode)return;let e=0;for(n=n.previousSibling;n;)e++,n=n.previousSibling;return e},ie=n=>{var t;return n==null||(t=n.parentNode)===null||t===void 0?void 0:t.removeChild(n)},xi=function(n){let{onlyNodesOfType:t,usingFilter:e,expandEntityReferences:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(()=>{switch(t){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}})();return document.createTreeWalker(n,r,e!=null?e:null,i===!0)},ct=n=>{var t;return n==null||(t=n.tagName)===null||t===void 0?void 0:t.toLowerCase()},I=function(n){let t,e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof n=="object"?(i=n,n=i.tagName):i={attributes:i};const r=document.createElement(n);if(i.editable!=null&&(i.attributes==null&&(i.attributes={}),i.attributes.contenteditable=i.editable),i.attributes)for(t in i.attributes)e=i.attributes[t],r.setAttribute(t,e);if(i.style)for(t in i.style)e=i.style[t],r.style[t]=e;if(i.data)for(t in i.data)e=i.data[t],r.dataset[t]=e;return i.className&&i.className.split(" ").forEach(s=>{r.classList.add(s)}),i.textContent&&(r.textContent=i.textContent),i.childNodes&&[].concat(i.childNodes).forEach(s=>{r.appendChild(s)}),r};let rn;const xn=function(){if(rn!=null)return rn;rn=[];for(const n in dt){const t=dt[n];t.tagName&&rn.push(t.tagName)}return rn},Dr=n=>Ne(n==null?void 0:n.firstChild),am=function(n){return xn().includes(ct(n))&&!xn().includes(ct(n.firstChild))},fa=function(n){let{strict:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{strict:!0};return t?Ne(n):Ne(n)||!Ne(n.firstChild)&&am(n)},Ne=n=>lm(n)&&(n==null?void 0:n.data)==="block",lm=n=>(n==null?void 0:n.nodeType)===Node.COMMENT_NODE,Fe=function(n){let{name:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n)return wn(n)?n.data==="\uFEFF"?!t||n.parentNode.dataset.trixCursorTarget===t:void 0:Fe(n.firstChild)},me=n=>Vc(n,"[data-trix-attachment]"),$c=n=>wn(n)&&(n==null?void 0:n.data)==="",wn=n=>(n==null?void 0:n.nodeType)===Node.TEXT_NODE,io={level2Enabled:!0,getLevel(){return this.level2Enabled&&Mn.supportsInputEvents?2:0},pickFiles(n){const t=I("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId});t.addEventListener("change",()=>{n(t.files),ie(t)}),ie(document.getElementById(this.fileInputId)),document.body.appendChild(t),t.click()}};var oi={removeBlankTableCells:!1,tableCellSeparator:" | ",tableRowSeparator:`
`},ve={bold:{tagName:"strong",inheritable:!0,parser(n){const t=window.getComputedStyle(n);return t.fontWeight==="bold"||t.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:n=>window.getComputedStyle(n).fontStyle==="italic"},href:{groupTagName:"a",parser(n){const t="a:not(".concat("[data-trix-attachment]",")"),e=n.closest(t);if(e)return e.getAttribute("href")}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}},Uc={getDefaultHTML:()=>`<div class="trix-button-row">
      <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="`.concat(P.bold,'" tabindex="-1">').concat(P.bold,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="`).concat(P.italic,'" tabindex="-1">').concat(P.italic,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="`).concat(P.strike,'" tabindex="-1">').concat(P.strike,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="`).concat(P.link,'" tabindex="-1">').concat(P.link,`</button>
      </span>

      <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="`).concat(P.heading1,'" tabindex="-1">').concat(P.heading1,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="`).concat(P.quote,'" tabindex="-1">').concat(P.quote,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="`).concat(P.code,'" tabindex="-1">').concat(P.code,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="`).concat(P.bullets,'" tabindex="-1">').concat(P.bullets,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="`).concat(P.numbers,'" tabindex="-1">').concat(P.numbers,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="`).concat(P.outdent,'" tabindex="-1">').concat(P.outdent,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="`).concat(P.indent,'" tabindex="-1">').concat(P.indent,`</button>
      </span>

      <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="`).concat(P.attachFiles,'" tabindex="-1">').concat(P.attachFiles,`</button>
      </span>

      <span class="trix-button-group-spacer"></span>

      <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="`).concat(P.undo,'" tabindex="-1">').concat(P.undo,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="`).concat(P.redo,'" tabindex="-1">').concat(P.redo,`</button>
      </span>
    </div>

    <div class="trix-dialogs" data-trix-dialogs>
      <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">
        <div class="trix-dialog__link-fields">
          <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="`).concat(P.urlPlaceholder,'" aria-label="').concat(P.url,`" required data-trix-input>
          <div class="trix-button-group">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(P.link,`" data-trix-method="setAttribute">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(P.unlink,`" data-trix-method="removeAttribute">
          </div>
        </div>
      </div>
    </div>`)};const fs={interval:5e3};var Nn=Object.freeze({__proto__:null,attachments:to,blockAttributes:dt,browser:Mn,css:{attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"},fileSize:zc,input:io,keyNames:{8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},lang:P,parser:oi,textAttributes:ve,toolbar:Uc,undo:fs});class Q{static proxyMethod(t){const{name:e,toMethod:i,toProperty:r,optional:s}=cm(t);this.prototype[e]=function(){let o,a;var l,c;return i?a=s?(l=this[i])===null||l===void 0?void 0:l.call(this):this[i]():r&&(a=this[r]),s?(o=(c=a)===null||c===void 0?void 0:c[e],o?pa.call(o,a,arguments):void 0):(o=a[e],pa.call(o,a,arguments))}}}const cm=function(n){const t=n.match(um);if(!t)throw new Error("can't parse @proxyMethod expression: ".concat(n));const e={name:t[4]};return t[2]!=null?e.toMethod=t[1]:e.toProperty=t[1],t[3]!=null&&(e.optional=!0),e},{apply:pa}=Function.prototype,um=new RegExp("^(.+?)(\\(\\))?(\\?)?\\.(.+?)$");var Lr,_r,kr;class Tn extends Q{static box(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t instanceof this?t:this.fromUCS2String(t==null?void 0:t.toString())}static fromUCS2String(t){return new this(t,ps(t))}static fromCodepoints(t){return new this(gs(t),t)}constructor(t,e){super(...arguments),this.ucs2String=t,this.codepoints=e,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}offsetToUCS2Offset(t){return gs(this.codepoints.slice(0,Math.max(0,t))).length}offsetFromUCS2Offset(t){return ps(this.ucs2String.slice(0,Math.max(0,t))).length}slice(){return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))}charAt(t){return this.slice(t,t+1)}isEqualTo(t){return this.constructor.box(t).ucs2String===this.ucs2String}toJSON(){return this.ucs2String}getCacheKey(){return this.ucs2String}toString(){return this.ucs2String}}const dm=((Lr=Array.from)===null||Lr===void 0?void 0:Lr.call(Array,"\u{1F47C}").length)===1,hm=((_r=" ".codePointAt)===null||_r===void 0?void 0:_r.call(" ",0))!=null,fm=((kr=String.fromCodePoint)===null||kr===void 0?void 0:kr.call(String,32,128124))===" \u{1F47C}";let ps,gs;ps=dm&&hm?n=>Array.from(n).map(t=>t.codePointAt(0)):function(n){const t=[];let e=0;const{length:i}=n;for(;e<i;){let r=n.charCodeAt(e++);if(55296<=r&&r<=56319&&e<i){const s=n.charCodeAt(e++);(64512&s)==56320?r=((1023&r)<<10)+(1023&s)+65536:e--}t.push(r)}return t},gs=fm?n=>String.fromCodePoint(...Array.from(n||[])):function(n){return(()=>{const t=[];return Array.from(n).forEach(e=>{let i="";e>65535&&(e-=65536,i+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t.push(i+String.fromCharCode(e))}),t})().join("")};let pm=0;class Ae extends Q{static fromJSONString(t){return this.fromJSON(JSON.parse(t))}constructor(){super(...arguments),this.id=++pm}hasSameConstructorAs(t){return this.constructor===(t==null?void 0:t.constructor)}isEqualTo(t){return this===t}inspect(){const t=[],e=this.contentsForInspection()||{};for(const i in e){const r=e[i];t.push("".concat(i,"=").concat(r))}return"#<".concat(this.constructor.name,":").concat(this.id).concat(t.length?" ".concat(t.join(", ")):"",">")}contentsForInspection(){}toJSONString(){return JSON.stringify(this)}toUTF16String(){return Tn.box(this)}getCacheKey(){return this.id.toString()}}const be=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0},ro=function(n){const t=n.slice(0);for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return t.splice(...i),t},gm=/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,mm=function(){const n=I("input",{dir:"auto",name:"x",dirName:"x.dir"}),t=I("textarea",{dir:"auto",name:"y",dirName:"y.dir"}),e=I("form");e.appendChild(n),e.appendChild(t);const i=function(){try{return new FormData(e).has(t.dirName)}catch{return!1}}(),r=function(){try{return n.matches(":dir(ltr),:dir(rtl)")}catch{return!1}}();return i?function(s){return t.value=s,new FormData(e).get(t.dirName)}:r?function(s){return n.value=s,n.matches(":dir(rtl)")?"rtl":"ltr"}:function(s){const o=s.trim().charAt(0);return gm.test(o)?"rtl":"ltr"}}();let Or=null,Pr=null,Ir=null,Xn=null;const ms=()=>(Or||(Or=bm().concat(vm())),Or),K=n=>dt[n],vm=()=>(Pr||(Pr=Object.keys(dt)),Pr),vs=n=>ve[n],bm=()=>(Ir||(Ir=Object.keys(ve)),Ir),Yc=function(n,t){ym(n).textContent=t.replace(/%t/g,n)},ym=function(n){const t=document.createElement("style");t.setAttribute("type","text/css"),t.setAttribute("data-tag-name",n.toLowerCase());const e=xm();return e&&t.setAttribute("nonce",e),document.head.insertBefore(t,document.head.firstChild),t},xm=function(){const n=ga("trix-csp-nonce")||ga("csp-nonce");if(n)return n.getAttribute("content")},ga=n=>document.head.querySelector("meta[name=".concat(n,"]")),ma={"application/x-trix-feature-detection":"test"},Xc=function(n){const t=n.getData("text/plain"),e=n.getData("text/html");if(!t||!e)return t==null?void 0:t.length;{const{body:i}=new DOMParser().parseFromString(e,"text/html");if(i.textContent===t)return!i.querySelector("*")}},Gc=/Mac|^iP/.test(navigator.platform)?n=>n.metaKey:n=>n.ctrlKey,so=n=>setTimeout(n,1),Kc=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={};for(const e in n){const i=n[e];t[e]=i}return t},Fn=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const e in n)if(n[e]!==t[e])return!1;return!0},F=function(n){if(n!=null)return Array.isArray(n)||(n=[n,n]),[va(n[0]),va(n[1]!=null?n[1]:n[0])]},Nt=function(n){if(n==null)return;const[t,e]=F(n);return bs(t,e)},wi=function(n,t){if(n==null||t==null)return;const[e,i]=F(n),[r,s]=F(t);return bs(e,r)&&bs(i,s)},va=function(n){return typeof n=="number"?n:Kc(n)},bs=function(n,t){return typeof n=="number"?n===t:Fn(n,t)};class Jc extends Q{constructor(){super(...arguments),this.update=this.update.bind(this),this.run=this.run.bind(this),this.selectionManagers=[]}start(){if(!this.started)return this.started=!0,"onselectionchange"in document?document.addEventListener("selectionchange",this.update,!0):this.run()}stop(){if(this.started)return this.started=!1,document.removeEventListener("selectionchange",this.update,!0)}registerSelectionManager(t){if(!this.selectionManagers.includes(t))return this.selectionManagers.push(t),this.start()}unregisterSelectionManager(t){if(this.selectionManagers=this.selectionManagers.filter(e=>e!==t),this.selectionManagers.length===0)return this.stop()}notifySelectionManagersOfSelectionChange(){return this.selectionManagers.map(t=>t.selectionDidChange())}update(){const t=Be();if(!wm(t,this.domRange))return this.domRange=t,this.notifySelectionManagersOfSelectionChange()}reset(){return this.domRange=null,this.update()}run(){if(this.started)return this.update(),requestAnimationFrame(this.run)}}const wm=(n,t)=>(n==null?void 0:n.startContainer)===(t==null?void 0:t.startContainer)&&(n==null?void 0:n.startOffset)===(t==null?void 0:t.startOffset)&&(n==null?void 0:n.endContainer)===(t==null?void 0:t.endContainer)&&(n==null?void 0:n.endOffset)===(t==null?void 0:t.endOffset),ye=new Jc,Qc=function(){const n=window.getSelection();if(n.rangeCount>0)return n},Be=function(){var n;const t=(n=Qc())===null||n===void 0?void 0:n.getRangeAt(0);if(t&&!Am(t))return t},Zc=function(n){const t=window.getSelection();return t.removeAllRanges(),t.addRange(n),ye.update()},Am=n=>ba(n.startContainer)||ba(n.endContainer),ba=n=>!Object.getPrototypeOf(n),un=n=>n.replace(new RegExp("".concat("\uFEFF"),"g"),"").replace(new RegExp("".concat("\xA0"),"g")," "),oo=new RegExp("[^\\S".concat("\xA0","]")),ao=n=>n.replace(new RegExp("".concat(oo.source),"g")," ").replace(/\ {2,}/g," "),ya=function(n,t){if(n.isEqualTo(t))return["",""];const e=Mr(n,t),{length:i}=e.utf16String;let r;if(i){const{offset:s}=e,o=n.codepoints.slice(0,s).concat(n.codepoints.slice(s+i));r=Mr(t,Tn.fromCodepoints(o))}else r=Mr(t,n);return[e.utf16String.toString(),r.utf16String.toString()]},Mr=function(n,t){let e=0,i=n.length,r=t.length;for(;e<i&&n.charAt(e).isEqualTo(t.charAt(e));)e++;for(;i>e+1&&n.charAt(i-1).isEqualTo(t.charAt(r-1));)i--,r--;return{utf16String:n.slice(e,i),offset:e}};class bt extends Ae{static fromCommonAttributesOfObjects(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!t.length)return new this;let e=sn(t[0]),i=e.getKeys();return t.slice(1).forEach(r=>{i=e.getKeysCommonToHash(sn(r)),e=e.slice(i)}),e}static box(t){return sn(t)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(...arguments),this.values=ai(t)}add(t,e){return this.merge(Sm(t,e))}remove(t){return new bt(ai(this.values,t))}get(t){return this.values[t]}has(t){return t in this.values}merge(t){return new bt(Em(this.values,Cm(t)))}slice(t){const e={};return Array.from(t).forEach(i=>{this.has(i)&&(e[i]=this.values[i])}),new bt(e)}getKeys(){return Object.keys(this.values)}getKeysCommonToHash(t){return t=sn(t),this.getKeys().filter(e=>this.values[e]===t.values[e])}isEqualTo(t){return be(this.toArray(),sn(t).toArray())}isEmpty(){return this.getKeys().length===0}toArray(){if(!this.array){const t=[];for(const e in this.values){const i=this.values[e];t.push(t.push(e,i))}this.array=t.slice(0)}return this.array}toObject(){return ai(this.values)}toJSON(){return this.toObject()}contentsForInspection(){return{values:JSON.stringify(this.values)}}}const Sm=function(n,t){const e={};return e[n]=t,e},Em=function(n,t){const e=ai(n);for(const i in t){const r=t[i];e[i]=r}return e},ai=function(n,t){const e={};return Object.keys(n).sort().forEach(i=>{i!==t&&(e[i]=n[i])}),e},sn=function(n){return n instanceof bt?n:new bt(n)},Cm=function(n){return n instanceof bt?n.values:n};class lo{static groupObjects(){let t,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:i,asTree:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};r&&i==null&&(i=0);const s=[];return Array.from(e).forEach(o=>{var a;if(t){var l,c,u;if((l=o.canBeGrouped)!==null&&l!==void 0&&l.call(o,i)&&(c=(u=t[t.length-1]).canBeGroupedWith)!==null&&c!==void 0&&c.call(u,o,i))return void t.push(o);s.push(new this(t,{depth:i,asTree:r})),t=null}(a=o.canBeGrouped)!==null&&a!==void 0&&a.call(o,i)?t=[o]:s.push(o)}),t&&s.push(new this(t,{depth:i,asTree:r})),s}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:e,asTree:i}=arguments.length>1?arguments[1]:void 0;this.objects=t,i&&(this.depth=e,this.objects=this.constructor.groupObjects(this.objects,{asTree:i,depth:this.depth+1}))}getObjects(){return this.objects}getDepth(){return this.depth}getCacheKey(){const t=["objectGroup"];return Array.from(this.getObjects()).forEach(e=>{t.push(e.getCacheKey())}),t.join("/")}}class Tm extends Q{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects={},Array.from(t).forEach(e=>{const i=JSON.stringify(e);this.objects[i]==null&&(this.objects[i]=e)})}find(t){const e=JSON.stringify(t);return this.objects[e]}}class Rm{constructor(t){this.reset(t)}add(t){const e=xa(t);this.elements[e]=t}remove(t){const e=xa(t),i=this.elements[e];if(i)return delete this.elements[e],i}reset(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this.elements={},Array.from(t).forEach(e=>{this.add(e)}),t}}const xa=n=>n.dataset.trixStoreKey;class Ai extends Q{isPerforming(){return this.performing===!0}hasPerformed(){return this.performed===!0}hasSucceeded(){return this.performed&&this.succeeded}hasFailed(){return this.performed&&!this.succeeded}getPromise(){return this.promise||(this.promise=new Promise((t,e)=>(this.performing=!0,this.perform((i,r)=>{this.succeeded=i,this.performing=!1,this.performed=!0,this.succeeded?t(r):e(r)})))),this.promise}perform(t){return t(!1)}release(){var t,e;(t=this.promise)===null||t===void 0||(e=t.cancel)===null||e===void 0||e.call(t),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null}}Ai.proxyMethod("getPromise().then"),Ai.proxyMethod("getPromise().catch");class Ke extends Q{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.object=t,this.options=e,this.childViews=[],this.rootView=this}getNodes(){return this.nodes||(this.nodes=this.createNodes()),this.nodes.map(t=>t.cloneNode(!0))}invalidate(){var t;return this.nodes=null,this.childViews=[],(t=this.parentView)===null||t===void 0?void 0:t.invalidate()}invalidateViewForObject(t){var e;return(e=this.findViewForObject(t))===null||e===void 0?void 0:e.invalidate()}findOrCreateCachedChildView(t,e,i){let r=this.getCachedViewForObject(e);return r?this.recordChildView(r):(r=this.createChildView(...arguments),this.cacheViewForObject(r,e)),r}createChildView(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};e instanceof lo&&(i.viewClass=t,t=Dm);const r=new t(e,i);return this.recordChildView(r)}recordChildView(t){return t.parentView=this,t.rootView=this.rootView,this.childViews.push(t),t}getAllChildViews(){let t=[];return this.childViews.forEach(e=>{t.push(e),t=t.concat(e.getAllChildViews())}),t}findElement(){return this.findElementForObject(this.object)}findElementForObject(t){const e=t==null?void 0:t.id;if(e)return this.rootView.element.querySelector("[data-trix-id='".concat(e,"']"))}findViewForObject(t){for(const e of this.getAllChildViews())if(e.object===t)return e}getViewCache(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?(this.viewCache||(this.viewCache={}),this.viewCache):void 0}isViewCachingEnabled(){return this.shouldCacheViews!==!1}enableViewCaching(){this.shouldCacheViews=!0}disableViewCaching(){this.shouldCacheViews=!1}getCachedViewForObject(t){var e;return(e=this.getViewCache())===null||e===void 0?void 0:e[t.getCacheKey()]}cacheViewForObject(t,e){const i=this.getViewCache();i&&(i[e.getCacheKey()]=t)}garbageCollectCachedViews(){const t=this.getViewCache();if(t){const e=this.getAllChildViews().concat(this).map(i=>i.object.getCacheKey());for(const i in t)e.includes(i)||delete t[i]}}}class Dm extends Ke{constructor(){super(...arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}getChildViews(){return this.childViews.length||Array.from(this.objectGroup.getObjects()).forEach(t=>{this.findOrCreateCachedChildView(this.viewClass,t,this.options)}),this.childViews}createNodes(){const t=this.createContainerElement();return this.getChildViews().forEach(e=>{Array.from(e.getNodes()).forEach(i=>{t.appendChild(i)})}),[t]}createContainerElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.objectGroup.getDepth();return this.getChildViews()[0].createContainerElement(t)}}const{css:zt}=Nn;class tu extends Ke{constructor(){super(...arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}createContentNodes(){return[]}createNodes(){let t;const e=t=I({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),i=this.getHref();return i&&(t=I({tagName:"a",editable:!1,attributes:{href:i,tabindex:-1}}),e.appendChild(t)),this.attachment.hasContent()?t.innerHTML=this.attachment.getContent():this.createContentNodes().forEach(r=>{t.appendChild(r)}),t.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=I({tagName:"progress",attributes:{class:zt.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),e.appendChild(this.progressElement)),[wa("left"),e,wa("right")]}createCaptionElement(){const t=I({tagName:"figcaption",className:zt.attachmentCaption}),e=this.attachmentPiece.getCaption();if(e)t.classList.add("".concat(zt.attachmentCaption,"--edited")),t.textContent=e;else{let i,r;const s=this.getCaptionConfig();if(s.name&&(i=this.attachment.getFilename()),s.size&&(r=this.attachment.getFormattedFilesize()),i){const o=I({tagName:"span",className:zt.attachmentName,textContent:i});t.appendChild(o)}if(r){i&&t.appendChild(document.createTextNode(" "));const o=I({tagName:"span",className:zt.attachmentSize,textContent:r});t.appendChild(o)}}return t}getClassName(){const t=[zt.attachment,"".concat(zt.attachment,"--").concat(this.attachment.getType())],e=this.attachment.getExtension();return e&&t.push("".concat(zt.attachment,"--").concat(e)),t.join(" ")}getData(){const t={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},{attributes:e}=this.attachmentPiece;return e.isEmpty()||(t.trixAttributes=JSON.stringify(e)),this.attachment.isPending()&&(t.trixSerialize=!1),t}getHref(){if(!Lm(this.attachment.getContent(),"a"))return this.attachment.getHref()}getCaptionConfig(){var t;const e=this.attachment.getType(),i=Kc((t=to[e])===null||t===void 0?void 0:t.caption);return e==="file"&&(i.name=!0),i}findProgressElement(){var t;return(t=this.findElement())===null||t===void 0?void 0:t.querySelector("progress")}attachmentDidChangeUploadProgress(){const t=this.attachment.getUploadProgress(),e=this.findProgressElement();e&&(e.value=t)}}const wa=n=>I({tagName:"span",textContent:"\uFEFF",data:{trixCursorTarget:n,trixSerialize:!1}}),Lm=function(n,t){const e=I("div");return e.innerHTML=n||"",e.querySelector(t)};class _m extends tu{constructor(){super(...arguments),this.attachment.previewDelegate=this}createContentNodes(){return this.image=I({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]}createCaptionElement(){const t=super.createCaptionElement(...arguments);return t.textContent||t.setAttribute("data-trix-placeholder",P.captionPlaceholder),t}refresh(t){var e;if(t||(t=(e=this.findElement())===null||e===void 0?void 0:e.querySelector("img")),t)return this.updateAttributesForImage(t)}updateAttributesForImage(t){const e=this.attachment.getURL(),i=this.attachment.getPreviewURL();if(t.src=i||e,i===e)t.removeAttribute("data-trix-serialized-attributes");else{const a=JSON.stringify({src:e});t.setAttribute("data-trix-serialized-attributes",a)}const r=this.attachment.getWidth(),s=this.attachment.getHeight();r!=null&&(t.width=r),s!=null&&(t.height=s);const o=["imageElement",this.attachment.id,t.src,t.width,t.height].join("/");t.dataset.trixStoreKey=o}attachmentDidChangeAttributes(){return this.refresh(this.image),this.refresh()}}class km extends Ke{constructor(){super(...arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),this.textConfig=this.options.textConfig,this.context=this.options.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}createNodes(){let t=this.attachment?this.createAttachmentNodes():this.createStringNodes();const e=this.createElement();if(e){const i=function(r){for(;(s=r)!==null&&s!==void 0&&s.firstElementChild;){var s;r=r.firstElementChild}return r}(e);Array.from(t).forEach(r=>{i.appendChild(r)}),t=[e]}return t}createAttachmentNodes(){const t=this.attachment.isPreviewable()?_m:tu;return this.createChildView(t,this.piece.attachment,{piece:this.piece}).getNodes()}createStringNodes(){var t;if((t=this.textConfig)!==null&&t!==void 0&&t.plaintext)return[document.createTextNode(this.string)];{const e=[],i=this.string.split(`
`);for(let r=0;r<i.length;r++){const s=i[r];if(r>0){const o=I("br");e.push(o)}if(s.length){const o=document.createTextNode(this.preserveSpaces(s));e.push(o)}}return e}}createElement(){let t,e,i;const r={};for(e in this.attributes){i=this.attributes[e];const o=vs(e);if(o){if(o.tagName){var s;const a=I(o.tagName);s?(s.appendChild(a),s=a):t=s=a}if(o.styleProperty&&(r[o.styleProperty]=i),o.style)for(e in o.style)i=o.style[e],r[e]=i}}if(Object.keys(r).length)for(e in t||(t=I("span")),r)i=r[e],t.style[e]=i;return t}createContainerElement(){for(const t in this.attributes){const e=this.attributes[t],i=vs(t);if(i&&i.groupTagName){const r={};return r[t]=e,I(i.groupTagName,r)}}}preserveSpaces(t){return this.context.isLast&&(t=t.replace(/\ $/,"\xA0")),t=t.replace(/(\S)\ {3}(\S)/g,"$1 ".concat("\xA0"," $2")).replace(/\ {2}/g,"".concat("\xA0"," ")).replace(/\ {2}/g," ".concat("\xA0")),(this.context.isFirst||this.context.followsWhitespace)&&(t=t.replace(/^\ /,"\xA0")),t}}class Om extends Ke{constructor(){super(...arguments),this.text=this.object,this.textConfig=this.options.textConfig}createNodes(){const t=[],e=lo.groupObjects(this.getPieces()),i=e.length-1;for(let s=0;s<e.length;s++){const o=e[s],a={};s===0&&(a.isFirst=!0),s===i&&(a.isLast=!0),Pm(r)&&(a.followsWhitespace=!0);const l=this.findOrCreateCachedChildView(km,o,{textConfig:this.textConfig,context:a});t.push(...Array.from(l.getNodes()||[]));var r=o}return t}getPieces(){return Array.from(this.text.getPieces()).filter(t=>!t.hasAttribute("blockBreak"))}}const Pm=n=>/\s$/.test(n==null?void 0:n.toString()),{css:Aa}=Nn;class Im extends Ke{constructor(){super(...arguments),this.block=this.object,this.attributes=this.block.getAttributes()}createNodes(){const t=[document.createComment("block")];if(this.block.isEmpty())t.push(I("br"));else{var e;const i=(e=K(this.block.getLastAttribute()))===null||e===void 0?void 0:e.text,r=this.findOrCreateCachedChildView(Om,this.block.text,{textConfig:i});t.push(...Array.from(r.getNodes()||[])),this.shouldAddExtraNewlineElement()&&t.push(I("br"))}if(this.attributes.length)return t;{let i;const{tagName:r}=dt.default;this.block.isRTL()&&(i={dir:"rtl"});const s=I({tagName:r,attributes:i});return t.forEach(o=>s.appendChild(o)),[s]}}createContainerElement(t){let e,i;const r=this.attributes[t],{tagName:s}=K(r);if(t===0&&this.block.isRTL()&&(e={dir:"rtl"}),r==="attachmentGallery"){const o=this.block.getBlockBreakPosition();i="".concat(Aa.attachmentGallery," ").concat(Aa.attachmentGallery,"--").concat(o)}return I({tagName:s,className:i,attributes:e})}shouldAddExtraNewlineElement(){return/\n\n$/.test(this.block.toString())}}class co extends Ke{static render(t){const e=I("div"),i=new this(t,{element:e});return i.render(),i.sync(),e}constructor(){super(...arguments),this.element=this.options.element,this.elementStore=new Rm,this.setDocument(this.object)}setDocument(t){t.isEqualTo(this.document)||(this.document=this.object=t)}render(){if(this.childViews=[],this.shadowElement=I("div"),!this.document.isEmpty()){const t=lo.groupObjects(this.document.getBlocks(),{asTree:!0});Array.from(t).forEach(e=>{const i=this.findOrCreateCachedChildView(Im,e);Array.from(i.getNodes()).map(r=>this.shadowElement.appendChild(r))})}}isSynced(){return Mm(this.shadowElement,this.element)}sync(){const t=this.createDocumentFragmentForSync();for(;this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(t),this.didSync()}didSync(){return this.elementStore.reset(Sa(this.element)),so(()=>this.garbageCollectCachedViews())}createDocumentFragmentForSync(){const t=document.createDocumentFragment();return Array.from(this.shadowElement.childNodes).forEach(e=>{t.appendChild(e.cloneNode(!0))}),Array.from(Sa(t)).forEach(e=>{const i=this.elementStore.remove(e);i&&e.parentNode.replaceChild(i,e)}),t}}const Sa=n=>n.querySelectorAll("[data-trix-store-key]"),Mm=(n,t)=>Ea(n.innerHTML)===Ea(t.innerHTML),Ea=n=>n.replace(/&nbsp;/g," ");function yt(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}class Se extends Ae{static registerType(t,e){e.type=t,this.types[t]=e}static fromJSON(t){const e=this.types[t.type];if(e)return e.fromJSON(t)}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.attributes=bt.box(e)}copyWithAttributes(t){return new this.constructor(this.getValue(),t)}copyWithAdditionalAttributes(t){return this.copyWithAttributes(this.attributes.merge(t))}copyWithoutAttribute(t){return this.copyWithAttributes(this.attributes.remove(t))}copy(){return this.copyWithAttributes(this.attributes)}getAttribute(t){return this.attributes.get(t)}getAttributesHash(){return this.attributes}getAttributes(){return this.attributes.toObject()}hasAttribute(t){return this.attributes.has(t)}hasSameStringValueAsPiece(t){return t&&this.toString()===t.toString()}hasSameAttributesAsPiece(t){return t&&(this.attributes===t.attributes||this.attributes.isEqualTo(t.attributes))}isBlockBreak(){return!1}isEqualTo(t){return super.isEqualTo(...arguments)||this.hasSameConstructorAs(t)&&this.hasSameStringValueAsPiece(t)&&this.hasSameAttributesAsPiece(t)}isEmpty(){return this.length===0}isSerializable(){return!0}toJSON(){return{type:this.constructor.type,attributes:this.getAttributes()}}contentsForInspection(){return{type:this.constructor.type,attributes:this.attributes.inspect()}}canBeGrouped(){return this.hasAttribute("href")}canBeGroupedWith(t){return this.getAttribute("href")===t.getAttribute("href")}getLength(){return this.length}canBeConsolidatedWith(t){return!1}}yt(Se,"types",{});class eu extends Ai{constructor(t){super(...arguments),this.url=t}perform(t){const e=new Image;e.onload=()=>(e.width=this.width=e.naturalWidth,e.height=this.height=e.naturalHeight,t(!0,e)),e.onerror=()=>t(!1),e.src=this.url}}class Je extends Ae{static attachmentForFile(t){const e=new this(this.attributesForFile(t));return e.setFile(t),e}static attributesForFile(t){return new bt({filename:t.name,filesize:t.size,contentType:t.type})}static fromJSON(t){return new this(t)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.releaseFile=this.releaseFile.bind(this),this.attributes=bt.box(t),this.didChangeAttributes()}getAttribute(t){return this.attributes.get(t)}hasAttribute(t){return this.attributes.has(t)}getAttributes(){return this.attributes.toObject()}setAttributes(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=this.attributes.merge(t);var i,r,s,o;if(!this.attributes.isEqualTo(e))return this.attributes=e,this.didChangeAttributes(),(i=this.previewDelegate)===null||i===void 0||(r=i.attachmentDidChangeAttributes)===null||r===void 0||r.call(i,this),(s=this.delegate)===null||s===void 0||(o=s.attachmentDidChangeAttributes)===null||o===void 0?void 0:o.call(s,this)}didChangeAttributes(){if(this.isPreviewable())return this.preloadURL()}isPending(){return this.file!=null&&!(this.getURL()||this.getHref())}isPreviewable(){return this.attributes.has("previewable")?this.attributes.get("previewable"):Je.previewablePattern.test(this.getContentType())}getType(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"}getURL(){return this.attributes.get("url")}getHref(){return this.attributes.get("href")}getFilename(){return this.attributes.get("filename")||""}getFilesize(){return this.attributes.get("filesize")}getFormattedFilesize(){const t=this.attributes.get("filesize");return typeof t=="number"?zc.formatter(t):""}getExtension(){var t;return(t=this.getFilename().match(/\.(\w+)$/))===null||t===void 0?void 0:t[1].toLowerCase()}getContentType(){return this.attributes.get("contentType")}hasContent(){return this.attributes.has("content")}getContent(){return this.attributes.get("content")}getWidth(){return this.attributes.get("width")}getHeight(){return this.attributes.get("height")}getFile(){return this.file}setFile(t){if(this.file=t,this.isPreviewable())return this.preloadFile()}releaseFile(){this.releasePreloadedFile(),this.file=null}getUploadProgress(){return this.uploadProgress!=null?this.uploadProgress:0}setUploadProgress(t){var e,i;if(this.uploadProgress!==t)return this.uploadProgress=t,(e=this.uploadProgressDelegate)===null||e===void 0||(i=e.attachmentDidChangeUploadProgress)===null||i===void 0?void 0:i.call(e,this)}toJSON(){return this.getAttributes()}getCacheKey(){return[super.getCacheKey(...arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")}getPreviewURL(){return this.previewURL||this.preloadingURL}setPreviewURL(t){var e,i,r,s;if(t!==this.getPreviewURL())return this.previewURL=t,(e=this.previewDelegate)===null||e===void 0||(i=e.attachmentDidChangeAttributes)===null||i===void 0||i.call(e,this),(r=this.delegate)===null||r===void 0||(s=r.attachmentDidChangePreviewURL)===null||s===void 0?void 0:s.call(r,this)}preloadURL(){return this.preload(this.getURL(),this.releaseFile)}preloadFile(){if(this.file)return this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)}releasePreloadedFile(){this.fileObjectURL&&(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null)}preload(t,e){if(t&&t!==this.getPreviewURL())return this.preloadingURL=t,new eu(t).then(i=>{let{width:r,height:s}=i;return this.getWidth()&&this.getHeight()||this.setAttributes({width:r,height:s}),this.preloadingURL=null,this.setPreviewURL(t),e==null?void 0:e()}).catch(()=>(this.preloadingURL=null,e==null?void 0:e()))}}yt(Je,"previewablePattern",/^image(\/(gif|png|webp|jpe?g)|$)/);class Ve extends Se{static fromJSON(t){return new this(Je.fromJSON(t.attachment),t.attributes)}constructor(t){super(...arguments),this.attachment=t,this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}ensureAttachmentExclusivelyHasAttribute(t){this.hasAttribute(t)&&(this.attachment.hasAttribute(t)||this.attachment.setAttributes(this.attributes.slice([t])),this.attributes=this.attributes.remove(t))}removeProhibitedAttributes(){const t=this.attributes.slice(Ve.permittedAttributes);t.isEqualTo(this.attributes)||(this.attributes=t)}getValue(){return this.attachment}isSerializable(){return!this.attachment.isPending()}getCaption(){return this.attributes.get("caption")||""}isEqualTo(t){var e;return super.isEqualTo(t)&&this.attachment.id===(t==null||(e=t.attachment)===null||e===void 0?void 0:e.id)}toString(){return"\uFFFC"}toJSON(){const t=super.toJSON(...arguments);return t.attachment=this.attachment,t}getCacheKey(){return[super.getCacheKey(...arguments),this.attachment.getCacheKey()].join("/")}toConsole(){return JSON.stringify(this.toString())}}yt(Ve,"permittedAttributes",["caption","presentation"]),Se.registerType("attachment",Ve);class uo extends Se{static fromJSON(t){return new this(t.string,t.attributes)}constructor(t){super(...arguments),this.string=(e=>e.replace(/\r\n/g,`
`))(t),this.length=this.string.length}getValue(){return this.string}toString(){return this.string.toString()}isBlockBreak(){return this.toString()===`
`&&this.getAttribute("blockBreak")===!0}toJSON(){const t=super.toJSON(...arguments);return t.string=this.string,t}canBeConsolidatedWith(t){return t&&this.hasSameConstructorAs(t)&&this.hasSameAttributesAsPiece(t)}consolidateWith(t){return new this.constructor(this.toString()+t.toString(),this.attributes)}splitAtOffset(t){let e,i;return t===0?(e=null,i=this):t===this.length?(e=this,i=null):(e=new this.constructor(this.string.slice(0,t),this.attributes),i=new this.constructor(this.string.slice(t),this.attributes)),[e,i]}toConsole(){let{string:t}=this;return t.length>15&&(t=t.slice(0,14)+"\u2026"),JSON.stringify(t.toString())}}Se.registerType("string",uo);class Si extends Ae{static box(t){return t instanceof this?t:new this(t)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects=t.slice(0),this.length=this.objects.length}indexOf(t){return this.objects.indexOf(t)}splice(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new this.constructor(ro(this.objects,...e))}eachObject(t){return this.objects.map((e,i)=>t(e,i))}insertObjectAtIndex(t,e){return this.splice(e,0,t)}insertSplittableListAtIndex(t,e){return this.splice(e,0,...t.objects)}insertSplittableListAtPosition(t,e){const[i,r]=this.splitObjectAtPosition(e);return new this.constructor(i).insertSplittableListAtIndex(t,r)}editObjectAtIndex(t,e){return this.replaceObjectAtIndex(e(this.objects[t]),t)}replaceObjectAtIndex(t,e){return this.splice(e,1,t)}removeObjectAtIndex(t){return this.splice(t,1)}getObjectAtIndex(t){return this.objects[t]}getSplittableListInRange(t){const[e,i,r]=this.splitObjectsAtRange(t);return new this.constructor(e.slice(i,r+1))}selectSplittableList(t){const e=this.objects.filter(i=>t(i));return new this.constructor(e)}removeObjectsInRange(t){const[e,i,r]=this.splitObjectsAtRange(t);return new this.constructor(e).splice(i,r-i+1)}transformObjectsInRange(t,e){const[i,r,s]=this.splitObjectsAtRange(t),o=i.map((a,l)=>r<=l&&l<=s?e(a):a);return new this.constructor(o)}splitObjectsAtRange(t){let e,[i,r,s]=this.splitObjectAtPosition(Fm(t));return[i,e]=new this.constructor(i).splitObjectAtPosition(Bm(t)+s),[i,r,e-1]}getObjectAtPosition(t){const{index:e}=this.findIndexAndOffsetAtPosition(t);return this.objects[e]}splitObjectAtPosition(t){let e,i;const{index:r,offset:s}=this.findIndexAndOffsetAtPosition(t),o=this.objects.slice(0);if(r!=null)if(s===0)e=r,i=0;else{const a=this.getObjectAtIndex(r),[l,c]=a.splitAtOffset(s);o.splice(r,1,l,c),e=r+1,i=l.getLength()-s}else e=o.length,i=0;return[o,e,i]}consolidate(){const t=[];let e=this.objects[0];return this.objects.slice(1).forEach(i=>{var r,s;(r=(s=e).canBeConsolidatedWith)!==null&&r!==void 0&&r.call(s,i)?e=e.consolidateWith(i):(t.push(e),e=i)}),e&&t.push(e),new this.constructor(t)}consolidateFromIndexToIndex(t,e){const i=this.objects.slice(0).slice(t,e+1),r=new this.constructor(i).consolidate().toArray();return this.splice(t,i.length,...r)}findIndexAndOffsetAtPosition(t){let e,i=0;for(e=0;e<this.objects.length;e++){const r=i+this.objects[e].getLength();if(i<=t&&t<r)return{index:e,offset:t-i};i=r}return{index:null,offset:null}}findPositionAtIndexAndOffset(t,e){let i=0;for(let r=0;r<this.objects.length;r++){const s=this.objects[r];if(r<t)i+=s.getLength();else if(r===t){i+=e;break}}return i}getEndPosition(){return this.endPosition==null&&(this.endPosition=0,this.objects.forEach(t=>this.endPosition+=t.getLength())),this.endPosition}toString(){return this.objects.join("")}toArray(){return this.objects.slice(0)}toJSON(){return this.toArray()}isEqualTo(t){return super.isEqualTo(...arguments)||Nm(this.objects,t==null?void 0:t.objects)}contentsForInspection(){return{objects:"[".concat(this.objects.map(t=>t.inspect()).join(", "),"]")}}}const Nm=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(n.length!==t.length)return!1;let e=!0;for(let i=0;i<n.length;i++){const r=n[i];e&&!r.isEqualTo(t[i])&&(e=!1)}return e},Fm=n=>n[0],Bm=n=>n[1];class Tt extends Ae{static textForAttachmentWithAttributes(t,e){return new this([new Ve(t,e)])}static textForStringWithAttributes(t,e){return new this([new uo(t,e)])}static fromJSON(t){return new this(Array.from(t).map(e=>Se.fromJSON(e)))}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments);const e=t.filter(i=>!i.isEmpty());this.pieceList=new Si(e)}copy(){return this.copyWithPieceList(this.pieceList)}copyWithPieceList(t){return new this.constructor(t.consolidate().toArray())}copyUsingObjectMap(t){const e=this.getPieces().map(i=>t.find(i)||i);return new this.constructor(e)}appendText(t){return this.insertTextAtPosition(t,this.getLength())}insertTextAtPosition(t,e){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(t.pieceList,e))}removeTextAtRange(t){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(t))}replaceTextAtRange(t,e){return this.removeTextAtRange(e).insertTextAtPosition(t,e[0])}moveTextFromRangeToPosition(t,e){if(t[0]<=e&&e<=t[1])return;const i=this.getTextAtRange(t),r=i.getLength();return t[0]<e&&(e-=r),this.removeTextAtRange(t).insertTextAtPosition(i,e)}addAttributeAtRange(t,e,i){const r={};return r[t]=e,this.addAttributesAtRange(r,i)}addAttributesAtRange(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,i=>i.copyWithAdditionalAttributes(t)))}removeAttributeAtRange(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,i=>i.copyWithoutAttribute(t)))}setAttributesAtRange(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,i=>i.copyWithAttributes(t)))}getAttributesAtPosition(t){var e;return((e=this.pieceList.getObjectAtPosition(t))===null||e===void 0?void 0:e.getAttributes())||{}}getCommonAttributes(){const t=Array.from(this.pieceList.toArray()).map(e=>e.getAttributes());return bt.fromCommonAttributesOfObjects(t).toObject()}getCommonAttributesAtRange(t){return this.getTextAtRange(t).getCommonAttributes()||{}}getExpandedRangeForAttributeAtOffset(t,e){let i,r=i=e;const s=this.getLength();for(;r>0&&this.getCommonAttributesAtRange([r-1,i])[t];)r--;for(;i<s&&this.getCommonAttributesAtRange([e,i+1])[t];)i++;return[r,i]}getTextAtRange(t){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(t))}getStringAtRange(t){return this.pieceList.getSplittableListInRange(t).toString()}getStringAtPosition(t){return this.getStringAtRange([t,t+1])}startsWithString(t){return this.getStringAtRange([0,t.length])===t}endsWithString(t){const e=this.getLength();return this.getStringAtRange([e-t.length,e])===t}getAttachmentPieces(){return this.pieceList.toArray().filter(t=>!!t.attachment)}getAttachments(){return this.getAttachmentPieces().map(t=>t.attachment)}getAttachmentAndPositionById(t){let e=0;for(const r of this.pieceList.toArray()){var i;if(((i=r.attachment)===null||i===void 0?void 0:i.id)===t)return{attachment:r.attachment,position:e};e+=r.length}return{attachment:null,position:null}}getAttachmentById(t){const{attachment:e}=this.getAttachmentAndPositionById(t);return e}getRangeOfAttachment(t){const e=this.getAttachmentAndPositionById(t.id),i=e.position;if(t=e.attachment)return[i,i+1]}updateAttributesForAttachment(t,e){const i=this.getRangeOfAttachment(e);return i?this.addAttributesAtRange(t,i):this}getLength(){return this.pieceList.getEndPosition()}isEmpty(){return this.getLength()===0}isEqualTo(t){var e;return super.isEqualTo(t)||(t==null||(e=t.pieceList)===null||e===void 0?void 0:e.isEqualTo(this.pieceList))}isBlockBreak(){return this.getLength()===1&&this.pieceList.getObjectAtIndex(0).isBlockBreak()}eachPiece(t){return this.pieceList.eachObject(t)}getPieces(){return this.pieceList.toArray()}getPieceAtPosition(t){return this.pieceList.getObjectAtPosition(t)}contentsForInspection(){return{pieceList:this.pieceList.inspect()}}toSerializableText(){const t=this.pieceList.selectSplittableList(e=>e.isSerializable());return this.copyWithPieceList(t)}toString(){return this.pieceList.toString()}toJSON(){return this.pieceList.toJSON()}toConsole(){return JSON.stringify(this.pieceList.toArray().map(t=>JSON.parse(t.toConsole())))}getDirection(){return mm(this.toString())}isRTL(){return this.getDirection()==="rtl"}}class Ft extends Ae{static fromJSON(t){return new this(Tt.fromJSON(t.text),t.attributes)}constructor(t,e){super(...arguments),this.text=Wm(t||new Tt),this.attributes=e||[]}isEmpty(){return this.text.isBlockBreak()}isEqualTo(t){return!!super.isEqualTo(t)||this.text.isEqualTo(t==null?void 0:t.text)&&be(this.attributes,t==null?void 0:t.attributes)}copyWithText(t){return new Ft(t,this.attributes)}copyWithoutText(){return this.copyWithText(null)}copyWithAttributes(t){return new Ft(this.text,t)}copyWithoutAttributes(){return this.copyWithAttributes(null)}copyUsingObjectMap(t){const e=t.find(this.text);return e?this.copyWithText(e):this.copyWithText(this.text.copyUsingObjectMap(t))}addAttribute(t){const e=this.attributes.concat(Ca(t));return this.copyWithAttributes(e)}removeAttribute(t){const{listAttribute:e}=K(t),i=Ra(Ra(this.attributes,t),e);return this.copyWithAttributes(i)}removeLastAttribute(){return this.removeAttribute(this.getLastAttribute())}getLastAttribute(){return Ta(this.attributes)}getAttributes(){return this.attributes.slice(0)}getAttributeLevel(){return this.attributes.length}getAttributeAtLevel(t){return this.attributes[t-1]}hasAttribute(t){return this.attributes.includes(t)}hasAttributes(){return this.getAttributeLevel()>0}getLastNestableAttribute(){return Ta(this.getNestableAttributes())}getNestableAttributes(){return this.attributes.filter(t=>K(t).nestable)}getNestingLevel(){return this.getNestableAttributes().length}decreaseNestingLevel(){const t=this.getLastNestableAttribute();return t?this.removeAttribute(t):this}increaseNestingLevel(){const t=this.getLastNestableAttribute();if(t){const e=this.attributes.lastIndexOf(t),i=ro(this.attributes,e+1,0,...Ca(t));return this.copyWithAttributes(i)}return this}getListItemAttributes(){return this.attributes.filter(t=>K(t).listAttribute)}isListItem(){var t;return(t=K(this.getLastAttribute()))===null||t===void 0?void 0:t.listAttribute}isTerminalBlock(){var t;return(t=K(this.getLastAttribute()))===null||t===void 0?void 0:t.terminal}breaksOnReturn(){var t;return(t=K(this.getLastAttribute()))===null||t===void 0?void 0:t.breakOnReturn}findLineBreakInDirectionFromPosition(t,e){const i=this.toString();let r;switch(t){case"forward":r=i.indexOf(`
`,e);break;case"backward":r=i.slice(0,e).lastIndexOf(`
`)}if(r!==-1)return r}contentsForInspection(){return{text:this.text.inspect(),attributes:this.attributes}}toString(){return this.text.toString()}toJSON(){return{text:this.text,attributes:this.attributes}}getDirection(){return this.text.getDirection()}isRTL(){return this.text.isRTL()}getLength(){return this.text.getLength()}canBeConsolidatedWith(t){return!this.hasAttributes()&&!t.hasAttributes()&&this.getDirection()===t.getDirection()}consolidateWith(t){const e=Tt.textForStringWithAttributes(`
`),i=this.getTextWithoutBlockBreak().appendText(e);return this.copyWithText(i.appendText(t.text))}splitAtOffset(t){let e,i;return t===0?(e=null,i=this):t===this.getLength()?(e=this,i=null):(e=this.copyWithText(this.text.getTextAtRange([0,t])),i=this.copyWithText(this.text.getTextAtRange([t,this.getLength()]))),[e,i]}getBlockBreakPosition(){return this.text.getLength()-1}getTextWithoutBlockBreak(){return nu(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()}canBeGrouped(t){return this.attributes[t]}canBeGroupedWith(t,e){const i=t.getAttributes(),r=i[e],s=this.attributes[e];return s===r&&!(K(s).group===!1&&!(()=>{if(!Xn){Xn=[];for(const o in dt){const{listAttribute:a}=dt[o];a!=null&&Xn.push(a)}}return Xn})().includes(i[e+1]))&&(this.getDirection()===t.getDirection()||t.isEmpty())}}const Wm=function(n){return n=jm(n),n=zm(n)},jm=function(n){let t=!1;const e=n.getPieces();let i=e.slice(0,e.length-1);const r=e[e.length-1];return r?(i=i.map(s=>s.isBlockBreak()?(t=!0,qm(s)):s),t?new Tt([...i,r]):n):n},Hm=Tt.textForStringWithAttributes(`
`,{blockBreak:!0}),zm=function(n){return nu(n)?n:n.appendText(Hm)},nu=function(n){const t=n.getLength();return t===0?!1:n.getTextAtRange([t-1,t]).isBlockBreak()},qm=n=>n.copyWithoutAttribute("blockBreak"),Ca=function(n){const{listAttribute:t}=K(n);return t?[t,n]:[n]},Ta=n=>n.slice(-1)[0],Ra=function(n,t){const e=n.lastIndexOf(t);return e===-1?n:ro(n,e,1)};class St extends Ae{static fromJSON(t){return new this(Array.from(t).map(e=>Ft.fromJSON(e)))}static fromString(t,e){const i=Tt.textForStringWithAttributes(t,e);return new this([new Ft(i)])}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),t.length===0&&(t=[new Ft]),this.blockList=Si.box(t)}isEmpty(){const t=this.getBlockAtIndex(0);return this.blockList.length===1&&t.isEmpty()&&!t.hasAttributes()}copy(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray();return new this.constructor(t)}copyUsingObjectsFromDocument(t){const e=new Tm(t.getObjects());return this.copyUsingObjectMap(e)}copyUsingObjectMap(t){const e=this.getBlocks().map(i=>t.find(i)||i.copyUsingObjectMap(t));return new this.constructor(e)}copyWithBaseBlockAttributes(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=this.getBlocks().map(i=>{const r=t.concat(i.getAttributes());return i.copyWithAttributes(r)});return new this.constructor(e)}replaceBlock(t,e){const i=this.blockList.indexOf(t);return i===-1?this:new this.constructor(this.blockList.replaceObjectAtIndex(e,i))}insertDocumentAtRange(t,e){const{blockList:i}=t;e=F(e);let[r]=e;const{index:s,offset:o}=this.locationFromPosition(r);let a=this;const l=this.getBlockAtPosition(r);return Nt(e)&&l.isEmpty()&&!l.hasAttributes()?a=new this.constructor(a.blockList.removeObjectAtIndex(s)):l.getBlockBreakPosition()===o&&r++,a=a.removeTextAtRange(e),new this.constructor(a.blockList.insertSplittableListAtPosition(i,r))}mergeDocumentAtRange(t,e){let i,r;e=F(e);const[s]=e,o=this.locationFromPosition(s),a=this.getBlockAtIndex(o.index).getAttributes(),l=t.getBaseBlockAttributes(),c=a.slice(-l.length);if(be(l,c)){const h=a.slice(0,-l.length);i=t.copyWithBaseBlockAttributes(h)}else i=t.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(a);const u=i.getBlockCount(),d=i.getBlockAtIndex(0);if(be(a,d.getAttributes())){const h=d.getTextWithoutBlockBreak();if(r=this.insertTextAtRange(h,e),u>1){i=new this.constructor(i.getBlocks().slice(1));const f=s+h.getLength();r=r.insertDocumentAtRange(i,f)}}else r=this.insertDocumentAtRange(i,e);return r}insertTextAtRange(t,e){e=F(e);const[i]=e,{index:r,offset:s}=this.locationFromPosition(i),o=this.removeTextAtRange(e);return new this.constructor(o.blockList.editObjectAtIndex(r,a=>a.copyWithText(a.text.insertTextAtPosition(t,s))))}removeTextAtRange(t){let e;t=F(t);const[i,r]=t;if(Nt(t))return this;const[s,o]=Array.from(this.locationRangeFromRange(t)),a=s.index,l=s.offset,c=this.getBlockAtIndex(a),u=o.index,d=o.offset,h=this.getBlockAtIndex(u);if(r-i==1&&c.getBlockBreakPosition()===l&&h.getBlockBreakPosition()!==d&&h.text.getStringAtPosition(d)===`
`)e=this.blockList.editObjectAtIndex(u,f=>f.copyWithText(f.text.removeTextAtRange([d,d+1])));else{let f;const p=c.text.getTextAtRange([0,l]),v=h.text.getTextAtRange([d,h.getLength()]),b=p.appendText(v);f=a!==u&&l===0&&c.getAttributeLevel()>=h.getAttributeLevel()?h.copyWithText(b):c.copyWithText(b);const m=u+1-a;e=this.blockList.splice(a,m,f)}return new this.constructor(e)}moveTextFromRangeToPosition(t,e){let i;t=F(t);const[r,s]=t;if(r<=e&&e<=s)return this;let o=this.getDocumentAtRange(t),a=this.removeTextAtRange(t);const l=r<e;l&&(e-=o.getLength());const[c,...u]=o.getBlocks();return u.length===0?(i=c.getTextWithoutBlockBreak(),l&&(e+=1)):i=c.text,a=a.insertTextAtRange(i,e),u.length===0?a:(o=new this.constructor(u),e+=i.getLength(),a.insertDocumentAtRange(o,e))}addAttributeAtRange(t,e,i){let{blockList:r}=this;return this.eachBlockAtRange(i,(s,o,a)=>r=r.editObjectAtIndex(a,function(){return K(t)?s.addAttribute(t,e):o[0]===o[1]?s:s.copyWithText(s.text.addAttributeAtRange(t,e,o))})),new this.constructor(r)}addAttribute(t,e){let{blockList:i}=this;return this.eachBlock((r,s)=>i=i.editObjectAtIndex(s,()=>r.addAttribute(t,e))),new this.constructor(i)}removeAttributeAtRange(t,e){let{blockList:i}=this;return this.eachBlockAtRange(e,function(r,s,o){K(t)?i=i.editObjectAtIndex(o,()=>r.removeAttribute(t)):s[0]!==s[1]&&(i=i.editObjectAtIndex(o,()=>r.copyWithText(r.text.removeAttributeAtRange(t,s))))}),new this.constructor(i)}updateAttributesForAttachment(t,e){const i=this.getRangeOfAttachment(e),[r]=Array.from(i),{index:s}=this.locationFromPosition(r),o=this.getTextAtIndex(s);return new this.constructor(this.blockList.editObjectAtIndex(s,a=>a.copyWithText(o.updateAttributesForAttachment(t,e))))}removeAttributeForAttachment(t,e){const i=this.getRangeOfAttachment(e);return this.removeAttributeAtRange(t,i)}insertBlockBreakAtRange(t){let e;t=F(t);const[i]=t,{offset:r}=this.locationFromPosition(i),s=this.removeTextAtRange(t);return r===0&&(e=[new Ft]),new this.constructor(s.blockList.insertSplittableListAtPosition(new Si(e),i))}applyBlockAttributeAtRange(t,e,i){const r=this.expandRangeToLineBreaksAndSplitBlocks(i);let s=r.document;i=r.range;const o=K(t);if(o.listAttribute){s=s.removeLastListAttributeAtRange(i,{exceptAttributeName:t});const a=s.convertLineBreaksToBlockBreaksInRange(i);s=a.document,i=a.range}else s=o.exclusive?s.removeBlockAttributesAtRange(i):o.terminal?s.removeLastTerminalAttributeAtRange(i):s.consolidateBlocksAtRange(i);return s.addAttributeAtRange(t,e,i)}removeLastListAttributeAtRange(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{blockList:i}=this;return this.eachBlockAtRange(t,function(r,s,o){const a=r.getLastAttribute();a&&K(a).listAttribute&&a!==e.exceptAttributeName&&(i=i.editObjectAtIndex(o,()=>r.removeAttribute(a)))}),new this.constructor(i)}removeLastTerminalAttributeAtRange(t){let{blockList:e}=this;return this.eachBlockAtRange(t,function(i,r,s){const o=i.getLastAttribute();o&&K(o).terminal&&(e=e.editObjectAtIndex(s,()=>i.removeAttribute(o)))}),new this.constructor(e)}removeBlockAttributesAtRange(t){let{blockList:e}=this;return this.eachBlockAtRange(t,function(i,r,s){i.hasAttributes()&&(e=e.editObjectAtIndex(s,()=>i.copyWithoutAttributes()))}),new this.constructor(e)}expandRangeToLineBreaksAndSplitBlocks(t){let e;t=F(t);let[i,r]=t;const s=this.locationFromPosition(i),o=this.locationFromPosition(r);let a=this;const l=a.getBlockAtIndex(s.index);if(s.offset=l.findLineBreakInDirectionFromPosition("backward",s.offset),s.offset!=null&&(e=a.positionFromLocation(s),a=a.insertBlockBreakAtRange([e,e+1]),o.index+=1,o.offset-=a.getBlockAtIndex(s.index).getLength(),s.index+=1),s.offset=0,o.offset===0&&o.index>s.index)o.index-=1,o.offset=a.getBlockAtIndex(o.index).getBlockBreakPosition();else{const c=a.getBlockAtIndex(o.index);c.text.getStringAtRange([o.offset-1,o.offset])===`
`?o.offset-=1:o.offset=c.findLineBreakInDirectionFromPosition("forward",o.offset),o.offset!==c.getBlockBreakPosition()&&(e=a.positionFromLocation(o),a=a.insertBlockBreakAtRange([e,e+1]))}return i=a.positionFromLocation(s),r=a.positionFromLocation(o),{document:a,range:t=F([i,r])}}convertLineBreaksToBlockBreaksInRange(t){t=F(t);let[e]=t;const i=this.getStringAtRange(t).slice(0,-1);let r=this;return i.replace(/.*?\n/g,function(s){e+=s.length,r=r.insertBlockBreakAtRange([e-1,e])}),{document:r,range:t}}consolidateBlocksAtRange(t){t=F(t);const[e,i]=t,r=this.locationFromPosition(e).index,s=this.locationFromPosition(i).index;return new this.constructor(this.blockList.consolidateFromIndexToIndex(r,s))}getDocumentAtRange(t){t=F(t);const e=this.blockList.getSplittableListInRange(t).toArray();return new this.constructor(e)}getStringAtRange(t){let e;const i=t=F(t);return i[i.length-1]!==this.getLength()&&(e=-1),this.getDocumentAtRange(t).toString().slice(0,e)}getBlockAtIndex(t){return this.blockList.getObjectAtIndex(t)}getBlockAtPosition(t){const{index:e}=this.locationFromPosition(t);return this.getBlockAtIndex(e)}getTextAtIndex(t){var e;return(e=this.getBlockAtIndex(t))===null||e===void 0?void 0:e.text}getTextAtPosition(t){const{index:e}=this.locationFromPosition(t);return this.getTextAtIndex(e)}getPieceAtPosition(t){const{index:e,offset:i}=this.locationFromPosition(t);return this.getTextAtIndex(e).getPieceAtPosition(i)}getCharacterAtPosition(t){const{index:e,offset:i}=this.locationFromPosition(t);return this.getTextAtIndex(e).getStringAtRange([i,i+1])}getLength(){return this.blockList.getEndPosition()}getBlocks(){return this.blockList.toArray()}getBlockCount(){return this.blockList.length}getEditCount(){return this.editCount}eachBlock(t){return this.blockList.eachObject(t)}eachBlockAtRange(t,e){let i,r;t=F(t);const[s,o]=t,a=this.locationFromPosition(s),l=this.locationFromPosition(o);if(a.index===l.index)return i=this.getBlockAtIndex(a.index),r=[a.offset,l.offset],e(i,r,a.index);for(let c=a.index;c<=l.index;c++)if(i=this.getBlockAtIndex(c),i){switch(c){case a.index:r=[a.offset,i.text.getLength()];break;case l.index:r=[0,l.offset];break;default:r=[0,i.text.getLength()]}e(i,r,c)}}getCommonAttributesAtRange(t){t=F(t);const[e]=t;if(Nt(t))return this.getCommonAttributesAtPosition(e);{const i=[],r=[];return this.eachBlockAtRange(t,function(s,o){if(o[0]!==o[1])return i.push(s.text.getCommonAttributesAtRange(o)),r.push(Da(s))}),bt.fromCommonAttributesOfObjects(i).merge(bt.fromCommonAttributesOfObjects(r)).toObject()}}getCommonAttributesAtPosition(t){let e,i;const{index:r,offset:s}=this.locationFromPosition(t),o=this.getBlockAtIndex(r);if(!o)return{};const a=Da(o),l=o.text.getAttributesAtPosition(s),c=o.text.getAttributesAtPosition(s-1),u=Object.keys(ve).filter(d=>ve[d].inheritable);for(e in c)i=c[e],(i===l[e]||u.includes(e))&&(a[e]=i);return a}getRangeOfCommonAttributeAtPosition(t,e){const{index:i,offset:r}=this.locationFromPosition(e),s=this.getTextAtIndex(i),[o,a]=Array.from(s.getExpandedRangeForAttributeAtOffset(t,r)),l=this.positionFromLocation({index:i,offset:o}),c=this.positionFromLocation({index:i,offset:a});return F([l,c])}getBaseBlockAttributes(){let t=this.getBlockAtIndex(0).getAttributes();for(let e=1;e<this.getBlockCount();e++){const i=this.getBlockAtIndex(e).getAttributes(),r=Math.min(t.length,i.length);t=(()=>{const s=[];for(let o=0;o<r&&i[o]===t[o];o++)s.push(i[o]);return s})()}return t}getAttachmentById(t){for(const e of this.getAttachments())if(e.id===t)return e}getAttachmentPieces(){let t=[];return this.blockList.eachObject(e=>{let{text:i}=e;return t=t.concat(i.getAttachmentPieces())}),t}getAttachments(){return this.getAttachmentPieces().map(t=>t.attachment)}getRangeOfAttachment(t){let e=0;const i=this.blockList.toArray();for(let r=0;r<i.length;r++){const{text:s}=i[r],o=s.getRangeOfAttachment(t);if(o)return F([e+o[0],e+o[1]]);e+=s.getLength()}}getLocationRangeOfAttachment(t){const e=this.getRangeOfAttachment(t);return this.locationRangeFromRange(e)}getAttachmentPieceForAttachment(t){for(const e of this.getAttachmentPieces())if(e.attachment===t)return e}findRangesForBlockAttribute(t){let e=0;const i=[];return this.getBlocks().forEach(r=>{const s=r.getLength();r.hasAttribute(t)&&i.push([e,e+s]),e+=s}),i}findRangesForTextAttribute(t){let{withValue:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=0,r=[];const s=[];return this.getPieces().forEach(o=>{const a=o.getLength();(function(l){return e?l.getAttribute(t)===e:l.hasAttribute(t)})(o)&&(r[1]===i?r[1]=i+a:s.push(r=[i,i+a])),i+=a}),s}locationFromPosition(t){const e=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,t));if(e.index!=null)return e;{const i=this.getBlocks();return{index:i.length-1,offset:i[i.length-1].getLength()}}}positionFromLocation(t){return this.blockList.findPositionAtIndexAndOffset(t.index,t.offset)}locationRangeFromPosition(t){return F(this.locationFromPosition(t))}locationRangeFromRange(t){if(!(t=F(t)))return;const[e,i]=Array.from(t),r=this.locationFromPosition(e),s=this.locationFromPosition(i);return F([r,s])}rangeFromLocationRange(t){let e;t=F(t);const i=this.positionFromLocation(t[0]);return Nt(t)||(e=this.positionFromLocation(t[1])),F([i,e])}isEqualTo(t){return this.blockList.isEqualTo(t==null?void 0:t.blockList)}getTexts(){return this.getBlocks().map(t=>t.text)}getPieces(){const t=[];return Array.from(this.getTexts()).forEach(e=>{t.push(...Array.from(e.getPieces()||[]))}),t}getObjects(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())}toSerializableDocument(){const t=[];return this.blockList.eachObject(e=>t.push(e.copyWithText(e.text.toSerializableText()))),new this.constructor(t)}toString(){return this.blockList.toString()}toJSON(){return this.blockList.toJSON()}toConsole(){return JSON.stringify(this.blockList.toArray()).map(t=>JSON.parse(t.text.toConsole()))}}const Da=function(n){const t={},e=n.getLastAttribute();return e&&(t[e]=!0),t},Vm="style href src width height class".split(" "),$m="javascript:".split(" "),Um="script iframe form".split(" ");class iu extends Q{static sanitize(t,e){const i=new this(t,e);return i.sanitize(),i}constructor(t){let{allowedAttributes:e,forbiddenProtocols:i,forbiddenElements:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.allowedAttributes=e||Vm,this.forbiddenProtocols=i||$m,this.forbiddenElements=r||Um,this.body=Ym(t)}sanitize(){return this.sanitizeElements(),this.normalizeListElementNesting()}getHTML(){return this.body.innerHTML}getBody(){return this.body}sanitizeElements(){const t=xi(this.body),e=[];for(;t.nextNode();){const i=t.currentNode;switch(i.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(i)?e.push(i):this.sanitizeElement(i);break;case Node.COMMENT_NODE:e.push(i)}}return e.forEach(i=>ie(i)),this.body}sanitizeElement(t){return t.hasAttribute("href")&&this.forbiddenProtocols.includes(t.protocol)&&t.removeAttribute("href"),Array.from(t.attributes).forEach(e=>{let{name:i}=e;this.allowedAttributes.includes(i)||i.indexOf("data-trix")===0||t.removeAttribute(i)}),t}normalizeListElementNesting(){return Array.from(this.body.querySelectorAll("ul,ol")).forEach(t=>{const e=t.previousElementSibling;e&&ct(e)==="li"&&e.appendChild(t)}),this.body}elementIsRemovable(t){if((t==null?void 0:t.nodeType)===Node.ELEMENT_NODE)return this.elementIsForbidden(t)||this.elementIsntSerializable(t)}elementIsForbidden(t){return this.forbiddenElements.includes(ct(t))}elementIsntSerializable(t){return t.getAttribute("data-trix-serialize")==="false"&&!me(t)}}const Ym=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";n=n.replace(/<\/html[^>]*>[^]*$/i,"</html>");const t=document.implementation.createHTMLDocument("");return t.documentElement.innerHTML=n,Array.from(t.head.querySelectorAll("style")).forEach(e=>{t.body.appendChild(e)}),t.body},Nr=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const e="string";return{string:n=un(n),attributes:t,type:e}},La=(n,t)=>{try{return JSON.parse(n.getAttribute("data-trix-".concat(t)))}catch{return{}}};class Rn extends Q{static parse(t,e){const i=new this(t,e);return i.parse(),i}constructor(t){let{referenceElement:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.html=t,this.referenceElement=e,this.blocks=[],this.blockElements=[],this.processedElements=[]}getDocument(){return St.fromJSON(this.blocks)}parse(){try{this.createHiddenContainer();const t=iu.sanitize(this.html).getHTML();this.containerElement.innerHTML=t;const e=xi(this.containerElement,{usingFilter:Gm});for(;e.nextNode();)this.processNode(e.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}}createHiddenContainer(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=I({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))}removeHiddenContainer(){return ie(this.containerElement)}processNode(t){switch(t.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(t))return this.appendBlockForTextNode(t),this.processTextNode(t);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(t),this.processElement(t)}}appendBlockForTextNode(t){const e=t.parentNode;if(e===this.currentBlockElement&&this.isBlockElement(t.previousSibling))return this.appendStringWithAttributes(`
`);if(e===this.containerElement||this.isBlockElement(e)){var i;const r=this.getBlockAttributes(e);be(r,(i=this.currentBlock)===null||i===void 0?void 0:i.attributes)||(this.currentBlock=this.appendBlockForAttributesWithElement(r,e),this.currentBlockElement=e)}}appendBlockForElement(t){const e=this.isBlockElement(t),i=he(this.currentBlockElement,t);if(e&&!this.isBlockElement(t.firstChild)){if(!this.isInsignificantTextNode(t.firstChild)||!this.isBlockElement(t.firstElementChild)){const r=this.getBlockAttributes(t);if(t.firstChild){if(i&&be(r,this.currentBlock.attributes))return this.appendStringWithAttributes(`
`);this.currentBlock=this.appendBlockForAttributesWithElement(r,t),this.currentBlockElement=t}}}else if(this.currentBlockElement&&!i&&!e){const r=this.findParentBlockElement(t);if(r)return this.appendBlockForElement(r);this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null}}findParentBlockElement(t){let{parentElement:e}=t;for(;e&&e!==this.containerElement;){if(this.isBlockElement(e)&&this.blockElements.includes(e))return e;e=e.parentElement}return null}processTextNode(t){let e=t.data;var i;return _a(t.parentNode)||(e=ao(e),ru((i=t.previousSibling)===null||i===void 0?void 0:i.textContent)&&(e=Km(e))),this.appendStringWithAttributes(e,this.getTextAttributes(t.parentNode))}processElement(t){let e;if(me(t)){if(e=La(t,"attachment"),Object.keys(e).length){const i=this.getTextAttributes(t);this.appendAttachmentWithAttributes(e,i),t.innerHTML=""}return this.processedElements.push(t)}switch(ct(t)){case"br":return this.isExtraBR(t)||this.isBlockElement(t.nextSibling)||this.appendStringWithAttributes(`
`,this.getTextAttributes(t)),this.processedElements.push(t);case"img":e={url:t.getAttribute("src"),contentType:"image"};const i=(r=>{const s=r.getAttribute("width"),o=r.getAttribute("height"),a={};return s&&(a.width=parseInt(s,10)),o&&(a.height=parseInt(o,10)),a})(t);for(const r in i){const s=i[r];e[r]=s}return this.appendAttachmentWithAttributes(e,this.getTextAttributes(t)),this.processedElements.push(t);case"tr":if(this.needsTableSeparator(t))return this.appendStringWithAttributes(oi.tableRowSeparator);break;case"td":if(this.needsTableSeparator(t))return this.appendStringWithAttributes(oi.tableCellSeparator)}}appendBlockForAttributesWithElement(t,e){this.blockElements.push(e);const i=function(){return{text:[],attributes:arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}}}(t);return this.blocks.push(i),i}appendEmptyBlock(){return this.appendBlockForAttributesWithElement([],null)}appendStringWithAttributes(t,e){return this.appendPiece(Nr(t,e))}appendAttachmentWithAttributes(t,e){return this.appendPiece(function(i){return{attachment:i,attributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},type:"attachment"}}(t,e))}appendPiece(t){return this.blocks.length===0&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(t)}appendStringToTextAtIndex(t,e){const{text:i}=this.blocks[e],r=i[i.length-1];if((r==null?void 0:r.type)!=="string")return i.push(Nr(t));r.string+=t}prependStringToTextAtIndex(t,e){const{text:i}=this.blocks[e],r=i[0];if((r==null?void 0:r.type)!=="string")return i.unshift(Nr(t));r.string=t+r.string}getTextAttributes(t){let e;const i={};for(const r in ve){const s=ve[r];if(s.tagName&&ne(t,{matchingSelector:s.tagName,untilNode:this.containerElement}))i[r]=!0;else if(s.parser){if(e=s.parser(t),e){let o=!1;for(const a of this.findBlockElementAncestors(t))if(s.parser(a)===e){o=!0;break}o||(i[r]=e)}}else s.styleProperty&&(e=t.style[s.styleProperty],e&&(i[r]=e))}if(me(t)){const r=La(t,"attributes");for(const s in r)e=r[s],i[s]=e}return i}getBlockAttributes(t){const e=[];for(;t&&t!==this.containerElement;){for(const r in dt){const s=dt[r];var i;s.parse!==!1&&ct(t)===s.tagName&&((i=s.test)!==null&&i!==void 0&&i.call(s,t)||!s.test)&&(e.push(r),s.listAttribute&&e.push(s.listAttribute))}t=t.parentNode}return e.reverse()}findBlockElementAncestors(t){const e=[];for(;t&&t!==this.containerElement;){const i=ct(t);xn().includes(i)&&e.push(t),t=t.parentNode}return e}isBlockElement(t){if((t==null?void 0:t.nodeType)===Node.ELEMENT_NODE&&!me(t)&&!ne(t,{matchingSelector:"td",untilNode:this.containerElement}))return xn().includes(ct(t))||window.getComputedStyle(t).display==="block"}isInsignificantTextNode(t){if((t==null?void 0:t.nodeType)!==Node.TEXT_NODE||!Jm(t.data))return;const{parentNode:e,previousSibling:i,nextSibling:r}=t;return Xm(e.previousSibling)&&!this.isBlockElement(e.previousSibling)||_a(e)?void 0:!i||this.isBlockElement(i)||!r||this.isBlockElement(r)}isExtraBR(t){return ct(t)==="br"&&this.isBlockElement(t.parentNode)&&t.parentNode.lastChild===t}needsTableSeparator(t){if(oi.removeBlankTableCells){var e;const i=(e=t.previousSibling)===null||e===void 0?void 0:e.textContent;return i&&/\S/.test(i)}return t.previousSibling}translateBlockElementMarginsToNewlines(){const t=this.getMarginOfDefaultBlockElement();for(let e=0;e<this.blocks.length;e++){const i=this.getMarginOfBlockElementAtIndex(e);i&&(i.top>2*t.top&&this.prependStringToTextAtIndex(`
`,e),i.bottom>2*t.bottom&&this.appendStringToTextAtIndex(`
`,e))}}getMarginOfBlockElementAtIndex(t){const e=this.blockElements[t];if(e&&e.textContent&&!xn().includes(ct(e))&&!this.processedElements.includes(e))return ka(e)}getMarginOfDefaultBlockElement(){const t=I(dt.default.tagName);return this.containerElement.appendChild(t),ka(t)}}const _a=function(n){const{whiteSpace:t}=window.getComputedStyle(n);return["pre","pre-wrap","pre-line"].includes(t)},Xm=n=>n&&!ru(n.textContent),ka=function(n){const t=window.getComputedStyle(n);if(t.display==="block")return{top:parseInt(t.marginTop),bottom:parseInt(t.marginBottom)}},Gm=function(n){return ct(n)==="style"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},Km=n=>n.replace(new RegExp("^".concat(oo.source,"+")),""),Jm=n=>new RegExp("^".concat(oo.source,"*$")).test(n),ru=n=>/\s$/.test(n),Qm=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],Zm="[".concat("data-trix-serialized-attributes","]"),tv=new RegExp("<!--block-->","g"),ev={"application/json":function(n){let t;if(n instanceof St)t=n;else{if(!(n instanceof HTMLElement))throw new Error("unserializable object");t=Rn.parse(n.innerHTML).getDocument()}return t.toSerializableDocument().toJSONString()},"text/html":function(n){let t;if(n instanceof St)t=co.render(n);else{if(!(n instanceof HTMLElement))throw new Error("unserializable object");t=n.cloneNode(!0)}return Array.from(t.querySelectorAll("[data-trix-serialize=false]")).forEach(e=>{ie(e)}),Qm.forEach(e=>{Array.from(t.querySelectorAll("[".concat(e,"]"))).forEach(i=>{i.removeAttribute(e)})}),Array.from(t.querySelectorAll(Zm)).forEach(e=>{try{const i=JSON.parse(e.getAttribute("data-trix-serialized-attributes"));e.removeAttribute("data-trix-serialized-attributes");for(const r in i){const s=i[r];e.setAttribute(r,s)}}catch{}}),t.innerHTML.replace(tv,"")}};var nv=Object.freeze({__proto__:null});class Y extends Q{constructor(t,e){super(...arguments),this.attachmentManager=t,this.attachment=e,this.id=this.attachment.id,this.file=this.attachment.file}remove(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)}}Y.proxyMethod("attachment.getAttribute"),Y.proxyMethod("attachment.hasAttribute"),Y.proxyMethod("attachment.setAttribute"),Y.proxyMethod("attachment.getAttributes"),Y.proxyMethod("attachment.setAttributes"),Y.proxyMethod("attachment.isPending"),Y.proxyMethod("attachment.isPreviewable"),Y.proxyMethod("attachment.getURL"),Y.proxyMethod("attachment.getHref"),Y.proxyMethod("attachment.getFilename"),Y.proxyMethod("attachment.getFilesize"),Y.proxyMethod("attachment.getFormattedFilesize"),Y.proxyMethod("attachment.getExtension"),Y.proxyMethod("attachment.getContentType"),Y.proxyMethod("attachment.getFile"),Y.proxyMethod("attachment.setFile"),Y.proxyMethod("attachment.releaseFile"),Y.proxyMethod("attachment.getUploadProgress"),Y.proxyMethod("attachment.setUploadProgress");class su extends Q{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.managedAttachments={},Array.from(t).forEach(e=>{this.manageAttachment(e)})}getAttachments(){const t=[];for(const e in this.managedAttachments){const i=this.managedAttachments[e];t.push(i)}return t}manageAttachment(t){return this.managedAttachments[t.id]||(this.managedAttachments[t.id]=new Y(this,t)),this.managedAttachments[t.id]}attachmentIsManaged(t){return t.id in this.managedAttachments}requestRemovalOfAttachment(t){var e,i;if(this.attachmentIsManaged(t))return(e=this.delegate)===null||e===void 0||(i=e.attachmentManagerDidRequestRemovalOfAttachment)===null||i===void 0?void 0:i.call(e,t)}unmanageAttachment(t){const e=this.managedAttachments[t.id];return delete this.managedAttachments[t.id],e}}class ou{constructor(t){this.composition=t,this.document=this.composition.document;const e=this.composition.getSelectedRange();this.startPosition=e[0],this.endPosition=e[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}shouldInsertBlockBreak(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset!==0:this.breaksOnReturn&&this.nextCharacter!==`
`}shouldBreakFormattedBlock(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&this.nextCharacter===`
`||this.previousCharacter===`
`)}shouldDecreaseListLevel(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()}shouldPrependListItem(){return this.block.isListItem()&&this.startLocation.offset===0&&!this.block.isEmpty()}shouldRemoveLastBlockAttribute(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()}}class Ut extends Q{constructor(){super(...arguments),this.document=new St,this.attachments=[],this.currentAttributes={},this.revision=0}setDocument(t){var e,i;if(!t.isEqualTo(this.document))return this.document=t,this.refreshAttachments(),this.revision++,(e=this.delegate)===null||e===void 0||(i=e.compositionDidChangeDocument)===null||i===void 0?void 0:i.call(e,t)}getSnapshot(){return{document:this.document,selectedRange:this.getSelectedRange()}}loadSnapshot(t){var e,i,r,s;let{document:o,selectedRange:a}=t;return(e=this.delegate)===null||e===void 0||(i=e.compositionWillLoadSnapshot)===null||i===void 0||i.call(e),this.setDocument(o!=null?o:new St),this.setSelection(a!=null?a:[0,0]),(r=this.delegate)===null||r===void 0||(s=r.compositionDidLoadSnapshot)===null||s===void 0?void 0:s.call(r)}insertText(t){let{updatePosition:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{updatePosition:!0};const i=this.getSelectedRange();this.setDocument(this.document.insertTextAtRange(t,i));const r=i[0],s=r+t.getLength();return e&&this.setSelection(s),this.notifyDelegateOfInsertionAtRange([r,s])}insertBlock(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Ft;const e=new St([t]);return this.insertDocument(e)}insertDocument(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new St;const e=this.getSelectedRange();this.setDocument(this.document.insertDocumentAtRange(t,e));const i=e[0],r=i+t.getLength();return this.setSelection(r),this.notifyDelegateOfInsertionAtRange([i,r])}insertString(t,e){const i=this.getCurrentTextAttributes(),r=Tt.textForStringWithAttributes(t,i);return this.insertText(r,e)}insertBlockBreak(){const t=this.getSelectedRange();this.setDocument(this.document.insertBlockBreakAtRange(t));const e=t[0],i=e+1;return this.setSelection(i),this.notifyDelegateOfInsertionAtRange([e,i])}insertLineBreak(){const t=new ou(this);if(t.shouldDecreaseListLevel())return this.decreaseListLevel(),this.setSelection(t.startPosition);if(t.shouldPrependListItem()){const e=new St([t.block.copyWithoutText()]);return this.insertDocument(e)}return t.shouldInsertBlockBreak()?this.insertBlockBreak():t.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():t.shouldBreakFormattedBlock()?this.breakFormattedBlock(t):this.insertString(`
`)}insertHTML(t){const e=Rn.parse(t).getDocument(),i=this.getSelectedRange();this.setDocument(this.document.mergeDocumentAtRange(e,i));const r=i[0],s=r+e.getLength()-1;return this.setSelection(s),this.notifyDelegateOfInsertionAtRange([r,s])}replaceHTML(t){const e=Rn.parse(t).getDocument().copyUsingObjectsFromDocument(this.document),i=this.getLocationRange({strict:!1}),r=this.document.rangeFromLocationRange(i);return this.setDocument(e),this.setSelection(r)}insertFile(t){return this.insertFiles([t])}insertFiles(t){const e=[];return Array.from(t).forEach(i=>{var r;if((r=this.delegate)!==null&&r!==void 0&&r.compositionShouldAcceptFile(i)){const s=Je.attachmentForFile(i);e.push(s)}}),this.insertAttachments(e)}insertAttachment(t){return this.insertAttachments([t])}insertAttachments(t){let e=new Tt;return Array.from(t).forEach(i=>{var r;const s=i.getType(),o=(r=to[s])===null||r===void 0?void 0:r.presentation,a=this.getCurrentTextAttributes();o&&(a.presentation=o);const l=Tt.textForAttachmentWithAttributes(i,a);e=e.appendText(l)}),this.insertText(e)}shouldManageDeletingInDirection(t){const e=this.getLocationRange();if(Nt(e)){if(t==="backward"&&e[0].offset===0||this.shouldManageMovingCursorInDirection(t))return!0}else if(e[0].index!==e[1].index)return!0;return!1}deleteInDirection(t){let e,i,r,{length:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=this.getLocationRange();let a=this.getSelectedRange();const l=Nt(a);if(l?i=t==="backward"&&o[0].offset===0:r=o[0].index!==o[1].index,i&&this.canDecreaseBlockAttributeLevel()){const c=this.getBlock();if(c.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(a[0]),c.isEmpty())return!1}return l&&(a=this.getExpandedRangeInDirection(t,{length:s}),t==="backward"&&(e=this.getAttachmentAtRange(a))),e?(this.editAttachment(e),!1):(this.setDocument(this.document.removeTextAtRange(a)),this.setSelection(a[0]),!i&&!r&&void 0)}moveTextFromRange(t){const[e]=Array.from(this.getSelectedRange());return this.setDocument(this.document.moveTextFromRangeToPosition(t,e)),this.setSelection(e)}removeAttachment(t){const e=this.document.getRangeOfAttachment(t);if(e)return this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(e)),this.setSelection(e[0])}removeLastBlockAttribute(){const[t,e]=Array.from(this.getSelectedRange()),i=this.document.getBlockAtPosition(e);return this.removeCurrentAttribute(i.getLastAttribute()),this.setSelection(t)}insertPlaceholder(){return this.placeholderPosition=this.getPosition(),this.insertString(" ")}selectPlaceholder(){if(this.placeholderPosition!=null)return this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+1]),this.getSelectedRange()}forgetPlaceholder(){this.placeholderPosition=null}hasCurrentAttribute(t){const e=this.currentAttributes[t];return e!=null&&e!==!1}toggleCurrentAttribute(t){const e=!this.currentAttributes[t];return e?this.setCurrentAttribute(t,e):this.removeCurrentAttribute(t)}canSetCurrentAttribute(t){return K(t)?this.canSetCurrentBlockAttribute(t):this.canSetCurrentTextAttribute(t)}canSetCurrentTextAttribute(t){const e=this.getSelectedDocument();if(e){for(const i of Array.from(e.getAttachments()))if(!i.hasContent())return!1;return!0}}canSetCurrentBlockAttribute(t){const e=this.getBlock();if(e)return!e.isTerminalBlock()}setCurrentAttribute(t,e){return K(t)?this.setBlockAttribute(t,e):(this.setTextAttribute(t,e),this.currentAttributes[t]=e,this.notifyDelegateOfCurrentAttributesChange())}setTextAttribute(t,e){const i=this.getSelectedRange();if(!i)return;const[r,s]=Array.from(i);if(r!==s)return this.setDocument(this.document.addAttributeAtRange(t,e,i));if(t==="href"){const o=Tt.textForStringWithAttributes(e,{href:e});return this.insertText(o)}}setBlockAttribute(t,e){const i=this.getSelectedRange();if(this.canSetCurrentAttribute(t))return this.setDocument(this.document.applyBlockAttributeAtRange(t,e,i)),this.setSelection(i)}removeCurrentAttribute(t){return K(t)?(this.removeBlockAttribute(t),this.updateCurrentAttributes()):(this.removeTextAttribute(t),delete this.currentAttributes[t],this.notifyDelegateOfCurrentAttributesChange())}removeTextAttribute(t){const e=this.getSelectedRange();if(e)return this.setDocument(this.document.removeAttributeAtRange(t,e))}removeBlockAttribute(t){const e=this.getSelectedRange();if(e)return this.setDocument(this.document.removeAttributeAtRange(t,e))}canDecreaseNestingLevel(){var t;return((t=this.getBlock())===null||t===void 0?void 0:t.getNestingLevel())>0}canIncreaseNestingLevel(){var t;const e=this.getBlock();if(e){if((t=K(e.getLastNestableAttribute()))===null||t===void 0||!t.listAttribute)return e.getNestingLevel()>0;{const i=this.getPreviousBlock();if(i)return function(){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return be((arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).slice(0,r.length),r)}(i.getListItemAttributes(),e.getListItemAttributes())}}}decreaseNestingLevel(){const t=this.getBlock();if(t)return this.setDocument(this.document.replaceBlock(t,t.decreaseNestingLevel()))}increaseNestingLevel(){const t=this.getBlock();if(t)return this.setDocument(this.document.replaceBlock(t,t.increaseNestingLevel()))}canDecreaseBlockAttributeLevel(){var t;return((t=this.getBlock())===null||t===void 0?void 0:t.getAttributeLevel())>0}decreaseBlockAttributeLevel(){var t;const e=(t=this.getBlock())===null||t===void 0?void 0:t.getLastAttribute();if(e)return this.removeCurrentAttribute(e)}decreaseListLevel(){let[t]=Array.from(this.getSelectedRange());const{index:e}=this.document.locationFromPosition(t);let i=e;const r=this.getBlock().getAttributeLevel();let s=this.document.getBlockAtIndex(i+1);for(;s&&s.isListItem()&&!(s.getAttributeLevel()<=r);)i++,s=this.document.getBlockAtIndex(i+1);t=this.document.positionFromLocation({index:e,offset:0});const o=this.document.positionFromLocation({index:i,offset:0});return this.setDocument(this.document.removeLastListAttributeAtRange([t,o]))}updateCurrentAttributes(){const t=this.getSelectedRange({ignoreLock:!0});if(t){const e=this.document.getCommonAttributesAtRange(t);if(Array.from(ms()).forEach(i=>{e[i]||this.canSetCurrentAttribute(i)||(e[i]=!1)}),!Fn(e,this.currentAttributes))return this.currentAttributes=e,this.notifyDelegateOfCurrentAttributesChange()}}getCurrentAttributes(){return qc.call({},this.currentAttributes)}getCurrentTextAttributes(){const t={};for(const e in this.currentAttributes){const i=this.currentAttributes[e];i!==!1&&vs(e)&&(t[e]=i)}return t}freezeSelection(){return this.setCurrentAttribute("frozen",!0)}thawSelection(){return this.removeCurrentAttribute("frozen")}hasFrozenSelection(){return this.hasCurrentAttribute("frozen")}setSelection(t){var e;const i=this.document.locationRangeFromRange(t);return(e=this.delegate)===null||e===void 0?void 0:e.compositionDidRequestChangingSelectionToLocationRange(i)}getSelectedRange(){const t=this.getLocationRange();if(t)return this.document.rangeFromLocationRange(t)}setSelectedRange(t){const e=this.document.locationRangeFromRange(t);return this.getSelectionManager().setLocationRange(e)}getPosition(){const t=this.getLocationRange();if(t)return this.document.positionFromLocation(t[0])}getLocationRange(t){return this.targetLocationRange?this.targetLocationRange:this.getSelectionManager().getLocationRange(t)||F({index:0,offset:0})}withTargetLocationRange(t,e){let i;this.targetLocationRange=t;try{i=e()}finally{this.targetLocationRange=null}return i}withTargetRange(t,e){const i=this.document.locationRangeFromRange(t);return this.withTargetLocationRange(i,e)}withTargetDOMRange(t,e){const i=this.createLocationRangeFromDOMRange(t,{strict:!1});return this.withTargetLocationRange(i,e)}getExpandedRangeInDirection(t){let{length:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},[i,r]=Array.from(this.getSelectedRange());return t==="backward"?e?i-=e:i=this.translateUTF16PositionFromOffset(i,-1):e?r+=e:r=this.translateUTF16PositionFromOffset(r,1),F([i,r])}shouldManageMovingCursorInDirection(t){if(this.editingAttachment)return!0;const e=this.getExpandedRangeInDirection(t);return this.getAttachmentAtRange(e)!=null}moveCursorInDirection(t){let e,i;if(this.editingAttachment)i=this.document.getRangeOfAttachment(this.editingAttachment);else{const r=this.getSelectedRange();i=this.getExpandedRangeInDirection(t),e=!wi(r,i)}if(t==="backward"?this.setSelectedRange(i[0]):this.setSelectedRange(i[1]),e){const r=this.getAttachmentAtRange(i);if(r)return this.editAttachment(r)}}expandSelectionInDirection(t){let{length:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getExpandedRangeInDirection(t,{length:e});return this.setSelectedRange(i)}expandSelectionForEditing(){if(this.hasCurrentAttribute("href"))return this.expandSelectionAroundCommonAttribute("href")}expandSelectionAroundCommonAttribute(t){const e=this.getPosition(),i=this.document.getRangeOfCommonAttributeAtPosition(t,e);return this.setSelectedRange(i)}selectionContainsAttachments(){var t;return((t=this.getSelectedAttachments())===null||t===void 0?void 0:t.length)>0}selectionIsInCursorTarget(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())}positionIsCursorTarget(t){const e=this.document.locationFromPosition(t);if(e)return this.locationIsCursorTarget(e)}positionIsBlockBreak(t){var e;return(e=this.document.getPieceAtPosition(t))===null||e===void 0?void 0:e.isBlockBreak()}getSelectedDocument(){const t=this.getSelectedRange();if(t)return this.document.getDocumentAtRange(t)}getSelectedAttachments(){var t;return(t=this.getSelectedDocument())===null||t===void 0?void 0:t.getAttachments()}getAttachments(){return this.attachments.slice(0)}refreshAttachments(){const t=this.document.getAttachments(),{added:e,removed:i}=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const o=[],a=[],l=new Set;r.forEach(u=>{l.add(u)});const c=new Set;return s.forEach(u=>{c.add(u),l.has(u)||o.push(u)}),r.forEach(u=>{c.has(u)||a.push(u)}),{added:o,removed:a}}(this.attachments,t);return this.attachments=t,Array.from(i).forEach(r=>{var s,o;r.delegate=null,(s=this.delegate)===null||s===void 0||(o=s.compositionDidRemoveAttachment)===null||o===void 0||o.call(s,r)}),(()=>{const r=[];return Array.from(e).forEach(s=>{var o,a;s.delegate=this,r.push((o=this.delegate)===null||o===void 0||(a=o.compositionDidAddAttachment)===null||a===void 0?void 0:a.call(o,s))}),r})()}attachmentDidChangeAttributes(t){var e,i;return this.revision++,(e=this.delegate)===null||e===void 0||(i=e.compositionDidEditAttachment)===null||i===void 0?void 0:i.call(e,t)}attachmentDidChangePreviewURL(t){var e,i;return this.revision++,(e=this.delegate)===null||e===void 0||(i=e.compositionDidChangeAttachmentPreviewURL)===null||i===void 0?void 0:i.call(e,t)}editAttachment(t,e){var i,r;if(t!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=t,(i=this.delegate)===null||i===void 0||(r=i.compositionDidStartEditingAttachment)===null||r===void 0?void 0:r.call(i,this.editingAttachment,e)}stopEditingAttachment(){var t,e;this.editingAttachment&&((t=this.delegate)===null||t===void 0||(e=t.compositionDidStopEditingAttachment)===null||e===void 0||e.call(t,this.editingAttachment),this.editingAttachment=null)}updateAttributesForAttachment(t,e){return this.setDocument(this.document.updateAttributesForAttachment(t,e))}removeAttributeForAttachment(t,e){return this.setDocument(this.document.removeAttributeForAttachment(t,e))}breakFormattedBlock(t){let{document:e}=t;const{block:i}=t;let r=t.startPosition,s=[r-1,r];i.getBlockBreakPosition()===t.startLocation.offset?(i.breaksOnReturn()&&t.nextCharacter===`
`?r+=1:e=e.removeTextAtRange(s),s=[r,r]):t.nextCharacter===`
`?t.previousCharacter===`
`?s=[r-1,r+1]:(s=[r,r+1],r+=1):t.startLocation.offset-1!=0&&(r+=1);const o=new St([i.removeLastAttribute().copyWithoutText()]);return this.setDocument(e.insertDocumentAtRange(o,s)),this.setSelection(r)}getPreviousBlock(){const t=this.getLocationRange();if(t){const{index:e}=t[0];if(e>0)return this.document.getBlockAtIndex(e-1)}}getBlock(){const t=this.getLocationRange();if(t)return this.document.getBlockAtIndex(t[0].index)}getAttachmentAtRange(t){const e=this.document.getDocumentAtRange(t);if(e.toString()==="".concat("\uFFFC",`
`))return e.getAttachments()[0]}notifyDelegateOfCurrentAttributesChange(){var t,e;return(t=this.delegate)===null||t===void 0||(e=t.compositionDidChangeCurrentAttributes)===null||e===void 0?void 0:e.call(t,this.currentAttributes)}notifyDelegateOfInsertionAtRange(t){var e,i;return(e=this.delegate)===null||e===void 0||(i=e.compositionDidPerformInsertionAtRange)===null||i===void 0?void 0:i.call(e,t)}translateUTF16PositionFromOffset(t,e){const i=this.document.toUTF16String(),r=i.offsetFromUCS2Offset(t);return i.offsetToUCS2Offset(r+e)}}Ut.proxyMethod("getSelectionManager().getPointRange"),Ut.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),Ut.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),Ut.proxyMethod("getSelectionManager().locationIsCursorTarget"),Ut.proxyMethod("getSelectionManager().selectionIsExpanded"),Ut.proxyMethod("delegate?.getSelectionManager");class ys extends Q{constructor(t){super(...arguments),this.composition=t,this.undoEntries=[],this.redoEntries=[]}recordUndoEntry(t){let{context:e,consolidatable:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.undoEntries.slice(-1)[0];if(!i||!iv(r,t,e)){const s=this.createEntry({description:t,context:e});this.undoEntries.push(s),this.redoEntries=[]}}undo(){const t=this.undoEntries.pop();if(t){const e=this.createEntry(t);return this.redoEntries.push(e),this.composition.loadSnapshot(t.snapshot)}}redo(){const t=this.redoEntries.pop();if(t){const e=this.createEntry(t);return this.undoEntries.push(e),this.composition.loadSnapshot(t.snapshot)}}canUndo(){return this.undoEntries.length>0}canRedo(){return this.redoEntries.length>0}createEntry(){let{description:t,context:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{description:t==null?void 0:t.toString(),context:JSON.stringify(e),snapshot:this.composition.getSnapshot()}}}const iv=(n,t,e)=>(n==null?void 0:n.description)===(t==null?void 0:t.toString())&&(n==null?void 0:n.context)===JSON.stringify(e);class au{constructor(t){this.document=t.document,this.selectedRange=t.selectedRange}perform(){return this.removeBlockAttribute(),this.applyBlockAttribute()}getSnapshot(){return{document:this.document,selectedRange:this.selectedRange}}removeBlockAttribute(){return this.findRangesOfBlocks().map(t=>this.document=this.document.removeAttributeAtRange("attachmentGallery",t))}applyBlockAttribute(){let t=0;this.findRangesOfPieces().forEach(e=>{e[1]-e[0]>1&&(e[0]+=t,e[1]+=t,this.document.getCharacterAtPosition(e[1])!==`
`&&(this.document=this.document.insertBlockBreakAtRange(e[1]),e[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),e[1]++,t++),e[0]!==0&&this.document.getCharacterAtPosition(e[0]-1)!==`
`&&(this.document=this.document.insertBlockBreakAtRange(e[0]),e[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),e[0]++,t++),this.document=this.document.applyBlockAttributeAtRange("attachmentGallery",!0,e))})}findRangesOfBlocks(){return this.document.findRangesForBlockAttribute("attachmentGallery")}findRangesOfPieces(){return this.document.findRangesForTextAttribute("presentation",{withValue:"gallery"})}moveSelectedRangeForward(){this.selectedRange[0]+=1,this.selectedRange[1]+=1}}const lu=function(n){const t=new au(n);return t.perform(),t.getSnapshot()},rv=[lu];class cu{constructor(t,e,i){this.insertFiles=this.insertFiles.bind(this),this.composition=t,this.selectionManager=e,this.element=i,this.undoManager=new ys(this.composition),this.filters=rv.slice(0)}loadDocument(t){return this.loadSnapshot({document:t,selectedRange:[0,0]})}loadHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const e=Rn.parse(t,{referenceElement:this.element}).getDocument();return this.loadDocument(e)}loadJSON(t){let{document:e,selectedRange:i}=t;return e=St.fromJSON(e),this.loadSnapshot({document:e,selectedRange:i})}loadSnapshot(t){return this.undoManager=new ys(this.composition),this.composition.loadSnapshot(t)}getDocument(){return this.composition.document}getSelectedDocument(){return this.composition.getSelectedDocument()}getSnapshot(){return this.composition.getSnapshot()}toJSON(){return this.getSnapshot()}deleteInDirection(t){return this.composition.deleteInDirection(t)}insertAttachment(t){return this.composition.insertAttachment(t)}insertAttachments(t){return this.composition.insertAttachments(t)}insertDocument(t){return this.composition.insertDocument(t)}insertFile(t){return this.composition.insertFile(t)}insertFiles(t){return this.composition.insertFiles(t)}insertHTML(t){return this.composition.insertHTML(t)}insertString(t){return this.composition.insertString(t)}insertText(t){return this.composition.insertText(t)}insertLineBreak(){return this.composition.insertLineBreak()}getSelectedRange(){return this.composition.getSelectedRange()}getPosition(){return this.composition.getPosition()}getClientRectAtPosition(t){const e=this.getDocument().locationRangeFromRange([t,t+1]);return this.selectionManager.getClientRectAtLocationRange(e)}expandSelectionInDirection(t){return this.composition.expandSelectionInDirection(t)}moveCursorInDirection(t){return this.composition.moveCursorInDirection(t)}setSelectedRange(t){return this.composition.setSelectedRange(t)}activateAttribute(t){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return this.composition.setCurrentAttribute(t,e)}attributeIsActive(t){return this.composition.hasCurrentAttribute(t)}canActivateAttribute(t){return this.composition.canSetCurrentAttribute(t)}deactivateAttribute(t){return this.composition.removeCurrentAttribute(t)}canDecreaseNestingLevel(){return this.composition.canDecreaseNestingLevel()}canIncreaseNestingLevel(){return this.composition.canIncreaseNestingLevel()}decreaseNestingLevel(){if(this.canDecreaseNestingLevel())return this.composition.decreaseNestingLevel()}increaseNestingLevel(){if(this.canIncreaseNestingLevel())return this.composition.increaseNestingLevel()}canRedo(){return this.undoManager.canRedo()}canUndo(){return this.undoManager.canUndo()}recordUndoEntry(t){let{context:e,consolidatable:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.undoManager.recordUndoEntry(t,{context:e,consolidatable:i})}redo(){if(this.canRedo())return this.undoManager.redo()}undo(){if(this.canUndo())return this.undoManager.undo()}}class uu{constructor(t){this.element=t}findLocationFromContainerAndOffset(t,e){let{strict:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{strict:!0},r=0,s=!1;const o={index:0,offset:0},a=this.findAttachmentElementParentForNode(t);a&&(t=a.parentNode,e=Rr(a));const l=xi(this.element,{usingFilter:du});for(;l.nextNode();){const c=l.currentNode;if(c===t&&wn(t)){Fe(c)||(o.offset+=e);break}if(c.parentNode===t){if(r++===e)break}else if(!he(t,c)&&r>0)break;fa(c,{strict:i})?(s&&o.index++,o.offset=0,s=!0):o.offset+=Fr(c)}return o}findContainerAndOffsetFromLocation(t){let e,i;if(t.index===0&&t.offset===0){for(e=this.element,i=0;e.firstChild;)if(e=e.firstChild,Dr(e)){i=1;break}return[e,i]}let[r,s]=this.findNodeAndOffsetFromLocation(t);if(r){if(wn(r))Fr(r)===0?(e=r.parentNode.parentNode,i=Rr(r.parentNode),Fe(r,{name:"right"})&&i++):(e=r,i=t.offset-s);else{if(e=r.parentNode,!fa(r.previousSibling)&&!Dr(e))for(;r===e.lastChild&&(r=e,e=e.parentNode,!Dr(e)););i=Rr(r),t.offset!==0&&i++}return[e,i]}}findNodeAndOffsetFromLocation(t){let e,i,r=0;for(const s of this.getSignificantNodesForIndex(t.index)){const o=Fr(s);if(t.offset<=r+o)if(wn(s)){if(e=s,i=r,t.offset===i&&Fe(e))break}else e||(e=s,i=r);if(r+=o,r>t.offset)break}return[e,i]}findAttachmentElementParentForNode(t){for(;t&&t!==this.element;){if(me(t))return t;t=t.parentNode}}getSignificantNodesForIndex(t){const e=[],i=xi(this.element,{usingFilter:sv});let r=!1;for(;i.nextNode();){const o=i.currentNode;var s;if(Ne(o)){if(s!=null?s++:s=0,s===t)r=!0;else if(r)break}else r&&e.push(o)}return e}}const Fr=function(n){return n.nodeType===Node.TEXT_NODE?Fe(n)?0:n.textContent.length:ct(n)==="br"||me(n)?1:0},sv=function(n){return ov(n)===NodeFilter.FILTER_ACCEPT?du(n):NodeFilter.FILTER_REJECT},ov=function(n){return $c(n)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},du=function(n){return me(n.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT};class hu{createDOMRangeFromPoint(t){let e,{x:i,y:r}=t;if(document.caretPositionFromPoint){const{offsetNode:s,offset:o}=document.caretPositionFromPoint(i,r);return e=document.createRange(),e.setStart(s,o),e}if(document.caretRangeFromPoint)return document.caretRangeFromPoint(i,r);if(document.body.createTextRange){const s=Be();try{const o=document.body.createTextRange();o.moveToPoint(i,r),o.select()}catch{}return e=Be(),Zc(s),e}}getClientRectsForDOMRange(t){const e=Array.from(t.getClientRects());return[e[0],e[e.length-1]]}}class ue extends Q{constructor(t){super(...arguments),this.didMouseDown=this.didMouseDown.bind(this),this.selectionDidChange=this.selectionDidChange.bind(this),this.element=t,this.locationMapper=new uu(this.element),this.pointMapper=new hu,this.lockCount=0,q("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}getLocationRange(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t.strict===!1?this.createLocationRangeFromDOMRange(Be()):t.ignoreLock?this.currentLocationRange:this.lockedLocationRange?this.lockedLocationRange:this.currentLocationRange}setLocationRange(t){if(this.lockedLocationRange)return;t=F(t);const e=this.createDOMRangeFromLocationRange(t);e&&(Zc(e),this.updateCurrentLocationRange(t))}setLocationRangeFromPointRange(t){t=F(t);const e=this.getLocationAtPoint(t[0]),i=this.getLocationAtPoint(t[1]);this.setLocationRange([e,i])}getClientRectAtLocationRange(t){const e=this.createDOMRangeFromLocationRange(t);if(e)return this.getClientRectsForDOMRange(e)[1]}locationIsCursorTarget(t){const e=Array.from(this.findNodeAndOffsetFromLocation(t))[0];return Fe(e)}lock(){this.lockCount++==0&&(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange())}unlock(){if(--this.lockCount==0){const{lockedLocationRange:t}=this;if(this.lockedLocationRange=null,t!=null)return this.setLocationRange(t)}}clearSelection(){var t;return(t=Qc())===null||t===void 0?void 0:t.removeAllRanges()}selectionIsCollapsed(){var t;return((t=Be())===null||t===void 0?void 0:t.collapsed)===!0}selectionIsExpanded(){return!this.selectionIsCollapsed()}createLocationRangeFromDOMRange(t,e){if(t==null||!this.domRangeWithinElement(t))return;const i=this.findLocationFromContainerAndOffset(t.startContainer,t.startOffset,e);if(!i)return;const r=t.collapsed?void 0:this.findLocationFromContainerAndOffset(t.endContainer,t.endOffset,e);return F([i,r])}didMouseDown(){return this.pauseTemporarily()}pauseTemporarily(){let t;this.paused=!0;const e=()=>{if(this.paused=!1,clearTimeout(i),Array.from(t).forEach(r=>{r.destroy()}),he(document,this.element))return this.selectionDidChange()},i=setTimeout(e,200);t=["mousemove","keydown"].map(r=>q(r,{onElement:document,withCallback:e}))}selectionDidChange(){if(!this.paused&&!no(this.element))return this.updateCurrentLocationRange()}updateCurrentLocationRange(t){var e,i;if((t!=null?t:t=this.createLocationRangeFromDOMRange(Be()))&&!wi(t,this.currentLocationRange))return this.currentLocationRange=t,(e=this.delegate)===null||e===void 0||(i=e.locationRangeDidChange)===null||i===void 0?void 0:i.call(e,this.currentLocationRange.slice(0))}createDOMRangeFromLocationRange(t){const e=this.findContainerAndOffsetFromLocation(t[0]),i=Nt(t)?e:this.findContainerAndOffsetFromLocation(t[1])||e;if(e!=null&&i!=null){const r=document.createRange();return r.setStart(...Array.from(e||[])),r.setEnd(...Array.from(i||[])),r}}getLocationAtPoint(t){const e=this.createDOMRangeFromPoint(t);var i;if(e)return(i=this.createLocationRangeFromDOMRange(e))===null||i===void 0?void 0:i[0]}domRangeWithinElement(t){return t.collapsed?he(this.element,t.startContainer):he(this.element,t.startContainer)&&he(this.element,t.endContainer)}}ue.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),ue.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),ue.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),ue.proxyMethod("pointMapper.createDOMRangeFromPoint"),ue.proxyMethod("pointMapper.getClientRectsForDOMRange");var fu=Object.freeze({__proto__:null,Attachment:Je,AttachmentManager:su,AttachmentPiece:Ve,Block:Ft,Composition:Ut,Document:St,Editor:cu,HTMLParser:Rn,HTMLSanitizer:iu,LineBreakInsertion:ou,LocationMapper:uu,ManagedAttachment:Y,Piece:Se,PointMapper:hu,SelectionManager:ue,SplittableList:Si,StringPiece:uo,Text:Tt,UndoManager:ys}),av=Object.freeze({__proto__:null});const{lang:Br,css:ae,keyNames:lv}=Nn,Wr=function(n){return function(){const t=n.apply(this,arguments);t.do(),this.undos||(this.undos=[]),this.undos.push(t.undo)}};class pu extends Q{constructor(t,e,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(...arguments),yt(this,"makeElementMutable",Wr(()=>({do:()=>{this.element.dataset.trixMutable=!0},undo:()=>delete this.element.dataset.trixMutable}))),yt(this,"addToolbar",Wr(()=>{const s=I({tagName:"div",className:ae.attachmentToolbar,data:{trixMutable:!0},childNodes:I({tagName:"div",className:"trix-button-row",childNodes:I({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:I({tagName:"button",className:"trix-button trix-button--remove",textContent:Br.remove,attributes:{title:Br.remove},data:{trixAction:"remove"}})})})});return this.attachment.isPreviewable()&&s.appendChild(I({tagName:"div",className:ae.attachmentMetadataContainer,childNodes:I({tagName:"span",className:ae.attachmentMetadata,childNodes:[I({tagName:"span",className:ae.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),I({tagName:"span",className:ae.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),q("click",{onElement:s,withCallback:this.didClickToolbar}),q("click",{onElement:s,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),yn("trix-attachment-before-toolbar",{onElement:this.element,attributes:{toolbar:s,attachment:this.attachment}}),{do:()=>this.element.appendChild(s),undo:()=>ie(s)}})),yt(this,"installCaptionEditor",Wr(()=>{const s=I({tagName:"textarea",className:ae.attachmentCaptionEditor,attributes:{placeholder:Br.captionPlaceholder},data:{trixMutable:!0}});s.value=this.attachmentPiece.getCaption();const o=s.cloneNode();o.classList.add("trix-autoresize-clone"),o.tabIndex=-1;const a=function(){o.value=s.value,s.style.height=o.scrollHeight+"px"};q("input",{onElement:s,withCallback:a}),q("input",{onElement:s,withCallback:this.didInputCaption}),q("keydown",{onElement:s,withCallback:this.didKeyDownCaption}),q("change",{onElement:s,withCallback:this.didChangeCaption}),q("blur",{onElement:s,withCallback:this.didBlurCaption});const l=this.element.querySelector("figcaption"),c=l.cloneNode();return{do:()=>{if(l.style.display="none",c.appendChild(s),c.appendChild(o),c.classList.add("".concat(ae.attachmentCaption,"--editing")),l.parentElement.insertBefore(c,l),a(),this.options.editCaption)return so(()=>s.focus())},undo(){ie(c),l.style.display=null}}})),this.didClickToolbar=this.didClickToolbar.bind(this),this.didClickActionButton=this.didClickActionButton.bind(this),this.didKeyDownCaption=this.didKeyDownCaption.bind(this),this.didInputCaption=this.didInputCaption.bind(this),this.didChangeCaption=this.didChangeCaption.bind(this),this.didBlurCaption=this.didBlurCaption.bind(this),this.attachmentPiece=t,this.element=e,this.container=i,this.options=r,this.attachment=this.attachmentPiece.attachment,ct(this.element)==="a"&&(this.element=this.element.firstChild),this.install()}install(){this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()&&this.installCaptionEditor()}uninstall(){var t;let e=this.undos.pop();for(this.savePendingCaption();e;)e(),e=this.undos.pop();(t=this.delegate)===null||t===void 0||t.didUninstallAttachmentEditor(this)}savePendingCaption(){if(this.pendingCaption!=null){const s=this.pendingCaption;var t,e,i,r;this.pendingCaption=null,s?(t=this.delegate)===null||t===void 0||(e=t.attachmentEditorDidRequestUpdatingAttributesForAttachment)===null||e===void 0||e.call(t,{caption:s},this.attachment):(i=this.delegate)===null||i===void 0||(r=i.attachmentEditorDidRequestRemovingAttributeForAttachment)===null||r===void 0||r.call(i,"caption",this.attachment)}}didClickToolbar(t){return t.preventDefault(),t.stopPropagation()}didClickActionButton(t){var e;if(t.target.getAttribute("data-trix-action")==="remove")return(e=this.delegate)===null||e===void 0?void 0:e.attachmentEditorDidRequestRemovalOfAttachment(this.attachment)}didKeyDownCaption(t){var e,i;if(lv[t.keyCode]==="return")return t.preventDefault(),this.savePendingCaption(),(e=this.delegate)===null||e===void 0||(i=e.attachmentEditorDidRequestDeselectingAttachment)===null||i===void 0?void 0:i.call(e,this.attachment)}didInputCaption(t){this.pendingCaption=t.target.value.replace(/\s/g," ").trim()}didChangeCaption(t){return this.savePendingCaption()}didBlurCaption(t){return this.savePendingCaption()}}class gu extends Q{constructor(t,e){super(...arguments),this.didFocus=this.didFocus.bind(this),this.didBlur=this.didBlur.bind(this),this.didClickAttachment=this.didClickAttachment.bind(this),this.element=t,this.composition=e,this.documentView=new co(this.composition.document,{element:this.element}),q("focus",{onElement:this.element,withCallback:this.didFocus}),q("blur",{onElement:this.element,withCallback:this.didBlur}),q("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),q("mousedown",{onElement:this.element,matchingSelector:"[data-trix-attachment]",withCallback:this.didClickAttachment}),q("click",{onElement:this.element,matchingSelector:"a".concat("[data-trix-attachment]"),preventDefault:!0})}didFocus(t){var e;const i=()=>{var r,s;if(!this.focused)return this.focused=!0,(r=this.delegate)===null||r===void 0||(s=r.compositionControllerDidFocus)===null||s===void 0?void 0:s.call(r)};return((e=this.blurPromise)===null||e===void 0?void 0:e.then(i))||i()}didBlur(t){this.blurPromise=new Promise(e=>so(()=>{var i,r;return no(this.element)||(this.focused=null,(i=this.delegate)===null||i===void 0||(r=i.compositionControllerDidBlur)===null||r===void 0||r.call(i)),this.blurPromise=null,e()}))}didClickAttachment(t,e){var i,r;const s=this.findAttachmentForElement(e),o=!!ne(t.target,{matchingSelector:"figcaption"});return(i=this.delegate)===null||i===void 0||(r=i.compositionControllerDidSelectAttachment)===null||r===void 0?void 0:r.call(i,s,{editCaption:o})}getSerializableElement(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element}render(){var t,e,i,r,s,o;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&((i=this.delegate)===null||i===void 0||(r=i.compositionControllerWillSyncDocumentView)===null||r===void 0||r.call(i),this.documentView.sync(),(s=this.delegate)===null||s===void 0||(o=s.compositionControllerDidSyncDocumentView)===null||o===void 0||o.call(s)),(t=this.delegate)===null||t===void 0||(e=t.compositionControllerDidRender)===null||e===void 0?void 0:e.call(t)}rerenderViewForObject(t){return this.invalidateViewForObject(t),this.render()}invalidateViewForObject(t){return this.documentView.invalidateViewForObject(t)}isViewCachingEnabled(){return this.documentView.isViewCachingEnabled()}enableViewCaching(){return this.documentView.enableViewCaching()}disableViewCaching(){return this.documentView.disableViewCaching()}refreshViewCache(){return this.documentView.garbageCollectCachedViews()}isEditingAttachment(){return!!this.attachmentEditor}installAttachmentEditorForAttachment(t,e){var i;if(((i=this.attachmentEditor)===null||i===void 0?void 0:i.attachment)===t)return;const r=this.documentView.findElementForObject(t);if(!r)return;this.uninstallAttachmentEditor();const s=this.composition.document.getAttachmentPieceForAttachment(t);this.attachmentEditor=new pu(s,r,this.element,e),this.attachmentEditor.delegate=this}uninstallAttachmentEditor(){var t;return(t=this.attachmentEditor)===null||t===void 0?void 0:t.uninstall()}didUninstallAttachmentEditor(){return this.attachmentEditor=null,this.render()}attachmentEditorDidRequestUpdatingAttributesForAttachment(t,e){var i,r;return(i=this.delegate)===null||i===void 0||(r=i.compositionControllerWillUpdateAttachment)===null||r===void 0||r.call(i,e),this.composition.updateAttributesForAttachment(t,e)}attachmentEditorDidRequestRemovingAttributeForAttachment(t,e){var i,r;return(i=this.delegate)===null||i===void 0||(r=i.compositionControllerWillUpdateAttachment)===null||r===void 0||r.call(i,e),this.composition.removeAttributeForAttachment(t,e)}attachmentEditorDidRequestRemovalOfAttachment(t){var e,i;return(e=this.delegate)===null||e===void 0||(i=e.compositionControllerDidRequestRemovalOfAttachment)===null||i===void 0?void 0:i.call(e,t)}attachmentEditorDidRequestDeselectingAttachment(t){var e,i;return(e=this.delegate)===null||e===void 0||(i=e.compositionControllerDidRequestDeselectingAttachment)===null||i===void 0?void 0:i.call(e,t)}canSyncDocumentView(){return!this.isEditingAttachment()}findAttachmentForElement(t){return this.composition.document.getAttachmentById(parseInt(t.dataset.trixId,10))}}class mu extends Q{}const cv="[".concat("data-trix-mutable","]"),uv={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};class vu extends Q{constructor(t){super(t),this.didMutate=this.didMutate.bind(this),this.element=t,this.observer=new window.MutationObserver(this.didMutate),this.start()}start(){return this.reset(),this.observer.observe(this.element,uv)}stop(){return this.observer.disconnect()}didMutate(t){var e,i;if(this.mutations.push(...Array.from(this.findSignificantMutations(t)||[])),this.mutations.length)return(e=this.delegate)===null||e===void 0||(i=e.elementDidMutate)===null||i===void 0||i.call(e,this.getMutationSummary()),this.reset()}reset(){this.mutations=[]}findSignificantMutations(t){return t.filter(e=>this.mutationIsSignificant(e))}mutationIsSignificant(t){if(this.nodeIsMutable(t.target))return!1;for(const e of Array.from(this.nodesModifiedByMutation(t)))if(this.nodeIsSignificant(e))return!0;return!1}nodeIsSignificant(t){return t!==this.element&&!this.nodeIsMutable(t)&&!$c(t)}nodeIsMutable(t){return ne(t,{matchingSelector:cv})}nodesModifiedByMutation(t){const e=[];switch(t.type){case"attributes":t.attributeName!=="data-trix-mutable"&&e.push(t.target);break;case"characterData":e.push(t.target.parentNode),e.push(t.target);break;case"childList":e.push(...Array.from(t.addedNodes||[])),e.push(...Array.from(t.removedNodes||[]))}return e}getMutationSummary(){return this.getTextMutationSummary()}getTextMutationSummary(){const{additions:t,deletions:e}=this.getTextChangesFromCharacterData(),i=this.getTextChangesFromChildList();Array.from(i.additions).forEach(a=>{Array.from(t).includes(a)||t.push(a)}),e.push(...Array.from(i.deletions||[]));const r={},s=t.join("");s&&(r.textAdded=s);const o=e.join("");return o&&(r.textDeleted=o),r}getMutationsByType(t){return Array.from(this.mutations).filter(e=>e.type===t)}getTextChangesFromChildList(){let t,e;const i=[],r=[];return Array.from(this.getMutationsByType("childList")).forEach(s=>{i.push(...Array.from(s.addedNodes||[])),r.push(...Array.from(s.removedNodes||[]))}),i.length===0&&r.length===1&&Ne(r[0])?(t=[],e=[`
`]):(t=xs(i),e=xs(r)),{additions:t.filter((s,o)=>s!==e[o]).map(un),deletions:e.filter((s,o)=>s!==t[o]).map(un)}}getTextChangesFromCharacterData(){let t,e;const i=this.getMutationsByType("characterData");if(i.length){const r=i[0],s=i[i.length-1],o=function(a,l){let c,u;return a=Tn.box(a),(l=Tn.box(l)).length<a.length?[u,c]=ya(a,l):[c,u]=ya(l,a),{added:c,removed:u}}(un(r.oldValue),un(s.target.data));t=o.added,e=o.removed}return{additions:t?[t]:[],deletions:e?[e]:[]}}}const xs=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=[];for(const e of Array.from(n))switch(e.nodeType){case Node.TEXT_NODE:t.push(e.data);break;case Node.ELEMENT_NODE:ct(e)==="br"?t.push(`
`):t.push(...Array.from(xs(e.childNodes)||[]))}return t};class bu extends Ai{constructor(t){super(...arguments),this.file=t}perform(t){const e=new FileReader;return e.onerror=()=>t(!1),e.onload=()=>{e.onerror=null;try{e.abort()}catch{}return t(!0,this.file)},e.readAsArrayBuffer(this.file)}}class dv{constructor(t){this.element=t}shouldIgnore(t){return!!Mn.samsungAndroid&&(this.previousEvent=this.event,this.event=t,this.checkSamsungKeyboardBuggyModeStart(),this.checkSamsungKeyboardBuggyModeEnd(),this.buggyMode)}checkSamsungKeyboardBuggyModeStart(){this.insertingLongTextAfterUnidentifiedChar()&&hv(this.element.innerText,this.event.data)&&(this.buggyMode=!0,this.event.preventDefault())}checkSamsungKeyboardBuggyModeEnd(){this.buggyMode&&this.event.inputType!=="insertText"&&(this.buggyMode=!1)}insertingLongTextAfterUnidentifiedChar(){var t;return this.isBeforeInputInsertText()&&this.previousEventWasUnidentifiedKeydown()&&((t=this.event.data)===null||t===void 0?void 0:t.length)>50}isBeforeInputInsertText(){return this.event.type==="beforeinput"&&this.event.inputType==="insertText"}previousEventWasUnidentifiedKeydown(){var t,e;return((t=this.previousEvent)===null||t===void 0?void 0:t.type)==="keydown"&&((e=this.previousEvent)===null||e===void 0?void 0:e.key)==="Unidentified"}}const hv=(n,t)=>Oa(n)===Oa(t),fv=new RegExp("(".concat("\uFFFC","|").concat("\uFEFF","|").concat("\xA0","|\\s)+"),"g"),Oa=n=>n.replace(fv," ").trim();class zi extends Q{constructor(t){super(...arguments),this.element=t,this.mutationObserver=new vu(this.element),this.mutationObserver.delegate=this,this.flakyKeyboardDetector=new dv(this.element);for(const e in this.constructor.events)q(e,{onElement:this.element,withCallback:this.handlerFor(e)})}elementDidMutate(t){}editorWillSyncDocumentView(){return this.mutationObserver.stop()}editorDidSyncDocumentView(){return this.mutationObserver.start()}requestRender(){var t,e;return(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidRequestRender)===null||e===void 0?void 0:e.call(t)}requestReparse(){var t,e;return(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidRequestReparse)===null||e===void 0||e.call(t),this.requestRender()}attachFiles(t){const e=Array.from(t).map(i=>new bu(i));return Promise.all(e).then(i=>{this.handleInput(function(){var r,s;return(r=this.delegate)===null||r===void 0||r.inputControllerWillAttachFiles(),(s=this.responder)===null||s===void 0||s.insertFiles(i),this.requestRender()})})}handlerFor(t){return e=>{e.defaultPrevented||this.handleInput(()=>{if(!no(this.element)){if(this.flakyKeyboardDetector.shouldIgnore(e))return;this.eventName=t,this.constructor.events[t].call(this,e)}})}}handleInput(t){try{var e;(e=this.delegate)===null||e===void 0||e.inputControllerWillHandleInput(),t.call(this)}finally{var i;(i=this.delegate)===null||i===void 0||i.inputControllerDidHandleInput()}}createLinkHTML(t,e){const i=document.createElement("a");return i.href=t,i.textContent=e||t,i.outerHTML}}var jr;yt(zi,"events",{});const{browser:pv,keyNames:yu}=Nn;let gv=0;class It extends zi{constructor(){super(...arguments),this.resetInputSummary()}setInputSummary(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.inputSummary.eventName=this.eventName;for(const e in t){const i=t[e];this.inputSummary[e]=i}return this.inputSummary}resetInputSummary(){this.inputSummary={}}reset(){return this.resetInputSummary(),ye.reset()}elementDidMutate(t){var e,i;return this.isComposing()?(e=this.delegate)===null||e===void 0||(i=e.inputControllerDidAllowUnhandledInput)===null||i===void 0?void 0:i.call(e):this.handleInput(function(){return this.mutationIsSignificant(t)&&(this.mutationIsExpected(t)?this.requestRender():this.requestReparse()),this.reset()})}mutationIsExpected(t){let{textAdded:e,textDeleted:i}=t;if(this.inputSummary.preferDocument)return!0;const r=e!=null?e===this.inputSummary.textAdded:!this.inputSummary.textAdded,s=i!=null?this.inputSummary.didDelete:!this.inputSummary.didDelete,o=[`
`,` 
`].includes(e)&&!r,a=i===`
`&&!s;if(o&&!a||a&&!o){const c=this.getSelectedRange();if(c){var l;const u=o?e.replace(/\n$/,"").length||-1:(e==null?void 0:e.length)||1;if((l=this.responder)!==null&&l!==void 0&&l.positionIsBlockBreak(c[1]+u))return!0}}return r&&s}mutationIsSignificant(t){var e;const i=Object.keys(t).length>0,r=((e=this.compositionInput)===null||e===void 0?void 0:e.getEndData())==="";return i||!r}getCompositionInput(){if(this.isComposing())return this.compositionInput;this.compositionInput=new qt(this)}isComposing(){return this.compositionInput&&!this.compositionInput.isEnded()}deleteInDirection(t,e){var i;return((i=this.responder)===null||i===void 0?void 0:i.deleteInDirection(t))!==!1?this.setInputSummary({didDelete:!0}):e?(e.preventDefault(),this.requestRender()):void 0}serializeSelectionToDataTransfer(t){var e;if(!function(r){if(r==null||!r.setData)return!1;for(const s in ma){const o=ma[s];try{if(r.setData(s,o),!r.getData(s)===o)return!1}catch{return!1}}return!0}(t))return;const i=(e=this.responder)===null||e===void 0?void 0:e.getSelectedDocument().toSerializableDocument();return t.setData("application/x-trix-document",JSON.stringify(i)),t.setData("text/html",co.render(i).innerHTML),t.setData("text/plain",i.toString().replace(/\n$/,"")),!0}canAcceptDataTransfer(t){const e={};return Array.from((t==null?void 0:t.types)||[]).forEach(i=>{e[i]=!0}),e.Files||e["application/x-trix-document"]||e["text/html"]||e["text/plain"]}getPastedHTMLUsingHiddenElement(t){const e=this.getSelectedRange(),i={position:"absolute",left:"".concat(window.pageXOffset,"px"),top:"".concat(window.pageYOffset,"px"),opacity:0},r=I({style:i,tagName:"div",editable:!0});return document.body.appendChild(r),r.focus(),requestAnimationFrame(()=>{const s=r.innerHTML;return ie(r),this.setSelectedRange(e),t(s)})}}yt(It,"events",{keydown(n){this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0;const t=yu[n.keyCode];if(t){var e;let r=this.keys;["ctrl","alt","shift","meta"].forEach(s=>{var o;n["".concat(s,"Key")]&&(s==="ctrl"&&(s="control"),r=(o=r)===null||o===void 0?void 0:o[s])}),((e=r)===null||e===void 0?void 0:e[t])!=null&&(this.setInputSummary({keyName:t}),ye.reset(),r[t].call(this,n))}if(Gc(n)){const r=String.fromCharCode(n.keyCode).toLowerCase();if(r){var i;const s=["alt","shift"].map(o=>{if(n["".concat(o,"Key")])return o}).filter(o=>o);s.push(r),(i=this.delegate)!==null&&i!==void 0&&i.inputControllerDidReceiveKeyboardCommand(s)&&n.preventDefault()}}},keypress(n){if(this.inputSummary.eventName!=null||n.metaKey||n.ctrlKey&&!n.altKey)return;const t=bv(n);var e,i;return t?((e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(i=this.responder)===null||i===void 0||i.insertString(t),this.setInputSummary({textAdded:t,didDelete:this.selectionIsExpanded()})):void 0},textInput(n){const{data:t}=n,{textAdded:e}=this.inputSummary;if(e&&e!==t&&e.toUpperCase()===t){var i;const r=this.getSelectedRange();return this.setSelectedRange([r[0],r[1]+e.length]),(i=this.responder)===null||i===void 0||i.insertString(t),this.setInputSummary({textAdded:t}),this.setSelectedRange(r)}},dragenter(n){n.preventDefault()},dragstart(n){var t,e;return this.serializeSelectionToDataTransfer(n.dataTransfer),this.draggedRange=this.getSelectedRange(),(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidStartDrag)===null||e===void 0?void 0:e.call(t)},dragover(n){if(this.draggedRange||this.canAcceptDataTransfer(n.dataTransfer)){n.preventDefault();const i={x:n.clientX,y:n.clientY};var t,e;if(!Fn(i,this.draggingPoint))return this.draggingPoint=i,(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidReceiveDragOverPoint)===null||e===void 0?void 0:e.call(t,this.draggingPoint)}},dragend(n){var t,e;(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidCancelDrag)===null||e===void 0||e.call(t),this.draggedRange=null,this.draggingPoint=null},drop(n){var t,e;n.preventDefault();const i=(t=n.dataTransfer)===null||t===void 0?void 0:t.files,r=n.dataTransfer.getData("application/x-trix-document"),s={x:n.clientX,y:n.clientY};if((e=this.responder)===null||e===void 0||e.setLocationRangeFromPointRange(s),i!=null&&i.length)this.attachFiles(i);else if(this.draggedRange){var o,a;(o=this.delegate)===null||o===void 0||o.inputControllerWillMoveText(),(a=this.responder)===null||a===void 0||a.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()}else if(r){var l;const c=St.fromJSONString(r);(l=this.responder)===null||l===void 0||l.insertDocument(c),this.requestRender()}this.draggedRange=null,this.draggingPoint=null},cut(n){var t,e;if((t=this.responder)!==null&&t!==void 0&&t.selectionIsExpanded()&&(this.serializeSelectionToDataTransfer(n.clipboardData)&&n.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillCutText(),this.deleteInDirection("backward"),n.defaultPrevented))return this.requestRender()},copy(n){var t;(t=this.responder)!==null&&t!==void 0&&t.selectionIsExpanded()&&this.serializeSelectionToDataTransfer(n.clipboardData)&&n.preventDefault()},paste(n){const t=n.clipboardData||n.testClipboardData,e={clipboard:t};if(!t||yv(n))return void this.getPastedHTMLUsingHiddenElement(y=>{var g,E,R;return e.type="text/html",e.html=y,(g=this.delegate)===null||g===void 0||g.inputControllerWillPaste(e),(E=this.responder)===null||E===void 0||E.insertHTML(e.html),this.requestRender(),(R=this.delegate)===null||R===void 0?void 0:R.inputControllerDidPaste(e)});const i=t.getData("URL"),r=t.getData("text/html"),s=t.getData("public.url-name");if(i){var o,a,l;let y;e.type="text/html",y=s?ao(s).trim():i,e.html=this.createLinkHTML(i,y),(o=this.delegate)===null||o===void 0||o.inputControllerWillPaste(e),this.setInputSummary({textAdded:y,didDelete:this.selectionIsExpanded()}),(a=this.responder)===null||a===void 0||a.insertHTML(e.html),this.requestRender(),(l=this.delegate)===null||l===void 0||l.inputControllerDidPaste(e)}else if(Xc(t)){var c,u,d;e.type="text/plain",e.string=t.getData("text/plain"),(c=this.delegate)===null||c===void 0||c.inputControllerWillPaste(e),this.setInputSummary({textAdded:e.string,didDelete:this.selectionIsExpanded()}),(u=this.responder)===null||u===void 0||u.insertString(e.string),this.requestRender(),(d=this.delegate)===null||d===void 0||d.inputControllerDidPaste(e)}else if(r){var h,f,p;e.type="text/html",e.html=r,(h=this.delegate)===null||h===void 0||h.inputControllerWillPaste(e),(f=this.responder)===null||f===void 0||f.insertHTML(e.html),this.requestRender(),(p=this.delegate)===null||p===void 0||p.inputControllerDidPaste(e)}else if(Array.from(t.types).includes("Files")){var v,b,m;const y=(v=t.items)===null||v===void 0||(b=v[0])===null||b===void 0||(m=b.getAsFile)===null||m===void 0?void 0:m.call(b);if(y){var x,w,A;const g=mv(y);!y.name&&g&&(y.name="pasted-file-".concat(++gv,".").concat(g)),e.type="File",e.file=y,(x=this.delegate)===null||x===void 0||x.inputControllerWillAttachFiles(),(w=this.responder)===null||w===void 0||w.insertFile(e.file),this.requestRender(),(A=this.delegate)===null||A===void 0||A.inputControllerDidPaste(e)}}n.preventDefault()},compositionstart(n){return this.getCompositionInput().start(n.data)},compositionupdate(n){return this.getCompositionInput().update(n.data)},compositionend(n){return this.getCompositionInput().end(n.data)},beforeinput(n){this.inputSummary.didInput=!0},input(n){return this.inputSummary.didInput=!0,n.stopPropagation()}}),yt(It,"keys",{backspace(n){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("backward",n)},delete(n){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("forward",n)},return(n){var t,e;return this.setInputSummary({preferDocument:!0}),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(e=this.responder)===null||e===void 0?void 0:e.insertLineBreak()},tab(n){var t,e;(t=this.responder)!==null&&t!==void 0&&t.canIncreaseNestingLevel()&&((e=this.responder)===null||e===void 0||e.increaseNestingLevel(),this.requestRender(),n.preventDefault())},left(n){var t;if(this.selectionIsInCursorTarget())return n.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("backward")},right(n){var t;if(this.selectionIsInCursorTarget())return n.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("forward")},control:{d(n){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("forward",n)},h(n){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("backward",n)},o(n){var t,e;return n.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(e=this.responder)===null||e===void 0||e.insertString(`
`,{updatePosition:!1}),this.requestRender()}},shift:{return(n){var t,e;(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(e=this.responder)===null||e===void 0||e.insertString(`
`),this.requestRender(),n.preventDefault()},tab(n){var t,e;(t=this.responder)!==null&&t!==void 0&&t.canDecreaseNestingLevel()&&((e=this.responder)===null||e===void 0||e.decreaseNestingLevel(),this.requestRender(),n.preventDefault())},left(n){if(this.selectionIsInCursorTarget())return n.preventDefault(),this.expandSelectionInDirection("backward")},right(n){if(this.selectionIsInCursorTarget())return n.preventDefault(),this.expandSelectionInDirection("forward")}},alt:{backspace(n){var t;return this.setInputSummary({preferDocument:!1}),(t=this.delegate)===null||t===void 0?void 0:t.inputControllerWillPerformTyping()}},meta:{backspace(n){var t;return this.setInputSummary({preferDocument:!1}),(t=this.delegate)===null||t===void 0?void 0:t.inputControllerWillPerformTyping()}}}),It.proxyMethod("responder?.getSelectedRange"),It.proxyMethod("responder?.setSelectedRange"),It.proxyMethod("responder?.expandSelectionInDirection"),It.proxyMethod("responder?.selectionIsInCursorTarget"),It.proxyMethod("responder?.selectionIsExpanded");const mv=n=>{var t,e;return(t=n.type)===null||t===void 0||(e=t.match(/\/(\w+)$/))===null||e===void 0?void 0:e[1]},vv=!((jr=" ".codePointAt)===null||jr===void 0||!jr.call(" ",0)),bv=function(n){if(n.key&&vv&&n.key.codePointAt(0)===n.keyCode)return n.key;{let t;if(n.which===null?t=n.keyCode:n.which!==0&&n.charCode!==0&&(t=n.charCode),t!=null&&yu[t]!=="escape")return Tn.fromCodepoints([t]).toString()}},yv=function(n){const t=n.clipboardData;if(t){if(t.types.includes("text/html")){for(const e of t.types){const i=/^CorePasteboardFlavorType/.test(e),r=/^dyn\./.test(e)&&t.getData(e);if(i||r)return!0}return!1}{const e=t.types.includes("com.apple.webarchive"),i=t.types.includes("com.apple.flat-rtfd");return e||i}}};class qt extends Q{constructor(t){super(...arguments),this.inputController=t,this.responder=this.inputController.responder,this.delegate=this.inputController.delegate,this.inputSummary=this.inputController.inputSummary,this.data={}}start(t){if(this.data.start=t,this.isSignificant()){var e,i;this.inputSummary.eventName==="keypress"&&this.inputSummary.textAdded&&((i=this.responder)===null||i===void 0||i.deleteInDirection("left")),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=(e=this.responder)===null||e===void 0?void 0:e.getSelectedRange()}}update(t){if(this.data.update=t,this.isSignificant()){const e=this.selectPlaceholder();e&&(this.forgetPlaceholder(),this.range=e)}}end(t){return this.data.end=t,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(i=this.responder)===null||i===void 0||i.setSelectedRange(this.range),(r=this.responder)===null||r===void 0||r.insertString(this.data.end),(s=this.responder)===null||s===void 0?void 0:s.setSelectedRange(this.range[0]+this.data.end.length)):this.data.start!=null||this.data.update!=null?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset();var e,i,r,s}getEndData(){return this.data.end}isEnded(){return this.getEndData()!=null}isSignificant(){return!pv.composesExistingText||this.inputSummary.didInput}canApplyToDocument(){var t,e;return((t=this.data.start)===null||t===void 0?void 0:t.length)===0&&((e=this.data.end)===null||e===void 0?void 0:e.length)>0&&this.range}}qt.proxyMethod("inputController.setInputSummary"),qt.proxyMethod("inputController.requestRender"),qt.proxyMethod("inputController.requestReparse"),qt.proxyMethod("responder?.selectionIsExpanded"),qt.proxyMethod("responder?.insertPlaceholder"),qt.proxyMethod("responder?.selectPlaceholder"),qt.proxyMethod("responder?.forgetPlaceholder");class An extends zi{constructor(){super(...arguments),this.render=this.render.bind(this)}elementDidMutate(){return this.scheduledRender?this.composing?(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidAllowUnhandledInput)===null||e===void 0?void 0:e.call(t):void 0:this.reparse();var t,e}scheduleRender(){return this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)}render(){var t,e;cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||(e=this.delegate)===null||e===void 0||e.render(),(t=this.afterRender)===null||t===void 0||t.call(this),this.afterRender=null}reparse(){var t;return(t=this.delegate)===null||t===void 0?void 0:t.reparse()}insertString(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var r;return(r=this.responder)===null||r===void 0?void 0:r.insertString(e,i)})}toggleAttributeIfSupported(t){var e;if(ms().includes(t))return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformFormatting(t),this.withTargetDOMRange(function(){var i;return(i=this.responder)===null||i===void 0?void 0:i.toggleCurrentAttribute(t)})}activateAttributeIfSupported(t,e){var i;if(ms().includes(t))return(i=this.delegate)===null||i===void 0||i.inputControllerWillPerformFormatting(t),this.withTargetDOMRange(function(){var r;return(r=this.responder)===null||r===void 0?void 0:r.setCurrentAttribute(t,e)})}deleteInDirection(t){let{recordUndoEntry:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{recordUndoEntry:!0};var i;e&&((i=this.delegate)===null||i===void 0||i.inputControllerWillPerformTyping());const r=()=>{var o;return(o=this.responder)===null||o===void 0?void 0:o.deleteInDirection(t)},s=this.getTargetDOMRange({minLength:2});return s?this.withTargetDOMRange(s,r):r()}withTargetDOMRange(t,e){var i;return typeof t=="function"&&(e=t,t=this.getTargetDOMRange()),t?(i=this.responder)===null||i===void 0?void 0:i.withTargetDOMRange(t,e.bind(this)):(ye.reset(),e.call(this))}getTargetDOMRange(){var t,e;let{minLength:i}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{minLength:0};const r=(t=(e=this.event).getTargetRanges)===null||t===void 0?void 0:t.call(e);if(r&&r.length){const s=xv(r[0]);if(i===0||s.toString().length>=i)return s}}withEvent(t,e){let i;this.event=t;try{i=e.call(this)}finally{this.event=null}return i}}yt(An,"events",{keydown(n){if(Gc(n)){var t;const e=Sv(n);(t=this.delegate)!==null&&t!==void 0&&t.inputControllerDidReceiveKeyboardCommand(e)&&n.preventDefault()}else{let e=n.key;n.altKey&&(e+="+Alt"),n.shiftKey&&(e+="+Shift");const i=this.constructor.keys[e];if(i)return this.withEvent(n,i)}},paste(n){var t;let e;const i=(t=n.clipboardData)===null||t===void 0?void 0:t.getData("URL");return wv(n)?(n.preventDefault(),this.attachFiles(n.clipboardData.files)):Av(n)?(n.preventDefault(),e={type:"text/plain",string:n.clipboardData.getData("text/plain")},(r=this.delegate)===null||r===void 0||r.inputControllerWillPaste(e),(s=this.responder)===null||s===void 0||s.insertString(e.string),this.render(),(o=this.delegate)===null||o===void 0?void 0:o.inputControllerDidPaste(e)):i?(n.preventDefault(),e={type:"text/html",html:this.createLinkHTML(i)},(a=this.delegate)===null||a===void 0||a.inputControllerWillPaste(e),(l=this.responder)===null||l===void 0||l.insertHTML(e.html),this.render(),(c=this.delegate)===null||c===void 0?void 0:c.inputControllerDidPaste(e)):void 0;var r,s,o,a,l,c},beforeinput(n){const t=this.constructor.inputTypes[n.inputType];t&&(this.withEvent(n,t),this.scheduleRender())},input(n){ye.reset()},dragstart(n){var t,e;(t=this.responder)!==null&&t!==void 0&&t.selectionContainsAttachments()&&(n.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:(e=this.responder)===null||e===void 0?void 0:e.getSelectedRange(),point:zr(n)})},dragenter(n){Hr(n)&&n.preventDefault()},dragover(n){if(this.dragging){n.preventDefault();const e=zr(n);var t;if(!Fn(e,this.dragging.point))return this.dragging.point=e,(t=this.responder)===null||t===void 0?void 0:t.setLocationRangeFromPointRange(e)}else Hr(n)&&n.preventDefault()},drop(n){var t,e;if(this.dragging)return n.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillMoveText(),(e=this.responder)===null||e===void 0||e.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender();if(Hr(n)){var i;n.preventDefault();const r=zr(n);return(i=this.responder)===null||i===void 0||i.setLocationRangeFromPointRange(r),this.attachFiles(n.dataTransfer.files)}},dragend(){var n;this.dragging&&((n=this.responder)===null||n===void 0||n.setSelectedRange(this.dragging.range),this.dragging=null)},compositionend(n){this.composing&&(this.composing=!1,Mn.recentAndroid||this.scheduleRender())}}),yt(An,"keys",{ArrowLeft(){var n,t;if((n=this.responder)!==null&&n!==void 0&&n.shouldManageMovingCursorInDirection("backward"))return this.event.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("backward")},ArrowRight(){var n,t;if((n=this.responder)!==null&&n!==void 0&&n.shouldManageMovingCursorInDirection("forward"))return this.event.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("forward")},Backspace(){var n,t,e;if((n=this.responder)!==null&&n!==void 0&&n.shouldManageDeletingInDirection("backward"))return this.event.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(e=this.responder)===null||e===void 0||e.deleteInDirection("backward"),this.render()},Tab(){var n,t;if((n=this.responder)!==null&&n!==void 0&&n.canIncreaseNestingLevel())return this.event.preventDefault(),(t=this.responder)===null||t===void 0||t.increaseNestingLevel(),this.render()},"Tab+Shift"(){var n,t;if((n=this.responder)!==null&&n!==void 0&&n.canDecreaseNestingLevel())return this.event.preventDefault(),(t=this.responder)===null||t===void 0||t.decreaseNestingLevel(),this.render()}}),yt(An,"inputTypes",{deleteByComposition(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut(){return this.deleteInDirection("backward")},deleteByDrag(){return this.event.preventDefault(),this.withTargetDOMRange(function(){var n;this.deleteByDragRange=(n=this.responder)===null||n===void 0?void 0:n.getSelectedRange()})},deleteCompositionText(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent(){return this.deleteInDirection("backward")},deleteContentBackward(){return this.deleteInDirection("backward")},deleteContentForward(){return this.deleteInDirection("forward")},deleteEntireSoftLine(){return this.deleteInDirection("forward")},deleteHardLineBackward(){return this.deleteInDirection("backward")},deleteHardLineForward(){return this.deleteInDirection("forward")},deleteSoftLineBackward(){return this.deleteInDirection("backward")},deleteSoftLineForward(){return this.deleteInDirection("forward")},deleteWordBackward(){return this.deleteInDirection("backward")},deleteWordForward(){return this.deleteInDirection("forward")},formatBackColor(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold(){return this.toggleAttributeIfSupported("bold")},formatFontColor(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent(){var n;if((n=this.responder)!==null&&n!==void 0&&n.canIncreaseNestingLevel())return this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.increaseNestingLevel()})},formatItalic(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent(){var n;if((n=this.responder)!==null&&n!==void 0&&n.canDecreaseNestingLevel())return this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.decreaseNestingLevel()})},formatRemove(){this.withTargetDOMRange(function(){for(const e in(n=this.responder)===null||n===void 0?void 0:n.getCurrentAttributes()){var n,t;(t=this.responder)===null||t===void 0||t.removeCurrentAttribute(e)}})},formatSetBlockTextDirection(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough(){return this.toggleAttributeIfSupported("strike")},formatSubscript(){return this.toggleAttributeIfSupported("sub")},formatSuperscript(){return this.toggleAttributeIfSupported("sup")},formatUnderline(){return this.toggleAttributeIfSupported("underline")},historyRedo(){var n;return(n=this.delegate)===null||n===void 0?void 0:n.inputControllerWillPerformRedo()},historyUndo(){var n;return(n=this.delegate)===null||n===void 0?void 0:n.inputControllerWillPerformUndo()},insertCompositionText(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop(){const n=this.deleteByDragRange;var t;if(n)return this.deleteByDragRange=null,(t=this.delegate)===null||t===void 0||t.inputControllerWillMoveText(),this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.moveTextFromRange(n)})},insertFromPaste(){var n;const{dataTransfer:t}=this.event,e={dataTransfer:t},i=t.getData("URL"),r=t.getData("text/html");if(i){var s;let c;this.event.preventDefault(),e.type="text/html";const u=t.getData("public.url-name");c=u?ao(u).trim():i,e.html=this.createLinkHTML(i,c),(s=this.delegate)===null||s===void 0||s.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var d;return(d=this.responder)===null||d===void 0?void 0:d.insertHTML(e.html)}),this.afterRender=()=>{var d;return(d=this.delegate)===null||d===void 0?void 0:d.inputControllerDidPaste(e)}}else if(Xc(t)){var o;e.type="text/plain",e.string=t.getData("text/plain"),(o=this.delegate)===null||o===void 0||o.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var c;return(c=this.responder)===null||c===void 0?void 0:c.insertString(e.string)}),this.afterRender=()=>{var c;return(c=this.delegate)===null||c===void 0?void 0:c.inputControllerDidPaste(e)}}else if(r){var a;this.event.preventDefault(),e.type="text/html",e.html=r,(a=this.delegate)===null||a===void 0||a.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var c;return(c=this.responder)===null||c===void 0?void 0:c.insertHTML(e.html)}),this.afterRender=()=>{var c;return(c=this.delegate)===null||c===void 0?void 0:c.inputControllerDidPaste(e)}}else if((n=t.files)!==null&&n!==void 0&&n.length){var l;e.type="File",e.file=t.files[0],(l=this.delegate)===null||l===void 0||l.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var c;return(c=this.responder)===null||c===void 0?void 0:c.insertFile(e.file)}),this.afterRender=()=>{var c;return(c=this.delegate)===null||c===void 0?void 0:c.inputControllerDidPaste(e)}}},insertFromYank(){return this.insertString(this.event.data)},insertLineBreak(){return this.insertString(`
`)},insertLink(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList(){return this.toggleAttributeIfSupported("number")},insertParagraph(){var n;return(n=this.delegate)===null||n===void 0||n.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.insertLineBreak()})},insertReplacementText(){return this.insertString(this.event.dataTransfer.getData("text/plain"),{updatePosition:!1})},insertText(){var n;return this.insertString(this.event.data||((n=this.event.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain")))},insertTranspose(){return this.insertString(this.event.data)},insertUnorderedList(){return this.toggleAttributeIfSupported("bullet")}});const xv=function(n){const t=document.createRange();return t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),t},Hr=n=>{var t;return Array.from(((t=n.dataTransfer)===null||t===void 0?void 0:t.types)||[]).includes("Files")},wv=function(n){const t=n.clipboardData;if(t)return t.types.includes("Files")&&t.types.length===1&&t.files.length>=1},Av=function(n){const t=n.clipboardData;if(t)return t.types.includes("text/plain")&&t.types.length===1},Sv=function(n){const t=[];return n.altKey&&t.push("alt"),n.shiftKey&&t.push("shift"),t.push(n.key),t},zr=n=>({x:n.clientX,y:n.clientY}),Ev="".concat("[data-trix-attribute]",", ").concat("[data-trix-action]"),Cv="".concat("[data-trix-dialog]","[data-trix-active]"),Tv="".concat("[data-trix-dialog]"," [data-trix-method]"),Pa="".concat("[data-trix-dialog]"," [data-trix-input]"),Ia=(n,t)=>(t||(t=_e(n)),n.querySelector("[data-trix-input][name='".concat(t,"']"))),Ma=n=>n.getAttribute("data-trix-action"),_e=n=>n.getAttribute("data-trix-attribute")||n.getAttribute("data-trix-dialog-attribute");class xu extends Q{constructor(t){super(t),this.didClickActionButton=this.didClickActionButton.bind(this),this.didClickAttributeButton=this.didClickAttributeButton.bind(this),this.didClickDialogButton=this.didClickDialogButton.bind(this),this.didKeyDownDialogInput=this.didKeyDownDialogInput.bind(this),this.element=t,this.attributes={},this.actions={},this.resetDialogInputs(),q("mousedown",{onElement:this.element,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),q("mousedown",{onElement:this.element,matchingSelector:"[data-trix-attribute]",withCallback:this.didClickAttributeButton}),q("click",{onElement:this.element,matchingSelector:Ev,preventDefault:!0}),q("click",{onElement:this.element,matchingSelector:Tv,withCallback:this.didClickDialogButton}),q("keydown",{onElement:this.element,matchingSelector:Pa,withCallback:this.didKeyDownDialogInput})}didClickActionButton(t,e){var i;(i=this.delegate)===null||i===void 0||i.toolbarDidClickButton(),t.preventDefault();const r=Ma(e);return this.getDialog(r)?this.toggleDialog(r):(s=this.delegate)===null||s===void 0?void 0:s.toolbarDidInvokeAction(r);var s}didClickAttributeButton(t,e){var i;(i=this.delegate)===null||i===void 0||i.toolbarDidClickButton(),t.preventDefault();const r=_e(e);var s;return this.getDialog(r)?this.toggleDialog(r):(s=this.delegate)===null||s===void 0||s.toolbarDidToggleAttribute(r),this.refreshAttributeButtons()}didClickDialogButton(t,e){const i=ne(e,{matchingSelector:"[data-trix-dialog]"});return this[e.getAttribute("data-trix-method")].call(this,i)}didKeyDownDialogInput(t,e){if(t.keyCode===13){t.preventDefault();const i=e.getAttribute("name"),r=this.getDialog(i);this.setAttribute(r)}if(t.keyCode===27)return t.preventDefault(),this.hideDialog()}updateActions(t){return this.actions=t,this.refreshActionButtons()}refreshActionButtons(){return this.eachActionButton((t,e)=>{t.disabled=this.actions[e]===!1})}eachActionButton(t){return Array.from(this.element.querySelectorAll("[data-trix-action]")).map(e=>t(e,Ma(e)))}updateAttributes(t){return this.attributes=t,this.refreshAttributeButtons()}refreshAttributeButtons(){return this.eachAttributeButton((t,e)=>(t.disabled=this.attributes[e]===!1,this.attributes[e]||this.dialogIsVisible(e)?(t.setAttribute("data-trix-active",""),t.classList.add("trix-active")):(t.removeAttribute("data-trix-active"),t.classList.remove("trix-active"))))}eachAttributeButton(t){return Array.from(this.element.querySelectorAll("[data-trix-attribute]")).map(e=>t(e,_e(e)))}applyKeyboardCommand(t){const e=JSON.stringify(t.sort());for(const i of Array.from(this.element.querySelectorAll("[data-trix-key]"))){const r=i.getAttribute("data-trix-key").split("+");if(JSON.stringify(r.sort())===e)return yn("mousedown",{onElement:i}),!0}return!1}dialogIsVisible(t){const e=this.getDialog(t);if(e)return e.hasAttribute("data-trix-active")}toggleDialog(t){return this.dialogIsVisible(t)?this.hideDialog():this.showDialog(t)}showDialog(t){var e,i;this.hideDialog(),(e=this.delegate)===null||e===void 0||e.toolbarWillShowDialog();const r=this.getDialog(t);r.setAttribute("data-trix-active",""),r.classList.add("trix-active"),Array.from(r.querySelectorAll("input[disabled]")).forEach(o=>{o.removeAttribute("disabled")});const s=_e(r);if(s){const o=Ia(r,t);o&&(o.value=this.attributes[s]||"",o.select())}return(i=this.delegate)===null||i===void 0?void 0:i.toolbarDidShowDialog(t)}setAttribute(t){const e=_e(t),i=Ia(t,e);return i.willValidate&&!i.checkValidity()?(i.setAttribute("data-trix-validate",""),i.classList.add("trix-validate"),i.focus()):((r=this.delegate)===null||r===void 0||r.toolbarDidUpdateAttribute(e,i.value),this.hideDialog());var r}removeAttribute(t){var e;const i=_e(t);return(e=this.delegate)===null||e===void 0||e.toolbarDidRemoveAttribute(i),this.hideDialog()}hideDialog(){const t=this.element.querySelector(Cv);var e;if(t)return t.removeAttribute("data-trix-active"),t.classList.remove("trix-active"),this.resetDialogInputs(),(e=this.delegate)===null||e===void 0?void 0:e.toolbarDidHideDialog((i=>i.getAttribute("data-trix-dialog"))(t))}resetDialogInputs(){Array.from(this.element.querySelectorAll(Pa)).forEach(t=>{t.setAttribute("disabled","disabled"),t.removeAttribute("data-trix-validate"),t.classList.remove("trix-validate")})}getDialog(t){return this.element.querySelector("[data-trix-dialog=".concat(t,"]"))}}class Sn extends mu{constructor(t){let{editorElement:e,document:i,html:r}=t;super(...arguments),this.editorElement=e,this.selectionManager=new ue(this.editorElement),this.selectionManager.delegate=this,this.composition=new Ut,this.composition.delegate=this,this.attachmentManager=new su(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=io.getLevel()===2?new An(this.editorElement):new It(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new gu(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new xu(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new cu(this.composition,this.selectionManager,this.editorElement),i?this.editor.loadDocument(i):this.editor.loadHTML(r)}registerSelectionManager(){return ye.registerSelectionManager(this.selectionManager)}unregisterSelectionManager(){return ye.unregisterSelectionManager(this.selectionManager)}render(){return this.compositionController.render()}reparse(){return this.composition.replaceHTML(this.editorElement.innerHTML)}compositionDidChangeDocument(t){if(this.notifyEditorElement("document-change"),!this.handlingInput)return this.render()}compositionDidChangeCurrentAttributes(t){return this.currentAttributes=t,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})}compositionDidPerformInsertionAtRange(t){this.pasting&&(this.pastedRange=t)}compositionShouldAcceptFile(t){return this.notifyEditorElement("file-accept",{file:t})}compositionDidAddAttachment(t){const e=this.attachmentManager.manageAttachment(t);return this.notifyEditorElement("attachment-add",{attachment:e})}compositionDidEditAttachment(t){this.compositionController.rerenderViewForObject(t);const e=this.attachmentManager.manageAttachment(t);return this.notifyEditorElement("attachment-edit",{attachment:e}),this.notifyEditorElement("change")}compositionDidChangeAttachmentPreviewURL(t){return this.compositionController.invalidateViewForObject(t),this.notifyEditorElement("change")}compositionDidRemoveAttachment(t){const e=this.attachmentManager.unmanageAttachment(t);return this.notifyEditorElement("attachment-remove",{attachment:e})}compositionDidStartEditingAttachment(t,e){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(t),this.compositionController.installAttachmentEditorForAttachment(t,e),this.selectionManager.setLocationRange(this.attachmentLocationRange)}compositionDidStopEditingAttachment(t){this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null}compositionDidRequestChangingSelectionToLocationRange(t){if(!this.loadingSnapshot||this.isFocused())return this.requestedLocationRange=t,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()}compositionWillLoadSnapshot(){this.loadingSnapshot=!0}compositionDidLoadSnapshot(){this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1}getSelectionManager(){return this.selectionManager}attachmentManagerDidRequestRemovalOfAttachment(t){return this.removeAttachment(t)}compositionControllerWillSyncDocumentView(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()}compositionControllerDidSyncDocumentView(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")}compositionControllerDidRender(){this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision}compositionControllerDidFocus(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")}compositionControllerDidBlur(){return this.notifyEditorElement("blur")}compositionControllerDidSelectAttachment(t,e){return this.toolbarController.hideDialog(),this.composition.editAttachment(t,e)}compositionControllerDidRequestDeselectingAttachment(t){const e=this.attachmentLocationRange||this.composition.document.getLocationRangeOfAttachment(t);return this.selectionManager.setLocationRange(e[1])}compositionControllerWillUpdateAttachment(t){return this.editor.recordUndoEntry("Edit Attachment",{context:t.id,consolidatable:!0})}compositionControllerDidRequestRemovalOfAttachment(t){return this.removeAttachment(t)}inputControllerWillHandleInput(){this.handlingInput=!0,this.requestedRender=!1}inputControllerDidRequestRender(){this.requestedRender=!0}inputControllerDidHandleInput(){if(this.handlingInput=!1,this.requestedRender)return this.requestedRender=!1,this.render()}inputControllerDidAllowUnhandledInput(){return this.notifyEditorElement("change")}inputControllerDidRequestReparse(){return this.reparse()}inputControllerWillPerformTyping(){return this.recordTypingUndoEntry()}inputControllerWillPerformFormatting(t){return this.recordFormattingUndoEntry(t)}inputControllerWillCutText(){return this.editor.recordUndoEntry("Cut")}inputControllerWillPaste(t){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:t})}inputControllerDidPaste(t){return t.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:t})}inputControllerWillMoveText(){return this.editor.recordUndoEntry("Move")}inputControllerWillAttachFiles(){return this.editor.recordUndoEntry("Drop Files")}inputControllerWillPerformUndo(){return this.editor.undo()}inputControllerWillPerformRedo(){return this.editor.redo()}inputControllerDidReceiveKeyboardCommand(t){return this.toolbarController.applyKeyboardCommand(t)}inputControllerDidStartDrag(){this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()}inputControllerDidReceiveDragOverPoint(t){return this.selectionManager.setLocationRangeFromPointRange(t)}inputControllerDidCancelDrag(){this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null}locationRangeDidChange(t){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!wi(this.attachmentLocationRange,t)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")}toolbarDidClickButton(){if(!this.getLocationRange())return this.setLocationRange({index:0,offset:0})}toolbarDidInvokeAction(t){return this.invokeAction(t)}toolbarDidToggleAttribute(t){if(this.recordFormattingUndoEntry(t),this.composition.toggleCurrentAttribute(t),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidUpdateAttribute(t,e){if(this.recordFormattingUndoEntry(t),this.composition.setCurrentAttribute(t,e),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidRemoveAttribute(t){if(this.recordFormattingUndoEntry(t),this.composition.removeCurrentAttribute(t),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarWillShowDialog(t){return this.composition.expandSelectionForEditing(),this.freezeSelection()}toolbarDidShowDialog(t){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:t})}toolbarDidHideDialog(t){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:t})}freezeSelection(){if(!this.selectionFrozen)return this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render()}thawSelection(){if(this.selectionFrozen)return this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()}canInvokeAction(t){return!!this.actionIsExternal(t)||!((e=this.actions[t])===null||e===void 0||(i=e.test)===null||i===void 0||!i.call(this));var e,i}invokeAction(t){return this.actionIsExternal(t)?this.notifyEditorElement("action-invoke",{actionName:t}):(e=this.actions[t])===null||e===void 0||(i=e.perform)===null||i===void 0?void 0:i.call(this);var e,i}actionIsExternal(t){return/^x-./.test(t)}getCurrentActions(){const t={};for(const e in this.actions)t[e]=this.canInvokeAction(e);return t}updateCurrentActions(){const t=this.getCurrentActions();if(!Fn(t,this.currentActions))return this.currentActions=t,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions})}runEditorFilters(){let t=this.composition.getSnapshot();if(Array.from(this.editor.filters).forEach(r=>{const{document:s,selectedRange:o}=t;t=r.call(this.editor,t)||{},t.document||(t.document=s),t.selectedRange||(t.selectedRange=o)}),e=t,i=this.composition.getSnapshot(),!wi(e.selectedRange,i.selectedRange)||!e.document.isEqualTo(i.document))return this.composition.loadSnapshot(t);var e,i}updateInputElement(){const t=function(e,i){const r=ev[i];if(r)return r(e);throw new Error("unknown content type: ".concat(i))}(this.compositionController.getSerializableElement(),"text/html");return this.editorElement.setInputElementValue(t)}notifyEditorElement(t,e){switch(t){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(t,e)}removeAttachment(t){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(t),this.render()}recordFormattingUndoEntry(t){const e=K(t),i=this.selectionManager.getLocationRange();if(e||!Nt(i))return this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})}recordTypingUndoEntry(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})}getUndoContext(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return[this.getLocationContext(),this.getTimeContext(),...Array.from(e)]}getLocationContext(){const t=this.selectionManager.getLocationRange();return Nt(t)?t[0].index:t}getTimeContext(){return fs.interval>0?Math.floor(new Date().getTime()/fs.interval):0}isFocused(){var t;return this.editorElement===((t=this.editorElement.ownerDocument)===null||t===void 0?void 0:t.activeElement)}isFocusedInvisibly(){return this.isFocused()&&!this.getLocationRange()}get actions(){return this.constructor.actions}}yt(Sn,"actions",{undo:{test(){return this.editor.canUndo()},perform(){return this.editor.undo()}},redo:{test(){return this.editor.canRedo()},perform(){return this.editor.redo()}},link:{test(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test(){return this.editor.canIncreaseNestingLevel()},perform(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test(){return this.editor.canDecreaseNestingLevel()},perform(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:()=>!0,perform(){return io.pickFiles(this.editor.insertFiles)}}}),Sn.proxyMethod("getSelectionManager().setLocationRange"),Sn.proxyMethod("getSelectionManager().getLocationRange");var Rv=Object.freeze({__proto__:null,AttachmentEditorController:pu,CompositionController:gu,Controller:mu,EditorController:Sn,InputController:zi,Level0InputController:It,Level2InputController:An,ToolbarController:xu}),Dv=Object.freeze({__proto__:null,MutationObserver:vu,SelectionChangeObserver:Jc}),Lv=Object.freeze({__proto__:null,FileVerificationOperation:bu,ImagePreloadOperation:eu});Yc("trix-toolbar",`%t {
  display: block;
}

%t {
  white-space: nowrap;
}

%t [data-trix-dialog] {
  display: none;
}

%t [data-trix-dialog][data-trix-active] {
  display: block;
}

%t [data-trix-dialog] [data-trix-validate]:invalid {
  background-color: #ffdddd;
}`);class wu extends HTMLElement{connectedCallback(){this.innerHTML===""&&(this.innerHTML=Uc.getDefaultHTML())}}let _v=0;const kv=function(n){if(!n.hasAttribute("contenteditable"))return n.setAttribute("contenteditable",""),function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.times=1,q(t,e)}("focus",{onElement:n,withCallback:()=>Ov(n)})},Ov=function(n){return Pv(n),Iv()},Pv=function(n){var t,e;if((t=(e=document).queryCommandSupported)!==null&&t!==void 0&&t.call(e,"enableObjectResizing"))return document.execCommand("enableObjectResizing",!1,!1),q("mscontrolselect",{onElement:n,preventDefault:!0})},Iv=function(n){var t,e;if((t=(e=document).queryCommandSupported)!==null&&t!==void 0&&t.call(e,"DefaultParagraphSeparator")){const{tagName:i}=dt.default;if(["div","p"].includes(i))return document.execCommand("DefaultParagraphSeparator",!1,i)}},Na=Mn.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"};Yc("trix-editor",`%t {
    display: block;
}

%t:empty:not(:focus)::before {
    content: attr(placeholder);
    color: graytext;
    cursor: text;
    pointer-events: none;
    white-space: pre-line;
}

%t a[contenteditable=false] {
    cursor: text;
}

%t img {
    max-width: 100%;
    height: auto;
}

%t `.concat("[data-trix-attachment]",` figcaption textarea {
    resize: none;
}

%t `).concat("[data-trix-attachment]",` figcaption textarea.trix-autoresize-clone {
    position: absolute;
    left: -9999px;
    max-height: 0px;
}

%t `).concat("[data-trix-attachment]",` figcaption[data-trix-placeholder]:empty::before {
    content: attr(data-trix-placeholder);
    color: graytext;
}

%t [data-trix-cursor-target] {
    display: `).concat(Na.display,` !important;
    width: `).concat(Na.width,` !important;
    padding: 0 !important;
    margin: 0 !important;
    border: none !important;
}

%t [data-trix-cursor-target=left] {
    vertical-align: top !important;
    margin-left: -1px !important;
}

%t [data-trix-cursor-target=right] {
    vertical-align: bottom !important;
    margin-right: -1px !important;
}`));class Au extends HTMLElement{get trixId(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++_v),this.trixId)}get labels(){const t=[];this.id&&this.ownerDocument&&t.push(...Array.from(this.ownerDocument.querySelectorAll("label[for='".concat(this.id,"']"))||[]));const e=ne(this,{matchingSelector:"label"});return e&&[this,null].includes(e.control)&&t.push(e),t}get toolbarElement(){var t;if(this.hasAttribute("toolbar"))return(t=this.ownerDocument)===null||t===void 0?void 0:t.getElementById(this.getAttribute("toolbar"));if(this.parentNode){const e="trix-toolbar-".concat(this.trixId);this.setAttribute("toolbar",e);const i=I("trix-toolbar",{id:e});return this.parentNode.insertBefore(i,this),i}}get form(){var t;return(t=this.inputElement)===null||t===void 0?void 0:t.form}get inputElement(){var t;if(this.hasAttribute("input"))return(t=this.ownerDocument)===null||t===void 0?void 0:t.getElementById(this.getAttribute("input"));if(this.parentNode){const e="trix-input-".concat(this.trixId);this.setAttribute("input",e);const i=I("input",{type:"hidden",id:e});return this.parentNode.insertBefore(i,this.nextElementSibling),i}}get editor(){var t;return(t=this.editorController)===null||t===void 0?void 0:t.editor}get name(){var t;return(t=this.inputElement)===null||t===void 0?void 0:t.name}get value(){var t;return(t=this.inputElement)===null||t===void 0?void 0:t.value}set value(t){var e;this.defaultValue=t,(e=this.editor)===null||e===void 0||e.loadHTML(this.defaultValue)}notify(t,e){if(this.editorController)return yn("trix-".concat(t),{onElement:this,attributes:e})}setInputElementValue(t){this.inputElement&&(this.inputElement.value=t)}connectedCallback(){this.hasAttribute("data-trix-internal")||(kv(this),function(t){t.hasAttribute("role")||t.setAttribute("role","textbox")}(this),function(t){if(t.hasAttribute("aria-label")||t.hasAttribute("aria-labelledby"))return;const e=function(){const i=Array.from(t.labels).map(s=>{if(!s.contains(t))return s.textContent}).filter(s=>s),r=i.join(" ");return r?t.setAttribute("aria-label",r):t.removeAttribute("aria-label")};e(),q("focus",{onElement:t,withCallback:e})}(this),this.editorController||(yn("trix-before-initialize",{onElement:this}),this.editorController=new Sn({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame(()=>yn("trix-initialize",{onElement:this}))),this.editorController.registerSelectionManager(),this.registerResetListener(),this.registerClickListener(),function(t){!document.querySelector(":focus")&&t.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===t&&t.focus()}(this))}disconnectedCallback(){var t;return(t=this.editorController)===null||t===void 0||t.unregisterSelectionManager(),this.unregisterResetListener(),this.unregisterClickListener()}registerResetListener(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener("reset",this.resetListener,!1)}unregisterResetListener(){return window.removeEventListener("reset",this.resetListener,!1)}registerClickListener(){return this.clickListener=this.clickBubbled.bind(this),window.addEventListener("click",this.clickListener,!1)}unregisterClickListener(){return window.removeEventListener("click",this.clickListener,!1)}resetBubbled(t){if(!t.defaultPrevented&&t.target===this.form)return this.reset()}clickBubbled(t){if(t.defaultPrevented||this.contains(t.target))return;const e=ne(t.target,{matchingSelector:"label"});return e&&Array.from(this.labels).includes(e)?this.focus():void 0}reset(){this.value=this.defaultValue}}const Fa={VERSION:"2.0.5",config:Nn,core:nv,models:fu,views:av,controllers:Rv,observers:Dv,operations:Lv,elements:Object.freeze({__proto__:null,TrixEditorElement:Au,TrixToolbarElement:wu}),filters:Object.freeze({__proto__:null,Filter:au,attachmentGalleryFilter:lu})};Object.assign(Fa,fu),window.Trix=Fa,setTimeout(function(){customElements.get("trix-toolbar")||customElements.define("trix-toolbar",wu),customElements.get("trix-editor")||customElements.define("trix-editor",Au)},0);/*!
 * perfect-scrollbar v1.5.3
 * Copyright 2021 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */function kt(n){return getComputedStyle(n)}function ut(n,t){for(var e in t){var i=t[e];typeof i=="number"&&(i=i+"px"),n.style[e]=i}return n}function Gn(n){var t=document.createElement("div");return t.className=n,t}var Ba=typeof Element<"u"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function Jt(n,t){if(!Ba)throw new Error("No element matching method supported");return Ba.call(n,t)}function Pe(n){n.remove?n.remove():n.parentNode&&n.parentNode.removeChild(n)}function Wa(n,t){return Array.prototype.filter.call(n.children,function(e){return Jt(e,t)})}var G={main:"ps",rtl:"ps__rtl",element:{thumb:function(n){return"ps__thumb-"+n},rail:function(n){return"ps__rail-"+n},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(n){return"ps--active-"+n},scrolling:function(n){return"ps--scrolling-"+n}}},Su={x:null,y:null};function Eu(n,t){var e=n.element.classList,i=G.state.scrolling(t);e.contains(i)?clearTimeout(Su[t]):e.add(i)}function Cu(n,t){Su[t]=setTimeout(function(){return n.isAlive&&n.element.classList.remove(G.state.scrolling(t))},n.settings.scrollingThreshold)}function Mv(n,t){Eu(n,t),Cu(n,t)}var Bn=function(t){this.element=t,this.handlers={}},Tu={isEmpty:{configurable:!0}};Bn.prototype.bind=function(t,e){typeof this.handlers[t]>"u"&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)};Bn.prototype.unbind=function(t,e){var i=this;this.handlers[t]=this.handlers[t].filter(function(r){return e&&r!==e?!0:(i.element.removeEventListener(t,r,!1),!1)})};Bn.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)};Tu.isEmpty.get=function(){var n=this;return Object.keys(this.handlers).every(function(t){return n.handlers[t].length===0})};Object.defineProperties(Bn.prototype,Tu);var Qe=function(){this.eventElements=[]};Qe.prototype.eventElement=function(t){var e=this.eventElements.filter(function(i){return i.element===t})[0];return e||(e=new Bn(t),this.eventElements.push(e)),e};Qe.prototype.bind=function(t,e,i){this.eventElement(t).bind(e,i)};Qe.prototype.unbind=function(t,e,i){var r=this.eventElement(t);r.unbind(e,i),r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)};Qe.prototype.unbindAll=function(){this.eventElements.forEach(function(t){return t.unbindAll()}),this.eventElements=[]};Qe.prototype.once=function(t,e,i){var r=this.eventElement(t),s=function(o){r.unbind(e,s),i(o)};r.bind(e,s)};function Kn(n){if(typeof window.CustomEvent=="function")return new CustomEvent(n);var t=document.createEvent("CustomEvent");return t.initCustomEvent(n,!1,!1,void 0),t}function Ei(n,t,e,i,r){i===void 0&&(i=!0),r===void 0&&(r=!1);var s;if(t==="top")s=["contentHeight","containerHeight","scrollTop","y","up","down"];else if(t==="left")s=["contentWidth","containerWidth","scrollLeft","x","left","right"];else throw new Error("A proper axis should be provided");Nv(n,e,s,i,r)}function Nv(n,t,e,i,r){var s=e[0],o=e[1],a=e[2],l=e[3],c=e[4],u=e[5];i===void 0&&(i=!0),r===void 0&&(r=!1);var d=n.element;n.reach[l]=null,d[a]<1&&(n.reach[l]="start"),d[a]>n[s]-n[o]-1&&(n.reach[l]="end"),t&&(d.dispatchEvent(Kn("ps-scroll-"+l)),t<0?d.dispatchEvent(Kn("ps-scroll-"+c)):t>0&&d.dispatchEvent(Kn("ps-scroll-"+u)),i&&Mv(n,l)),n.reach[l]&&(t||r)&&d.dispatchEvent(Kn("ps-"+l+"-reach-"+n.reach[l]))}function z(n){return parseInt(n,10)||0}function Fv(n){return Jt(n,"input,[contenteditable]")||Jt(n,"select,[contenteditable]")||Jt(n,"textarea,[contenteditable]")||Jt(n,"button,[contenteditable]")}function Bv(n){var t=kt(n);return z(t.width)+z(t.paddingLeft)+z(t.paddingRight)+z(t.borderLeftWidth)+z(t.borderRightWidth)}var ke={isWebKit:typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,supportsTouch:typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:typeof navigator<"u"&&navigator.msMaxTouchPoints,isChrome:typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent)};function jt(n){var t=n.element,e=Math.floor(t.scrollTop),i=t.getBoundingClientRect();n.containerWidth=Math.round(i.width),n.containerHeight=Math.round(i.height),n.contentWidth=t.scrollWidth,n.contentHeight=t.scrollHeight,t.contains(n.scrollbarXRail)||(Wa(t,G.element.rail("x")).forEach(function(r){return Pe(r)}),t.appendChild(n.scrollbarXRail)),t.contains(n.scrollbarYRail)||(Wa(t,G.element.rail("y")).forEach(function(r){return Pe(r)}),t.appendChild(n.scrollbarYRail)),!n.settings.suppressScrollX&&n.containerWidth+n.settings.scrollXMarginOffset<n.contentWidth?(n.scrollbarXActive=!0,n.railXWidth=n.containerWidth-n.railXMarginWidth,n.railXRatio=n.containerWidth/n.railXWidth,n.scrollbarXWidth=ja(n,z(n.railXWidth*n.containerWidth/n.contentWidth)),n.scrollbarXLeft=z((n.negativeScrollAdjustment+t.scrollLeft)*(n.railXWidth-n.scrollbarXWidth)/(n.contentWidth-n.containerWidth))):n.scrollbarXActive=!1,!n.settings.suppressScrollY&&n.containerHeight+n.settings.scrollYMarginOffset<n.contentHeight?(n.scrollbarYActive=!0,n.railYHeight=n.containerHeight-n.railYMarginHeight,n.railYRatio=n.containerHeight/n.railYHeight,n.scrollbarYHeight=ja(n,z(n.railYHeight*n.containerHeight/n.contentHeight)),n.scrollbarYTop=z(e*(n.railYHeight-n.scrollbarYHeight)/(n.contentHeight-n.containerHeight))):n.scrollbarYActive=!1,n.scrollbarXLeft>=n.railXWidth-n.scrollbarXWidth&&(n.scrollbarXLeft=n.railXWidth-n.scrollbarXWidth),n.scrollbarYTop>=n.railYHeight-n.scrollbarYHeight&&(n.scrollbarYTop=n.railYHeight-n.scrollbarYHeight),Wv(t,n),n.scrollbarXActive?t.classList.add(G.state.active("x")):(t.classList.remove(G.state.active("x")),n.scrollbarXWidth=0,n.scrollbarXLeft=0,t.scrollLeft=n.isRtl===!0?n.contentWidth:0),n.scrollbarYActive?t.classList.add(G.state.active("y")):(t.classList.remove(G.state.active("y")),n.scrollbarYHeight=0,n.scrollbarYTop=0,t.scrollTop=0)}function ja(n,t){return n.settings.minScrollbarLength&&(t=Math.max(t,n.settings.minScrollbarLength)),n.settings.maxScrollbarLength&&(t=Math.min(t,n.settings.maxScrollbarLength)),t}function Wv(n,t){var e={width:t.railXWidth},i=Math.floor(n.scrollTop);t.isRtl?e.left=t.negativeScrollAdjustment+n.scrollLeft+t.containerWidth-t.contentWidth:e.left=n.scrollLeft,t.isScrollbarXUsingBottom?e.bottom=t.scrollbarXBottom-i:e.top=t.scrollbarXTop+i,ut(t.scrollbarXRail,e);var r={top:i,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?r.right=t.contentWidth-(t.negativeScrollAdjustment+n.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth-9:r.right=t.scrollbarYRight-n.scrollLeft:t.isRtl?r.left=t.negativeScrollAdjustment+n.scrollLeft+t.containerWidth*2-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:r.left=t.scrollbarYLeft+n.scrollLeft,ut(t.scrollbarYRail,r),ut(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),ut(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}function jv(n){n.element,n.event.bind(n.scrollbarY,"mousedown",function(t){return t.stopPropagation()}),n.event.bind(n.scrollbarYRail,"mousedown",function(t){var e=t.pageY-window.pageYOffset-n.scrollbarYRail.getBoundingClientRect().top,i=e>n.scrollbarYTop?1:-1;n.element.scrollTop+=i*n.containerHeight,jt(n),t.stopPropagation()}),n.event.bind(n.scrollbarX,"mousedown",function(t){return t.stopPropagation()}),n.event.bind(n.scrollbarXRail,"mousedown",function(t){var e=t.pageX-window.pageXOffset-n.scrollbarXRail.getBoundingClientRect().left,i=e>n.scrollbarXLeft?1:-1;n.element.scrollLeft+=i*n.containerWidth,jt(n),t.stopPropagation()})}function Hv(n){Ha(n,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),Ha(n,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])}function Ha(n,t){var e=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8],d=n.element,h=null,f=null,p=null;function v(x){x.touches&&x.touches[0]&&(x[r]=x.touches[0].pageY),d[l]=h+p*(x[r]-f),Eu(n,c),jt(n),x.stopPropagation(),x.type.startsWith("touch")&&x.changedTouches.length>1&&x.preventDefault()}function b(){Cu(n,c),n[u].classList.remove(G.state.clicking),n.event.unbind(n.ownerDocument,"mousemove",v)}function m(x,w){h=d[l],w&&x.touches&&(x[r]=x.touches[0].pageY),f=x[r],p=(n[i]-n[e])/(n[s]-n[a]),w?n.event.bind(n.ownerDocument,"touchmove",v):(n.event.bind(n.ownerDocument,"mousemove",v),n.event.once(n.ownerDocument,"mouseup",b),x.preventDefault()),n[u].classList.add(G.state.clicking),x.stopPropagation()}n.event.bind(n[o],"mousedown",function(x){m(x)}),n.event.bind(n[o],"touchstart",function(x){m(x,!0)})}function zv(n){var t=n.element,e=function(){return Jt(t,":hover")},i=function(){return Jt(n.scrollbarX,":focus")||Jt(n.scrollbarY,":focus")};function r(s,o){var a=Math.floor(t.scrollTop);if(s===0){if(!n.scrollbarYActive)return!1;if(a===0&&o>0||a>=n.contentHeight-n.containerHeight&&o<0)return!n.settings.wheelPropagation}var l=t.scrollLeft;if(o===0){if(!n.scrollbarXActive)return!1;if(l===0&&s<0||l>=n.contentWidth-n.containerWidth&&s>0)return!n.settings.wheelPropagation}return!0}n.event.bind(n.ownerDocument,"keydown",function(s){if(!(s.isDefaultPrevented&&s.isDefaultPrevented()||s.defaultPrevented)&&!(!e()&&!i())){var o=document.activeElement?document.activeElement:n.ownerDocument.activeElement;if(o){if(o.tagName==="IFRAME")o=o.contentDocument.activeElement;else for(;o.shadowRoot;)o=o.shadowRoot.activeElement;if(Fv(o))return}var a=0,l=0;switch(s.which){case 37:s.metaKey?a=-n.contentWidth:s.altKey?a=-n.containerWidth:a=-30;break;case 38:s.metaKey?l=n.contentHeight:s.altKey?l=n.containerHeight:l=30;break;case 39:s.metaKey?a=n.contentWidth:s.altKey?a=n.containerWidth:a=30;break;case 40:s.metaKey?l=-n.contentHeight:s.altKey?l=-n.containerHeight:l=-30;break;case 32:s.shiftKey?l=n.containerHeight:l=-n.containerHeight;break;case 33:l=n.containerHeight;break;case 34:l=-n.containerHeight;break;case 36:l=n.contentHeight;break;case 35:l=-n.contentHeight;break;default:return}n.settings.suppressScrollX&&a!==0||n.settings.suppressScrollY&&l!==0||(t.scrollTop-=l,t.scrollLeft+=a,jt(n),r(a,l)&&s.preventDefault())}})}function qv(n){var t=n.element;function e(o,a){var l=Math.floor(t.scrollTop),c=t.scrollTop===0,u=l+t.offsetHeight===t.scrollHeight,d=t.scrollLeft===0,h=t.scrollLeft+t.offsetWidth===t.scrollWidth,f;return Math.abs(a)>Math.abs(o)?f=c||u:f=d||h,f?!n.settings.wheelPropagation:!0}function i(o){var a=o.deltaX,l=-1*o.deltaY;return(typeof a>"u"||typeof l>"u")&&(a=-1*o.wheelDeltaX/6,l=o.wheelDeltaY/6),o.deltaMode&&o.deltaMode===1&&(a*=10,l*=10),a!==a&&l!==l&&(a=0,l=o.wheelDelta),o.shiftKey?[-l,-a]:[a,l]}function r(o,a,l){if(!ke.isWebKit&&t.querySelector("select:focus"))return!0;if(!t.contains(o))return!1;for(var c=o;c&&c!==t;){if(c.classList.contains(G.element.consuming))return!0;var u=kt(c);if(l&&u.overflowY.match(/(scroll|auto)/)){var d=c.scrollHeight-c.clientHeight;if(d>0&&(c.scrollTop>0&&l<0||c.scrollTop<d&&l>0))return!0}if(a&&u.overflowX.match(/(scroll|auto)/)){var h=c.scrollWidth-c.clientWidth;if(h>0&&(c.scrollLeft>0&&a<0||c.scrollLeft<h&&a>0))return!0}c=c.parentNode}return!1}function s(o){var a=i(o),l=a[0],c=a[1];if(!r(o.target,l,c)){var u=!1;n.settings.useBothWheelAxes?n.scrollbarYActive&&!n.scrollbarXActive?(c?t.scrollTop-=c*n.settings.wheelSpeed:t.scrollTop+=l*n.settings.wheelSpeed,u=!0):n.scrollbarXActive&&!n.scrollbarYActive&&(l?t.scrollLeft+=l*n.settings.wheelSpeed:t.scrollLeft-=c*n.settings.wheelSpeed,u=!0):(t.scrollTop-=c*n.settings.wheelSpeed,t.scrollLeft+=l*n.settings.wheelSpeed),jt(n),u=u||e(l,c),u&&!o.ctrlKey&&(o.stopPropagation(),o.preventDefault())}}typeof window.onwheel<"u"?n.event.bind(t,"wheel",s):typeof window.onmousewheel<"u"&&n.event.bind(t,"mousewheel",s)}function Vv(n){if(!ke.supportsTouch&&!ke.supportsIePointer)return;var t=n.element;function e(p,v){var b=Math.floor(t.scrollTop),m=t.scrollLeft,x=Math.abs(p),w=Math.abs(v);if(w>x){if(v<0&&b===n.contentHeight-n.containerHeight||v>0&&b===0)return window.scrollY===0&&v>0&&ke.isChrome}else if(x>w&&(p<0&&m===n.contentWidth-n.containerWidth||p>0&&m===0))return!0;return!0}function i(p,v){t.scrollTop-=v,t.scrollLeft-=p,jt(n)}var r={},s=0,o={},a=null;function l(p){return p.targetTouches?p.targetTouches[0]:p}function c(p){return p.pointerType&&p.pointerType==="pen"&&p.buttons===0?!1:!!(p.targetTouches&&p.targetTouches.length===1||p.pointerType&&p.pointerType!=="mouse"&&p.pointerType!==p.MSPOINTER_TYPE_MOUSE)}function u(p){if(!!c(p)){var v=l(p);r.pageX=v.pageX,r.pageY=v.pageY,s=new Date().getTime(),a!==null&&clearInterval(a)}}function d(p,v,b){if(!t.contains(p))return!1;for(var m=p;m&&m!==t;){if(m.classList.contains(G.element.consuming))return!0;var x=kt(m);if(b&&x.overflowY.match(/(scroll|auto)/)){var w=m.scrollHeight-m.clientHeight;if(w>0&&(m.scrollTop>0&&b<0||m.scrollTop<w&&b>0))return!0}if(v&&x.overflowX.match(/(scroll|auto)/)){var A=m.scrollWidth-m.clientWidth;if(A>0&&(m.scrollLeft>0&&v<0||m.scrollLeft<A&&v>0))return!0}m=m.parentNode}return!1}function h(p){if(c(p)){var v=l(p),b={pageX:v.pageX,pageY:v.pageY},m=b.pageX-r.pageX,x=b.pageY-r.pageY;if(d(p.target,m,x))return;i(m,x),r=b;var w=new Date().getTime(),A=w-s;A>0&&(o.x=m/A,o.y=x/A,s=w),e(m,x)&&p.preventDefault()}}function f(){n.settings.swipeEasing&&(clearInterval(a),a=setInterval(function(){if(n.isInitialized){clearInterval(a);return}if(!o.x&&!o.y){clearInterval(a);return}if(Math.abs(o.x)<.01&&Math.abs(o.y)<.01){clearInterval(a);return}if(!n.element){clearInterval(a);return}i(o.x*30,o.y*30),o.x*=.8,o.y*=.8},10))}ke.supportsTouch?(n.event.bind(t,"touchstart",u),n.event.bind(t,"touchmove",h),n.event.bind(t,"touchend",f)):ke.supportsIePointer&&(window.PointerEvent?(n.event.bind(t,"pointerdown",u),n.event.bind(t,"pointermove",h),n.event.bind(t,"pointerup",f)):window.MSPointerEvent&&(n.event.bind(t,"MSPointerDown",u),n.event.bind(t,"MSPointerMove",h),n.event.bind(t,"MSPointerUp",f)))}var $v=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},Uv={"click-rail":jv,"drag-thumb":Hv,keyboard:zv,wheel:qv,touch:Vv},Wn=function(t,e){var i=this;if(e===void 0&&(e={}),typeof t=="string"&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");this.element=t,t.classList.add(G.main),this.settings=$v();for(var r in e)this.settings[r]=e[r];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var s=function(){return t.classList.add(G.state.focus)},o=function(){return t.classList.remove(G.state.focus)};this.isRtl=kt(t).direction==="rtl",this.isRtl===!0&&t.classList.add(G.rtl),this.isNegativeScroll=function(){var c=t.scrollLeft,u=null;return t.scrollLeft=-1,u=t.scrollLeft<0,t.scrollLeft=c,u}(),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new Qe,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=Gn(G.element.rail("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=Gn(G.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",s),this.event.bind(this.scrollbarX,"blur",o),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var a=kt(this.scrollbarXRail);this.scrollbarXBottom=parseInt(a.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=z(a.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=z(a.borderLeftWidth)+z(a.borderRightWidth),ut(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=z(a.marginLeft)+z(a.marginRight),ut(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=Gn(G.element.rail("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=Gn(G.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",s),this.event.bind(this.scrollbarY,"blur",o),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var l=kt(this.scrollbarYRail);this.scrollbarYRight=parseInt(l.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=z(l.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?Bv(this.scrollbarY):null,this.railBorderYWidth=z(l.borderTopWidth)+z(l.borderBottomWidth),ut(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=z(l.marginTop)+z(l.marginBottom),ut(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(c){return Uv[c](i)}),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",function(c){return i.onScroll(c)}),jt(this)};Wn.prototype.update=function(){!this.isAlive||(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,ut(this.scrollbarXRail,{display:"block"}),ut(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=z(kt(this.scrollbarXRail).marginLeft)+z(kt(this.scrollbarXRail).marginRight),this.railYMarginHeight=z(kt(this.scrollbarYRail).marginTop)+z(kt(this.scrollbarYRail).marginBottom),ut(this.scrollbarXRail,{display:"none"}),ut(this.scrollbarYRail,{display:"none"}),jt(this),Ei(this,"top",0,!1,!0),Ei(this,"left",0,!1,!0),ut(this.scrollbarXRail,{display:""}),ut(this.scrollbarYRail,{display:""}))};Wn.prototype.onScroll=function(t){!this.isAlive||(jt(this),Ei(this,"top",this.element.scrollTop-this.lastScrollTop),Ei(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)};Wn.prototype.destroy=function(){!this.isAlive||(this.event.unbindAll(),Pe(this.scrollbarX),Pe(this.scrollbarY),Pe(this.scrollbarXRail),Pe(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)};Wn.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(t){return!t.match(/^ps([-_].+|)$/)}).join(" ")};window.Swiper=At;window.Sortable=_;Ge.plugin(Rg);Ge.plugin(Og);window.PerfectScrollbar=Wn;Ge.data("mainState",()=>{const n={pageLoaded:!1,init(){window.onload=i=>{this.pageLoaded=!0}}},t=()=>window.localStorage.getItem("dark")?JSON.parse(window.localStorage.getItem("dark")):!!window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=i=>{window.localStorage.setItem("dark",i)};return{loadingMask:n,isDarkMode:t(),toggleTheme(){this.isDarkMode=!this.isDarkMode,e(this.isDarkMode)},isSidebarOpen:sessionStorage.getItem("sidebarOpen")==="true",handleSidebarToggle(){this.isSidebarOpen=!this.isSidebarOpen,sessionStorage.setItem("sidebarOpen",this.isSidebarOpen.toString())},isSidebarHovered:!1,handleSidebarHover(i){window.innerWidth<1024||(this.isSidebarHovered=i)},handleWindowResize(){window.innerWidth<=1024?this.isSidebarOpen=!1:this.isSidebarOpen=!0},scrollingDown:!1,scrollingUp:!1}});Ge.plugin(rg);window.Alpine=Ge;Ge.start();
